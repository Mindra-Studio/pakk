/**
 * PAKK Trained ZSTD Dictionary for Node Modules (CI/CD)
 *
 * Optimized for npm package structures: JS bundles, package.json, .d.ts
 * Trained on pakk-entrainement: npm packages, lodash, moment, axios, etc.
 *
 * Size: 524288 bytes (512 KB)
 * Generated: 2026-01-31T19:59:32.412Z
 */

import type { DictionaryMeta } from '../core/types.js';

// Base64-encoded trained ZSTD dictionary
const DICTIONARY_BASE64 = 'N6Qw7Exd4w1CEKAytTnDMAzDMAzDMAzDMAwDop424pYizIp4NUtbEtotxsa2mGcDSqX/ZwWZSJ9W8p7+/992bVtslOjNS8tnx5gcAwEADBSOx+PxeEAik42aYh8EoMAUmo8mmpMPRvIwCnIYRimEjDHGECIiIwIiAwIAAAAA9LJplE0MMoWMEQAAAAAAAAAAAAEAAAAEAAAACAAAAGVuZ3RoO2xldCB4PXMuc3BhY2VCZXR3ZWVuLFQ9LXYsTT0wLEM9MDtpZih2b2lkIDA9PT1yKXJldHVybjsic3RyaW5nIj09dHlwZW9mIHgmJnguaW5kZXhPZigiJSIpPj0wP3g9cGFyc2VGbG9hdCh4LnJlcGxhY2UoIiUiLCIiKSkvMTAwKnI6InN0cmluZyI9PXR5cGVvZiB4JiYoeD1wYXJzZUZsb2F0KHgpKSxlLnZpcnR1YWxTaXplPS14LGMuZm9yRWFjaCgoZT0+e24/ZS5zdHlsZS5tYXJnaW5MZWZ0PSIiOmUuc3R5bGUubWFyZ2luUmlnaHQ9IiIsZS5zdHlsZS5tYXJnaW5Cb3R0b209IiIsZS5zdHlsZS5tYXJnaW5Ub3A9IiJ9KSkscy5jZW50ZXJlZFNsaWRlcyYmcy5jc3NNb2RlJiYodShhLCItLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlIiwiIiksdShhLCItLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXIiLCIiKSk7Y29uc3QgUD1zLmdyaWQmJnMuZ3JpZC5yb3dzPjEmJmUuZ3JpZDtsZXQgTDtQP2UuZ3JpZC5pbml0U2xpZGVzKGMpOmUuZ3JpZCYmZS5ncmlkLnVuc2V0U2xpZGVzKCk7Y29uc3QgQT0iYXV0byI9PT1zLnNsaWRlc1BlclZpZXcmJnMuYnJlYWtwb2ludHMmJk9iamVjdC5rZXlzKHMuYnJlYWtwb2ludHMpLmZpbHRlcigoZT0+dm9pZCAwIT09cy5icmVha3BvaW50c1tlXS5zbGlkZXNQZXJWaWV3KSkubGVuZ3RoPjA7Zm9yKGxldCBhPTA7YTxwO2ErPTEpe2xldCBpO2lmKEw9MCxjW2FdJiYoaT1jW2FdKSxQJiZlLmdyaWQudXBkYXRlU2xpZGUoYSxpLGMpLCFjW2FdfHwibm9uZSIhPT1iKGksImRpc3BsYXkiKSl7aWYoImF1dG8iPT09cy5zbGlkZXNQZXJWaWV3KXtBJiYoY1thXS5zdHlsZVtlLmdldERpcmVjdGlvbkxhYmVsKCJ3aWR0aCIpXT0iIik7Y29uc3Qgcj1nZXRDb21wdXRlZFN0eWxlKGkpLG49aS5zdHlsZS50cmFuc2Zvcm0sbD1pLnN0eWxlLndlYmtpdFRyYW5zZm9ybTtpZihuJiYoaS5zdHlsZS50cmFuc2Zvcm09Im5vbmUiKSxsJiYoaS5zdHlsZS53ZWJraXRUcmFuc2Zvcm09Im5vbmUiKSxzLnJvdW5kTGVuZ3RocylMPWUuaXNIb3Jpem9udGFsKCk/UyhpLCJ3aWR0aCIsITApOlMoaSwiaGVpZ2h0IiwhMCk7ZWxzZXtjb25zdCBlPXQociwid2lkdGgiKSxzPXQociwicGFkZGluZy1sZWZ0IiksYT10KHIsInBhZGRpbmctcmlnaHQiKSxuPXQociwibWFyZ2luLWxlZnQiKSxsPXQociwibWFyZ2luLXJpZ2h0Iiksbz1yLmdldFByb3BlcnR5VmFsdWUoImJveC1zaXppbmciKTtpZihvJiYiYm9yZGVyLWJveCI9PT1vKUw9ZStuK2w7ZWxzZXtjb25zdHtjbGllbnRXaWR0aDp0LG9mZnNldFdpZHRoOnJ9PWk7TD1lK3MrYStuK2wrKHItdCl9fW4mJihpLnN0eWxlLnRyYW5zZm9ybT1uKSxsJiYoaS5zdHlsZS53ZWJraXRUcmFuc2Zvcm09bCkscy5yb3VuZExlbmd0aHMmJihMPU1hdGguZmxvb3IoTCkpfWVsc2UgTD0oci0ocy5zbGlkZXNQZXJWaWV3LTEpKngpL3Muc2xpZGVzUGVyVmlldyxzLnJvdW5kTGVuZ3RocyYmKEw9TWF0aC5mbG9vcihMKSksY1thXSYmKGNbYV0uc3R5bGVbZS5nZXREaXJlY3Rpb25MYWJlbCgid2lkdGgiKV09YCR7TH1weGApO2NbYV0mJihjW2FdLnN3aXBlclNsaWRlU2l6ZT1MKSxnLnB1c2goTCkscy5jZW50ZXJlZFNsaWRlcz8oVD1UK0wvMitNLzIreCwwPT09TSYmMCE9PWEmJihUPVQtci8yLXgpLDA9PT1hJiYoVD1ULXIvMi14KSxNYXRoLiAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUkMShjb2RlLCB0cnVlKSkKICAgICAgICAgICAgICAgICsgJzwvY29kZT48L3ByZT5cbic7CiAgICAgICAgfQogICAgICAgIGJsb2NrcXVvdGUocXVvdGUpIHsKICAgICAgICAgICAgcmV0dXJuIGA8YmxvY2txdW90ZT5cbiR7cXVvdGV9PC9ibG9ja3F1b3RlPlxuYDsKICAgICAgICB9CiAgICAgICAgaHRtbChodG1sLCBibG9jaykgewogICAgICAgICAgICByZXR1cm4gaHRtbDsKICAgICAgICB9CiAgICAgICAgaGVhZGluZyh0ZXh0LCBsZXZlbCwgcmF3KSB7CiAgICAgICAgICAgIC8vIGlnbm9yZSBJRHMKICAgICAgICAgICAgcmV0dXJuIGA8aCR7bGV2ZWx9PiR7dGV4dH08L2gke2xldmVsfT5cbmA7CiAgICAgICAgfQogICAgICAgIGhyKCkgewogICAgICAgICAgICByZXR1cm4gJzxocj5cbic7CiAgICAgICAgfQogICAgICAgIGxpc3QoYm9keSwgb3JkZXJlZCwgc3RhcnQpIHsKICAgICAgICAgICAgY29uc3QgdHlwZSA9IG9yZGVyZWQgPyAnb2wnIDogJ3VsJzsKICAgICAgICAgICAgY29uc3Qgc3RhcnRhdHQgPSAob3JkZXJlZCAmJiBzdGFydCAhPT0gMSkgPyAoJyBzdGFydD0iJyArIHN0YXJ0ICsgJyInKSA6ICcnOwogICAgICAgICAgICByZXR1cm4gJzwnICsgdHlwZSArIHN0YXJ0YXR0ICsgJz5cbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxuJzsKICAgICAgICB9CiAgICAgICAgbGlzdGl0ZW0odGV4dCwgdGFzaywgY2hlY2tlZCkgewogICAgICAgICAgICByZXR1cm4gYDxsaT4ke3RleHR9PC9saT5cbmA7CiAgICAgICAgfQogICAgICAgIGNoZWNrYm94KGNoZWNrZWQpIHsKICAgICAgICAgICAgcmV0dXJuICc8aW5wdXQgJwogICAgICAgICAgICAgICAgKyAoY2hlY2tlZCA/ICdjaGVja2VkPSIiICcgOiAnJykKICAgICAgICAgICAgICAgICsgJ2Rpc2FibGVkPSIiIHR5cGU9ImNoZWNrYm94Ij4nOwogICAgICAgIH0KICAgICAgICBwYXJhZ3JhcGgodGV4dCkgewogICAgICAgICAgICByZXR1cm4gYDxwPiR7dGV4dH08L3A+XG5gOwogICAgICAgIH0KICAgICAgICB0YWJsZShoZWFkZXIsIGJvZHkpIHsKICAgICAgICAgICAgaWYgKGJvZHkpCiAgICAgICAgICAgICAgICBib2R5ID0gYDx0Ym9keT4ke2JvZHl9PC90Ym9keT5gOwogICAgICAgICAgICByZXR1cm4gJzx0YWJsZT5cbicKICAgICAgICAgICAgICAgICsgJzx0aGVhZD5cbicKICAgICAgICAgICAgICAgICsgaGVhZGVyCiAgICAgICAgICAgICAgICArICc8L3RoZWFkPlxuJwogICAgICAgICAgICAgICAgKyBib2R5CiAgICAgICAgICAgICAgICArICc8L3RhYmxlPlxuJzsKICAgICAgICB9CiAgICAgICAgdGFibGVyb3coY29udGVudCkgewogICAgICAgICAgICByZXR1cm4gYDx0cj5cbiR7Y29udGVudH08L3RyPlxuYDsKICAgICAgICB9CiAgICAgICAgdGFibGVjZWxsKGNvbnRlbnQsIGZsYWdzKSB7CiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJzsKICAgICAgICAgICAgY29uc3QgdGFnID0gZmxhZ3MuYWxpZ24KICAgICAgICAgICAgICAgID8gYDwke3R5cGV9IGFsaWduPSIke2ZsYWdzLmFsaWdufSI+YAogICAgICAgICAgICAgICAgOiBgPCR7dHlwZX0+YDsKICAgICAgICAgICAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyBgPC8ke3R5cGV9PlxuYDsKaXMucnVsZXMuaW5saW5lLm5vbGluay5leGVjKHNyYykpKSB7CiAgICAgICAgICAgICAgICBjb25zdCBsaW5rU3RyaW5nID0gKGNhcFsyXSB8fCBjYXBbMV0pLnJlcGxhY2UoL1xzKy9nLCAnICcpOwogICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGxpbmtzW2xpbmtTdHJpbmcudG9Mb3dlckNhc2UoKV07CiAgICAgICAgICAgICAgICBpZiAoIWxpbmspIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gY2FwWzBdLmNoYXJBdCgwKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogdGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dAogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0TGluayhjYXAsIGxpbmssIGNhcFswXSwgdGhpcy5sZXhlcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZW1TdHJvbmcoc3JjLCBtYXNrZWRTcmMsIHByZXZDaGFyID0gJycpIHsKICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmdMRGVsaW0uZXhlYyhzcmMpOwogICAgICAgICAgICBpZiAoIW1hdGNoKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAvLyBfIGNhbid0IGJlIGJldHdlZW4gdHdvIGFscGhhbnVtZXJpY3MuIFxwe0x9XHB7Tn0gaW5jbHVkZXMgbm9uLWVuZ2xpc2ggYWxwaGFiZXQvbnVtYmVycyBhcyB3ZWxsCiAgICAgICAgICAgIGlmIChtYXRjaFszXSAmJiBwcmV2Q2hhci5tYXRjaCgvW1xwe0x9XHB7Tn1dL3UpKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBjb25zdCBuZXh0Q2hhciA9IG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8ICcnOwogICAgICAgICAgICBpZiAoIW5leHRDaGFyIHx8ICFwcmV2Q2hhciB8fCB0aGlzLnJ1bGVzLmlubGluZS5wdW5jdHVhdGlvbi5leGVjKHByZXZDaGFyKSkgewogICAgICAgICAgICAgICAgLy8gdW5pY29kZSBSZWdleCBjb3VudHMgZW1vamkgYXMgMSBjaGFyOyBzcHJlYWQgaW50byBhcnJheSBmb3IgcHJvcGVyIGNvdW50ICh1c2VkIG11bHRpcGxlIHRpbWVzIGJlbG93KQogICAgICAgICAgICAgICAgY29uc3QgbExlbmd0aCA9IFsuLi5tYXRjaFswXV0ubGVuZ3RoIC0gMTsKICAgICAgICAgICAgICAgIGxldCByRGVsaW0sIHJMZW5ndGgsIGRlbGltVG90YWwgPSBsTGVuZ3RoLCBtaWREZWxpbVRvdGFsID0gMDsKICAgICAgICAgICAgICAgIGNvbnN0IGVuZFJlZyA9IG1hdGNoWzBdWzBdID09PSAnKicgPyB0aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZ1JEZWxpbUFzdCA6IHRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nUkRlbGltVW5kOwogICAgICAgICAgICAgICAgZW5kUmVnLmxhc3RJbmRleCA9IDA7CiAgICAgICAgICAgICAgICAvLyBDbGlwIG1hc2tlZFNyYyB0byBzYW1lIHNlY3Rpb24gb2Ygc3RyaW5nIGFzIHNyYyAobW92ZSB0byBsZXhlcj8pCiAgICAgICAgICAgICAgICBtYXNrZWRTcmMgPSBtYXNrZWRTcmMuc2xpY2UoLTEgKiBzcmMubGVuZ3RoICsgbExlbmd0aCk7CiAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gZW5kUmVnLmV4ZWMobWFza2VkU3JjKSkgIT0gbnVsdDwxPDxvW2hdO3QrKylmW2srK109aDtmb3Ioaz4+PTc7aDxuO2grKylmb3Iod1toXT1rPDw3LHQ9MDt0PDE8PG9baF0tNzt0KyspZlsyNTYraysrXT1oO2ZvcihlPTA7ZTw9cztlKyspdltlXT0wO2Zvcih0PTA7dDw9MTQzOylkWzIqdCsxXT04LHQrKyx2WzhdKys7Zm9yKDt0PD0yNTU7KWRbMip0KzFdPTksdCsrLHZbOV0rKztmb3IoO3Q8PTI3OTspZFsyKnQrMV09Nyx0Kyssdls3XSsrO2Zvcig7dDw9Mjg3OylkWzIqdCsxXT04LHQrKyx2WzhdKys7Zm9yKEUoZCwyODcsdiksdD0wO3Q8bjt0KyspX1syKnQrMV09NSxfWzIqdF09QSh0LDUpO2I9bmV3IG0oZCxyLDI1NyxpLHMpLGc9bmV3IG0oXyxvLDAsbixzKSxwPW5ldyBtKG5ldyBBcnJheSgwKSxsLDAsMTksNyl9KSgpLEY9ITApLHQubF9kZXNjPW5ldyBrKHQuZHluX2x0cmVlLGIpLHQuZF9kZXNjPW5ldyBrKHQuZHluX2R0cmVlLGcpLHQuYmxfZGVzYz1uZXcgayh0LmJsX3RyZWUscCksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTAsUih0KX0sX3RyX3N0b3JlZF9ibG9jazpMLF90cl9mbHVzaF9ibG9jazpOLF90cl90YWxseToodCxlLGkpPT4odC5wZW5kaW5nX2J1Zlt0LnN5bV9idWYrdC5zeW1fbmV4dCsrXT1lLHQucGVuZGluZ19idWZbdC5zeW1fYnVmK3Quc3ltX25leHQrK109ZT4+OCx0LnBlbmRpbmdfYnVmW3Quc3ltX2J1Zit0LnN5bV9uZXh0KytdPWksMD09PWU/dC5keW5fbHRyZWVbMippXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooY1tpXSthKzEpXSsrLHQuZHluX2R0cmVlWzIqdihlKV0rKyksdC5zeW1fbmV4dD09PXQuc3ltX2VuZCksX3RyX2FsaWduOnQ9Pnt4KHQsMiwzKSx6KHQsMjU2LGQpLCh0PT57MTY9PT10LmJpX3ZhbGlkPyh5KHQsdC5iaV9idWYpLHQuYmlfYnVmPTAsdC5iaV92YWxpZD0wKTp0LmJpX3ZhbGlkPj04JiYodC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109MjU1JnQuYmlfYnVmLHQuYmlfYnVmPj49OCx0LmJpX3ZhbGlkLT04KX0pKHQpfX07dmFyIEM9KHQsZSxhLGkpPT57bGV0IG49NjU1MzUmdHwwLHM9dD4+PjE2JjY1NTM1fDAscj0wO2Zvcig7MCE9PWE7KXtyPWE+MmUzPzJlMzphLGEtPXI7ZG97bj1uK2VbaSsrXXwwLHM9cytufDB9d2hpbGUoLS1yKTtuJT02NTUyMSxzJT02NTUyMX1yZXR1cm4gbnxzPDwxNnwwfTtjb25zdCBNPW5ldyBVaW50MzJBcnJheSgoKCk9PntsZXQgdCxlPVtdO2Zvcih2YXIgYT0wO2E8MjU2O2ErKyl7dD1hO2Zvcih2YXIgaT0wO2k8ODtpKyspdD0xJnQ/Mzk4ODI5MjM4NF50Pj4+MTp0Pj4+MTtlW2FdPXR9cmV0dXJuIGV9KSgpKTt2YXIgSD0odCxlLGEsaSk9Pntjb25zdCBuPU0scz1pK2E7dF49LTE7Zm9yKGxldCBhPWk7YTxzO2ErKyl0PXQ+Pj44Xm5bMjU1Jih0XmVbYV0pXTtyZXR1cm4tMV50fSxqPXsyOiJuZWVkIGRpY3Rpb25hcnkiLDE6InN0cmVhbSBlbmQiLDA6IiIsIi0xIjoiZmlsZSBlcnJvciIsIi0yIjoic3RyZWFtIGVycm9yIiwiLTMiOiJkYXRhIGVycm9yIiwiLTQiOiJpbnN1ZmZpY2llbnQgbWVtb3J5IiwiLTUiOiJidWZmZXIgZXJyb3IiLCItNiI6ImluY29tcGF0aWJsZSB2ZXJzaW9uIn0sSz17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFZWIvRXZlbnRzI1N0YW5kYXJkX2V2ZW50cwoJUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuYWRkQXR0cmlidXRlKAoJCS9vbig/OmFib3J0fGJsdXJ8Y2hhbmdlfGNsaWNrfGNvbXBvc2l0aW9uKD86ZW5kfHN0YXJ0fHVwZGF0ZSl8ZGJsY2xpY2t8ZXJyb3J8Zm9jdXMoPzppbnxvdXQpP3xrZXkoPzpkb3dufHVwKXxsb2FkfG1vdXNlKD86ZG93bnxlbnRlcnxsZWF2ZXxtb3ZlfG91dHxvdmVyfHVwKXxyZXNldHxyZXNpemV8c2Nyb2xsfHNlbGVjdHxzbG90Y2hhbmdlfHN1Ym1pdHx1bmxvYWR8d2hlZWwpLy5zb3VyY2UsCgkJJ2phdmFzY3JpcHQnCgkpOwp9CgpQcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDsKCgovKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgICAgQmVnaW4gcHJpc20tZmlsZS1oaWdobGlnaHQuanMKKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLwoKKGZ1bmN0aW9uICgpIHsKCglpZiAodHlwZW9mIFByaXNtID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7CgkJcmV0dXJuOwoJfQoKCS8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L21hdGNoZXMjUG9seWZpbGwKCWlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykgewoJCUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3I7Cgl9CgoJdmFyIExPQURJTkdfTUVTU0FHRSA9ICdMb2FkaW5n4oCmJzsKCXZhciBGQUlMVVJFX01FU1NBR0UgPSBmdW5jdGlvbiAoc3RhdHVzLCBtZXNzYWdlKSB7CgkJcmV0dXJuICfinJYgRXJyb3IgJyArIHN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIG1lc3NhZ2U7Cgl9OwoJdmFyIEZBSUxVUkVfRU1QVFlfTUVTU0FHRSA9ICfinJYgRXJyb3I6IEZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgaXMgZW1wdHknOwoKCXZhciBFWFRFTlNJT05TID0gewoJCSdqcyc6ICdqYXZhc2NyaXB0JywKCQkncHknOiAncHl0aG9uJywKCQkncmInOiAncnVieScsCgkJJ3BzMSc6ICdwb3dlcnNoZWxsJywKCQkncHNtMSc6ICdwb3dlcnNoZWxsJywKCQknc2gnOiAnYmFzaCcsCgkJJ2JhdCc6ICdiYXRjaCcsCgkJJ2gnOiAnYycsCgkJJ3RleCc6ICdsYXRleCcKCX07CgoJdmFyIFNUQVRVU19BVFRSID0gJ2RhdGEtc3JjLXN0YXR1cyc7Cgl2YXIgU1RBVFVTX0xPQURJTkcgPSAnbG9hZGluZyc7Cgl2YXIgU1RBVFVTX0xPQURFRCA9ICdsb2FkZWQnOwoJdmFyIFNUQVRVU19GQUlMRUQgPSAnZmFpbGVkJzsKCgl2YXIgU0VMRUNUT1IgPSAncHJlW2RhdGEtc3JjXTpub3QoWycgKyBTVEFUVVNfQVRUUiArICc9IicgKyBTVEFUVVNfTE9BREVEICsgJyJdKScKCQkrICc6bm90KFsnICsgU1RBVFVTX0FUVFIgKyAnPSInICsgU1RBVFVTX0xPQURJTkcgKyAnIl0pJzsKCgkvKioKCSAqIExvYWRzIHRoZSBnaXZlbiBmaWxlLgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVGhlIFVSTCBvciBwYXRoIG9mIHRoZSBzb3VyY2UgZmlsZSB0byBsb2FkLgoJICogQHBhcmFtIHsocmVzdWx0OiBzJiZfJiZzLndpZHRoJiZmJiZzLnRpbWU9PT1SdC50aW1lJiYhcy51bmNhY2hlKXJldHVybiBpYSh1L3Mud2lkdGgqMTAwKTtpZighX3x8ImhlaWdodCIhPT1lJiYid2lkdGgiIT09ZSkhXyYmIiUiIT09aHx8dnJbUGQoYSwiZGlzcGxheSIpXXx8KGwucG9zaXRpb249UGQodCwicG9zaXRpb24iKSksYT09PXQmJihsLnBvc2l0aW9uPSJzdGF0aWMiKSxhLmFwcGVuZENoaWxkKExlKSxuPUxlW2NdLGEucmVtb3ZlQ2hpbGQoTGUpLGwucG9zaXRpb249ImFic29sdXRlIjtlbHNle3ZhciBtPXQuc3R5bGVbZV07dC5zdHlsZVtlXT0xMDAraSxuPXRbY10sbT90LnN0eWxlW2VdPW06WGQodCxlKX1yZXR1cm4gZiYmXyYmKChzPWZhKGEpKS50aW1lPVJ0LnRpbWUscy53aWR0aD1hW2NdKSxpYShwP24qdS8xMDA6biYmdT8xMDAvbip1OjApfWZ1bmN0aW9uIGJlKHQsZSxyLGkpe2lmKCFyfHwibm9uZSI9PT1yKXt2YXIgbj1tcihlLHQsMSksYT1uJiZQZCh0LG4sMSk7YSYmYSE9PXI/KGU9bixyPWEpOiJib3JkZXJDb2xvciI9PT1lJiYocj1QZCh0LCJib3JkZXJUb3BDb2xvciIpKX12YXIgcyxvLHUsaCxsLGYsZCxjLHAsXyxtLGc9bmV3IF9lKHRoaXMuX3B0LHQuc3R5bGUsZSwwLDEsdWUpLHY9MCx5PTA7aWYoZy5iPXIsZy5lPWkscis9IiIsImF1dG8iPT09KGkrPSIiKSYmKGY9dC5zdHlsZVtlXSx0LnN0eWxlW2VdPWksaT1QZCh0LGUpfHxpLGY/dC5zdHlsZVtlXT1mOlhkKHQsZSkpLEZiKHM9W3IsaV0pLGk9c1sxXSx1PShyPXNbMF0pLm1hdGNoKHJ0KXx8W10sKGkubWF0Y2gocnQpfHxbXSkubGVuZ3RoKXtmb3IoO289cnQuZXhlYyhpKTspZD1vWzBdLHA9aS5zdWJzdHJpbmcodixvLmluZGV4KSxsP2w9KGwrMSklNToicmdiYSgiIT09cC5zdWJzdHIoLTUpJiYiaHNsYSgiIT09cC5zdWJzdHIoLTUpfHwobD0xKSxkIT09KGY9dVt5KytdfHwiIikmJihoPXBhcnNlRmxvYXQoZil8fDAsbT1mLnN1YnN0cigoaCsiIikubGVuZ3RoKSwiPSI9PT1kLmNoYXJBdCgxKSYmKGQ9a2EoaCxkKSttKSxjPXBhcnNlRmxvYXQoZCksXz1kLnN1YnN0cigoYysiIikubGVuZ3RoKSx2PXJ0Lmxhc3RJbmRleC1fLmxlbmd0aCxffHwoXz1ffHxxLnVuaXRzW2VdfHxtLHY9PT1pLmxlbmd0aCYmKGkrPV8sZy5lKz1fKSksbSE9PV8mJihoPV9kKHQsZSxmLF8pfHwwKSxnLl9wdD17X25leHQ6Zy5fcHQscDpwfHwxPT09eT9wOiIsIixzOmgsYzpjLWgsbTpsJiZsPDR8fCJ6SW5kZXgiPT09ZT9NYXRoLnJvdW5kOjB9KTtnLmM9djxpLmxlbmd0aD9pLnN1YnN0cmluZyh2LGkubGVuZ3RoKToiIn1lbHNlIGcucj0iZGlzcGxheSI9PT1lJiYibm9uZSI9PT1pP0FkOnpkO3JldHVybiBudC50ZXN0KGkpJiYoZy5lPTApLHRoaXMuX3B0PWd9ZnVuY3Rpb24gZGUodCl7dmFyIGU9dC5zcGxpdCgiICIpLHI9ZVswXSxpPWVbMV18fCI1MCUiO3JldHVybiJ0b3AiIT09ciYmImJvdHRvbSIhPT1yJiYibGVmdCIhPT1pJiYicmlnaHQiIT09aXx8KHQ9cixyPWksaT10KSxlWzBdPVRyW3JdfHxyLGVbMV09VHJbaV18fGksZS5qb2luKCIgIil9ZnVuY3Rpb24gZWUodCxlKXtpZihlLnR3ZWVuJiZlLnR3ZWVuLl90aW1lPT09ZS50d2Vlbi5fZHVyKXt2YXIgcixpLG4sYT1lLnQscz1hLnN0eWxlLG89ZS51LHU9YS5fZ3NhcDtpZigiYWxsIj09PW98fCEwPT09bylzLmNzc1RleHQ9IiIsaT0xO2Vsc2UgYXRpb24oKTp0Ll90RHVyKS1lKS8tdC5fdHMpKSxIYSh0KSxyLl9kaXJ0eXx8QWEocix0KSksdH1mdW5jdGlvbiBKYSh0LGUpe3ZhciByO2lmKChlLl90aW1lfHwhZS5fZHVyJiZlLl9pbml0dGVkfHxlLl9zdGFydDx0Ll90aW1lJiYoZS5fZHVyfHwhZS5hZGQpKSYmKHI9R2EodC5yYXdUaW1lKCksZSksKCFlLl9kdXJ8fE90KDAsZS50b3RhbER1cmF0aW9uKCksciktZS5fdFRpbWU+WCkmJmUucmVuZGVyKHIsITApKSxBYSh0LGUpLl9kcCYmdC5faW5pdHRlZCYmdC5fdGltZT49dC5fZHVyJiZ0Ll90cyl7aWYodC5fZHVyPHQuZHVyYXRpb24oKSlmb3Iocj10O3IuX2RwOykwPD1yLnJhd1RpbWUoKSYmci50b3RhbFRpbWUoci5fdFRpbWUpLHI9ci5fZHA7dC5felRpbWU9LVh9fWZ1bmN0aW9uIEthKGUscixpLG4pe3JldHVybiByLnBhcmVudCYmemEociksci5fc3RhcnQ9amEoKHQoaSk/aTppfHxlIT09ST94dChlLGkscik6ZS5fdGltZSkrci5fZGVsYXkpLHIuX2VuZD1qYShyLl9zdGFydCsoci50b3RhbER1cmF0aW9uKCkvTWF0aC5hYnMoci50aW1lU2NhbGUoKSl8fDApKSx4YShlLHIsIl9maXJzdCIsIl9sYXN0IixlLl9zb3J0PyJfc3RhcnQiOjApLGJ0KHIpfHwoZS5fcmVjZW50PXIpLG58fEphKGUsciksZS5fdHM8MCYmSWEoZSxlLl90VGltZSksZX1mdW5jdGlvbiBMYSh0LGUpe3JldHVybihvdC5TY3JvbGxUcmlnZ2VyfHxRKCJzY3JvbGxUcmlnZ2VyIixlKSkmJm90LlNjcm9sbFRyaWdnZXIuY3JlYXRlKGUsdCl9ZnVuY3Rpb24gTWEodCxlLHIsaSxuKXtyZXR1cm4gUXQodCxlLG4pLHQuX2luaXR0ZWQ/IXImJnQuX3B0JiYhTCYmKHQuX2R1ciYmITEhPT10LnZhcnMubGF6eXx8IXQuX2R1ciYmdC52YXJzLmxhenkpJiZmIT09UnQuZnJhbWU/KGR0LnB1c2godCksdC5fbGF6eT1bbixpXSwxKTp2b2lkIDA6MX1mdW5jdGlvbiBSYSh0LGUscixpKXt2YXIgbj10Ll9yZXBlYXQsYT1qYShlKXx8MCxzPXQuX3RUaW1lL3QuX3REdXI7cmV0dXJuIHMmJiFpJiYodC5fdGltZSo9YS90Ll9kdXIpLHQuX2R1cj1hLHQuX3REdXI9bj9uPDA/MWUxMDpqYShhKihuKzEpK3QuX3JEZWxheSpuKTphLDA8cyYmIWkmJklhKHQsdC5fdFRpbWU9dC5fdER1cipzKSx0LnBhcmVudCYmSGEodCkscnx8QWEodC5wYXJlbnQsdCksdH1mdW5jdGlvbiBTYSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFh0P0FhKHQpOlJhKHQsdC5fZHVyKX1mdW5jdGlvbiBWYShlLHIsaSl7dmFyIG4sYSxzPXQoclsxXSksbz0ocz8yOjEpKyhlPDI/MDoxKSx1PXJbb107aWYocyYmKHUuZHVyYXRpb249clsxXSksdS5wYXJlbnQ9aSxlKXtmb3Iobj11LGE9aTthJiYhKCJpbW1lZGlhdGVSZW5kZXIiaW4gbik7KW49YS52YXJzLmRlZmF1bHRzfHx7fSxhPXcoYS52YXJzLmluaGVyaXQpJiZhLnBhcmVudDt1LmltbWVkaWF0ZVJlbmRlcj13KG4uaW1tZWRpYXRlUmVuZGVyKSxlPDI/dS5ydW5CYWNrd2FyZHM9MTp1LnN0YXJ0QXQ9cltvLTFdfXJldHVybiBuZXcgJHQoclswXSx1LHJbMStvXSl9ZnVuY3Rpb24gV2EodCxlKXtyZXR1cm4gdHx8MD09PXQ/ZSh0KTplfWZ1bmN0aW9uIFlhKHQsZSl7cmV0dXJuIHIodCkmJihlPXN0LmV4ZWModCkpP2VbMV06IiJ9ZnVuY3Rpb24gX2EodCxlKXtyZXR1cm4gdCYmdih0KSYmImxlbmd0aCJpbiB0JiYoIWUmJiF0Lmxlbmd0aHx8dC5sZW5ndGgtMSBpYXIgZSx0PXt9O2ZvcihlIGluIG4pdy5rZXkoZSk/ZT09ciYmKHQudmFsdWU9bltlXSk6dFtlXT1uW2VdO3JldHVybiB0fSl9KG4pO3JldHVybiBhfWZ1bmN0aW9uIEoobixlKXt2YXIgdCxyPVtdLGE9ZS5rZXlmcmFtZXM7Zm9yKHQgaW4gZT1hP0QoUihhKSxlKTplKXcua2V5KHQpJiZyLnB1c2goe25hbWU6dCx0d2VlbnM6ZnVuY3Rpb24obix0KXt2YXIgZSxyPWcodCksYT0oL15zcHJpbmcvLnRlc3Qoci5lYXNpbmcpJiYoci5kdXJhdGlvbj1jKHIuZWFzaW5nKSksdy5hcnIobikmJigyPT09KGU9bi5sZW5ndGgpJiYhdy5vYmooblswXSk/bj17dmFsdWU6bn06dy5mbmModC5kdXJhdGlvbil8fChyLmR1cmF0aW9uPXQuZHVyYXRpb24vZSkpLHcuYXJyKG4pP246W25dKTtyZXR1cm4gYS5tYXAoZnVuY3Rpb24obixlKXtuPXcub2JqKG4pJiYhdy5wdGgobik/bjp7dmFsdWU6bn07cmV0dXJuIHcudW5kKG4uZGVsYXkpJiYobi5kZWxheT1lPzA6dC5kZWxheSksdy51bmQobi5lbmREZWxheSkmJihuLmVuZERlbGF5PWU9PT1hLmxlbmd0aC0xP3QuZW5kRGVsYXk6MCksbn0pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gRChuLHIpfSl9KGVbdF0sbil9KTtyZXR1cm4gcn1mdW5jdGlvbiBLKGksYyl7dmFyIHM7cmV0dXJuIGkudHdlZW5zLm1hcChmdW5jdGlvbihuKXt2YXIgbj1mdW5jdGlvbihuLGUpe3ZhciB0LHI9e307Zm9yKHQgaW4gbil7dmFyIGE9bShuW3RdLGUpO3cuYXJyKGEpJiYxPT09KGE9YS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG0obixlKX0pKS5sZW5ndGgmJihhPWFbMF0pLHJbdF09YX1yZXR1cm4gci5kdXJhdGlvbj1wYXJzZUZsb2F0KHIuZHVyYXRpb24pLHIuZGVsYXk9cGFyc2VGbG9hdChyLmRlbGF5KSxyfShuLGMpLGU9bi52YWx1ZSx0PXcuYXJyKGUpP2VbMV06ZSxyPUIodCksYT1UKGMudGFyZ2V0LGkubmFtZSxyLGMpLG89cz9zLnRvLm9yaWdpbmFsOmEsdT13LmFycihlKT9lWzBdOm8sYT1CKHUpfHxCKGEpLHI9cnx8YTtyZXR1cm4gdy51bmQodCkmJih0PW8pLG4uZnJvbT16KHUsciksbi50bz16KEUodCx1KSxyKSxuLnN0YXJ0PXM/cy5lbmQ6MCxuLmVuZD1uLnN0YXJ0K24uZGVsYXkrbi5kdXJhdGlvbituLmVuZERlbGF5LG4uZWFzaW5nPVAobi5lYXNpbmcsbi5kdXJhdGlvbiksbi5pc1BhdGg9dy5wdGgoZSksbi5pc1BhdGhUYXJnZXRJbnNpZGVTVkc9bi5pc1BhdGgmJncuc3ZnKGMudGFyZ2V0KSxuLmlzQ29sb3I9dy5jb2wobi5mcm9tLm9yaWdpbmFsKSxuLmlzQ29sb3ImJihuLnJvdW5kPTEpLHM9bn0pfXZhciBVPXtjc3M6ZnVuY3Rpb24obixlLHQpe3JldHVybiBuLnN0eWxlW2VdPXR9LGF0dHJpYnV0ZTpmdW5jdGlvbihuLGUsdCl7cmV0dXJuIG4uc2V0QXR0cmlidXRlKGUsdCl9LG9iamVjdDpmdW5jdGlvbihuLGUsdCl7cmV0dXJuIG5bZV09dH0sdHJhbnNmb3JtOmZ1bmN0aW9uKG4sZSx0LHIsYSl7dmFyIG87ci5saXN0LnNldChlLHQpLGUhPT1yLmxhc3QmJiFhfHwobz0iIixyLmxpc3QuZm9yRWFjaChmdW5jdGlvbihuLGUpe28rPWUrIigiK24rIikgIn0pLG4uc3R5bGUudHJhbnNmb3JtPW8pfX07ZnVuY3Rpb24gbm4obix1KXtfKG4pLmZvckVhY2goZnVuY3Rpb24obil7Zm9yKHZhciBlIGluIHUpe3ZhciB0PW0odVtlXSxuKSxyPW4udGFyZ2V0LGE9Qih0KSxvPVQocixlLGEsbiksdD1FKFkodCxhfHxCY2UgMzY1IGlzIGEgc3VpdGUgb2YgYXBwcyB0aGF0IGhlbHBzIHlvdSBzdGF5IGNvbm5lY3RlZCB3aXRoIG90aGVycyBhbmQgZ2V0IHRoaW5ncyBkb25lLiBJdCBpbmNsdWRlcyBidXQgaXMgbm90IGxpbWl0ZWQgdG8gTWljcm9zb2Z0IFdvcmQsIFBvd2VyUG9pbnQsIEV4Y2VsLCBUZWFtcywgT25lTm90ZSBhbmQgT25lRHJpdmUuIE9mZmljZSAzNjUgYWxsb3dzIHlvdSB0byB3b3JrIHJlbW90ZWx5IHdpdGggb3RoZXJzIG9uIGEgdGVhbSBhbmQgY29sbGFib3JhdGUgaW4gYW4gb25saW5lIGVudmlyb25tZW50LiBCb3RoIHdlYiB2ZXJzaW9ucyBhbmQgZGVza3RvcC9tb2JpbGUgYXBwbGljYXRpb25zIGFyZSBhdmFpbGFibGUuIiwKICAiZGVwZW5kZW5jaWVzIjogewogICAgIkBjYWxjb20vbGliIjogIndvcmtzcGFjZToqIiwKICAgICJAY2FsY29tL3ByaXNtYSI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAibXN3IjogIjIuNy4wIiwKICAgICJ3aW5kb3dzLWlhbmEiOiAiNS4xLjAiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgIkBjYWxjb20vdHlwZXMiOiAid29ya3NwYWNlOioiCiAgfQp9Ci8qCiAqIGFuaW1lLmpzIHYzLjIuMgogKiAoYykgMjAyMyBKdWxpYW4gR2FybmllcgogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogYW5pbWVqcy5jb20KICovCgohZnVuY3Rpb24obixlKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTpuLmFuaW1lPWUoKX0odGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT17dXBkYXRlOm51bGwsYmVnaW46bnVsbCxsb29wQmVnaW46bnVsbCxjaGFuZ2VCZWdpbjpudWxsLGNoYW5nZTpudWxsLGNoYW5nZUNvbXBsZXRlOm51bGwsbG9vcENvbXBsZXRlOm51bGwsY29tcGxldGU6bnVsbCxsb29wOjEsZGlyZWN0aW9uOiJub3JtYWwiLGF1dG9wbGF5OiEwLHRpbWVsaW5lT2Zmc2V0OjB9LE09e2R1cmF0aW9uOjFlMyxkZWxheTowLGVuZERlbGF5OjAsZWFzaW5nOiJlYXNlT3V0RWxhc3RpYygxLCAuNSkiLHJvdW5kOjB9LGo9WyJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInRyYW5zbGF0ZVoiLCJyb3RhdGUiLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJzY2FsZSIsInNjYWxlWCIsInNjYWxlWSIsInNjYWxlWiIsInNrZXciLCJza2V3WCIsInNrZXdZIiwicGVyc3BlY3RpdmUiLCJtYXRyaXgiLCJtYXRyaXgzZCJdLGw9e0NTUzp7fSxzcHJpbmdzOnt9fTtmdW5jdGlvbiBDKG4sZSx0KXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobixlKSx0KX1mdW5jdGlvbiB1KG4sZSl7cmV0dXJuLTE8bi5pbmRleE9mKGUpfWZ1bmN0aW9uIG8obixlKXtyZXR1cm4gbi5hcHBseShudWxsLGUpfXZhciB3PXthcnI6ZnVuY3Rpb24obil7cmV0dXJuIEFycmF5LmlzQXJyYXkobil9LG9iajpmdW5jdGlvbihuKXtyZXR1cm4gdShPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobiksIk9iamVjdCIpfSxwdGg6ZnVuY3Rpb24obil7cmV0dXJuIHcub2JqKG4pJiZuLmhhc093blByb3BlcnR5KCJ0b3RhbExlbmd0aCIpfSxzdmc6ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBTVkdFbGVtZW50fSxpbnA6ZnVuIHN0cmlkZSAqIDI7CgkJY29uc3Qgc3RyaWRlMyA9IHN0cmlkZSAqIDM7CgoJCWNvbnN0IHRkID0gdDEgLSB0MDsKCgkJY29uc3QgcCA9ICggdCAtIHQwICkgLyB0ZDsKCQljb25zdCBwcCA9IHAgKiBwOwoJCWNvbnN0IHBwcCA9IHBwICogcDsKCgkJY29uc3Qgb2Zmc2V0MSA9IGkxICogc3RyaWRlMzsKCQljb25zdCBvZmZzZXQwID0gb2Zmc2V0MSAtIHN0cmlkZTM7CgoJCWNvbnN0IHMyID0gLSAyICogcHBwICsgMyAqIHBwOwoJCWNvbnN0IHMzID0gcHBwIC0gcHA7CgkJY29uc3QgczAgPSAxIC0gczI7CgkJY29uc3QgczEgPSBzMyAtIHBwICsgcDsKCgkJLy8gTGF5b3V0IG9mIGtleWZyYW1lIG91dHB1dCB2YWx1ZXMgZm9yIENVQklDU1BMSU5FIGFuaW1hdGlvbnM6CgkJLy8gICBbIGluVGFuZ2VudF8xLCBzcGxpbmVWZXJ0ZXhfMSwgb3V0VGFuZ2VudF8xLCBpblRhbmdlbnRfMiwgc3BsaW5lVmVydGV4XzIsIC4uLiBdCgkJZm9yICggbGV0IGkgPSAwOyBpICE9PSBzdHJpZGU7IGkgKysgKSB7CgoJCQljb25zdCBwMCA9IHZhbHVlc1sgb2Zmc2V0MCArIGkgKyBzdHJpZGUgXTsgLy8gc3BsaW5lVmVydGV4X2sKCQkJY29uc3QgbTAgPSB2YWx1ZXNbIG9mZnNldDAgKyBpICsgc3RyaWRlMiBdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaykKCQkJY29uc3QgcDEgPSB2YWx1ZXNbIG9mZnNldDEgKyBpICsgc3RyaWRlIF07IC8vIHNwbGluZVZlcnRleF9rKzEKCQkJY29uc3QgbTEgPSB2YWx1ZXNbIG9mZnNldDEgKyBpIF0gKiB0ZDsgLy8gaW5UYW5nZW50X2srMSAqICh0X2srMSAtIHRfaykKCgkJCXJlc3VsdFsgaSBdID0gczAgKiBwMCArIHMxICogbTAgKyBzMiAqIHAxICsgczMgKiBtMTsKCgkJfQoKCQlyZXR1cm4gcmVzdWx0OwoKCX0KCn0KCmNvbnN0IF9xID0gbmV3IFF1YXRlcm5pb24oKTsKCmNsYXNzIEdMVEZDdWJpY1NwbGluZVF1YXRlcm5pb25JbnRlcnBvbGFudCBleHRlbmRzIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50IHsKCglpbnRlcnBvbGF0ZV8oIGkxLCB0MCwgdCwgdDEgKSB7CgoJCWNvbnN0IHJlc3VsdCA9IHN1cGVyLmludGVycG9sYXRlXyggaTEsIHQwLCB0LCB0MSApOwoKCQlfcS5mcm9tQXJyYXkoIHJlc3VsdCApLm5vcm1hbGl6ZSgpLnRvQXJyYXkoIHJlc3VsdCApOwoKCQlyZXR1cm4gcmVzdWx0OwoKCX0KCn0KCgovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqKioqKiBJTlRFUk5BTFMgKioqKioqKioqKioqLwovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKLyogQ09OU1RBTlRTICovCgpjb25zdCBXRUJHTF9DT05TVEFOVFMgPSB7CglGTE9BVDogNTEyNiwKCS8vRkxPQVRfTUFUMjogMzU2NzQsCglGTE9BVF9NQVQzOiAzNTY3NSwKCUZMT0FUX01BVDQ6IDM1Njc2LAoJRkxPQVRfVkVDMjogMzU2NjQsCglGTE9BVF9WRUMzOiAzNTY2NSwKCUZMT0FUX1ZFQzQ6IDM1NjY2LAoJTElORUFSOiA5NzI5LAoJUkVQRUFUOiAxMDQ5NywKCVNBTVBMRVJfMkQ6IDM1Njc4LAoJUE9JTlRTOiAwLAoJTElORVM6IDEsCglMSU5FX0xPT1A6IDIsCglMSU5FX1NUUklQOiAzLAoJVFJJQU5HTEVTOiA0LAoJVFJJQU5HTEVfU1RSSVA6IDUsCglUUklBTkdMRV9GQU46IDYsCglVTlNJR05FRF9CWVRFOiA1MTIxLAoJVU5TSUdORURfU0hPUlQ6IDUxMjMKfTsKCmNvbmVudChlW2ldKX1gKS5qb2luKCImIil9fWdldEFsaWFzKHQpe2NvbnN0e2FsaWFzOmUsc3JjOml9PXQ7cmV0dXJuIFJ0KGV8fGkscz0+dHlwZW9mIHM9PSJzdHJpbmciP3M6QXJyYXkuaXNBcnJheShzKT9zLm1hcChuPT57dmFyIG87cmV0dXJuKG89bj09bnVsbD92b2lkIDA6bi5zcmMpIT1udWxsP286bn0pOnMhPW51bGwmJnMuc3JjP3Muc3JjOnMsITApfWFkZE1hbmlmZXN0KHQpe3RoaXMuX21hbmlmZXN0LHRoaXMuX21hbmlmZXN0PXQsdC5idW5kbGVzLmZvckVhY2goZT0+e3RoaXMuYWRkQnVuZGxlKGUubmFtZSxlLmFzc2V0cyl9KX1hZGRCdW5kbGUodCxlKXtjb25zdCBpPVtdO2xldCBzPWU7QXJyYXkuaXNBcnJheShlKXx8KHM9T2JqZWN0LmVudHJpZXMoZSkubWFwKChbbixvXSk9PnR5cGVvZiBvPT0ic3RyaW5nInx8QXJyYXkuaXNBcnJheShvKT97YWxpYXM6bixzcmM6b306TWUoe2FsaWFzOm59LG8pKSkscy5mb3JFYWNoKG49Pntjb25zdCBvPW4uc3JjLGE9bi5hbGlhcztsZXQgbDtpZih0eXBlb2YgYT09InN0cmluZyIpe2NvbnN0IHU9dGhpcy5fY3JlYXRlQnVuZGxlQXNzZXRJZCh0LGEpO2kucHVzaCh1KSxsPVthLHVdfWVsc2V7Y29uc3QgdT1hLm1hcChjPT50aGlzLl9jcmVhdGVCdW5kbGVBc3NldElkKHQsYykpO2kucHVzaCguLi51KSxsPVsuLi5hLC4uLnVdfXRoaXMuYWRkKEh2KE1lKHt9LG4pLHthbGlhczpsLHNyYzpvfSkpfSksdGhpcy5fYnVuZGxlc1t0XT1pfWFkZCh0KXtjb25zdCBlPVtdO0FycmF5LmlzQXJyYXkodCk/ZS5wdXNoKC4uLnQpOmUucHVzaCh0KTtsZXQgaTtSdChlKS5mb3JFYWNoKHM9Pntjb25zdHtzcmM6bn09cztsZXR7ZGF0YTpvLGZvcm1hdDphLGxvYWRQYXJzZXI6bH09cztjb25zdCB1PVJ0KG4pLm1hcChwPT50eXBlb2YgcD09InN0cmluZyI/c2MocCk6QXJyYXkuaXNBcnJheShwKT9wOltwXSksYz10aGlzLmdldEFsaWFzKHMpLGg9W107dS5mb3JFYWNoKHA9PntwLmZvckVhY2gobT0+e3ZhciBmLF8sZztsZXQgYj17fTtpZih0eXBlb2YgbSE9Im9iamVjdCIpe2Iuc3JjPW07Zm9yKGxldCB2PTA7djx0aGlzLl9wYXJzZXJzLmxlbmd0aDt2Kyspe2NvbnN0IHg9dGhpcy5fcGFyc2Vyc1t2XTtpZih4LnRlc3QobSkpe2I9eC5wYXJzZShtKTticmVha319fWVsc2Ugbz0oZj1tLmRhdGEpIT1udWxsP2Y6byxhPShfPW0uZm9ybWF0KSE9bnVsbD9fOmEsbD0oZz1tLmxvYWRQYXJzZXIpIT1udWxsP2c6bCxiPU1lKE1lKHt9LGIpLG0pO2lmKCFjKXRocm93IG5ldyBFcnJvcihgW1Jlc29sdmVyXSBhbGlhcyBpcyB1bmRlZmluZWQgZm9yIHRoaXMgYXNzZXQ6ICR7Yi5zcmN9YCk7Yj10aGlzLl9idWlsZFJlc29sdmVkQXNzZXQoYix7YWxpYXNlczpjLGRhdGE6byxmb3JtYXQ6YSxsb2FkUGFyc2VyOmx9KSxoLnB1c2goYil9KX0pLGMuZm9yRWFjaChwPT57dGhpcy5fYXNzZXRNYXBbcF09aH0pfSl9cmVzb2x2ZUJ1bmRsZSh0KXtjb25zdCBlPW5yKHQpO3Q9UnQodCk7Y29uc3QgaT17fTtyZXR1cm4gdC5mb3JFYWNoKHM9Pntjb25zdCBuPXRoaXMuX2J1bmRsZXNbc107aWYobil7Y29uc3Qgbz10aGlzLnJlc29sdmUobiksYT17fTtmb3IoY29uc3QgbCBpbiBvKXtjb25zdCB1PW9bbF07YVt0aGlzLl9leHRyYWN0QXNzZXRJZEZyb21CdW5kbGUocyxsKV09dX1pW3NdPWF9fSksZT9pW3RbMF1dOml9cmVzb2x2ZXhPZihyKTtpZih0PT09LTEpdGhyb3cgbmV3IEVycm9yKCJUaGUgc3VwcGxpZWQgQ29udGFpbmVyIG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyIik7cmV0dXJuIHR9LGFkZENoaWxkQXQocix0KXtjb25zdHtjaGlsZHJlbjplfT10aGlzO2lmKHQ8MHx8dD5lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYCR7cn1hZGRDaGlsZEF0OiBUaGUgaW5kZXggJHt0fSBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzICR7ZS5sZW5ndGh9YCk7aWYoci5wYXJlbnQpe2NvbnN0IGk9ci5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihyKTtpZihyLnBhcmVudD09PXRoaXMmJmk9PT10KXJldHVybiByO2khPT0tMSYmci5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGksMSl9cmV0dXJuIHQ9PT1lLmxlbmd0aD9lLnB1c2gocik6ZS5zcGxpY2UodCwwLHIpLHIucGFyZW50PXRoaXMsci5kaWRDaGFuZ2U9ITAsci5kaWRWaWV3VXBkYXRlPSExLHIuX3VwZGF0ZUZsYWdzPTE1LHRoaXMucmVuZGVyR3JvdXAmJnRoaXMucmVuZGVyR3JvdXAuYWRkQ2hpbGQociksdGhpcy5zb3J0YWJsZUNoaWxkcmVuJiYodGhpcy5zb3J0RGlydHk9ITApLHRoaXMuZW1pdCgiY2hpbGRBZGRlZCIscix0aGlzLHQpLHIuZW1pdCgiYWRkZWQiLHRoaXMpLHJ9LHN3YXBDaGlsZHJlbihyLHQpe2lmKHI9PT10KXJldHVybjtjb25zdCBlPXRoaXMuZ2V0Q2hpbGRJbmRleChyKSxpPXRoaXMuZ2V0Q2hpbGRJbmRleCh0KTt0aGlzLmNoaWxkcmVuW2VdPXQsdGhpcy5jaGlsZHJlbltpXT1yfSxyZW1vdmVGcm9tUGFyZW50KCl7dmFyIHI7KHI9dGhpcy5wYXJlbnQpPT1udWxsfHxyLnJlbW92ZUNoaWxkKHRoaXMpfX07Y2xhc3MgWnJ7Y29uc3RydWN0b3IodCl7dGhpcy5waXBlPSJmaWx0ZXIiLHRoaXMucHJpb3JpdHk9MSx0aGlzLmZpbHRlcnM9dD09bnVsbD92b2lkIDA6dC5maWx0ZXJzLHRoaXMuZmlsdGVyQXJlYT10PT1udWxsP3ZvaWQgMDp0LmZpbHRlckFyZWF9ZGVzdHJveSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5maWx0ZXJzLmxlbmd0aDt0KyspdGhpcy5maWx0ZXJzW3RdLmRlc3Ryb3koKTt0aGlzLmZpbHRlcnM9bnVsbCx0aGlzLmZpbHRlckFyZWE9bnVsbH19Y29uc3QgX3U9W107ZnVuY3Rpb24gYnUocix0KXtjb25zdCBlPV91LnBvcCgpfHxuZXcgWnI7cmV0dXJuIGUuZmlsdGVycz1yLGUuZmlsdGVyQXJlYT10LGV9ZnVuY3Rpb24gdnUocil7ci5maWx0ZXJzPW51bGwsX3UucHVzaChyKX1jbGFzcyBRcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3Bvb2w9W10sdGhpcy5fY291bnQ9MCx0aGlzLl9pbmRleD0wLHRoaXMuX2NsYXNzVHlwZT10LGUmJnRoaXMucHJlcG9wdWxhdGUoZSl9cHJlcG9wdWxhdGUodCl7Zm9yKGxldCBlPTA7ZTx0O2UrKyl0aGlzLl9wb29sW3RoaXMuX2luZGV4KytdPW5ldyB0aGlzLl9jbGFzc1R5cGU7dGhpcy5fY291bnQrPXR9Z2V0KHQpe3ZhciBlO2xldCBpO3JldHVybiB0aGlzLl9pbmRleD4wP2k9dGhpcy5fcG9vbFstLXRoaXMuX2luZGV4XTppPW5ldyB0aGlzLl9jbGFzc1R5cGUsKGU9aS5pbml0KT09bnVsbHx8ZS5jYWxsKGksdCksaX1yZXR1cm4odCl7dmFyIGU7KGU9dC5yZXNldCk9PW51bGx8fGUuY2FsbCh0KSx0aGlzLl9wb29sW3RoaXMuX2luZGV4KytdPXR9Z2V0IHRvdGFsU2l6ZSgpe3JldHVybiB0aGlzLl9jb3VudH1nZXQgdG90YWxGcmVlKCl7cmV0dW1iZXIiP1V0KHtoOnQsczplLnMsbDplLmwsYTplLmF9KTpudChlLmgpfSxyLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRvSGV4KCk9PT1VdCh0KS50b0hleCgpfSxyfSgpLFV0PWZ1bmN0aW9uKHIpe3JldHVybiByIGluc3RhbmNlb2YgcXI/cjpuZXcgcXIocil9LHV1PVtdLG92PWZ1bmN0aW9uKHIpe3IuZm9yRWFjaChmdW5jdGlvbih0KXt1dS5pbmRleE9mKHQpPDAmJih0KHFyLExzKSx1dS5wdXNoKHQpKX0pfSxWQT1mdW5jdGlvbigpe3JldHVybiBuZXcgcXIoe3I6MjU1Kk1hdGgucmFuZG9tKCksZzoyNTUqTWF0aC5yYW5kb20oKSxiOjI1NSpNYXRoLnJhbmRvbSgpfSl9O2Z1bmN0aW9uIGF2KHIsdCl7dmFyIGU9e3doaXRlOiIjZmZmZmZmIixiaXNxdWU6IiNmZmU0YzQiLGJsdWU6IiMwMDAwZmYiLGNhZGV0Ymx1ZToiIzVmOWVhMCIsY2hhcnRyZXVzZToiIzdmZmYwMCIsY2hvY29sYXRlOiIjZDI2OTFlIixjb3JhbDoiI2ZmN2Y1MCIsYW50aXF1ZXdoaXRlOiIjZmFlYmQ3IixhcXVhOiIjMDBmZmZmIixhenVyZToiI2YwZmZmZiIsd2hpdGVzbW9rZToiI2Y1ZjVmNSIscGFwYXlhd2hpcDoiI2ZmZWZkNSIscGx1bToiI2RkYTBkZCIsYmxhbmNoZWRhbG1vbmQ6IiNmZmViY2QiLGJsYWNrOiIjMDAwMDAwIixnb2xkOiIjZmZkNzAwIixnb2xkZW5yb2Q6IiNkYWE1MjAiLGdhaW5zYm9ybzoiI2RjZGNkYyIsY29ybnNpbGs6IiNmZmY4ZGMiLGNvcm5mbG93ZXJibHVlOiIjNjQ5NWVkIixidXJseXdvb2Q6IiNkZWI4ODciLGFxdWFtYXJpbmU6IiM3ZmZmZDQiLGJlaWdlOiIjZjVmNWRjIixjcmltc29uOiIjZGMxNDNjIixjeWFuOiIjMDBmZmZmIixkYXJrYmx1ZToiIzAwMDA4YiIsZGFya2N5YW46IiMwMDhiOGIiLGRhcmtnb2xkZW5yb2Q6IiNiODg2MGIiLGRhcmtraGFraToiI2JkYjc2YiIsZGFya2dyYXk6IiNhOWE5YTkiLGRhcmtncmVlbjoiIzAwNjQwMCIsZGFya2dyZXk6IiNhOWE5YTkiLHBlYWNocHVmZjoiI2ZmZGFiOSIsZGFya21hZ2VudGE6IiM4YjAwOGIiLGRhcmtyZWQ6IiM4YjAwMDAiLGRhcmtvcmNoaWQ6IiM5OTMyY2MiLGRhcmtvcmFuZ2U6IiNmZjhjMDAiLGRhcmtzbGF0ZWJsdWU6IiM0ODNkOGIiLGdyYXk6IiM4MDgwODAiLGRhcmtzbGF0ZWdyYXk6IiMyZjRmNGYiLGRhcmtzbGF0ZWdyZXk6IiMyZjRmNGYiLGRlZXBwaW5rOiIjZmYxNDkzIixkZWVwc2t5Ymx1ZToiIzAwYmZmZiIsd2hlYXQ6IiNmNWRlYjMiLGZpcmVicmljazoiI2IyMjIyMiIsZmxvcmFsd2hpdGU6IiNmZmZhZjAiLGdob3N0d2hpdGU6IiNmOGY4ZmYiLGRhcmt2aW9sZXQ6IiM5NDAwZDMiLG1hZ2VudGE6IiNmZjAwZmYiLGdyZWVuOiIjMDA4MDAwIixkb2RnZXJibHVlOiIjMWU5MGZmIixncmV5OiIjODA4MDgwIixob25leWRldzoiI2YwZmZmMCIsaG90cGluazoiI2ZmNjliNCIsYmx1ZXZpb2xldDoiIzhhMmJlMiIsZm9yZXN0Z3JlZW46IiMyMjhiMjIiLGxhd25ncmVlbjoiIzdjZmMwMCIsaW5kaWFucmVkOiIjY2Q1YzVjIixpbmRpZ286IiM0YjAwODIiLGZ1Y2hzaWE6IiNmZjAwZmYiLGJyb3duOiIjYTUyYTJhIixtYXJvb246IiM4MDAwMDAiLG1lZGl1bWJsdWU6IiMwMDAwY2QiLGxpZ2h0Y29yYWw6IiNmMDgwODAiLGRhcmt0dXJxdW9pc2U6IiMwMGNlZDEiLGxpZ2h0Y3lhbjoiI2UwZmZmZiIsaXZvcnk6IiNmZmZmZjAiTHVjaWRlRGl2aWRlIH0gZnJvbSAnLi9pY29ucy9kaXZpZGUuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIERuYU9mZiwgZGVmYXVsdCBhcyBEbmFPZmZJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURuYU9mZiB9IGZyb20gJy4vaWNvbnMvZG5hLW9mZi5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRG5hLCBkZWZhdWx0IGFzIERuYUljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG5hIH0gZnJvbSAnLi9pY29ucy9kbmEuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIERvZywgZGVmYXVsdCBhcyBEb2dJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvZyB9IGZyb20gJy4vaWNvbnMvZG9nLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBEb2xsYXJTaWduLCBkZWZhdWx0IGFzIERvbGxhclNpZ25JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvbGxhclNpZ24gfSBmcm9tICcuL2ljb25zL2RvbGxhci1zaWduLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBEb251dCwgZGVmYXVsdCBhcyBEb251dEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG9udXQgfSBmcm9tICcuL2ljb25zL2RvbnV0LmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBEb29yQ2xvc2VkLCBkZWZhdWx0IGFzIERvb3JDbG9zZWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURvb3JDbG9zZWQgfSBmcm9tICcuL2ljb25zL2Rvb3ItY2xvc2VkLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBEb29yT3BlbiwgZGVmYXVsdCBhcyBEb29yT3Blbkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG9vck9wZW4gfSBmcm9tICcuL2ljb25zL2Rvb3Itb3Blbi5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRG90LCBkZWZhdWx0IGFzIERvdEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG90IH0gZnJvbSAnLi9pY29ucy9kb3QuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIERvd25sb2FkQ2xvdWQsIGRlZmF1bHQgYXMgRG93bmxvYWRDbG91ZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRG93bmxvYWRDbG91ZCB9IGZyb20gJy4vaWNvbnMvZG93bmxvYWQtY2xvdWQuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIERvd25sb2FkLCBkZWZhdWx0IGFzIERvd25sb2FkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEb3dubG9hZCB9IGZyb20gJy4vaWNvbnMvZG93bmxvYWQuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIERyYWZ0aW5nQ29tcGFzcywgZGVmYXVsdCBhcyBEcmFmdGluZ0NvbXBhc3NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyYWZ0aW5nQ29tcGFzcyB9IGZyb20gJy4vaWNvbnMvZHJhZnRpbmctY29tcGFzcy5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJhbWEsIGRlZmF1bHQgYXMgRHJhbWFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyYW1hIH0gZnJvbSAnLi9pY29ucy9kcmFtYS5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJpYmJibGUsIGRlZmF1bHQgYXMgRHJpYmJibGVJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyaWJiYmxlIH0gZnJvbSAnLi9pY29ucy9kcmliYmJsZS5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJpbGwsIGRlZmF1bHQgYXMgRHJpbGxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZURyaWxsIH0gZnJvbSAnLi9pY29ucy9kcmlsbC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRHJvcGxldCwgZGVmYXVsdCBhcyBEcm9wbGV0SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVEcm9wbGV0IH0gZnJvbSAnLi9pY29ucy9kcm9wbGV0LmpzdXJuIGdldHRlci5jYWxsKHN0b3JlLCBzdG9yZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXI7CiAgICAgICAgICAgICAgICBzZXQoc3RvcmUsIGdldHRlck5hbWUsIGdldHRlclZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBnZXR0ZXJzCiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBhY3Rpb25zCiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpKSB7CiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBrZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSB2YWx1ZXMgdXNlZCBpbiBkZXZ0b29scyBhbmQgdG8gYWxsb3cgZGVsZXRpbmcgbmV3IHByb3BlcnRpZXMgbGF0ZXIgb24KICAgICAgICAgICAgc3RvcmUuX2htclBheWxvYWQgPSBuZXdTdG9yZS5faG1yUGF5bG9hZDsKICAgICAgICAgICAgc3RvcmUuX2dldHRlcnMgPSBuZXdTdG9yZS5fZ2V0dGVyczsKICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9CiAgICBpZiAoVVNFX0RFVlRPT0xTKSB7CiAgICAgICAgY29uc3Qgbm9uRW51bWVyYWJsZSA9IHsKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgLy8gYXZvaWQgd2FybmluZyBvbiBkZXZ0b29scyB0cnlpbmcgdG8gZGlzcGxheSB0aGlzIHByb3BlcnR5CiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgIH07CiAgICAgICAgWydfcCcsICdfaG1yUGF5bG9hZCcsICdfZ2V0dGVycycsICdfY3VzdG9tUHJvcGVydGllcyddLmZvckVhY2goKHApID0+IHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCBwLCBhc3NpZ24oeyB2YWx1ZTogc3RvcmVbcF0gfSwgbm9uRW51bWVyYWJsZSkpOwogICAgICAgIH0pOwogICAgfQogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAoaXNWdWUyKSB7CiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnMKICAgICAgICBzdG9yZS5fciA9IHRydWU7CiAgICB9CiAgICAvLyBhcHBseSBhbGwgcGx1Z2lucwogICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHsKICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7CiAgICAgICAgICAgICAgICBzdG9yZSwKICAgICAgICAgICAgICAgIGFwcDogcGluICAgLy8gTk9URTogaGVyZSBJIHdhbnRlZCB0byB3YXJuIGFib3V0IGluY29uc2lzdGVudCB0eXBlcyBidXQgaXQncyBub3QgcG9zc2libGUgYmVjYXVzZSBpbiBzZXR1cCBzdG9yZXMgb25lIG1pZ2h0CiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGFzIGEgY2VydGFpbiB0eXBlIGUuZy4gYSBNYXAsIGFuZCB0aGVuIGZvciBzb21lIHJlYXNvbiwgZHVyaW5nIFNTUiwgY2hhbmdlIHRoYXQKICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLgogICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzdWJQYXRjaCBpcyBhIHZhbGlkIHZhbHVlCiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc3ViUGF0Y2g7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKfQpjb25zdCBza2lwSHlkcmF0ZVN5bWJvbCA9IFN5bWJvbCgncGluaWE6c2tpcEh5ZHJhdGlvbicpCiAgICA7CmNvbnN0IHNraXBIeWRyYXRlTWFwID0gLyojX19QVVJFX18qLyBuZXcgV2Vha01hcCgpOwovKioKICogVGVsbHMgUGluaWEgdG8gc2tpcCB0aGUgaHlkcmF0aW9uIHByb2Nlc3Mgb2YgYSBnaXZlbiBvYmplY3QuIFRoaXMgaXMgdXNlZnVsIGluIHNldHVwIHN0b3JlcyAob25seSkgd2hlbiB5b3UgcmV0dXJuIGEKICogc3RhdGVmdWwgb2JqZWN0IGluIHRoZSBzdG9yZSBidXQgaXQgaXNuJ3QgcmVhbGx5IHN0YXRlLiBlLmcuIHJldHVybmluZyBhIHJvdXRlciBpbnN0YW5jZSBpbiBhIHNldHVwIHN0b3JlLgogKgogKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IG9iamVjdAogKiBAcmV0dXJucyBvYmoKICovCmZ1bmN0aW9uIHNraXBIeWRyYXRlKG9iaikgewogICAgcmV0dXJuIGlzVnVlMgogICAgICAgID8gLy8gaW4gQHZ1ZS9jb21wb3NpdGlvbi1hcGksIHRoZSByZWZzIGFyZSBzZWFsZWQgc28gZGVmaW5lUHJvcGVydHkgZG9lc24ndCB3b3JrLi4uCiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHNraXBIeWRyYXRlTWFwLnNldChvYmosIDEpICYmIG9iagogICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc2tpcEh5ZHJhdGVTeW1ib2wsIHt9KTsKfQovKioKICogUmV0dXJucyB3aGV0aGVyIGEgdmFsdWUgc2hvdWxkIGJlIGh5ZHJhdGVkCiAqCiAqIEBwYXJhbSBvYmogLSB0YXJnZXQgdmFyaWFibGUKICogQHJldHVybnMgdHJ1ZSBpZiBgb2JqYCBzaG91bGQgYmUgaHlkcmF0ZWQKICovCmZ1bmN0aW9uIHNob3VsZEh5ZHJhdGUob2JqKSB7CiAgICByZXR1cm4gaXNWdWUyCiAgICAgICAgPyAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAhc2tpcEh5ZHJhdGVNYXAuaGFzKG9iaikKICAgICAgICA6ICFpc1BsYWluT2JqZWN0KG9iaikgfHwgIW9iai5oYXNPd25Qcm9wZXJ0eShza2lwSHlkcmF0ZVN5bWJvbCk7Cn0KY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDsKZnVuY3Rpb24gaXNDb21wdXRlZChvKSB7CiAgICByZXR1cm4gISEoaXNSZWYobykgJiYgby5lZmZlY3QpOwp9CmZ1MC9zdmciLG90PSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIjtsZXQgcnQ9b3QsaXQ9ITEsYXQ9bnVsbDtjb25zdCBsdD1SKHt9LFt0dCxudCxvdF0sZyk7bGV0IGN0PVIoe30sWyJtaSIsIm1vIiwibW4iLCJtcyIsIm10ZXh0Il0pLHN0PVIoe30sWyJhbm5vdGF0aW9uLXhtbCJdKTtjb25zdCB1dD1SKHt9LFsidGl0bGUiLCJzdHlsZSIsImZvbnQiLCJhIiwic2NyaXB0Il0pO2xldCBtdD1udWxsO2NvbnN0IHB0PVsiYXBwbGljYXRpb24veGh0bWwreG1sIiwidGV4dC9odG1sIl07bGV0IGZ0PW51bGwsZHQ9bnVsbDtjb25zdCBodD1yLmNyZWF0ZUVsZW1lbnQoImZvcm0iKSxndD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFJlZ0V4cHx8ZSBpbnN0YW5jZW9mIEZ1bmN0aW9ufSxUdD1mdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZighZHR8fGR0IT09ZSl7aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlfHwoZT17fSksZT1DKGUpLG10PS0xPT09cHQuaW5kZXhPZihlLlBBUlNFUl9NRURJQV9UWVBFKT8idGV4dC9odG1sIjplLlBBUlNFUl9NRURJQV9UWVBFLGZ0PSJhcHBsaWNhdGlvbi94aHRtbCt4bWwiPT09bXQ/ZzpoLE5lPV8oZSwiQUxMT1dFRF9UQUdTIik/Uih7fSxlLkFMTE9XRURfVEFHUyxmdCk6RGUsUmU9XyhlLCJBTExPV0VEX0FUVFIiKT9SKHt9LGUuQUxMT1dFRF9BVFRSLGZ0KTp3ZSxhdD1fKGUsIkFMTE9XRURfTkFNRVNQQUNFUyIpP1Ioe30sZS5BTExPV0VEX05BTUVTUEFDRVMsZyk6bHQsUWU9XyhlLCJBRERfVVJJX1NBRkVfQVRUUiIpP1IoQyhldCksZS5BRERfVVJJX1NBRkVfQVRUUixmdCk6ZXQsWmU9XyhlLCJBRERfREFUQV9VUklfVEFHUyIpP1IoQyhKZSksZS5BRERfREFUQV9VUklfVEFHUyxmdCk6SmUsS2U9XyhlLCJGT1JCSURfQ09OVEVOVFMiKT9SKHt9LGUuRk9SQklEX0NPTlRFTlRTLGZ0KTpWZSxPZT1fKGUsIkZPUkJJRF9UQUdTIik/Uih7fSxlLkZPUkJJRF9UQUdTLGZ0KTpDKHt9KSx2ZT1fKGUsIkZPUkJJRF9BVFRSIik/Uih7fSxlLkZPUkJJRF9BVFRSLGZ0KTpDKHt9KSwkZT0hIV8oZSwiVVNFX1BST0ZJTEVTIikmJmUuVVNFX1BST0ZJTEVTLExlPSExIT09ZS5BTExPV19BUklBX0FUVFIsa2U9ITEhPT1lLkFMTE9XX0RBVEFfQVRUUixJZT1lLkFMTE9XX1VOS05PV05fUFJPVE9DT0xTfHwhMSxNZT0hMSE9PWUuQUxMT1dfU0VMRl9DTE9TRV9JTl9BVFRSLFVlPWUuU0FGRV9GT1JfVEVNUExBVEVTfHwhMSx6ZT0hMSE9PWUuU0FGRV9GT1JfWE1MLFBlPWUuV0hPTEVfRE9DVU1FTlR8fCExLEJlPWUuUkVUVVJOX0RPTXx8ITEsR2U9ZS5SRVRVUk5fRE9NX0ZSQUdNRU5UfHwhMSxXZT1lLlJFVFVSTl9UUlVTVEVEX1RZUEV8fCExLEhlPWUuRk9SQ0VfQk9EWXx8ITEsWWU9ITEhPT1lLlNBTklUSVpFX0RPTSxqZT1lLlNBTklUSVpFX05BTUVEX1BST1BTfHwhMSxYZT0hMSE9PWUuS0VFUF9DT05URU5ULHFlPWUuSU5fUExBQ0V8fCExLFNlPWUuQUxMT1dFRF9VUklfUkVHRVhQfHxYLHJ0PWUuTkFNRVNQQUNFfHxvdCxjdD1lLk1BVEhNTF9URVhUX0lOVEVHUkFUSU9OX1BPSU5UU3x8Y3Qsc3Q9ZS5IVE1MX0lOVEVHUkFUSU9OX1BPSU5UU3x8c3QsQ2U9ZS5DVVNUT01fRUxFTUVOVF9IQU5ETElOR3x8e30sZS5DMCIsMToiIzE5MTAyOCIsMjoiIzQ2YWY0NSIsMzoiI2ExZDY4NSIsNDoiIzQ1M2U3OCIsNToiIzc2NjRmZSIsNjoiIzgzMzEyOSIsNzoiIzllYzJlOCIsODoiI2RjNTM0YiIsOToiI2UxOGQ3OSIsQToiI2Q2Yjk3YiIsQjoiI2U5ZDhhMSIsQzoiIzIxNmM0YiIsRDoiI2QzNjVjOCIsRToiI2FmYWFiOSIsRjoiI2ZmZiJ9fSw1Nzc2MzoodCxlLGkpPT57dC5leHBvcnRzPXtBUk5FMTY6aSg1MjkwKSxDNjQ6aSgyMzgxNiksQ0dBOmkoOTg2NiksSk1QOmkoNzc1NTIpLE1TWDppKDkyMjU5KX19LDQ2NzI4Oih0LGUsaSk9Pnt2YXIgcz1pKDgzNDE5KSxuPWkoMzYzMTYpLHI9aSg4MDAyMSksbz1pKDI2MDk5KSxhPW5ldyBzKHtFeHRlbmRzOnIsaW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSxzKXtyLmNhbGwodGhpcywiQ3ViaWNCZXppZXJDdXJ2ZSIpLEFycmF5LmlzQXJyYXkodCkmJihzPW5ldyBvKHRbNl0sdFs3XSksaT1uZXcgbyh0WzRdLHRbNV0pLGU9bmV3IG8odFsyXSx0WzNdKSx0PW5ldyBvKHRbMF0sdFsxXSkpLHRoaXMucDA9dCx0aGlzLnAxPWUsdGhpcy5wMj1pLHRoaXMucDM9c30sZ2V0U3RhcnRQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IG8pLHQuY29weSh0aGlzLnAwKX0sZ2V0UmVzb2x1dGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdH0sZ2V0UG9pbnQ6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1uZXcgbyk7dmFyIGk9dGhpcy5wMCxzPXRoaXMucDEscj10aGlzLnAyLGE9dGhpcy5wMztyZXR1cm4gZS5zZXQobih0LGkueCxzLngsci54LGEueCksbih0LGkueSxzLnksci55LGEueSkpfSxkcmF3OmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MzIpO3ZhciBpPXRoaXMuZ2V0UG9pbnRzKGUpO3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy5wMC54LHRoaXMucDAueSk7Zm9yKHZhciBzPTE7czxpLmxlbmd0aDtzKyspdC5saW5lVG8oaVtzXS54LGlbc10ueSk7cmV0dXJuIHQuc3Ryb2tlUGF0aCgpLHR9LHRvSlNPTjpmdW5jdGlvbigpe3JldHVybnt0eXBlOnRoaXMudHlwZSxwb2ludHM6W3RoaXMucDAueCx0aGlzLnAwLnksdGhpcy5wMS54LHRoaXMucDEueSx0aGlzLnAyLngsdGhpcy5wMi55LHRoaXMucDMueCx0aGlzLnAzLnldfX19KTthLmZyb21KU09OPWZ1bmN0aW9uKHQpe3ZhciBlPXQucG9pbnRzLGk9bmV3IG8oZVswXSxlWzFdKSxzPW5ldyBvKGVbMl0sZVszXSksbj1uZXcgbyhlWzRdLGVbNV0pLHI9bmV3IG8oZVs2XSxlWzddKTtyZXR1cm4gbmV3IGEoaSxzLG4scil9LHQuZXhwb3J0cz1hfSw4MDAyMToodCxlLGkpPT57dmFyIHM9aSg4MzQxOSksbj1pKDE5MjE3KSxyPWkoODc4NDEpLG89aSgyNjA5OSksYT1uZXcgcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLnR5cGU9dCx0aGlzLmRlZmF1bHREaXZpc2lvbnM9NSx0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz0xMDAsdGhpcy5jYWNoZUFyY0xlbmd0aHM9W10sdGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmFjdGl2ZT0hMCx0aGlzLl90bXBWZWMyQT1uZXcgbyx0aGlzLl90bXBWZWMyQj1uZXcgb30sZHJhdzpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0zMiksdC5zdHJva2VQb2ludHModGhpcy5nZXRQb2ludHMoZSkpfSxnZXRCb3VuZHM6ZnVuY3Rpb24odCxlKXt0fHwodD1uZXcgciksdm9pZCBzLmFuaW1zLmhhcyh0KX0sY3JlYXRlRnJvbUFzZXByaXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1bXSxuPXRoaXMuZ2FtZS5jYWNoZS5qc29uLmdldCh0KTtpZighbilyZXR1cm4gY29uc29sZS53YXJuKCJObyBBc2Vwcml0ZSBkYXRhIGZvdW5kIGZvcjogIit0KSxzO3ZhciByPXRoaXMsbz11KG4sIm1ldGEiLG51bGwpLGE9dShuLCJmcmFtZXMiLG51bGwpO28mJmEmJnUobywiZnJhbWVUYWdzIixbXSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIG89W10saD1sKG4sIm5hbWUiLG51bGwpLHU9bChuLCJmcm9tIiwwKSxkPWwobiwidG8iLDApLGY9bChuLCJkaXJlY3Rpb24iLCJmb3J3YXJkIik7aWYoaCYmKCFlfHxlJiZlLmluZGV4T2YoaCk+LTEpKXtmb3IodmFyIHA9MCx2PXU7djw9ZDt2Kyspe3ZhciBnPXYudG9TdHJpbmcoKSxtPWFbZ107aWYobSl7dmFyIHk9bChtLCJkdXJhdGlvbiIsYy5NQVhfU0FGRV9JTlRFR0VSKTtvLnB1c2goe2tleTp0LGZyYW1lOmcsZHVyYXRpb246eX0pLHArPXl9fSJyZXZlcnNlIj09PWYmJihvPW8ucmV2ZXJzZSgpKTt2YXIgeCxUPXtrZXk6aCxmcmFtZXM6byxkdXJhdGlvbjpwLHlveW86InBpbmdwb25nIj09PWZ9O2k/aS5hbmltcyYmKHg9aS5hbmltcy5jcmVhdGUoVCkpOng9ci5jcmVhdGUoVCkseCYmcy5wdXNoKHgpfX0pKTtyZXR1cm4gc30sY3JlYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LGk9ITE7cmV0dXJuIGUmJigoaT10aGlzLmdldChlKSk/Y29uc29sZS53YXJuKCJBbmltYXRpb25NYW5hZ2VyIGtleSBhbHJlYWR5IGV4aXN0czogIitlKTooaT1uZXcgcyh0aGlzLGUsdCksdGhpcy5hbmltcy5zZXQoZSxpKSx0aGlzLmVtaXQoYS5BRERfQU5JTUFUSU9OLGUsaSkpKSxpfSxmcm9tSlNPTjpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSxlJiZ0aGlzLmFuaW1zLmNsZWFyKCksInN0cmluZyI9PXR5cGVvZiB0JiYodD1KU09OLnBhcnNlKHQpKTt2YXIgaT1bXTtpZih0Lmhhc093blByb3BlcnR5KCJhbmltcyIpJiZBcnJheS5pc0FycmF5KHQuYW5pbXMpKXtmb3IodmFyIHM9MDtzPHQuYW5pbXMubGVuZ3RoO3MrKylpLnB1c2godGhpcy5jcmVhdGUodC5hbmltc1tzXSkpO3QuaGFzT3duUHJvcGVydHkoImdsb2JhbFRpbWVTY2FsZSIpJiYodGhpcy5nbG9iYWxUaW1lU2NhbGU9dC5nbG9iYWxUaW1lU2NhbGUpfWVsc2UgdC5oYXNPd25Qcm9wZXJ0eSgia2V5IikmJiJmcmFtZSI9PT10LnR5cGUmJmkucHVzaCh0aGlzLmNyZWF0ZSh0KSk7cmV0dXJuIGl9LGdlbmVyYXRlRnJhbWVOYW1lczpmdW5jdGlvbih0LGUpe3ZhciBpPXUoZSwicHJlZml4IiwiIikscz11KGUsInN0YXJ0IiwwKSxuPXUoZSwiZW5kIiwwKSxyPXUoZSwic3VmZml4IiwiIiksbz11KGUsInplcm9QYWQiLDApLGE9dShlLCJvdXRwdXRBcnJheSIsW10pLGg9dShlLCJmcmFtZXMiLCExKTtpZighdGhpcy50ZXh0dXJlTWFuYWdlci5leGlzdHModCkpcmV0dXJuIGNvbnNvbGUud2FybignVGV4dHVyZSAiJXMiIG5vdCBmb3VuZCcsdCksYTt2YXIgbCxjPXRoaXMudGV4dHVyZU1hbmFnZXIuZ2V0KHQpO2lmKCFjKXJldHVybiBhO2lmKGUpZm9yKGh8fChoPWQocyxuKSksbD0wO2w8aC5sZW5ndGg7bCsrKXt2YXIgcD1pK2YoaFtsXSxvLCIwIiwxKStyO2MuaGFzKHApP2EucHVzaCh7a2V5OnQsZnJhbWU6cH0pOmNvbnNvIisiPT09cykmJnQoYEEgcmVwZWF0YWJsZSBwYXJhbSAoJHtsfSkgbXVzdCBiZSBhbG9uZSBpbiBpdHMgc2VnbWVudC4gZWc6ICcvOmlkcysuYCksYS5wdXNoKHt0eXBlOjEsdmFsdWU6bCxyZWdleHA6dSxyZXBlYXRhYmxlOiIqIj09PXN8fCIrIj09PXMsb3B0aW9uYWw6IioiPT09c3x8Ij8iPT09c30pKTp0KCJJbnZhbGlkIHN0YXRlIHRvIGNvbnN1bWUgYnVmZmVyIiksbD0iIil9ZnVuY3Rpb24gcCgpe2wrPXN9Zm9yKDtpPGUubGVuZ3RoOylpZihzPWVbaSsrXSwiXFwiIT09c3x8Mj09PW4pc3dpdGNoKG4pe2Nhc2UgMDoiLyI9PT1zPyhsJiZmKCksYygpKToiOiI9PT1zPyhmKCksbj0xKTpwKCk7YnJlYWs7Y2FzZSA0OnAoKSxuPXI7YnJlYWs7Y2FzZSAxOiIoIj09PXM/bj0yOkkudGVzdChzKT9wKCk6KGYoKSxuPTAsIioiIT09cyYmIj8iIT09cyYmIisiIT09cyYmaS0tKTticmVhaztjYXNlIDI6IikiPT09cz8iXFwiPT11W3UubGVuZ3RoLTFdP3U9dS5zbGljZSgwLC0xKStzOm49Mzp1Kz1zO2JyZWFrO2Nhc2UgMzpmKCksbj0wLCIqIiE9PXMmJiI/IiE9PXMmJiIrIiE9PXMmJmktLSx1PSIiO2JyZWFrO2RlZmF1bHQ6dCgiVW5rbm93biBzdGF0ZSIpfWVsc2Ugcj1uLG49NDtyZXR1cm4gMj09PW4mJnQoYFVuZmluaXNoZWQgY3VzdG9tIFJlZ0V4cCBmb3IgcGFyYW0gIiR7bH0iYCksZigpLGMoKSxvfShlLnBhdGgpLG4pLGE9byhyLHtyZWNvcmQ6ZSxwYXJlbnQ6dCxjaGlsZHJlbjpbXSxhbGlhczpbXX0pO3JldHVybiB0JiYhYS5yZWNvcmQuYWxpYXNPZj09IXQucmVjb3JkLmFsaWFzT2YmJnQuY2hpbGRyZW4ucHVzaChhKSxhfWZ1bmN0aW9uIFUoZSx0KXtjb25zdCBuPVtdLHI9bmV3IE1hcDtmdW5jdGlvbiBhKGUsbixyKXtjb25zdCBsPSFyLHU9ZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoLHJlZGlyZWN0OmUucmVkaXJlY3QsbmFtZTplLm5hbWUsbWV0YTplLm1ldGF8fHt9LGFsaWFzT2Y6dm9pZCAwLGJlZm9yZUVudGVyOmUuYmVmb3JlRW50ZXIscHJvcHM6SChlKSxjaGlsZHJlbjplLmNoaWxkcmVufHxbXSxpbnN0YW5jZXM6e30sbGVhdmVHdWFyZHM6bmV3IFNldCx1cGRhdGVHdWFyZHM6bmV3IFNldCxlbnRlckNhbGxiYWNrczp7fSxjb21wb25lbnRzOiJjb21wb25lbnRzImluIGU/ZS5jb21wb25lbnRzfHxudWxsOmUuY29tcG9uZW50JiZ7ZGVmYXVsdDplLmNvbXBvbmVudH19fShlKTt1LmFsaWFzT2Y9ciYmci5yZWNvcmQ7Y29uc3QgZj1RKHQsZSkscD1bdV07aWYoImFsaWFzImluIGUpe2NvbnN0IHQ9InN0cmluZyI9PXR5cGVvZiBlLmFsaWFzP1tlLmFsaWFzXTplLmFsaWFzO2Zvcihjb25zdCBlIG9mIHQpcC5wdXNoKG8oe30sdSx7Y29tcG9uZW50czpyP3IucmVjb3JkLmNvbXBvbmVudHM6dS5jb21wb25lbnRzLHBhdGg6ZSxhbGlhc09mOnI/ci5yZWNvcmQ6dX0pKX1sZXQgaCxkO2Zvcihjb25zdCB0IG9mIHApe2NvbnN0e3BhdGg6b309dDtpZihuJiYiLyIhPT1vWzBdKXtjb25zdCBlPW4ucmVjb3JkLnBhdGg7dC5wYXRoPW4ucmVjb3JkLnBhdGgrKG8mJigiLyI9PT1lW2UubGVuZ3RoLTFdPyIiOiIvIikrbyl9aWYoaD1LKHQsbixmKSxyP3IuYWxpYXMucHVzaChoKTooZD1kfHxoLGQhPT1oJiZkLmFsaWFzLnB1c2goaCksbCYmZS5uYW1lJiYhTihoKSYmcyhlLm5hbWUpKSx1LmNoaWxkcmVuKXtjb25zdCBlPXUudXJuIG47bGV0IHM9VyhuKTtpZighdCYmcyYmdnQobG4saSkpcmV0dXJuIFJlZmxlY3QuZ2V0KGxuLGksbyk7bGV0IGE9UmVmbGVjdC5nZXQobixpLG8pO3JldHVybihxdChpKT94bi5oYXMoaSk6a2koaSkpfHwodHx8ayhuLCJnZXQiLGkpLGUpP2E6TGUoYSk/IXN8fCFVdChpKT9hLnZhbHVlOmE6U3QoYSk/dD9TbihhKTp0ZShhKTphfX12YXIgJGk9TGkoKTtmdW5jdGlvbiBMaSh0PSExKXtyZXR1cm4gZnVuY3Rpb24ocixuLGksbyl7bGV0IHM9cltuXTtpZighdCYmKGk9ZyhpKSxzPWcocyksIVcocikmJkxlKHMpJiYhTGUoaSkpKXJldHVybiBzLnZhbHVlPWksITA7bGV0IGE9VyhyKSYmVXQobik/TnVtYmVyKG4pPHIubGVuZ3RoOnZ0KHIsbiksYz1SZWZsZWN0LnNldChyLG4saSxvKTtyZXR1cm4gcj09PWcobykmJihhP1BlKGkscykmJkoociwic2V0IixuLGkscyk6SihyLCJhZGQiLG4saSkpLGN9fWZ1bmN0aW9uIGppKHQsZSl7bGV0IHI9dnQodCxlKSxuPXRbZV0saT1SZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHQsZSk7cmV0dXJuIGkmJnImJkoodCwiZGVsZXRlIixlLHZvaWQgMCxuKSxpfWZ1bmN0aW9uIEZpKHQsZSl7bGV0IHI9UmVmbGVjdC5oYXModCxlKTtyZXR1cm4oIXF0KGUpfHwheG4uaGFzKGUpKSYmayh0LCJoYXMiLGUpLHJ9ZnVuY3Rpb24gQmkodCl7cmV0dXJuIGsodCwiaXRlcmF0ZSIsVyh0KT8ibGVuZ3RoIjpydCksUmVmbGVjdC5vd25LZXlzKHQpfXZhciB6aT17Z2V0OkRpLHNldDokaSxkZWxldGVQcm9wZXJ0eTpqaSxoYXM6Rmksb3duS2V5czpCaX0sSGk9e2dldDpQaSxzZXQodCxlKXtyZXR1cm4gY29uc29sZS53YXJuKGBTZXQgb3BlcmF0aW9uIG9uIGtleSAiJHtTdHJpbmcoZSl9IiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLHQpLCEwfSxkZWxldGVQcm9wZXJ0eSh0LGUpe3JldHVybiBjb25zb2xlLndhcm4oYERlbGV0ZSBvcGVyYXRpb24gb24ga2V5ICIke1N0cmluZyhlKX0iIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsdCksITB9fTt2YXIgRmU9dD0+U3QodCk/dGUodCk6dCxCZT10PT5TdCh0KT9Tbih0KTp0LHplPXQ9PnQsUXQ9dD0+UmVmbGVjdC5nZXRQcm90b3R5cGVPZih0KTtmdW5jdGlvbiBHdCh0LGUscj0hMSxuPSExKXt0PXQuX192X3JhdztsZXQgaT1nKHQpLG89ZyhlKTtlIT09byYmIXImJmsoaSwiZ2V0IixlKSwhciYmayhpLCJnZXQiLG8pO2xldHtoYXM6c309UXQoaSksYT1uP3plOnI/QmU6RmU7aWYocy5jYWxsKGksZSkpcmV0dXJuIGEodC5nZXQoZSkpO2lmKHMuY2FsbChpLG8pKXJldHVybiBhKHQuZ2V0KG8pKTt0IT09aSYmdC5nZXQoZSl9ZnVuY3Rpb24gSnQodCxlPSExKXtsZXQgcj10aGlzLl9fdl9yYXcsbj1nKHIpLGk9Zyh0KTtyZXR1cm4gdCE9PWkmJiFlJiZrKG4sImhhcyIsdCksIWUmJmsobiwiaGFzIixpKSx0PT09aT9yLmhhcyh0KTpyLmhhcyh0KXx8ci5oYXMoaSl9ZnVuY3Rpb24gWXQodCxlPSExKXtyZXR1cm4gdD10Ll9fdl9yYXcsIWUmJmsoZyh0KSwiaXRlcmF0ZSIscnQpLFJlZmxlY3QuZ2V0KHQsInNpemUiLHQpfWZ1bmN0aW9uIHVuKHQpe3Q9Zyh0KTtsZXQgZT1nKHRoaXMpO3JldHVybiBRdChlKS5oYXMuY2FsbChlLHQpfHwoZS5hZGQodCksSihlLCJhZGQiLHQsdCkpLHRoaXN9ZnVuY3Rpb24gZm4odCxlKXtlPWcoZSk7bGV0IHI9Zyh0aGlzbHVtbkdhcDogWydjb2x1bW5HYXAnXSwKICBncmlkR2FwOiBbJ2NvbHVtbkdhcCcsICdyb3dHYXAnXSwKICBncmlkUm93OiBbJ2dyaWRSb3dFbmQnLCAnZ3JpZFJvd1N0YXJ0J10sCiAgZ3JpZFJvd0dhcDogWydyb3dHYXAnXSwKICBncmlkVGVtcGxhdGU6IFsnZ3JpZFRlbXBsYXRlQXJlYXMnLCAnZ3JpZFRlbXBsYXRlQ29sdW1ucycsICdncmlkVGVtcGxhdGVSb3dzJ10sCiAgbGlzdFN0eWxlOiBbJ2xpc3RTdHlsZUltYWdlJywgJ2xpc3RTdHlsZVBvc2l0aW9uJywgJ2xpc3RTdHlsZVR5cGUnXSwKICBtYXJnaW46IFsnbWFyZ2luQm90dG9tJywgJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnLCAnbWFyZ2luVG9wJ10sCiAgbWFya2VyOiBbJ21hcmtlckVuZCcsICdtYXJrZXJNaWQnLCAnbWFya2VyU3RhcnQnXSwKICBtYXNrOiBbJ21hc2tDbGlwJywgJ21hc2tDb21wb3NpdGUnLCAnbWFza0ltYWdlJywgJ21hc2tNb2RlJywgJ21hc2tPcmlnaW4nLCAnbWFza1Bvc2l0aW9uWCcsICdtYXNrUG9zaXRpb25ZJywgJ21hc2tSZXBlYXQnLCAnbWFza1NpemUnXSwKICBtYXNrUG9zaXRpb246IFsnbWFza1Bvc2l0aW9uWCcsICdtYXNrUG9zaXRpb25ZJ10sCiAgb3V0bGluZTogWydvdXRsaW5lQ29sb3InLCAnb3V0bGluZVN0eWxlJywgJ291dGxpbmVXaWR0aCddLAogIG92ZXJmbG93OiBbJ292ZXJmbG93WCcsICdvdmVyZmxvd1knXSwKICBwYWRkaW5nOiBbJ3BhZGRpbmdCb3R0b20nLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1JpZ2h0JywgJ3BhZGRpbmdUb3AnXSwKICBwbGFjZUNvbnRlbnQ6IFsnYWxpZ25Db250ZW50JywgJ2p1c3RpZnlDb250ZW50J10sCiAgcGxhY2VJdGVtczogWydhbGlnbkl0ZW1zJywgJ2p1c3RpZnlJdGVtcyddLAogIHBsYWNlU2VsZjogWydhbGlnblNlbGYnLCAnanVzdGlmeVNlbGYnXSwKICB0ZXh0RGVjb3JhdGlvbjogWyd0ZXh0RGVjb3JhdGlvbkNvbG9yJywgJ3RleHREZWNvcmF0aW9uTGluZScsICd0ZXh0RGVjb3JhdGlvblN0eWxlJ10sCiAgdGV4dEVtcGhhc2lzOiBbJ3RleHRFbXBoYXNpc0NvbG9yJywgJ3RleHRFbXBoYXNpc1N0eWxlJ10sCiAgdHJhbnNpdGlvbjogWyd0cmFuc2l0aW9uRGVsYXknLCAndHJhbnNpdGlvbkR1cmF0aW9uJywgJ3RyYW5zaXRpb25Qcm9wZXJ0eScsICd0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nXSwKICB3b3JkV3JhcDogWydvdmVyZmxvd1dyYXAnXQp9OwoKLyoqCiAqIENTUyBwcm9wZXJ0aWVzIHdoaWNoIGFjY2VwdCBudW1iZXJzIGJ1dCBhcmUgbm90IGluIHVuaXRzIG9mICJweCIuCiAqLwp2YXIgaXNVbml0bGVzc051bWJlciA9IHsKICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSwKICBhc3BlY3RSYXRpbzogdHJ1ZSwKICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSwKICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLAogIGJvcmRlckltYWdlV2lkdGg6IHRydWUsCiAgYm94RmxleDogdHJ1ZSwKICBib3hGbGV4R3JvdXA6IHRydWUsCiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLAogIGNvbHVtbkNvdW50OiB0cnVlLAogIGNvbHVtbnM6IHRydWUsCiAgZmxleDogdHJ1ZSwKICBmbGV4R3JvdzogdHJ1ZSwKICBmbGV4UG9zaXRpdmU6IHRydWUsCiAgZmxleFNocmluazogdHJ1ZSwKICBmbGV4TmVnYXRpdmU6IHRydWUsCiAgZmxleE9yZGVyOiB0cnVlLAogIGdyaWRBcmVhOiB0YWxzZSk7Cn0pOwp2YXIgQ0FNRUxJWkUgPSAvW1wtXDpdKFthLXpdKS9nOwoKdmFyIGNhcGl0YWxpemUgPSBmdW5jdGlvbiAodG9rZW4pIHsKICByZXR1cm4gdG9rZW5bMV0udG9VcHBlckNhc2UoKTsKfTsgLy8gVGhpcyBpcyBhIGxpc3Qgb2YgYWxsIFNWRyBhdHRyaWJ1dGVzIHRoYXQgbmVlZCBzcGVjaWFsIGNhc2luZywgbmFtZXNwYWNpbmcsCi8vIG9yIGJvb2xlYW4gdmFsdWUgYXNzaWdubWVudC4gUmVndWxhciBhdHRyaWJ1dGVzIHRoYXQganVzdCBhY2NlcHQgc3RyaW5ncwovLyBhbmQgaGF2ZSB0aGUgc2FtZSBuYW1lcyBhcmUgb21pdHRlZCwganVzdCBsaWtlIGluIHRoZSBIVE1MIGF0dHJpYnV0ZSBmaWx0ZXIuCi8vIFNvbWUgb2YgdGhlc2UgYXR0cmlidXRlcyBjYW4gYmUgaGFyZCB0byBmaW5kLiBUaGlzIGxpc3Qgd2FzIGNyZWF0ZWQgYnkKLy8gc2NyYXBpbmcgdGhlIE1ETiBkb2N1bWVudGF0aW9uLgoKClsnYWNjZW50LWhlaWdodCcsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYXJhYmljLWZvcm0nLCAnYmFzZWxpbmUtc2hpZnQnLCAnY2FwLWhlaWdodCcsICdjbGlwLXBhdGgnLCAnY2xpcC1ydWxlJywgJ2NvbG9yLWludGVycG9sYXRpb24nLCAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJywgJ2NvbG9yLXByb2ZpbGUnLCAnY29sb3ItcmVuZGVyaW5nJywgJ2RvbWluYW50LWJhc2VsaW5lJywgJ2VuYWJsZS1iYWNrZ3JvdW5kJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmxvb2QtY29sb3InLCAnZmxvb2Qtb3BhY2l0eScsICdmb250LWZhbWlseScsICdmb250LXNpemUnLCAnZm9udC1zaXplLWFkanVzdCcsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnZ2x5cGgtbmFtZScsICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJywgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJywgJ2hvcml6LWFkdi14JywgJ2hvcml6LW9yaWdpbi14JywgJ2ltYWdlLXJlbmRlcmluZycsICdsZXR0ZXItc3BhY2luZycsICdsaWdodGluZy1jb2xvcicsICdtYXJrZXItZW5kJywgJ21hcmtlci1taWQnLCAnbWFya2VyLXN0YXJ0JywgJ292ZXJsaW5lLXBvc2l0aW9uJywgJ292ZXJsaW5lLXRoaWNrbmVzcycsICdwYWludC1vcmRlcicsICdwYW5vc2UtMScsICdwb2ludGVyLWV2ZW50cycsICdyZW5kZXJpbmctaW50ZW50JywgJ3NoYXBlLXJlbmRlcmluZycsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eScsICdzdHJpa2V0aHJvdWdoLXBvc2l0aW9uJywgJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZS13aWR0aCcsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndW5kZXJsaW5lLXBvc2l0aW9uJywgJ3VuZGVybGluZS10aGlja25lc3MnLCAndW5pY29kZS1iaWRpJywgJ3VuaWNvZGUtcmFuZ2UnLCAndW5pdHMtcGVyLWVtJywgJ3YtYWxwaGFiZXRpYycsICd2LWhhbmdpbmcnLCAndi1pZGVvZ3JhcGhpYycsICd2LW1hdGhlbWF0aWNhbCcsICd2ZWN0b3ItZWZmZWN0JywgJ3ZlcnQtYWRpZ24oe30sZS52YXJzLGUuc3R5bGUpfSxbbl0pfSh0LG4pKSxpfWZ1bmN0aW9uIExsKHQsZSl7Y29uc3Qgbj17fSxpPWtsKHQsZSk7cmV0dXJuIHQuZHJhZyYmITEhPT10LmRyYWdMaXN0ZW5lciYmKG4uZHJhZ2dhYmxlPSExLGkudXNlclNlbGVjdD1pLldlYmtpdFVzZXJTZWxlY3Q9aS5XZWJraXRUb3VjaENhbGxvdXQ9Im5vbmUiLGkudG91Y2hBY3Rpb249ITA9PT10LmRyYWc/Im5vbmUiOiJwYW4tIisoIngiPT09dC5kcmFnPyJ5IjoieCIpKSx2b2lkIDA9PT10LnRhYkluZGV4JiYodC5vblRhcHx8dC5vblRhcFN0YXJ0fHx0LndoaWxlVGFwKSYmKG4udGFiSW5kZXg9MCksbi5zdHlsZT1pLG59ZnVuY3Rpb24gQmwodCxuLGkscyl7Y29uc3Qgbz1lLnVzZU1lbW8oKCk9Pntjb25zdCBlPXtzdHlsZTp7fSx0cmFuc2Zvcm06e30sdHJhbnNmb3JtT3JpZ2luOnt9LHZhcnM6e30sYXR0cnM6e319O3JldHVybiBHcyhlLG4scXMocyksdC50cmFuc2Zvcm1UZW1wbGF0ZSksey4uLmUuYXR0cnMsc3R5bGU6ey4uLmUuc3R5bGV9fX0sW25dKTtpZih0LnN0eWxlKXtjb25zdCBlPXt9O0RsKGUsdC5zdHlsZSx0KSxvLnN0eWxlPXsuLi5lLC4uLm8uc3R5bGV9fXJldHVybiBvfWZ1bmN0aW9uIEZsKHQ9ITEpe3JldHVybihuLGkscyx7bGF0ZXN0VmFsdWVzOm99LHIpPT57Y29uc3QgYT0oQWwobik/Qmw6TGwpKGksbyxyLG4pLGw9emkoaSwic3RyaW5nIj09dHlwZW9mIG4sdCksdT1uIT09ZS5GcmFnbWVudD97Li4ubCwuLi5hLHJlZjpzfTp7fSx7Y2hpbGRyZW46Y309aSxoPWUudXNlTWVtbygoKT0+TXQoYyk/Yy5nZXQoKTpjLFtjXSk7cmV0dXJuIGUuY3JlYXRlRWxlbWVudChuLHsuLi51LGNoaWxkcmVuOmh9KX19ZnVuY3Rpb24gamwodCxlKXtyZXR1cm4gZnVuY3Rpb24obix7Zm9yd2FyZE1vdGlvblByb3BzOml9PXtmb3J3YXJkTW90aW9uUHJvcHM6ITF9KXtyZXR1cm4gVGwoey4uLkFsKG4pP1ZsOlJsLHByZWxvYWRlZEZlYXR1cmVzOnQsdXNlUmVuZGVyOkZsKGkpLGNyZWF0ZVZpc3VhbEVsZW1lbnQ6ZSxDb21wb25lbnQ6bn0pfX1jb25zdCBPbD0odCxuKT0+QWwodCk/bmV3IHNvKG4pOm5ldyB3byhuLHthbGxvd1Byb2plY3Rpb246dCE9PWUuRnJhZ21lbnR9KSxJbD1PYShqbCh7Li4uVmksLi4uZmwsLi4ucmwsLi4uZ2x9LE9sKSk7ZnVuY3Rpb24gVWwoe2NoaWxkcmVuOnQsYXM6bj0idWwiLGF4aXM6aT0ieSIsb25SZW9yZGVyOnMsdmFsdWVzOm8sLi4ucn0sYSl7Y29uc3QgbD1YaSgoKT0+SWxbbl0pLHU9W10sYz1lLnVzZVJlZighMSksaD17YXhpczppLHJlZ2lzdGVySXRlbToodCxlKT0+e2NvbnN0IG49dS5maW5kSW5kZXgoZT0+dD09PWUudmFsdWUpOy0xIT09bj91W25dLmxheW91dD1lW2ldOnUucHVzaCh7dmFsdWU6dCxsYXlvdXQ6ZVtpXX0pLHUuc29ydCh6bCl9LHVwZGF0ZU9yZGVyOih0LGUsbik9PntpZihjLmN1cnJlbnQpcmV0dXJuO2NvbnN0IGk9ZnVuY3Rpb24odCxlLG4saSl7aWYoIWkpcmV0dXJuIHQ7Y29uc3Qgcz10LmZpbmRJbmRleCh0PT50LnZhbHVlPT09ZSk7aWYoLTE9PT1zKXJldHVybiB0O2NvbnN0IG89aT4wPzE6LTEscj10W3Mrb107aWYoIXIpcmV0dXJuIHQ7Y29uc3QgYT10W3NdLGw9ci5sYXlvdXQsdT1hbihsLm1pbixsLm1heCwuNSk7cmV0dXJuIDE9PT1vJiZhLmxheW91dC5tYXgrbj51fHwtMT09PW8mbnN0IG89cy1uO28+PWUmJih1dChpKSx0KG8tZSkpfTtyZXR1cm4gbHQucmVhZChpLCEwKSwoKT0+dXQoaSl9Y29uc3QgcHI9KHQsZSk9Pk1hdGguYWJzKHQtZSk7ZnVuY3Rpb24gbXIodCxlKXtjb25zdCBuPXByKHQueCxlLngpLGk9cHIodC55LGUueSk7cmV0dXJuIE1hdGguc3FydChuKioyK2kqKjIpfWZ1bmN0aW9uIGZyKC4uLnQpe2NvbnN0IGU9IUFycmF5LmlzQXJyYXkodFswXSksbj1lPzA6LTEsaT10WzArbl0scz10WzErbl0sbz10WzIrbl0scj10WzMrbl0sYT1xbihzLG8se21peGVyOihsPW9bMF0sKHQ9PnQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5taXgpKGwpP2wubWl4OnZvaWQgMCksLi4ucn0pO3ZhciBsO3JldHVybiBlP2EoaSk6YX1jb25zdCBncj1sdCx5cj1ydC5yZWR1Y2UoKHQsZSk9Pih0W2VdPXQ9PnV0KHQpLHQpLHt9KSx7c2NoZWR1bGU6dnIsY2FuY2VsOnhyfT1hdChxdWV1ZU1pY3JvdGFzaywhMSksd3I9KHQsZSk9PnQuZGVwdGgtZS5kZXB0aDtjbGFzcyBQcntjb25zdHJ1Y3Rvcigpe3RoaXMuY2hpbGRyZW49W10sdGhpcy5pc0RpcnR5PSExfWFkZCh0KXt2dCh0aGlzLmNoaWxkcmVuLHQpLHRoaXMuaXNEaXJ0eT0hMH1yZW1vdmUodCl7eHQodGhpcy5jaGlsZHJlbix0KSx0aGlzLmlzRGlydHk9ITB9Zm9yRWFjaCh0KXt0aGlzLmlzRGlydHkmJnRoaXMuY2hpbGRyZW4uc29ydCh3ciksdGhpcy5pc0RpcnR5PSExLHRoaXMuY2hpbGRyZW4uZm9yRWFjaCh0KX19Y29uc3QgVHI9WyJUb3BMZWZ0IiwiVG9wUmlnaHQiLCJCb3R0b21MZWZ0IiwiQm90dG9tUmlnaHQiXSxTcj1Uci5sZW5ndGgsYnI9dD0+InN0cmluZyI9PXR5cGVvZiB0P3BhcnNlRmxvYXQodCk6dCxBcj10PT4ibnVtYmVyIj09dHlwZW9mIHR8fHJlLnRlc3QodCk7ZnVuY3Rpb24gRXIodCxlKXtyZXR1cm4gdm9pZCAwIT09dFtlXT90W2VdOnQuYm9yZGVyUmFkaXVzfWNvbnN0IE1yPVZyKDAsLjUsenQpLENyPVZyKC41LC45NSxiKTtmdW5jdGlvbiBWcih0LGUsbil7cmV0dXJuIGk9Pmk8dD8wOmk+ZT8xOm4oQyh0LGUsaSkpfWZ1bmN0aW9uIFJyKHQsZSl7dC5taW49ZS5taW4sdC5tYXg9ZS5tYXh9ZnVuY3Rpb24gRHIodCxlKXtScih0LngsZS54KSxScih0LnksZS55KX1mdW5jdGlvbiBrcih0LGUpe3QudHJhbnNsYXRlPWUudHJhbnNsYXRlLHQuc2NhbGU9ZS5zY2FsZSx0Lm9yaWdpblBvaW50PWUub3JpZ2luUG9pbnQsdC5vcmlnaW49ZS5vcmlnaW59ZnVuY3Rpb24gTHIodCxlLG4saSxzKXtyZXR1cm4gdD1obyh0LT1lLDEvbixpKSx2b2lkIDAhPT1zJiYodD1obyh0LDEvcyxpKSksdH1mdW5jdGlvbiBCcih0LGUsW24saSxzXSxvLHIpeyFmdW5jdGlvbih0LGU9MCxuPTEsaT0uNSxzLG89dCxyPXQpe2lmKG9lLnRlc3QoZSkpe2U9cGFyc2VGbG9hdChlKTtlPWFuKHIubWluLHIubWF4LGUvMTAwKS1yLm1pbn1pZigibnVtYmVyIiE9dHlwZW9mIGUpcmV0dXJuO2xldCBhPWFuKG8ubWluLG8ubWF4LGkpO3Q9PT1vJiYoYS09ZSksdC5taW49THIodC5taW4sZSxuLGEscyksdC5tYXg9THIodC5tYXgsZSxuLGEscyl9KHQsZVtuXSxlW2ldLGVbc10sZS5zY2FsZSxvLHIpfWNvbnN0IEZyPVsieCIsInNjYWxlWCIsIm9yaWdpblgiXSxqcj1bInkiLCJzY2FsZVkiLCJvcmlnaW5ZIl07ZnVuY3Rpb24gT3IodCxlLG4saSl7QnIodC54LGUsRnIsbj9uLng6dm9pcGFyZW50KXx8e30sbD1bXSx1PW5ldyBTZXQ7bGV0IGM9e30saD0xLzA7Zm9yKGxldCBlPTA7ZTxUaTtlKyspe2NvbnN0IGQ9UGlbZV0scD1uW2RdLG09dm9pZCAwIT09cltkXT9yW2RdOmFbZF0seD12KG0pLHc9ZD09PW8/cC5pc0FjdGl2ZTpudWxsOyExPT09dyYmKGg9ZSk7bGV0IFA9bT09PWFbZF0mJm0hPT1yW2RdJiZ4O2lmKFAmJmkmJnQubWFudWFsbHlBbmltYXRlT25Nb3VudCYmKFA9ITEpLHAucHJvdGVjdGVkS2V5cz17Li4uY30sIXAuaXNBY3RpdmUmJm51bGw9PT13fHwhbSYmIXAucHJldlByb3B8fGYobSl8fCJib29sZWFuIj09dHlwZW9mIG0pY29udGludWU7Y29uc3QgVD1iaShwLnByZXZQcm9wLG0pO2xldCBTPVR8fGQ9PT1vJiZwLmlzQWN0aXZlJiYhUCYmeHx8ZT5oJiZ4LGI9ITE7Y29uc3QgQT1BcnJheS5pc0FycmF5KG0pP206W21dO2xldCBFPUEucmVkdWNlKHMoZCkse30pOyExPT09dyYmKEU9e30pO2NvbnN0e3ByZXZSZXNvbHZlZFZhbHVlczpNPXt9fT1wLEM9ey4uLk0sLi4uRX0sVj1lPT57Uz0hMCx1LmhhcyhlKSYmKGI9ITAsdS5kZWxldGUoZSkpLHAubmVlZHNBbmltYXRpbmdbZV09ITA7Y29uc3Qgbj10LmdldFZhbHVlKGUpO24mJihuLmxpdmVTdHlsZT0hMSl9O2Zvcihjb25zdCB0IGluIEMpe2NvbnN0IGU9RVt0XSxuPU1bdF07aWYoYy5oYXNPd25Qcm9wZXJ0eSh0KSljb250aW51ZTtsZXQgaT0hMTtpPWcoZSkmJmcobik/IXkoZSxuKTplIT09bixpP251bGwhPWU/Vih0KTp1LmFkZCh0KTp2b2lkIDAhPT1lJiZ1Lmhhcyh0KT9WKHQpOnAucHJvdGVjdGVkS2V5c1t0XT0hMH1wLnByZXZQcm9wPW0scC5wcmV2UmVzb2x2ZWRWYWx1ZXM9RSxwLmlzQWN0aXZlJiYoYz17Li4uYywuLi5FfSksaSYmdC5ibG9ja0luaXRpYWxBbmltYXRpb24mJihTPSExKTtjb25zdCBSPSEoUCYmVCl8fGI7UyYmUiYmbC5wdXNoKC4uLkEubWFwKHQ9Pih7YW5pbWF0aW9uOnQsb3B0aW9uczp7dHlwZTpkfX0pKSl9aWYodS5zaXplKXtjb25zdCBlPXt9O3UuZm9yRWFjaChuPT57Y29uc3QgaT10LmdldEJhc2VUYXJnZXQobikscz10LmdldFZhbHVlKG4pO3MmJihzLmxpdmVTdHlsZT0hMCksZVtuXT1udWxsIT1pP2k6bnVsbH0pLGwucHVzaCh7YW5pbWF0aW9uOmV9KX1sZXQgZD1Cb29sZWFuKGwubGVuZ3RoKTtyZXR1cm4haXx8ITEhPT1yLmluaXRpYWwmJnIuaW5pdGlhbCE9PXIuYW5pbWF0ZXx8dC5tYW51YWxseUFuaW1hdGVPbk1vdW50fHwoZD0hMSksaT0hMSxkP2UobCk6UHJvbWlzZS5yZXNvbHZlKCl9cmV0dXJue2FuaW1hdGVDaGFuZ2VzOm8sc2V0QWN0aXZlOmZ1bmN0aW9uKGUsaSl7dmFyIHM7aWYobltlXS5pc0FjdGl2ZT09PWkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO251bGw9PT0ocz10LnZhcmlhbnRDaGlsZHJlbil8fHZvaWQgMD09PXN8fHMuZm9yRWFjaCh0PT57dmFyIG47cmV0dXJuIG51bGw9PT0obj10LmFuaW1hdGlvblN0YXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5zZXRBY3RpdmUoZSxpKX0pLG5bZV0uaXNBY3RpdmU9aTtjb25zdCByPW8oZSk7Zm9yKGNvbnN0IHQgaW4gbiluW3RdLnByb3RlY3RlZEtleXM9e307cmV0dXJuIHJ9LHNldEFuaW1hdGVGdW5jdGlvbjpmdW5jdGlvbihuKXtlPW4odCl9LGdldFN0YXRlOigpPT5uLHJlc2V0OigpPT57bj1FaSgpLGk9ITB9fX1mdW5jdGlvbiBiaSh0LGUpe3JuKGIsYSl7dGhpcy52YWx1ZT1iO3RoaXMuaW50ZXJ2YWw9YX19KCksYWY9T2JqZWN0LmZyZWV6ZSh7YXVkaXQ6a2IsYXVkaXRUaW1lOmljLGJ1ZmZlcjpqYyxidWZmZXJDb3VudDprYyxidWZmZXJUaW1lOmxjLGJ1ZmZlclRvZ2dsZTptYyxidWZmZXJXaGVuOm5jLGNhdGNoRXJyb3I6bGIsY29tYmluZUFsbDpKYSxjb21iaW5lTGF0ZXN0QWxsOkphLGNvbWJpbmVMYXRlc3Q6bmIsY29tYmluZUxhdGVzdFdpdGg6cWMsY29uY2F0OnNjLGNvbmNhdEFsbDpIYSxjb25jYXRNYXA6S2EsY29uY2F0TWFwVG86cmMsY29uY2F0V2l0aDp0Yyxjb25uZWN0OkxhLGNvdW50OnVjLGRlYm91bmNlOnZjLGRlYm91bmNlVGltZTp3YyxkZWZhdWx0SWZFbXB0eTp1YSxkZWxheTp4YyxkZWxheVdoZW46TWEsZGVtYXRlcmlhbGl6ZTp5YyxkaXN0aW5jdDp6YyxkaXN0aW5jdFVudGlsQ2hhbmdlZDpxYixkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZDpBYyxlbGVtZW50QXQ6QmMsCmVuZFdpdGg6Q2MsZXZlcnk6RGMsZXhoYXVzdDpPYSxleGhhdXN0QWxsOk9hLGV4aGF1c3RNYXA6TmEsZXhwYW5kOkVjLGZpbHRlcjpLLGZpbmFsaXplOkZjLGZpbmQ6R2MsZmluZEluZGV4OkljLGZpcnN0OkpjLGdyb3VwQnk6S2MsaWdub3JlRWxlbWVudHM6b2IsaXNFbXB0eTpMYyxsYXN0Ok1jLG1hcDpRLG1hcFRvOnBiLG1hdGVyaWFsaXplOk5jLG1heDpPYyxtZXJnZTpSYyxtZXJnZUFsbDpzYSxmbGF0TWFwOkgsbWVyZ2VNYXA6SCxtZXJnZU1hcFRvOlBjLG1lcmdlU2NhbjpRYyxtZXJnZVdpdGg6U2MsbWluOlRjLG11bHRpY2FzdDpRYSxvYnNlcnZlT246cWEsb25FcnJvclJlc3VtZU5leHQ6VWMscGFpcndpc2U6VmMscGFydGl0aW9uOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybltLKGIsYSkoYyksSyhnYyhiLGEpKShjKV19fSxwbHVjazpXYyxwdWJsaXNoOlhjLHB1Ymxpc2hCZWhhdmlvcjpZYyxwdWJsaXNoTGFzdDokYyxwdWJsaXNoUmVwbGF5OmFkLApyYWNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPVtdLGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWJbYV09YXJndW1lbnRzW2FdO3JldHVybiB0Yi5hcHBseSh2b2lkIDAseChbXSx3KFooYikpKSl9LHJhY2VXaXRoOnRiLHJlZHVjZTpmYSxyZXBlYXQ6YmQscmVwZWF0V2hlbjpjZCxyZXRyeTpkZCxyZXRyeVdoZW46ZWQscmVmQ291bnQ6WmEsc2FtcGxlOnViLHNhbXBsZVRpbWU6ZmQsc2NhbjpnZCxzZXF1ZW5jZUVxdWFsOmhkLHNoYXJlOnZiLHNoYXJlUmVwbGF5OmlkLHNpbmdsZTpqZCxza2lwOm1kLHNraXBMYXN0Om5kLHNraXBVbnRpbDpvZCxza2lwV2hpbGU6cGQsc3RhcnRXaXRoOnFkLHN1YnNjcmliZU9uOnJhLHN3aXRjaEFsbDpyZCxzd2l0Y2hNYXA6amEsc3dpdGNoTWFwVG86c2Qsc3dpdGNoU2Nhbjp0ZCx0YWtlOmdhLHRha2VMYXN0OnNiLHRha2VVbnRpbDp1ZCx0YWtlV2hpbGU6dmQsdGFwOndkLHRocm90dGxlOnhiLHRocm90dGxlVGltZTp4ZCx0aHJvd0lmRW1wdHk6dmEsCnRpbWVJbnRlcnZhbDp5ZCx0aW1lb3V0OmViLHRpbWVvdXRXaXRoOnpkLHRpbWVzdGFtcDpBZCx0b0FycmF5Om1iLHdpbmRvdzpCZCx3aW5kb3dDb3VudDpDZCx3aW5kb3dUaW1lOkRkLHdpbmRvd1RvZ2dsZTpFZCx3aW5kb3dXaGVuOkZkLHdpdGhMYXRlc3RGcm9tOkdkLHppcDpJZCx6aXBBbGw6SGQsemlwV2l0aDplbmd0aDtmKyspY1tmXT1hcmd1bWVudHNbZl07cmV0dXJuIEdhKGIsYSkuYXBwbHkodGhpcyxjKS5waXBlKHJhKGQpLHFhKGQpKX06ZnVuY3Rpb24oKXtmb3IodmFyIGM9dGhpcyxkPVtdLGg9MDtoPGFyZ3VtZW50cy5sZW5ndGg7aCsrKWRbaF09YXJndW1lbnRzW2hdO3ZhciBsPW5ldyBmYixrPSEwO3JldHVybiBuZXcgcihmdW5jdGlvbihlKXtlPWwuc3Vic2NyaWJlKGUpO2lmKGspe3ZhciBmPWs9ITEsaD0hMTthLmFwcGx5KGMseCh4KFtdLHcoZCkpLApbZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYVtjXT1hcmd1bWVudHNbY107aWYoYiYmKGM9YS5zaGlmdCgpLG51bGwhPWMpKXtsLmVycm9yKGMpO3JldHVybn1sLm5leHQoMTxhLmxlbmd0aD9hOmFbMF0pO2g9ITA7ZiYmbC5jb21wbGV0ZSgpfV0pKTtoJiZsLmNvbXBsZXRlKCk7Zj0hMH1yZXR1cm4gZX0pfX1mdW5jdGlvbiBZYihiKXtpZigxPT09Yi5sZW5ndGgpe3ZhciBhPWJbMF07aWYobWUoYSkpcmV0dXJue2FyZ3M6YSxrZXlzOm51bGx9O2lmKGEmJiJvYmplY3QiPT09dHlwZW9mIGEmJm5lKGEpPT09b2UpcmV0dXJuIGI9cGUoYSkse2FyZ3M6Yi5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIGFbY119KSxrZXlzOmJ9fXJldHVybnthcmdzOmIsa2V5czpudWxsfX1mdW5jdGlvbiBaYihiLGEpe3JldHVybiBiLnJlZHVjZShmdW5jdGlvbihjLGIsZSl7cmV0dXJuIGNbYl09YVtlXSxjfSx7fSl9ZnVuY3Rpb24gJGIoKXtmb3IodmFyIGI9W10sCmE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWJbYV09YXJndW1lbnRzW2FdO3ZhciBjPU8oYiksYT1vYShiKSxiPVliKGIpLGQ9Yi5hcmdzLGU9Yi5rZXlzO2lmKDA9PT1kLmxlbmd0aClyZXR1cm4gUChbXSxjKTtjPW5ldyByKGFjKGQsYyxlP2Z1bmN0aW9uKGEpe3JldHVybiBaYihlLGEpfTpFKSk7cmV0dXJuIGE/Yy5waXBlKFcoYSkpOmN9ZnVuY3Rpb24gYWMoYixhLGMpe3ZvaWQgMD09PWMmJihjPUUpO3JldHVybiBmdW5jdGlvbihkKXtiYyhhLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWIubGVuZ3RoLGY9QXJyYXkoZSksaD1lLGw9ZSxrPWZ1bmN0aW9uKGUpe2JjKGEsZnVuY3Rpb24oKXt2YXIgaz0hMTtQKGJbZV0sYSkuc3Vic2NyaWJlKG0oZCxmdW5jdGlvbihhKXtmW2VdPWE7a3x8KGs9ITAsbC0tKTtsfHxkLm5leHQoYyhmLnNsaWNlKCkpKX0sZnVuY3Rpb24oKXstLWh8fGQuY29tcGxldGUoKX0pKX0sZCl9LGc9MDtnPGU7ZysrKWsoZyl9LGQpfX1mdW5jdGlvbiBiYyhiLGEsYyl7Yj8KRyhjLGIsYSk6YSgpfWZ1bmN0aW9uIGdiKGIsYSxjLGQsZSxmLGgsbCl7dmFyIGs9W10sZz0wLHA9MCx2PSExLEI9ZnVuY3Rpb24oYSl7cmV0dXJuIGc8ZD9uKGEpOmsucHVzaChhKX0sbj1mdW5jdGlvbihiKXtmJiZhLm5leHQoYik7ZysrO3ZhciBsPSExO3EoYyhiLHArKykpLnN1YnNjcmliZShtKGEsZnVuY3Rpb24oYyl7bnVsbD09PWV8fHZvaWQgMD09PWU/dm9pZCAwOmUoYyk7Zj9CKGMpOmEubmV4dChjKX0sZnVuY3Rpb24oKXtsPSEwfSx2b2lkIDAsZnVuY3Rpb24oKXtpZihsKXRyeXtnLS07Zm9yKHZhciBjPWZ1bmN0aW9uKCl7dmFyIGM9ay5zaGlmdCgpO2g/RyhhLGgsZnVuY3Rpb24oKXtyZXR1cm4gbihjKX0pOm4oYyl9O2subGVuZ3RoJiZnPGQ7KWMoKTshdnx8ay5sZW5ndGh8fGd8fGEuY29TaWduYWwodm9pZCAwLHtlcXVhbHM6ITF9KTtvPW4sci50aGVuKCgoKT0+e2lmKHNoYXJlZENvbmZpZy5kb25lKXJldHVybiBpKCk7c2hhcmVkQ29uZmlnLmdhdGhlcihlKSxzZXRIeWRyYXRlQ29udGV4dCh0KSxpKCksc2V0SHlkcmF0ZUNvbnRleHQoKX0pLChlPT57cz1lLGkoKX0pKX19Y29uc3QgZj11c2VDb250ZXh0KFN1c3BlbnNlTGlzdENvbnRleHQpO2xldCBwO3JldHVybiBmJiYobj1mLnJlZ2lzdGVyKGwuaW5GYWxsYmFjaykpLG9uQ2xlYW51cCgoKCk9PnAmJnAoKSkpLGNyZWF0ZUNvbXBvbmVudChjLlByb3ZpZGVyLHt2YWx1ZTpsLGdldCBjaGlsZHJlbigpe3JldHVybiBjcmVhdGVNZW1vKCgoKT0+e2lmKHMpdGhyb3cgcztpZih0PXNoYXJlZENvbmZpZy5jb250ZXh0LG8pcmV0dXJuIG8oKSxvPXZvaWQgMDt0JiYiJCRmIj09PXImJnNldEh5ZHJhdGVDb250ZXh0KCk7Y29uc3QgaT1jcmVhdGVNZW1vKCgoKT0+ZS5jaGlsZHJlbikpO3JldHVybiBjcmVhdGVNZW1vKChvPT57Y29uc3Qgcz1sLmluRmFsbGJhY2soKSx7c2hvd0NvbnRlbnQ6YT0hMCxzaG93RmFsbGJhY2s6dT0hMH09bj9uKCk6e307cmV0dXJuKCFzfHxyJiYiJCRmIiE9PXIpJiZhPyhsLnJlc29sdmVkPSEwLHAmJnAoKSxwPXQ9cj12b2lkIDAscmVzdW1lRWZmZWN0cyhsLmVmZmVjdHMpLGkoKSk6dT9wP286Y3JlYXRlUm9vdCgobj0+KHA9bix0JiYoc2V0SHlkcmF0ZUNvbnRleHQoe2lkOnQuaWQrIkYiLGNvdW50OjB9KSx0PXZvaWQgMCksZS5mYWxsYmFjaykpLGQpOnZvaWQgMH0pKX0pKX19KX1jb25zdCBERVY9dm9pZCAwO2V4cG9ydHskREVWQ09NUCwkUFJPWFksJFRSQUNLLERFVixFcnJvckJvdW5kYXJ5LEZvcixJbmRleCxNYXRjaCxTaG93LFN1c3BlbnNlLFN1c3BlbnNlTGlzdCxTd2l0Y2gsYmF0Y2gsY2FuY2VsQ2FsbGJhY2ssY2F0Y2hFcnJvcixjaGlsZHJlbixjcmVhdGVDb21wb25lbnQsY3JlYXRlQ29tcHV0ZWQsY3JlYXRlQ29udGV4dCxjcmVhdGVEZWZlcnJlZCxjcmVhdGVFZmZlY3QsY3JlYXRlTWVtbyxjcmVhdGVSZWFjdGlvbixjcmVhdGVSZW5kZXJFZmZlY3QsY3JlYXRlUmVzb3VyY2UsY3JlYXRlUm9vdCxjcmVhdGVTZWxlY3RvcixjcmVhdGVTaWduYWwsY3JlYXRlVW5pcXVlSWQsZW5hYmxlRXh0ZXJuYWxTb3VyY2UsZW5hYmxlSHlkcmF0aW9uLGVuYWJsZVNjaGVkdWxpbmcsZXF1YWxGbixmcm9tLGdldExpc3RlbmVyLGdldE93bmVyLGluZGV4QXJyYXksbGF6eSxtYXBBcnJheSxtZXJnZVByb3BzLG9ic2VydmFibGUsb24sb25DbGVhbnVwLG9uRXJyb3Isb25Nb3VudCxyZXF1ZXN0Q2FsbGJhY2sscmVzZXRFcnJvckJvdW5kYXJpZXMscnVuV2l0aE93bmVyLHNoYXJlZENvbmZpZyxzcGxpdFByb3BzLHN0YXJ0VHJhbnNpdGlvbix1bnRyYWNrLHVzZUNvbnRleHQsdXNlVHJhbnNpdGlvbn07Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPS9zbS8xYzFhZDZkZjdhNDZmYmQzODk4NjhiN2JjM2I0ODFkYzVlYjA1ZjM5NGMyYWJlNDMzYzk2OTg5MDRlYjYwOTNjLm1hcCJ1c2Ugc3RyaWN0IjsKdmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikgewogICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gazsKICAgIHZhciBkZXNjID0gT2xlbmd0aD9rKG4sbWkodCwyKSk6MH14PW51bGw9PXg/cmU6YmUuZGVmYXVsdHMocmUuT2JqZWN0KCkseCxiZS5waWNrKHJlLHFyKSk7dmFyIGlsPXguQXJyYXksb2w9eC5EYXRlLGZsPXguRXJyb3IsY2w9eC5GdW5jdGlvbixhbD14Lk1hdGgsbGw9eC5PYmplY3Qsc2w9eC5SZWdFeHAsaGw9eC5TdHJpbmcscGw9eC5UeXBlRXJyb3IsX2w9aWwucHJvdG90eXBlLHZsPWNsLnByb3RvdHlwZSxnbD1sbC5wcm90b3R5cGUseWw9eFsiX19jb3JlLWpzX3NoYXJlZF9fIl0sZGw9dmwudG9TdHJpbmcsYmw9Z2wuaGFzT3duUHJvcGVydHksd2w9MCxtbD1mdW5jdGlvbigpe3ZhciBuPS9bXi5dKyQvLmV4ZWMoeWwmJnlsLmtleXMmJnlsLmtleXMuSUVfUFJPVE98fCIiKTtyZXR1cm4gbj8iU3ltYm9sKHNyYylfMS4iK246IiJ9KCkseGw9Z2wudG9TdHJpbmcsamw9ZGwuY2FsbChsbCksQWw9cmUuXyxrbD1zbCgiXiIrZGwuY2FsbChibCkucmVwbGFjZShTdCwiXFwkJiIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFwoKXwgZm9yIC4rPyg/PVxcXF0pL2csIiQxLio/IikrIiQiKSxPbD1pZT94LkJ1ZmZlcjpYLElsPXguU3ltYm9sLFJsPXguVWludDhBcnJheSx6bD1PbD9PbC5hbGxvY1Vuc2FmZTpYLEVsPUYobGwuZ2V0UHJvdG90eXBlT2YsbGwpLFNsPWxsLmNyZWF0ZSxXbD1nbC5wcm9wZXJ0eUlzRW51bWVyYWJsZSxMbD1fbC5zcGxpY2UsQ2w9SWw/SWwuaXNDb25jYXRTcHJlYWRhYmxlOlgsVWw9SWw/SWwuaXRlcmF0b3I6WCxCbD1JbD9JbC50b1N0cmluZ1RhZzpYLFRsPWZ1bmN0aW9uKCl7CnRyeXt2YXIgbj1BaShsbCwiZGVmaW5lUHJvcGVydHkiKTtyZXR1cm4gbih7fSwiIix7fSksbn1jYXRjaChuKXt9fSgpLCRsPXguY2xlYXJUaW1lb3V0IT09cmUuY2xlYXJUaW1lb3V0JiZ4LmNsZWFyVGltZW91dCxEbD1vbCYmb2wubm93IT09cmUuRGF0ZS5ub3cmJm9sLm5vdyxNbD14LnNldFRpbWVvdXQhPT1yZS5zZXRUaW1lb3V0JiZ4LnNldFRpbWVvdXQsRmw9YWwuY2VpbCxObD1hbC5mbG9vcixQbD1sbC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscWw9T2w/T2wuaXNCdWZmZXI6WCxabD14LmlzRmluaXRlLEtsPV9sLmpvaW4sVmw9RihsbC5rZXlzLGxsKSxHbD1hbC5tYXgsSGw9YWwubWluLEpsPW9sLm5vdyxZbD14LnBhcnNlSW50LFFsPWFsLnJhbmRvbSxYbD1fbC5yZXZlcnNlLG5zPUFpKHgsIkRhdGFWaWV3IiksdHM9QWkoeCwiTWFwIikscnM9QWkoeCwiUHJvbWlzZSIpLGVzPUFpKHgsIlNldCIpLHVzPUFpKHgsIldlYWtNYXAiKSxpcz1BaShsbCwiY3JlYXRlIiksb3M9dXMmJm5ldyB1cyxmcz17fSxjcz10byhucyksYXM9dG8odHMpLGxzPXRvKHJzKSxzcz10byhlcyksaHM9dG8odXMpLHBzPUlsP0lsLnByb3RvdHlwZTpYLF9zPXBzP3BzLnZhbHVlT2Y6WCx2cz1wcz9wcy50b1N0cmluZzpYLGdzPWZ1bmN0aW9uKCl7CmZ1bmN0aW9uIG4oKXt9cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCFmYyh0KSlyZXR1cm57fTtpZihTbClyZXR1cm4gU2wodCk7bi5wcm90b3R5cGU9dDt2YXIgcj1uZXcgbjtyZXR1cm4gbi5wcm90b3R5cGU9WCxyfX0oKTtaLnRlbXBsYXRlU2V0dGluZ3M9e2VzY2FwZTprdCxldmFsdWF0ZTpPdCxpbnRlcnBvbGF0ZTpJdCx2YXJpYWJsZToiIixpbXBvcnRzOntfOlp9fSxaLnByb3RvdHlwZT1KLnBybyIpKyIpIixJcisiKyIrenIrIig/PSIrW3ByLEFyK09yLCIkIl0uam9pbigifCIpKyIpIixBcisiPyIrT3IrIisiK1JyLEFyKyIrIit6cixDcixMcix2cixCcl0uam9pbigifCIpLCJnIiksTnI9UmVnRXhwKCJbIitrcitZdCt0cithcisiXSIpLFByPS9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vLHFyPVsiQXJyYXkiLCJCdWZmZXIiLCJEYXRhVmlldyIsIkRhdGUiLCJFcnJvciIsIkZsb2F0MzJBcnJheSIsIkZsb2F0NjRBcnJheSIsIkZ1bmN0aW9uIiwiSW50OEFycmF5IiwiSW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJNYXAiLCJNYXRoIiwiT2JqZWN0IiwiUHJvbWlzZSIsIlJlZ0V4cCIsIlNldCIsIlN0cmluZyIsIlN5bWJvbCIsIlR5cGVFcnJvciIsIlVpbnQ4QXJyYXkiLCJVaW50OENsYW1wZWRBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJXZWFrTWFwIiwiXyIsImNsZWFyVGltZW91dCIsImlzRmluaXRlIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0Il0sWnI9LTEsS3I9e307CktyW2F0XT1LcltsdF09S3Jbc3RdPUtyW2h0XT1LcltwdF09S3JbX3RdPUtyW3Z0XT1LcltndF09S3JbeXRdPSEwLEtyW0RuXT1LcltNbl09S3JbZnRdPUtyW05uXT1LcltjdF09S3JbUG5dPUtyW1puXT1LcltLbl09S3JbR25dPUtyW0huXT1LcltZbl09S3JbbnRdPUtyW3R0XT1LcltydF09S3JbaXRdPSExO3ZhciBWcj17fTtWcltEbl09VnJbTW5dPVZyW2Z0XT1WcltjdF09VnJbTm5dPVZyW1BuXT1WclthdF09VnJbbHRdPVZyW3N0XT1WcltodF09VnJbcHRdPVZyW0duXT1WcltIbl09VnJbWW5dPVZyW250XT1Wclt0dF09VnJbcnRdPVZyW2V0XT1WcltfdF09VnJbdnRdPVZyW2d0XT1Wclt5dF09ITAsVnJbWm5dPVZyW0tuXT1WcltpdF09ITE7dmFyIEdyPXsiXHhjMCI6IkEiLCJceGMxIjoiQSIsIlx4YzIiOiJBIiwiXHhjMyI6IkEiLCJceGM0IjoiQSIsIlx4YzUiOiJBIiwiXHhlMCI6ImEiLCJceGUxIjoiYSIsIlx4ZTIiOiJhIiwiXHhlMyI6ImEiLCJceGU0IjoiYSIsIlx4ZTUiOiJhIiwKIlx4YzciOiJDIiwiXHhlNyI6ImMiLCJceGQwIjoiRCIsIlx4ZjAiOiJkIiwiXHhjOCI6IkUiLCJceGM5IjoiRSIsIlx4Y2EiOiJFIiwiXHhjYiI6IkUiLCJceGU4IjoiZSIsIlx4ZTkiOiJlIiwiXHhlYSI6ImUiLCJceGViIjoiZSIsIlx4Y2MiOiJJIiwiXHhjZCI6IkkiLCJceGNlIjoiSSIsIlx4Y2YiOiJJIiwiXHhlYyI6ImkiLCJceGVkIjoiaSIsIlx4ZWUiOiJpIiwiXHhlZiI6ImkiLCJceGQxIjoiTiIsIlx4ZjEiOiJuIiwiXHhkMiI6Ik8iLCJceGQzIjoiTyIsIlx4ZDQiOiJPIiwiXHhkNSI6Ik8iLCJceGQ2IjoiTyIsIlx4ZDgiOiJPIiwiXHhmMiI6Im8iLCJceGYzIjoibyIsIlx4ZjQiOiJvIiwiXHhmNSI6Im8iLCJceGY2IjoibyIsIlx4ZjgiOiJvIiwiXHhkOSI6IlUiLCJceGRhIjoiVSIsIlx4ZGIiOiJVIiwiXHhkYyI6IlUiLCJceGY5IjoidSIsIlx4ZmEiOiJ1IiwiXHhmYiI6InUiLCJceGZjIjoidSIsIlx4ZGQiOiJZIiwiXHhmZCI6InkiLCJceGZmIjoieSIsIlx4YzYiOiJBZSIsCiJceGU2IjoiYWUiLCJceGRlIjoiVGgiLCJceGZlIjoidGgiLCJceGRmIjoic3MiLCJcdTAxMDAiOiJBIiwiXHUwMTAyIjoiQSIsIlx1MDEwNCI6IkEiLCJcdTAxMDEiOiJhInJpYnV0ZXMmJiFtKGVbMF0uYXR0cmlidXRlcy52YWx1ZSk/bShlWzBdLnZhbHVlKXx8IiI9PT1lWzBdLnZhbHVlP3JlOnt2YWx1ZTplWzBdLnZhbHVlLGlzVmFsaWQ6ITB9OnJlOnRlfXJldHVybiB0ZX07Y29uc3QgYWU9e2lzVmFsaWQ6ITEsdmFsdWU6bnVsbH07dmFyIG5lPWU9PkFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoKChlLHQpPT50JiZ0LmNoZWNrZWQmJiF0LmRpc2FibGVkP3tpc1ZhbGlkOiEwLHZhbHVlOnQudmFsdWV9OmUpLGFlKTphZTtmdW5jdGlvbiBpZShlLHQscj0idmFsaWRhdGUiKXtpZihZKGUpfHxBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KFkpfHxwKGUpJiYhZSlyZXR1cm57dHlwZTpyLG1lc3NhZ2U6WShlKT9lOiIiLHJlZjp0fX12YXIgdWU9ZT0+aShlKSYmIWVlKGUpP2U6e3ZhbHVlOmUsbWVzc2FnZToiIn0sb2U9YXN5bmMoZSx0LHMsbix1KT0+e2NvbnN0e3JlZjpvLHJlZnM6bCxyZXF1aXJlZDpkLG1heExlbmd0aDpjLG1pbkxlbmd0aDpmLG1pbjpfLG1heDpoLHBhdHRlcm46Uyx2YWxpZGF0ZTp3LG5hbWU6RCx2YWx1ZUFzTnVtYmVyOkMsbW91bnQ6RSxkaXNhYmxlZDpPfT1lLl9mLGo9eSh0LEQpO2lmKCFFfHxPKXJldHVybnt9O2NvbnN0IFQ9bD9sWzBdOm8sQj1lPT57biYmVC5yZXBvcnRWYWxpZGl0eSYmKFQuc2V0Q3VzdG9tVmFsaWRpdHkocChlKT8iIjplfHwiIiksVC5yZXBvcnRWYWxpZGl0eSgpKX0sTj17fSxMPVoobyksTT1yKG8pLFI9THx8TSxQPShDfHxLKG8pKSYmbShvLnZhbHVlKSYmbShqKXx8WChvKSYmIiI9PT1vLnZhbHVlfHwiIj09PWp8fEFycmF5LmlzQXJyYXkoaikmJiFqLmxlbmd0aCxxPVcuYmluZChudWxsLEQscyxOKSxJPShlLHQscixzPWIsYT14KT0+e2NvbnN0IG49ZT90OnI7TltEXT17dHlwZTplP3M6YSxtZXNzYWdlOm4scmVmOm8sLi4ucShlP3M6YSxuKX19O2lmKHU/IUFycmF5LmlzQXJyYXkoail8fCFqLmxlbmd0aDpkJiYoIVImJihQfHxhKGopKXx8cChqKSYmIWp8fE0mJiFzZShsKS5pc1ZhbGlkfHxMJiYhbmUobCkuaXNWYWxpZCkpe2NvbnN0e3ZhbHVlOmUsbWVzc2FnZTp0fT1ZKGQpP3t2YWx1ZTohIWQsbWVzc2FnZTpkfTp1ZShkKTtpZihlJiYoTltEXT17dHlwZTpWLG1lc3NhZ2U6dCxyZWY6VCwuLi5xKFYsdCl9LCFzKSlyZXR1cm4gQih0KSxOfWlmKCEoUHx8YShfKSYmYShoKSkpe2xldCBlLHQ7Y29uc3Qgcj11ZShoKSxuPXVlKF8pO2lmKGEoail8fGlzTmFOKGopKXtjb25zdCBzPW8udmFsdWVBc0RhdGV8fG5ldyBEYXRlKGopLGE9ZT0+bmV3IERhdGUoKG5ldyBEYXRlKS50b0RhdGVTdHJpbmcoKSsiICIrZSksaT0idGltZSI9PW8udHlwZSx1PSJ3ZWVrIj09by50eXBlO1Uoci52YWx1ZSkmJmomJihlPWk/YShqKT5hKHIudmFsdWUpOnU/aj5yLnZhbHVlOnM+bmV3IERhdGUoci52YWx1ZSkpLFUobi52YWx1ZSkmJmomJih0PWk/YShqKTxhKG4udmFsdWUpOnU/ajxuLnZhbHVlOnM8bmV3IERhdGUobi52YWx1ZSkpfWVsc2V7Y29uc3Qgcz1vLnZhbHVlQXNOdW1iZXJ8fChqPytqOmopO2Eoci52YWx1ZSl8fChlPXM+ci52YWx1ZSksYShuLnZhbHVlKXx8KHQ9czxuLnZhbHVlKX1pZigoZXx8dCkmJihJKCEhZSxyLm1lc3NhZ2Usbi5tZXNzYWdlLGcsdiksIXMpKXJldHVybiBCKE5bRF0ubWVzc2FnZSksTn1pZigoY3x8ZikmJiFQJiYoVShqKXx8dSYmQXJyYXluc3QgdD17YTpjLGI6aCxjOnUsbm9ybWFsOm5ldyBXZSxtYXRlcmlhbEluZGV4OjB9O3JpLmdldE5vcm1hbChGaSxCaSx6aSx0Lm5vcm1hbCksZC5mYWNlPXR9cmV0dXJuIGR9Y2xhc3MgJGkgZXh0ZW5kcyBJaXtjb25zdHJ1Y3Rvcih0PTEsZT0xLG49MSxpPTEscj0xLHM9MSl7c3VwZXIoKSx0aGlzLnR5cGU9IkJveEdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3dpZHRoOnQsaGVpZ2h0OmUsZGVwdGg6bix3aWR0aFNlZ21lbnRzOmksaGVpZ2h0U2VnbWVudHM6cixkZXB0aFNlZ21lbnRzOnN9O2NvbnN0IGE9dGhpcztpPU1hdGguZmxvb3IoaSkscj1NYXRoLmZsb29yKHIpLHM9TWF0aC5mbG9vcihzKTtjb25zdCBvPVtdLGw9W10sYz1bXSxoPVtdO2xldCB1PTAsZD0wO2Z1bmN0aW9uIHAodCxlLG4saSxyLHMscCxtLGYsZyxfKXtjb25zdCB2PXMvZix4PXAvZyx5PXMvMixNPXAvMixTPW0vMixiPWYrMSxUPWcrMTtsZXQgRT0wLHc9MDtjb25zdCBBPW5ldyBXZTtmb3IobGV0IHM9MDtzPFQ7cysrKXtjb25zdCBhPXMqeC1NO2ZvcihsZXQgbz0wO288YjtvKyspe2NvbnN0IHU9byp2LXk7QVt0XT11KmksQVtlXT1hKnIsQVtuXT1TLGwucHVzaChBLngsQS55LEEueiksQVt0XT0wLEFbZV09MCxBW25dPW0+MD8xOi0xLGMucHVzaChBLngsQS55LEEueiksaC5wdXNoKG8vZiksaC5wdXNoKDEtcy9nKSxFKz0xfX1mb3IobGV0IHQ9MDt0PGc7dCsrKWZvcihsZXQgZT0wO2U8ZjtlKyspe2NvbnN0IG49dStlK2IqdCxpPXUrZStiKih0KzEpLHI9dSsoZSsxKStiKih0KzEpLHM9dSsoZSsxKStiKnQ7by5wdXNoKG4saSxzKSxvLnB1c2goaSxyLHMpLHcrPTZ9YS5hZGRHcm91cChkLHcsXyksZCs9dyx1Kz1FfXAoInoiLCJ5IiwieCIsLTEsLTEsbixlLHQscyxyLDApLHAoInoiLCJ5IiwieCIsMSwtMSxuLGUsLXQscyxyLDEpLHAoIngiLCJ6IiwieSIsMSwxLHQsbixlLGkscywyKSxwKCJ4IiwieiIsInkiLDEsLTEsdCxuLC1lLGkscywzKSxwKCJ4IiwieSIsInoiLDEsLTEsdCxlLG4saSxyLDQpLHAoIngiLCJ5IiwieiIsLTEsLTEsdCxlLC1uLGksciw1KSx0aGlzLnNldEluZGV4KG8pLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IFRpKGwsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBUaShjLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBUaShoLDIpKX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMucGFyYW1ldGVycz1PYmplY3QuYXNzaWduKHt9LHQucGFyYW1ldGVycyksdGhpc31zdGF0aWMgZnJvbUpTT04odCl7cmV0dXJuIG5ldyAkaSh0LndpZHRoLHQuaGVpZ2h0LHQuZGVwdGgsdC53aWR0aFNlZ21lbnRzLHQuaGVpZ2h0U2VnbWVudHMsdC5kZXB0aFNlZ21lbnRzKX19ZnVuY3Rpb24gUWkodCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBpbiB0KXtlW25dPXt9O2Zvcihjb25zdCBpIGluIHRbbl0pe2NvbnN0IHI9dFtuXVtpXTtyJiYoci5pc0NvbG9yfHxyLmlzTWF0cml4M3x8ci5pc01hdHJpeDR8fHIuaXNWZWN0b3IyfHxyLmlzVmVjdG9yM3x8ci5pc1ZlY3RvcjR8fHIuaXNUZXh0dXJlfHxyLmlzUXVhdGVybmlvbik/ci5pc1JlbmRlclRhcmdldFRleHR1cmU/KGNvbnNvbGUud2FybigiVW5pZm9ybXNVdGlsczogVGV4dHVyZXMgb2YgcmVuZGVyIHRhcmdldHMgY2Fubm90IGJlIGNsb25lZCB0aC5zaW4oZSkscj0xLW4scz10LngsYT10Lnksbz10LnosbD1yKnMsYz1yKmE7cmV0dXJuIHRoaXMuc2V0KGwqcytuLGwqYS1pKm8sbCpvK2kqYSwwLGwqYStpKm8sYyphK24sYypvLWkqcywwLGwqby1pKmEsYypvK2kqcyxyKm8qbytuLDAsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUodCxlLG4pe3JldHVybiB0aGlzLnNldCh0LDAsMCwwLDAsZSwwLDAsMCwwLG4sMCwwLDAsMCwxKSx0aGlzfW1ha2VTaGVhcih0LGUsbixpLHIscyl7cmV0dXJuIHRoaXMuc2V0KDEsbixyLDAsdCwxLHMsMCxlLGksMSwwLDAsMCwwLDEpLHRoaXN9Y29tcG9zZSh0LGUsbil7Y29uc3QgaT10aGlzLmVsZW1lbnRzLHI9ZS5feCxzPWUuX3ksYT1lLl96LG89ZS5fdyxsPXIrcixjPXMrcyxoPWErYSx1PXIqbCxkPXIqYyxwPXIqaCxtPXMqYyxmPXMqaCxnPWEqaCxfPW8qbCx2PW8qYyx4PW8qaCx5PW4ueCxNPW4ueSxTPW4uejtyZXR1cm4gaVswXT0oMS0obStnKSkqeSxpWzFdPShkK3gpKnksaVsyXT0ocC12KSp5LGlbM109MCxpWzRdPShkLXgpKk0saVs1XT0oMS0odStnKSkqTSxpWzZdPShmK18pKk0saVs3XT0wLGlbOF09KHArdikqUyxpWzldPShmLV8pKlMsaVsxMF09KDEtKHUrbSkpKlMsaVsxMV09MCxpWzEyXT10LngsaVsxM109dC55LGlbMTRdPXQueixpWzE1XT0xLHRoaXN9ZGVjb21wb3NlKHQsZSxuKXtjb25zdCBpPXRoaXMuZWxlbWVudHM7bGV0IHI9U24uc2V0KGlbMF0saVsxXSxpWzJdKS5sZW5ndGgoKTtjb25zdCBzPVNuLnNldChpWzRdLGlbNV0saVs2XSkubGVuZ3RoKCksYT1Tbi5zZXQoaVs4XSxpWzldLGlbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKHI9LXIpLHQueD1pWzEyXSx0Lnk9aVsxM10sdC56PWlbMTRdLGJuLmNvcHkodGhpcyk7Y29uc3Qgbz0xL3IsbD0xL3MsYz0xL2E7cmV0dXJuIGJuLmVsZW1lbnRzWzBdKj1vLGJuLmVsZW1lbnRzWzFdKj1vLGJuLmVsZW1lbnRzWzJdKj1vLGJuLmVsZW1lbnRzWzRdKj1sLGJuLmVsZW1lbnRzWzVdKj1sLGJuLmVsZW1lbnRzWzZdKj1sLGJuLmVsZW1lbnRzWzhdKj1jLGJuLmVsZW1lbnRzWzldKj1jLGJuLmVsZW1lbnRzWzEwXSo9YyxlLnNldEZyb21Sb3RhdGlvbk1hdHJpeChibiksbi54PXIsbi55PXMsbi56PWEsdGhpc31tYWtlUGVyc3BlY3RpdmUodCxlLG4saSxyLHMsYT0yZTMpe2NvbnN0IG89dGhpcy5lbGVtZW50cyxsPTIqci8oZS10KSxjPTIqci8obi1pKSxoPShlK3QpLyhlLXQpLHU9KG4raSkvKG4taSk7bGV0IGQscDtpZihhPT09JHQpZD0tKHMrcikvKHMtcikscD0tMipzKnIvKHMtcik7ZWxzZXtpZihhIT09UXQpdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5NYXRyaXg0Lm1ha2VQZXJzcGVjdGl2ZSgpOiBJbnZhbGlkIGNvb3JkaW5hdGUgc3lzdGVtOiAiK2EpO2Q9LXMvKHMtcikscD0tcypyLyhzLXIpfXJldHVybiBvWzBdPWwsb1s0XT0wLG9bOF09aCxvWzEyXT0wLG9bMV09MCxvWzVdPWMsb1s5XT11LG9bMTNdPTAsb1syXT0wLG9bNl09MCxvWzEwXT1kLG9bMTRdPXAsb1szXT0wLG9bN109MCxvWzExXT0tMSxvWzE1XT0wLHRoaXN9bWFrZU9ydGhvZ3JhcGhpYyh0LGUsbixpLHIscyxhPTJlMyl7Y29uc3Qgbz10aGlzLmVsZW1lbnRzLGw9MS8oZS10KSxjPTEvKG4taSksaD0xLyhzLXIpLHU9KGUrdCkqbCxkPShuK2kpKmM7bGV0IHAsbTtpZihhPT09JHQpcD0ocysKICB9Cn0KY29uc29sZS53YXJuKCdTY3JpcHRzICJidWlsZC90aHJlZS5qcyIgYW5kICJidWlsZC90aHJlZS5taW4uanMiIGFyZSBkZXByZWNhdGVkIHdpdGggcjE1MCssIGFuZCB3aWxsIGJlIHJlbW92ZWQgd2l0aCByMTYwLiBQbGVhc2UgdXNlIEVTIE1vZHVsZXMgb3IgYWx0ZXJuYXRpdmVzOiBodHRwczovL3RocmVlanMub3JnL2RvY3MvaW5kZXguaHRtbCNtYW51YWwvZW4vaW50cm9kdWN0aW9uL0luc3RhbGxhdGlvbicpLAovKioKICogQGxpY2Vuc2UKICogQ29weXJpZ2h0IDIwMTAtMjAyMyBUaHJlZS5qcyBBdXRob3JzCiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKICovCmZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUoKHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuVEhSRUU9e30pfSh0aGlzLChmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7Y29uc3QgZT0iMTYwIixuPTEsaT0yLHI9MyxzPTAsYT0xLG89MTAwLGw9MjA0LGM9MjA1LGg9MCx1PTEsZD0yLHA9MCxtPTEsZj0yLGc9MyxfPTQsdj01LHg9Nix5PSJhdHRhY2hlZCIsTT0iZGV0YWNoZWQiLFM9MzAwLGI9MzAxLFQ9MzAyLEU9MzAzLHc9MzA0LEE9MzA2LFI9MWUzLEM9MTAwMSxMPTEwMDIsUD0xMDAzLEk9MTAwNCxVPTEwMDUsRD0xMDA2LE49MTAwNyxPPTEwMDgsRj0xMDA5LEI9MTAxMix6PTEwMTMsRz0xMDE0LEg9MTAxNSxWPTEwMTYsaz0xMDE3LFc9MTAxOCxYPTEwMjAsaj0xMDIzLHE9MTAyNixZPTEwMjcsWj0xMDI5LEo9MTAzMSxLPTEwMzMsJD0zMzc3NixRPTMzNzc3LHR0PTMzNzc4LGV0PTMzNzc5LG50PTM1ODQwLGl0PTM1ODQxLHJ0PTM1ODQyLHN0PTM1ODQzLGF0PTM2MTk2LG90PTM3NDkyLGx0PTM3NDk2LGN0PTM3ODA4LGh0PTM3ODA5LHV0PTM3ODEwLGR0PTM3ODExLHB0PTM3ODEyLG10PTM3ODEzLGZ0PTM3ODE0LGd0PTM3ODE1LF90PTM3ODE2LHZ0PTM3ODE3LHh0PTM3ODE4LHl0PTM3ODE5LE10PTM3ODIwLFN0PTM3ODIxLGJ0PTM2NDkyLFR0PTM2NDk0LEV0PTM2NDk1LHd0PTM2Mjg0LEF0PTM2Mjg1LFJ0PTM2Mjg2LEN0PTIzMDAsTHQ9MjMwMSxQdD0yMzAyLEl0PTI0MDAsVXQ9MjQwMSxEdD0yNDAyLE50PTI1MDAsT3Q9MjUwMSxGdD0zZTMsQnQ9MzAwMSx6dD0iIixHdD0ic3JnYiIsSHQ9InNyZ2ItbGluZWFyIixWdD0iZGlzcGxheS1wMyIsa3Q9ImRpc3BsYXktcDMtbGluZWFyIixXdD0ibGluZWFyIixYdD0ic3JnYiIsanQ9InJlYzcwOSIscXQ9InAzIixZdD03NjgwLFp0PTM1MDQ0LEp0PSIzMDAgZXMiLEt0PTEwMzUsJHQ9MmUzLFF0PTIwMDE7Y2xhc3MgdGV7YWRkRXZlbnRMaXN0ZW5lcih0LGUpe3ZvaWQgMD09PXRoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVycz17fSk7Y29uc3Qgbj10aGlzLl9saXN0ZW5lcnM7dm9pZCAwPT09blt0XSYmKG5bdF09W10pLC0xPT09blt0XS5pbmRleE9mKGUpJiZuW3RdLnB1c2goZSl9aGFzRXZlbnRMaXN0ZW5lcih0LGUpe2lmKHZvaWQgMD09PXRoaXMuX2xpc3RlbmVycylyZXR1cm4hMTtjb25zdCBuPXRoaXMuX2xpc3RlbmVycztyZXRlci5NQVhfVkFMVUUsdC55QXhpc1NjYWxlPVtdLHQueEF4aXNTY2FsZT1udWxsLHQueEF4aXNUaWNrc1Bvc2l0aW9ucz1bXSx0LnlMYWJlbHNDb29yZHM9W10sdC55VGl0bGVDb29yZHM9W10sdC5iYXJQYWRGb3JOdW1lcmljQXhpcz0wLHQucGFkSG9yaXpvbnRhbD0wLHQueFJhbmdlPTAsdC55UmFuZ2U9W10sdC56UmFuZ2U9MCx0LmRhdGFQb2ludHM9MCx0LnhUaWNrQW1vdW50PTAsdC5tdWx0aUF4aXNUaWNrQW1vdW50PTB9fSx7a2V5OiJnbG9iYWxWYXJzIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57Y2hhcnRJRDpudWxsLGN1aWQ6bnVsbCxldmVudHM6e2JlZm9yZU1vdW50OltdLG1vdW50ZWQ6W10sdXBkYXRlZDpbXSxjbGlja2VkOltdLHNlbGVjdGlvbjpbXSxkYXRhUG9pbnRTZWxlY3Rpb246W10sem9vbWVkOltdLHNjcm9sbGVkOltdfSxjb2xvcnM6W10sY2xpZW50WDpudWxsLGNsaWVudFk6bnVsbCxmaWxsOntjb2xvcnM6W119LHN0cm9rZTp7Y29sb3JzOltdfSxkYXRhTGFiZWxzOntzdHlsZTp7Y29sb3JzOltdfX0scmFkYXJQb2x5Z29uczp7ZmlsbDp7Y29sb3JzOltdfX0sbWFya2Vyczp7Y29sb3JzOltdLHNpemU6dC5tYXJrZXJzLnNpemUsbGFyZ2VzdFNpemU6MH0sYW5pbWF0aW9uRW5kZWQ6ITEsaXNUb3VjaERldmljZToib250b3VjaHN0YXJ0ImluIHdpbmRvd3x8bmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMsaXNEaXJ0eTohMSxpc0V4ZWNDYWxsZWQ6ITEsaW5pdGlhbENvbmZpZzpudWxsLGluaXRpYWxTZXJpZXM6W10sbGFzdFhBeGlzOltdLGxhc3RZQXhpczpbXSxjb2x1bW5TZXJpZXM6bnVsbCxsYWJlbHM6W10sdGltZXNjYWxlTGFiZWxzOltdLG5vTGFiZWxzUHJvdmlkZWQ6ITEsYWxsU2VyaWVzQ29sbGFwc2VkOiExLGNvbGxhcHNlZFNlcmllczpbXSxjb2xsYXBzZWRTZXJpZXNJbmRpY2VzOltdLGFuY2lsbGFyeUNvbGxhcHNlZFNlcmllczpbXSxhbmNpbGxhcnlDb2xsYXBzZWRTZXJpZXNJbmRpY2VzOltdLHJpc2luZ1NlcmllczpbXSxkYXRhRm9ybWF0WE51bWVyaWM6ITEsY2FwdHVyZWRTZXJpZXNJbmRleDotMSxjYXB0dXJlZERhdGFQb2ludEluZGV4Oi0xLHNlbGVjdGVkRGF0YVBvaW50czpbXSxnb2xkZW5QYWRkaW5nOjM1LGludmFsaWRMb2dTY2FsZTohMSxpZ25vcmVZQXhpc0luZGV4ZXM6W10seUF4aXNTYW1lU2NhbGVJbmRpY2VzOltdLG1heFZhbHNJbkFycmF5SW5kZXg6MCxyYWRpYWxTaXplOjAsc2VsZWN0aW9uOnZvaWQgMCx6b29tRW5hYmxlZDoiem9vbSI9PT10LmNoYXJ0LnRvb2xiYXIuYXV0b1NlbGVjdGVkJiZ0LmNoYXJ0LnRvb2xiYXIudG9vbHMuem9vbSYmdC5jaGFydC56b29tLmVuYWJsZWQscGFuRW5hYmxlZDoicGFuIj09PXQuY2hhcnQudG9vbGJhci5hdXRvU2VsZWN0ZWQmJnQuY2hhcnQudG9vbGJhci50b29scy5wYW4sc2VsZWN0aW9uRW5hYmxlZDoic2VsZWN0aW9uIj09PXQuY2hhcnQudG9vbGJhci5hdXRvU2VsZWN0ZWQmJnQuY2hhcnQudG9vbGJhci50b29scy5zZWxlY3Rpb24seWF4aXM6bnVsbCxtb3VzZWRvd246ITEsbGFzdENsaWVudFBvc2l0aW9uOnt9LHZpc2libGVYUmFuZ2U6dm9pZCAwLHlWYWx1ZURlY2ltYWw6MCx0b3RhbDowLFNWR05TOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsc3ZnV2lkdGg6MCxzdmdIZWlnaHQ6MCxub0RhdGE6ITEsbG9jYWxlOnt9LGRhLHMscixvKXt2YXIgbj0iQSI7YXJndW1lbnRzLmxlbmd0aD43JiZ2b2lkIDAhPT1hcmd1bWVudHNbN10mJmFyZ3VtZW50c1s3XSYmKG49ImEiKTt2YXIgbD1bbix0LGUsaSxhLHMscixvXS5qb2luKCIgIik7cmV0dXJuIGx9fSx7a2V5OiJyZW5kZXJQYXRocyIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGksYT10Lmoscz10LnJlYWxJbmRleCxyPXQucGF0aEZyb20sbz10LnBhdGhUbyxuPXQuc3Ryb2tlLGw9dC5zdHJva2VXaWR0aCxoPXQuc3Ryb2tlTGluZWNhcCxjPXQuZmlsbCxkPXQuYW5pbWF0aW9uRGVsYXksZz10LmluaXRpYWxTcGVlZCx1PXQuZGF0YUNoYW5nZVNwZWVkLHA9dC5jbGFzc05hbWUsZj10LnNob3VsZENsaXBUb0dyaWQseD12b2lkIDA9PT1mfHxmLG09dC5iaW5kRXZlbnRzT25QYXRocyx5PXZvaWQgMD09PW18fG0sdz10LmRyYXdTaGFkb3csaz12b2lkIDA9PT13fHx3LEE9dGhpcy53LFM9bmV3IHYodGhpcy5jdHgpLEM9bmV3IGIodGhpcy5jdHgpLEw9dGhpcy53LmNvbmZpZy5jaGFydC5hbmltYXRpb25zLmVuYWJsZWQsUD1MJiZ0aGlzLncuY29uZmlnLmNoYXJ0LmFuaW1hdGlvbnMuZHluYW1pY0FuaW1hdGlvbi5lbmFibGVkLEk9ISEoTCYmIUEuZ2xvYmFscy5yZXNpemVkfHxQJiZBLmdsb2JhbHMuZGF0YUNoYW5nZWQmJkEuZ2xvYmFscy5zaG91bGRBbmltYXRlKTtJP2k9cjooaT1vLEEuZ2xvYmFscy5hbmltYXRpb25FbmRlZD0hMCk7dmFyIE09QS5jb25maWcuc3Ryb2tlLmRhc2hBcnJheSxUPTA7VD1BcnJheS5pc0FycmF5KE0pP01bc106QS5jb25maWcuc3Ryb2tlLmRhc2hBcnJheTt2YXIgej10aGlzLmRyYXdQYXRoKHtkOmksc3Ryb2tlOm4sc3Ryb2tlV2lkdGg6bCxmaWxsOmMsZmlsbE9wYWNpdHk6MSxjbGFzc2VzOnAsc3Ryb2tlTGluZWNhcDpoLHN0cm9rZURhc2hBcnJheTpUfSk7aWYoei5hdHRyKCJpbmRleCIscykseCYmei5hdHRyKHsiY2xpcC1wYXRoIjoidXJsKCNncmlkUmVjdE1hc2siLmNvbmNhdChBLmdsb2JhbHMuY3VpZCwiKSIpfSksIm5vbmUiIT09QS5jb25maWcuc3RhdGVzLm5vcm1hbC5maWx0ZXIudHlwZSlTLmdldERlZmF1bHRGaWx0ZXIoeixzKTtlbHNlIGlmKEEuY29uZmlnLmNoYXJ0LmRyb3BTaGFkb3cuZW5hYmxlZCYmayl7dmFyIFg9QS5jb25maWcuY2hhcnQuZHJvcFNoYWRvdztTLmRyb3BTaGFkb3coeixYLHMpfXkmJih6Lm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsdGhpcy5wYXRoTW91c2VFbnRlci5iaW5kKHRoaXMseikpLHoubm9kZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIix0aGlzLnBhdGhNb3VzZUxlYXZlLmJpbmQodGhpcyx6KSksei5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5wYXRoTW91c2VEb3duLmJpbmQodGhpcyx6KSkpLHouYXR0cih7cGF0aFRvOm8scGF0aEZyb206cn0pO3ZhciBFPXtlbDp6LGo6YSxyZWFsSW5kZXg6cyxwYXRoRnJvbTpyLHBhdGhUbzpvLGZpbGw6YyxzdHJva2VXaWR0aDpsLGRlbGF5OmR9O3JldHVybiFMfHxBLmdsb2JhbHMucmVzaXplZHx8QS5nbG9iYWxzLmRhdGFDaGFuZ2VkPyFBLmdsb2JhbHMucmVzaXplZCYmQS5nbG9iYWxzLmRhdGFDaGFuZ2VkfHxDLnNob3dEZWxheWVkRWxlbWVudHMoKTpDLmFuaW1hdGVQYXRoc0dyYWR1YWxseShlKGUoe30sRSkse30se3NwZWVkOmd9KSksQS4KICB9Cn0KU3lzdGVtUHJvZ3JhbS5wcm9ncmFtSWQgPSBuZXcgUHVibGljS2V5KCcxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMScpOwoKLy8gS2VlcCBwcm9ncmFtIGNodW5rcyB1bmRlciBQQUNLRVRfREFUQV9TSVpFLCBsZWF2aW5nIGVub3VnaCByb29tIGZvciB0aGUKLy8gcmVzdCBvZiB0aGUgVHJhbnNhY3Rpb24gZmllbGRzCi8vCi8vIFRPRE86IHJlcGxhY2UgMzAwIHdpdGggYSBwcm9wZXIgY29uc3RhbnQgZm9yIHRoZSBzaXplIG9mIHRoZSBvdGhlcgovLyBUcmFuc2FjdGlvbiBmaWVsZHMKY29uc3QgQ0hVTktfU0laRSA9IFBBQ0tFVF9EQVRBX1NJWkUgLSAzMDA7CgovKioKICogUHJvZ3JhbSBsb2FkZXIgaW50ZXJmYWNlCiAqLwpjbGFzcyBMb2FkZXIgewogIC8qKgogICAqIEBpbnRlcm5hbAogICAqLwogIGNvbnN0cnVjdG9yKCkge30KCiAgLyoqCiAgICogQW1vdW50IG9mIHByb2dyYW0gZGF0YSBwbGFjZWQgaW4gZWFjaCBsb2FkIFRyYW5zYWN0aW9uCiAgICovCgogIC8qKgogICAqIE1pbmltdW0gbnVtYmVyIG9mIHNpZ25hdHVyZXMgcmVxdWlyZWQgdG8gbG9hZCBhIHByb2dyYW0gbm90IGluY2x1ZGluZwogICAqIHJldHJpZXMKICAgKgogICAqIENhbiBiZSB1c2VkIHRvIGNhbGN1bGF0ZSB0cmFuc2FjdGlvbiBmZWVzCiAgICovCiAgc3RhdGljIGdldE1pbk51bVNpZ25hdHVyZXMoZGF0YUxlbmd0aCkgewogICAgcmV0dXJuIDIgKiAoCiAgICAvLyBFdmVyeSB0cmFuc2FjdGlvbiByZXF1aXJlcyB0d28gc2lnbmF0dXJlcyAocGF5ZXIgKyBwcm9ncmFtKQogICAgTWF0aC5jZWlsKGRhdGFMZW5ndGggLyBMb2FkZXIuY2h1bmtTaXplKSArIDEgKwogICAgLy8gQWRkIG9uZSBmb3IgQ3JlYXRlIHRyYW5zYWN0aW9uCiAgICAxKSAvLyBBZGQgb25lIGZvciBGaW5hbGl6ZSB0cmFuc2FjdGlvbgogICAgOwogIH0KCiAgLyoqCiAgICogTG9hZHMgYSBnZW5lcmljIHByb2dyYW0KICAgKgogICAqIEBwYXJhbSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uIHRvIHVzZQogICAqIEBwYXJhbSBwYXllciBTeXN0ZW0gYWNjb3VudCB0aGF0IHBheXMgdG8gbG9hZCB0aGUgcHJvZ3JhbQogICAqIEBwYXJhbSBwcm9ncmFtIEFjY291bnQgdG8gbG9hZCB0aGUgcHJvZ3JhbSBpbnRvCiAgICogQHBhcmFtIHByb2dyYW1JZCBQdWJsaWMga2V5IHRoYXQgaWRlbnRpZmllcyB0aGUgbG9hZGVyCiAgICogQHBhcmFtIGRhdGEgUHJvZ3JhbSBvY3RldHMKICAgKiBAcmV0dXJuIHRydWUgaWYgcHJvZ3JhbSB3YXMgbG9hZGVkIHN1Y2Nlc3NmdWxseSwgZmFsc2UgaWYgcHJvZ3JhbSB3YXMgYWxyZWFkeSBsb2FkZWQKICAgKi8KICBzdGF0aWMgYXN5bmMgbG9hZChjb25uZWN0aW9uLCBwYXllciwgcHJvZ3JhbSwgcHJvZ3JhbUlkLCBkYXRhKSB7CiAgICB7CiAgICAgIGNvbnN0IGJhbGFuY2VOZWVkZWQgPSBhd2FpdCBjb25uZWN0aW9uLmdldE1pbmltdW1CYWxhbmNlRm9yUmVudEV4ZW1wdGlvbihkYXRhLmxlbmd0aCk7CgogICAgICAvLyBGZXRjaCBwcm9ncmFtIGFjY291bnQgaW5mbyB0byBjaGVjayBpZiBpdCBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQKICAgICAgY29uc3QgcHJvZ3JhbUluZm8gPSBhd2FpdCBjb25uZWN0aW9uLmdldEFjY291bnRJbmZvKHByb2dyYW0ucHVibGljS2V5LCAnY29uZmlybWVkJyk7CiAgICAgIGxldCB0cmFuc2EgIGlmICghcHJvZ3JhbUlkcy5pbmNsdWRlcyhwcm9ncmFtSWQpKSB7CiAgICAgICAgcHJvZ3JhbUlkcy5wdXNoKHByb2dyYW1JZCk7CiAgICAgIH0KICAgIH0pOwoKICAgIC8vIEFwcGVuZCBwcm9ncmFtSUQgYWNjb3VudCBtZXRhcwogICAgcHJvZ3JhbUlkcy5mb3JFYWNoKHByb2dyYW1JZCA9PiB7CiAgICAgIGFjY291bnRNZXRhcy5wdXNoKHsKICAgICAgICBwdWJrZXk6IG5ldyBQdWJsaWNLZXkocHJvZ3JhbUlkKSwKICAgICAgICBpc1NpZ25lcjogZmFsc2UsCiAgICAgICAgaXNXcml0YWJsZTogZmFsc2UKICAgICAgfSk7CiAgICB9KTsKCiAgICAvLyBDdWxsIGR1cGxpY2F0ZSBhY2NvdW50IG1ldGFzCiAgICBjb25zdCB1bmlxdWVNZXRhcyA9IFtdOwogICAgYWNjb3VudE1ldGFzLmZvckVhY2goYWNjb3VudE1ldGEgPT4gewogICAgICBjb25zdCBwdWJrZXlTdHJpbmcgPSBhY2NvdW50TWV0YS5wdWJrZXkudG9TdHJpbmcoKTsKICAgICAgY29uc3QgdW5pcXVlSW5kZXggPSB1bmlxdWVNZXRhcy5maW5kSW5kZXgoeCA9PiB7CiAgICAgICAgcmV0dXJuIHgucHVia2V5LnRvU3RyaW5nKCkgPT09IHB1YmtleVN0cmluZzsKICAgICAgfSk7CiAgICAgIGlmICh1bmlxdWVJbmRleCA+IC0xKSB7CiAgICAgICAgdW5pcXVlTWV0YXNbdW5pcXVlSW5kZXhdLmlzV3JpdGFibGUgPSB1bmlxdWVNZXRhc1t1bmlxdWVJbmRleF0uaXNXcml0YWJsZSB8fCBhY2NvdW50TWV0YS5pc1dyaXRhYmxlOwogICAgICAgIHVuaXF1ZU1ldGFzW3VuaXF1ZUluZGV4XS5pc1NpZ25lciA9IHVuaXF1ZU1ldGFzW3VuaXF1ZUluZGV4XS5pc1NpZ25lciB8fCBhY2NvdW50TWV0YS5pc1NpZ25lcjsKICAgICAgfSBlbHNlIHsKICAgICAgICB1bmlxdWVNZXRhcy5wdXNoKGFjY291bnRNZXRhKTsKICAgICAgfQogICAgfSk7CgogICAgLy8gU29ydC4gUHJpb3JpdGl6aW5nIGZpcnN0IGJ5IHNpZ25lciwgdGhlbiBieSB3cml0YWJsZQogICAgdW5pcXVlTWV0YXMuc29ydChmdW5jdGlvbiAoeCwgeSkgewogICAgICBpZiAoeC5pc1NpZ25lciAhPT0geS5pc1NpZ25lcikgewogICAgICAgIC8vIFNpZ25lcnMgYWx3YXlzIGNvbWUgYmVmb3JlIG5vbi1zaWduZXJzCiAgICAgICAgcmV0dXJuIHguaXNTaWduZXIgPyAtMSA6IDE7CiAgICAgIH0KICAgICAgaWYgKHguaXNXcml0YWJsZSAhPT0geS5pc1dyaXRhYmxlKSB7CiAgICAgICAgLy8gV3JpdGFibGUgYWNjb3VudHMgYWx3YXlzIGNvbWUgYmVmb3JlIHJlYWQtb25seSBhY2NvdW50cwogICAgICAgIHJldHVybiB4LmlzV3JpdGFibGUgPyAtMSA6IDE7CiAgICAgIH0KICAgICAgLy8gT3RoZXJ3aXNlLCBzb3J0IGJ5IHB1YmtleSwgc3RyaW5nd2lzZS4KICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgICBsb2NhbGVNYXRjaGVyOiAnYmVzdCBmaXQnLAogICAgICAgIHVzYWdlOiAnc29ydCcsCiAgICAgICAgc2Vuc2l0aXZpdHk6ICd2YXJpYW50JywKICAgICAgICBpZ25vcmVQdW5jdHVhdGlvbjogZmFsc2UsCiAgICAgICAgbnVtZXJpYzogZmFsc2UsCiAgICAgICAgY2FzZUZpcnN0OiAnbG93ZXInCiAgICAgIH07CiAgICAgIHJldHVybiB4LnB1YmtleS50b0Jhc2U1OCgpLmxvY2FsZUNvbXBhcmUoeS5wdWJrZXkudG9CYXNlNTgoKSwgJ2VuJywgb3B0aW9ucyk7CiAgICB9KTsKCiAgICAvLyBNb3ZlIGZlZSBwYXllciB0byB2YXIgbj10WzBdOyJjb25jYXQiIT09biYmYShoci5wcm90b3R5cGUsbix0WzFdKX0pKSxtbigxZTMpO3ZhciB2cj1Ubi50b1N0cmluZztbIlN5bWJvbCIsIk1hcCIsIlNldCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZvaWQgMD09PWkoKVt0XSYmbigiTW9iWCByZXF1aXJlcyBnbG9iYWwgJyIrdCsiJyB0byBiZSBhdmFpbGFibGUgb3IgcG9seWZpbGxlZCIpfSkpLCJvYmplY3QiPT10eXBlb2YgX19NT0JYX0RFVlRPT0xTX0dMT0JBTF9IT09LX18mJl9fTU9CWF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmluamVjdE1vYngoe3NweTpNdCxleHRyYXM6e2dldERlYnVnTmFtZTpfbn0sJG1vYng6cW59KSx0LiRtb2J4PXFuLHQuRmxvd0NhbmNlbGxhdGlvbkVycm9yPUR0LHQuT2JzZXJ2YWJsZU1hcD1ZaSx0Lk9ic2VydmFibGVTZXQ9aXIsdC5SZWFjdGlvbj1BaSx0Ll9hbGxvd1N0YXRlQ2hhbmdlcz11dCx0Ll9hbGxvd1N0YXRlQ2hhbmdlc0luc2lkZUNvbXB1dGVkPU50LHQuX2FsbG93U3RhdGVSZWFkc0VuZD15dCx0Ll9hbGxvd1N0YXRlUmVhZHNTdGFydD1idCx0Ll9hdXRvQWN0aW9uPVRpLHQuX2VuZEFjdGlvbj1ldCx0Ll9nZXRBZG1pbmlzdHJhdGlvbj1Pbix0Ll9nZXRHbG9iYWxTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBnaX0sdC5faW50ZXJjZXB0UmVhZHM9ZnVuY3Rpb24odCxuLGkpe3ZhciByO3JldHVybiBRaSh0KXx8aG4odCl8fGxpKHQpP3I9T24odCk6ZG4odCkmJihyPU9uKHQsbikpLHIuZGVoYW5jZXI9ImZ1bmN0aW9uIj09dHlwZW9mIG4/bjppLGZ1bmN0aW9uKCl7ci5kZWhhbmNlcj12b2lkIDB9fSx0Ll9pc0NvbXB1dGluZ0Rlcml2YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PWdpLnRyYWNraW5nRGVyaXZhdGlvbn0sdC5fcmVzZXRHbG9iYWxTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBqaTtmb3IodmFyIG4gaW4gdCktMT09PXdpLmluZGV4T2YobikmJihnaVtuXT10W25dKTtnaS5hbGxvd1N0YXRlQ2hhbmdlcz0hZ2kuZW5mb3JjZUFjdGlvbnN9LHQuX3N0YXJ0QWN0aW9uPXJ0LHQuYWN0aW9uPVJpLHQuYXV0b3J1bj1SdCx0LmNvbXBhcmVyPVhuLHQuY29tcHV0ZWQ9dWksdC5jb25maWd1cmU9ZnVuY3Rpb24odCl7ITA9PT10Lmlzb2xhdGVHbG9iYWxTdGF0ZSYmZnVuY3Rpb24oKXtpZigoZ2kucGVuZGluZ1JlYWN0aW9ucy5sZW5ndGh8fGdpLmluQmF0Y2h8fGdpLmlzUnVubmluZ1JlYWN0aW9ucykmJm4oMzYpLF9pPSEwLE9pKXt2YXIgdD1pKCk7MD09LS10Ll9fbW9ieEluc3RhbmNlQ291bnQmJih0Ll9fbW9ieEdsb2JhbHM9dm9pZCAwKSxnaT1uZXcgaml9fSgpO3ZhciByLGUsdT10LnVzZVByb3hpZXMsbz10LmVuZm9yY2VBY3Rpb25zO2lmKHZvaWQgMCE9PXUmJihnaS51c2VQcm94aWVzPSJhbHdheXMiPT09dXx8Im5ldmVyIiE9PXUmJiJ1bmRlZmluZWQiIT10eXBlb2YgUHJveHkpLCJpZmF2YWlsYWJsZSI9PT11JiYoZ2kudmVyaWZ5UHJveGllcz0hMCksdm9pZCAwIT09byl7dmFyIHM9ImFsd2F5cyI9PT1vPyJhbHdheXMiOiJvYnNlcnZlZCI9PT1vO2dpLmVuZm9yY2VBY3Rpb25zPXMsZ2kuYWxsb3dTdGF0ZUNoYW5nZXM9ITAhPT1zJiYiYWx3YXlzIiE9PXN9WyJjb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24iLCJyZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZSIsIm9ic2VydmFibGVSZXF1aXJjdGlvbiBwdCh0KXtpZih0LkMhPT1kaS5JKXt0LkM9ZGkuSTtmb3IodmFyIG49dC5CLGk9bi5sZW5ndGg7aS0tOyluW2ldLlU9ZGkuSX19ZnVuY3Rpb24gbXQodCxuKXt0LkYuYWRkKG4pLHQuVT5uLkMmJih0LlU9bi5DKX1mdW5jdGlvbiB3dCh0LG4pe3QuRi5kZWxldGUobiksMD09PXQuRi5zaXplJiZqdCh0KX1mdW5jdGlvbiBqdCh0KXshMT09PXQuJCYmKHQuJD0hMCxnaS5wZW5kaW5nVW5vYnNlcnZhdGlvbnMucHVzaCh0KSl9ZnVuY3Rpb24gT3QoKXtnaS5pbkJhdGNoKyt9ZnVuY3Rpb24gX3QoKXtpZigwPT0tLWdpLmluQmF0Y2gpe1N0KCk7Zm9yKHZhciB0PWdpLnBlbmRpbmdVbm9ic2VydmF0aW9ucyxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS4kPSExLDA9PT1pLkYuc2l6ZSYmKGkuSiYmKGkuSj0hMSxpLm9uQlVPKCkpLGkgaW5zdGFuY2VvZiB5aSYmaS5ZKCkpfWdpLnBlbmRpbmdVbm9ic2VydmF0aW9ucz1bXX19ZnVuY3Rpb24gZ3QodCl7dmFyIG49Z2kudHJhY2tpbmdEZXJpdmF0aW9uO3JldHVybiBudWxsIT09bj8obi5HIT09dC5aJiYodC5aPW4uRyxuLldbbi5xKytdPXQsIXQuSiYmZ2kudHJhY2tpbmdDb250ZXh0JiYodC5KPSEwLHQub25CTygpKSksdC5KKTooMD09PXQuRi5zaXplJiZnaS5pbkJhdGNoPjAmJmp0KHQpLCExKX1mdW5jdGlvbiBBdCh0KXt0LlUhPT1kaS5QJiYodC5VPWRpLlAsdC5GLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuQz09PWRpLkkmJnQuWCgpLHQuQz1kaS5QfSkpKX1mdW5jdGlvbiBTdCgpe2dpLmluQmF0Y2g+MHx8Z2kuaXNSdW5uaW5nUmVhY3Rpb25zfHxTaSh4dCl9ZnVuY3Rpb24geHQoKXtnaS5pc1J1bm5pbmdSZWFjdGlvbnM9ITA7Zm9yKHZhciB0PWdpLnBlbmRpbmdSZWFjdGlvbnMsbj0wO3QubGVuZ3RoPjA7KXsxMDA9PSsrbiYmKGNvbnNvbGUuZXJyb3IoIlttb2J4XSBjeWNsZSBpbiByZWFjdGlvbjogIit0WzBdKSx0LnNwbGljZSgwKSk7Zm9yKHZhciBpPXQuc3BsaWNlKDApLHI9MCxlPWkubGVuZ3RoO3I8ZTtyKyspaVtyXS50dCgpfWdpLmlzUnVubmluZ1JlYWN0aW9ucz0hMX1mdW5jdGlvbiBNdCgpe3JldHVybiBjb25zb2xlLndhcm4oIlttb2J4LnNweV0gSXMgYSBuby1vcCBpbiBwcm9kdWN0aW9uIGJ1aWxkcyIpLGZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBFdCh0KXtyZXR1cm4gZnVuY3Rpb24obixpKXtyZXR1cm4gdShuKT9udChuLm5hbWV8fCI8dW5uYW1lZCBhY3Rpb24+IixuLHQpOnUoaSk/bnQobixpLHQpOngoaSk/KHQ/Tmk6TWkpLnQobixpKTpvKGkpP1MobixpLHQ/Tmk6TWkpOm8obik/QShWKHQ/ImF1dG9BY3Rpb24iOiJhY3Rpb24iLHtuYW1lOm4sYXV0b0FjdGlvbjp0fSkpOnZvaWQgMH19ZnVuY3Rpb24gTnQodCl7cmV0dXJuIGl0KDAsITEsdCx0aGlzLHZvaWQgMCl9ZnVuY3Rpb24gVnQodCl7cmV0dXJuIHUodCkmJiEwPT09dC5pc01vYnhBY3Rpb259ZnVuY3Rpb24gUnQodCxuKXtmdW5jdGlvbiBpKCl7dChmKX12YXIgcixlLHUsbyxzO3ZvaWQgMD09PW4mJihuPUxuKTt2YXIgZixjPW51bGwhPShyPW51bGw9PShlPW4pP3ZvaWQgMDplLm5hbWUpP3I6IkF1dG9ydW4iO2lmKG4uc2NoZWR1bGVyfHxuLmRlbGF5KXt2YXIgYT1UdChuKSxoPSExO2Y9bmV3IEFpKGMsKGZ1bmN0aW9uKCl7aHx8KGg9ITAsYSgoZnVuY3Rpb24oKXtoPSExLGYubnR8fGYudHIuX2NvbXB1dGVHcmlkTGluZUl0ZW1zKHQpKTtsZXQgbixvO2NvbnN0IGE9KHQsZSxzKT0+e3Mud2lkdGgmJnMuY29sb3ImJihpLnNhdmUoKSxpLmxpbmVXaWR0aD1zLndpZHRoLGkuc3Ryb2tlU3R5bGU9cy5jb2xvcixpLnNldExpbmVEYXNoKHMuYm9yZGVyRGFzaHx8W10pLGkubGluZURhc2hPZmZzZXQ9cy5ib3JkZXJEYXNoT2Zmc2V0LGkuYmVnaW5QYXRoKCksaS5tb3ZlVG8odC54LHQueSksaS5saW5lVG8oZS54LGUueSksaS5zdHJva2UoKSxpLnJlc3RvcmUoKSl9O2lmKGUuZGlzcGxheSlmb3Iobj0wLG89cy5sZW5ndGg7bjxvOysrbil7Y29uc3QgdD1zW25dO2UuZHJhd09uQ2hhcnRBcmVhJiZhKHt4OnQueDEseTp0LnkxfSx7eDp0LngyLHk6dC55Mn0sdCksZS5kcmF3VGlja3MmJmEoe3g6dC50eDEseTp0LnR5MX0se3g6dC50eDIseTp0LnR5Mn0se2NvbG9yOnQudGlja0NvbG9yLHdpZHRoOnQudGlja1dpZHRoLGJvcmRlckRhc2g6dC50aWNrQm9yZGVyRGFzaCxib3JkZXJEYXNoT2Zmc2V0OnQudGlja0JvcmRlckRhc2hPZmZzZXR9KX19ZHJhd0JvcmRlcigpe2NvbnN0e2NoYXJ0OnQsY3R4OmUsb3B0aW9uczp7Ym9yZGVyOmksZ3JpZDpzfX09dGhpcyxuPWkuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSksbz1pLmRpc3BsYXk/bi53aWR0aDowO2lmKCFvKXJldHVybjtjb25zdCBhPXMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoMCkpLmxpbmVXaWR0aCxyPXRoaXMuX2JvcmRlclZhbHVlO2xldCBsLGgsYyxkO3RoaXMuaXNIb3Jpem9udGFsKCk/KGw9QWUodCx0aGlzLmxlZnQsbyktby8yLGg9QWUodCx0aGlzLnJpZ2h0LGEpK2EvMixjPWQ9cik6KGM9QWUodCx0aGlzLnRvcCxvKS1vLzIsZD1BZSh0LHRoaXMuYm90dG9tLGEpK2EvMixsPWg9ciksZS5zYXZlKCksZS5saW5lV2lkdGg9bi53aWR0aCxlLnN0cm9rZVN0eWxlPW4uY29sb3IsZS5iZWdpblBhdGgoKSxlLm1vdmVUbyhsLGMpLGUubGluZVRvKGgsZCksZS5zdHJva2UoKSxlLnJlc3RvcmUoKX1kcmF3TGFiZWxzKHQpe2lmKCF0aGlzLm9wdGlvbnMudGlja3MuZGlzcGxheSlyZXR1cm47Y29uc3QgZT10aGlzLmN0eCxpPXRoaXMuX2NvbXB1dGVMYWJlbEFyZWEoKTtpJiZJZShlLGkpO2NvbnN0IHM9dGhpcy5nZXRMYWJlbEl0ZW1zKHQpO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IGk9dC5vcHRpb25zLHM9dC5mb250O05lKGUsdC5sYWJlbCwwLHQudGV4dE9mZnNldCxzLGkpfWkmJnplKGUpfWRyYXdUaXRsZSgpe2NvbnN0e2N0eDp0LG9wdGlvbnM6e3Bvc2l0aW9uOmUsdGl0bGU6aSxyZXZlcnNlOnN9fT10aGlzO2lmKCFpLmRpc3BsYXkpcmV0dXJuO2NvbnN0IGE9U2koaS5mb250KSxyPWtpKGkucGFkZGluZyksbD1pLmFsaWduO2xldCBoPWEubGluZUhlaWdodC8yOyJib3R0b20iPT09ZXx8ImNlbnRlciI9PT1lfHxvKGUpPyhoKz1yLmJvdHRvbSxuKGkudGV4dCkmJihoKz1hLmxpbmVIZWlnaHQqKGkudGV4dC5sZW5ndGgtMSkpKTpoKz1yLnRvcDtjb25zdHt0aXRsZVg6Yyx0aXRsZVk6ZCxtYXhXaWR0aDp1LHJvdGF0aW9uOmZ9PWZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0e3RvcDpuLGxlZnQ6YSxib3R0b206cixyaWdodDpsLGNoYXJ0Omh9PXQse2NoYXJ0QXJlYTpjLHNjYWxlczpkfT1oO2xldCB1LGYsZyxwPTA7Y29uc3QgbT1yLW4sYj1sLWE7aWYodC5pc0hvcmlvZGU9c0wodCx1LG4sciwwPT09cD92b2lkIDA6cCxpLHMsISFoLCExLGMsZS5sb2MpfTtmdW5jdGlvbiBhYyhlLHQsbj1lLnByb3BzLHIsaSxsPSExKXtsZXQgcyx7dGFnOm8sbG9jOmEsY2hpbGRyZW46Y309ZSx1PVtdLGQ9W10scD1bXSxoPWMubGVuZ3RoPjAsZj0hMSxtPTAsZz0hMSx5PSExLGI9ITEsXz0hMSxTPSExLHg9ITEsaz1bXSxUPWU9Pnt1Lmxlbmd0aCYmKGQucHVzaChzRChhdSh1KSxhKSksdT1bXSksZSYmZC5wdXNoKGUpfSx3PSgpPT57dC5zY29wZXMudkZvcj4wJiZ1LnB1c2goc0Yoc1YoInJlZl9mb3IiLCEwKSxzVigidHJ1ZSIpKSl9LE49KHtrZXk6ZSx2YWx1ZTpufSk9PntpZihzMShlKSl7bGV0IGw9ZS5jb250ZW50LHM9QyhsKTtzJiYoIXJ8fGkpJiYib25jbGljayIhPT1sLnRvTG93ZXJDYXNlKCkmJiJvblVwZGF0ZTptb2RlbFZhbHVlIiE9PWwmJiFEKGwpJiYoXz0hMCkscyYmRChsKSYmKHg9ITApLHMmJjE0PT09bi50eXBlJiYobj1uLmFyZ3VtZW50c1swXSksMjA9PT1uLnR5cGV8fCg0PT09bi50eXBlfHw4PT09bi50eXBlKSYmb3oobix0KT4wfHwoInJlZiI9PT1sP2c9ITA6ImNsYXNzIj09PWw/eT0hMDoic3R5bGUiPT09bD9iPSEwOiJrZXkiPT09bHx8ay5pbmNsdWRlcyhsKXx8ay5wdXNoKGwpLHImJigiY2xhc3MiPT09bHx8InN0eWxlIj09PWwpJiYhay5pbmNsdWRlcyhsKSYmay5wdXNoKGwpKX1lbHNlIFM9ITB9O2ZvcihsZXQgaT0wO2k8bi5sZW5ndGg7aSsrKXtsZXQgcz1uW2ldO2lmKDY9PT1zLnR5cGUpe2xldHtsb2M6ZSxuYW1lOnQsbmFtZUxvYzpuLHZhbHVlOnJ9PXM7aWYoInJlZiI9PT10JiYoZz0hMCx3KCkpLCJpcyI9PT10JiYoYWQobyl8fHImJnIuY29udGVudC5zdGFydHNXaXRoKCJ2dWU6IikpKWNvbnRpbnVlO3UucHVzaChzRihzVih0LCEwLG4pLHNWKHI/ci5jb250ZW50OiIiLCEwLHI/ci5sb2M6ZSkpKX1lbHNle2xldHtuYW1lOm4sYXJnOmksZXhwOmMsbG9jOmcsbW9kaWZpZXJzOnl9PXMsYj0iYmluZCI9PT1uLF89Im9uIj09PW47aWYoInNsb3QiPT09bil7cnx8dC5vbkVycm9yKHMwKDQwLGcpKTtjb250aW51ZX1pZigib25jZSI9PT1ufHwibWVtbyI9PT1ufHwiaXMiPT09bnx8YiYmb24oaSwiaXMiKSYmYWQobyl8fF8mJmwpY29udGludWU7aWYoKGImJm9uKGksImtleSIpfHxfJiZoJiZvbihpLCJ2dWU6YmVmb3JlLXVwZGF0ZSIpKSYmKGY9ITApLGImJm9uKGksInJlZiIpJiZ3KCksIWkmJihifHxfKSl7Uz0hMCxjP2I/KHcoKSxUKCksZC5wdXNoKGMpKTpUKHt0eXBlOjE0LGxvYzpnLGNhbGxlZTp0LmhlbHBlcihzUyksYXJndW1lbnRzOnI/W2NdOltjLCJ0cnVlIl19KTp0Lm9uRXJyb3IoczAoYj8zNDozNSxnKSk7Y29udGludWV9YiYmeS5zb21lKGU9PiJwcm9wIj09PWUuY29udGVudCkmJihtfD0zMik7bGV0IHg9dC5kaXJlY3RpdmVUcmFuc2Zvcm1zW25dO2lmKHgpe2xldHtwcm9wczpuLG5lZWRSdW50aW1lOnJ9PXgocyxlLHQpO2x8fG4uZm9yRWFjaChOKSxfJiZpJiYhczEoaSk/VChzRChuLGEpKTp1LnB1c2goLi4ubiksciYmKHAucHVzaChzKSxSKHIpJiZhby5zZXQocyxyKSl9ZWxzZSFGKG4pJiYocC5wdXNoKHMpLGgmJihmPSEwKSl9fWlmKGQubGVuZ3RoPyhUKCkscz1kLmxlbmd0aD4xP3NCKHQuaGVscGVyKHNnKSxkLGEpOmRbMF0pOnUubGVuZ3RoJiYocz1zRChhdSgzMix0LmxvYykpO2FuKGkpO2xldHtzY29wZXM6bH09bix7c291cmNlOnMsdmFsdWU6byxrZXk6YSxpbmRleDpjfT1pLHU9e3R5cGU6MTEsbG9jOnQubG9jLHNvdXJjZTpzLHZhbHVlQWxpYXM6byxrZXlBbGlhczphLG9iamVjdEluZGV4QWxpYXM6YyxwYXJzZVJlc3VsdDppLGNoaWxkcmVuOm9zKGUpP2UuY2hpbGRyZW46W2VdfTtuLnJlcGxhY2VOb2RlKHUpLGwudkZvcisrO2xldCBkPXImJnIodSk7cmV0dXJuKCk9PntsLnZGb3ItLSxkJiZkKCl9fShlLHQsbix0PT57bGV0IGw9c0IocihzcCksW3Quc291cmNlXSkscz1vcyhlKSxvPW9lKGUsIm1lbW8iKSxhPW90KGUsImtleSIsITEsITApO2EmJmEudHlwZTtsZXQgYz1hJiYoNj09PWEudHlwZT9hLnZhbHVlP3NWKGEudmFsdWUuY29udGVudCwhMCk6dm9pZCAwOmEuZXhwKSx1PWEmJmM/c0YoImtleSIsYyk6bnVsbCxkPTQ9PT10LnNvdXJjZS50eXBlJiZ0LnNvdXJjZS5jb25zdFR5cGU+MCxwPWQ/NjQ6YT8xMjg6MjU2O3JldHVybiB0LmNvZGVnZW5Ob2RlPXNMKG4scihsMyksdm9pZCAwLGwscCx2b2lkIDAsdm9pZCAwLCEwLCFkLCExLGUubG9jKSwoKT0+e2xldCBhLHtjaGlsZHJlbjpwfT10LGg9MSE9PXAubGVuZ3RofHwxIT09cFswXS50eXBlLGY9b28oZSk/ZTpzJiYxPT09ZS5jaGlsZHJlbi5sZW5ndGgmJm9vKGUuY2hpbGRyZW5bMF0pP2UuY2hpbGRyZW5bMF06bnVsbDtpZihmKWE9Zi5jb2RlZ2VuTm9kZSxzJiZ1JiZvYyhhLHUsbik7ZWxzZSBpZihoKWE9c0wobixyKGwzKSx1P3NEKFt1XSk6dm9pZCAwLGUuY2hpbGRyZW4sNjQsdm9pZCAwLHZvaWQgMCwhMCx2b2lkIDAsITEpO2Vsc2V7dmFyIG0sZyx5LGIsXyxTLHgsQzthPXBbMF0uY29kZWdlbk5vZGUscyYmdSYmb2MoYSx1LG4pLCFkIT09YS5pc0Jsb2NrJiYoYS5pc0Jsb2NrPyhpKGw3KSxpKChtPW4uaW5TU1IsZz1hLmlzQ29tcG9uZW50LG18fGc/c2U6c3QpKSk6aSgoeT1uLmluU1NSLGI9YS5pc0NvbXBvbmVudCx5fHxiP3NuOnNyKSkpLChhLmlzQmxvY2s9IWQsYS5pc0Jsb2NrKT8ocihsNykscigoXz1uLmluU1NSLFM9YS5pc0NvbXBvbmVudCxffHxTP3NlOnN0KSkpOnIoKHg9bi5pblNTUixDPWEuaXNDb21wb25lbnQseHx8Qz9zbjpzcikpfWlmKG8pe2xldCBlPXNVKGFyKHQucGFyc2VSZXN1bHQsW3NWKCJfY2FjaGVkIildKSk7ZS5ib2R5PXt0eXBlOjIxLGJvZHk6W3NqKFsiY29uc3QgX21lbW8gPSAoIixvLmV4cCwiKSJdKSxzaihbImlmIChfY2FjaGVkIiwuLi5jP1siICYmIF9jYWNoZWQua2V5ID09PSAiLGNdOltdLGAgJiYgJHtuLmhlbHBlclN0cmluZyhzUil9KF9jYWNoZWQsIF9tZW1vKSkgcmV0dXJuIF9jYWNoZWRgXSksc2ooWyJjb25zdCBfaXRlbSA9ICIsYV0pLHNWKCJfaXRlbS5tZW1vID0gX21lbW8iKSxzVigicmV0dXJuIF9pdGVtIildLGxvYzpzUH0sbC5hcmd1bWVudHMucHVzaChlLHNWKCJfY2FjaGUiKSxzVihTdHJpbmcobi5jYWNoZWQubGVuZ3RoKSkpLG4uY2FjaGVkLnB1c2gobnVsbCl9ZWxzZSBsLmFyZ3VtZW50cy5wdXNoKHNVKGFyKHQucGFyc2VSZXN1bHQpLGEsITApKX19KX0pO2Z1bmN0aW9uIGFuKGUsdCl7ZS5maW5hbGl6ZWR8fChlLmZpbmFsaXplZD0hMCl9ZnVuY3Rpb24gYXIoe3ZhbHVlOmUsa2V5OnQsaW5kZXg6bn0scj1bXSl7dmFyIGk9W2UsdCxuLC4uLnJdO2xldCBsPWkubGVyb3ZpZGVzOnZvaWQgMDtpZihpJiZlIGluIGkpcmV0dXJuIGlbZV07aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiBuJiZJKHQpP3QuY2FsbChyJiZyLnByb3h5KTp0fX1sZXQgdDU9U3ltYm9sLmZvcigidi1zY3giKTtmdW5jdGlvbiB0OShlLHQpe3JldHVybiB0NyhlLG51bGwse2ZsdXNoOiJzeW5jIn0pfWZ1bmN0aW9uIHQ3KGUsdCxuPWIpe2xldHtmbHVzaDpyfT1uLGk9VCh7fSxuKSxzPWlrO2kuY2FsbD0oZSx0LG4pPT50RihlLHMsdCxuKTtsZXQgbz0hMTtyZXR1cm4icG9zdCI9PT1yP2kuc2NoZWR1bGVyPWU9PntySChlLHMmJnMuc3VzcGVuc2UpfToic3luYyIhPT1yJiYobz0hMCxpLnNjaGVkdWxlcj0oZSx0KT0+e3Q/ZSgpOnRKKGUpfSksaS5hdWdtZW50Sm9iPWU9Pnt0JiYoZS5mbGFnc3w9NCksbyYmKGUuZmxhZ3N8PTIscyYmKGUuaWQ9cy51aWQsZS5pPXMpKX0sZnVuY3Rpb24oZSx0LG49Yil7bGV0IHIsaSxzLG8se2ltbWVkaWF0ZTphLGRlZXA6YyxvbmNlOnUsc2NoZWR1bGVyOmQsYXVnbWVudEpvYjpwLGNhbGw6aH09bixmPWU9PmM/ZTp0ZihlKXx8ITE9PT1jfHwwPT09Yz90JChlLDEpOnQkKGUpLGc9ITEseT0hMTtpZih0XyhlKT8oaT0oKT0+ZS52YWx1ZSxnPXRmKGUpKTp0cChlKT8oaT0oKT0+ZihlKSxnPSEwKTpFKGUpPyh5PSEwLGc9ZS5zb21lKGU9PnRwKGUpfHx0ZihlKSksaT0oKT0+ZS5tYXAoZT0+dF8oZSk/ZS52YWx1ZTp0cChlKT9mKGUpOkkoZSk/aD9oKGUsMik6ZSgpOnZvaWQgMCkpOmk9SShlKT90P2g/KCk9PmgoZSwyKTplOigpPT57aWYocyl7ZUUoKTt0cnl7cygpfWZpbmFsbHl7ZUkoKX19bGV0IHQ9bTttPXI7dHJ5e3JldHVybiBoP2goZSwzLFtvXSk6ZShvKX1maW5hbGx5e209dH19OlMsdCYmYyl7bGV0IGU9aSx0PSEwPT09Yz8xLzA6YztpPSgpPT50JChlKCksdCl9bGV0IF89bCx4PSgpPT57ci5zdG9wKCksXyYmXy5hY3RpdmUmJncoXy5lZmZlY3RzLHIpfTtpZih1JiZ0KXtsZXQgZT10O3Q9KC4uLnQpPT57ZSguLi50KSx4KCl9fWxldCBDPXk/QXJyYXkoZS5sZW5ndGgpLmZpbGwodE0pOnRNLGs9ZT0+e2lmKDEmci5mbGFncyYmKHIuZGlydHl8fGUpKWlmKHQpe2xldCBlPXIucnVuKCk7aWYoY3x8Z3x8KHk/ZS5zb21lKChlLHQpPT5LKGUsQ1t0XSkpOksoZSxDKSkpe3MmJnMoKTtsZXQgbj1tO209cjt0cnl7bGV0IG49W2UsQz09PXRNP3ZvaWQgMDp5JiZDWzBdPT09dE0/W106QyxvXTtDPWUsaD9oKHQsMyxuKTp0KC4uLm4pfWZpbmFsbHl7bT1ufX19ZWxzZSByLnJ1bigpfTtyZXR1cm4gcCYmcChrKSwocj1uZXcgZXkoaSkpLnNjaGVkdWxlcj1kPygpPT5kKGssITEpOmssbz1lPT50TChlLCExLHIpLHM9ci5vblN0b3A9KCk9PntsZXQgZT10UC5nZXQocik7aWYoZSl7aWYoaCloKGUsNCk7ZWxzZSBmb3IobGV0IHQgb2YgZSl0KCk7dFAuZGVsZXRlKHIpfX0sdD9hP2soITApOkM9ci5ydW4oKTpkP2Qoay5iaW5kKG51bGwsITApLCEwKTpyLnJ1bigpLHgucGF1c2U9ci5wYXVzZS5iaW5kKHIpLHgucmVzdW1lPXIucmVzdW1lLmJpbmQocikseC5zdG9wPXgseH0oZSx0LGkpfWZ1bmN0aW9uIG5lKGUsdCxuKXtsZXQgcixpPXRoaXMucHJveHksbD1PKGUpP2UuaW5jbHVkZXMoIi4iKT9udChpLGUpOigpPT5pW2VdOmUuYmluZChpLGkpO0kodCk/cj10OihyPXQuaGFuZGxlcixuPXQpO2xldCBzPWluIHRoaXMuZ3R8fFtdfSxvLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZ3QmJnRoaXMuZ3QubGVuZ3RoKXt2YXIgbixpPXIodGhpcy5ndC5zbGljZSgpKTt0cnl7Zm9yKGkucygpOyEobj1pLm4oKSkuZG9uZTspe24udmFsdWUuYXBwbHkodGhpcyx0LmRhdGEpfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX19fSxpKG4sW3trZXk6ImRpc2Nvbm5lY3RlZCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuY29ubmVjdGVkfX0se2tleToiYWN0aXZlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc3Vic319LHtrZXk6InZvbGF0aWxlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mbGFncy52b2xhdGlsZT0hMCx0aGlzfX1dKX0oSSk7ZnVuY3Rpb24gX3QodCl7dD10fHx7fSx0aGlzLm1zPXQubWlufHwxMDAsdGhpcy5tYXg9dC5tYXh8fDFlNCx0aGlzLmZhY3Rvcj10LmZhY3Rvcnx8Mix0aGlzLmppdHRlcj10LmppdHRlcj4wJiZ0LmppdHRlcjw9MT90LmppdHRlcjowLHRoaXMuYXR0ZW1wdHM9MH1fdC5wcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1zKk1hdGgucG93KHRoaXMuZmFjdG9yLHRoaXMuYXR0ZW1wdHMrKyk7aWYodGhpcy5qaXR0ZXIpe3ZhciBuPU1hdGgucmFuZG9tKCksaT1NYXRoLmZsb29yKG4qdGhpcy5qaXR0ZXIqdCk7dD0xJk1hdGguZmxvb3IoMTAqbik/dCtpOnQtaX1yZXR1cm4gMHxNYXRoLm1pbih0LHRoaXMubWF4KX0sX3QucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdHRlbXB0cz0wfSxfdC5wcm90b3R5cGUuc2V0TWluPWZ1bmN0aW9uKHQpe3RoaXMubXM9dH0sX3QucHJvdG90eXBlLnNldE1heD1mdW5jdGlvbih0KXt0aGlzLm1heD10fSxfdC5wcm90b3R5cGUuc2V0Sml0dGVyPWZ1bmN0aW9uKHQpe3RoaXMuaml0dGVyPXR9O3ZhciBEdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4saSl7dmFyIHIsZTsocj10LmNhbGwodGhpcyl8fHRoaXMpLm5zcHM9e30sci5zdWJzPVtdLG4mJiJvYmplY3QiPT09YyhuKSYmKGk9bixuPXZvaWQgMCksKGk9aXx8e30pLnBhdGg9aS5wYXRofHwiL3NvY2tldC5pbyIsci5vcHRzPWksJChyLGkpLHIucmVjb25uZWN0aW9uKCExIT09aS5yZWNvbm5lY3Rpb24pLHIucmVjb25uZWN0aW9uQXR0ZW1wdHMoaS5yZWNvbm5lY3Rpb25BdHRlbXB0c3x8MS8wKSxyLnJlY29ubmVjdGlvbkRlbGF5KGkucmVjb25uZWN0aW9uRGVsYXl8fDFlMyksci5yZWNvbm5lY3Rpb25EZWxheU1heChpLnJlY29ubmVjdGlvbkRlbGF5TWF4fHw1ZTMpLHIucmFuZG9taXphdGlvbkZhY3RvcihudWxsIT09KGU9aS5yYW5kb21pemF0aW9uRmFjdG9yKSYmdm9pZCAwIT09ZT9lOi41KSxyLmJhY2tvZmY9bmV3IF90KHttaW46ci5yZWNvbm5lY3Rpb25EZWxheSgpLG1heDpyLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksaml0dGVyOnIucmFuZG9taXphdGlvbkZhY3RvcigpfSksci50aW1lb3V0KG51bGw9PWkudGltZW91dD8yZTQ6aS50aW1lb3V0KSxyLnN0PSJjbG9zZWQiLHIudXJpPW47dmFyIG89aS5wYXJzZXJ8fHh0O3JldHVybiByLmVuY29kZXI9bmV3IG8uRW5jb2RlcixyLmRlY29kZXI9bmV3IG8uRGVjb2RlcixyLmV0PSExIT09aS5hdXRvQ29ubmVjdCxyLmV0JiZyLm9wZW4oKSxyfXMobix0KTt2YXIgaT1uLnByb3R1bGwhPT1jOyl7dmFyIGQ9YztWZShkKTtzd2l0Y2goZC50YWcpe2Nhc2UgMTpkPWQudHlwZS5jaGlsZENvbnRleHRUeXBlcztudWxsIT09ZCYmdm9pZCAwIT09ZCYmKHcoUyksdyhKKSk7YnJlYWs7Y2FzZSAzOlRiKCk7dyhTKTt3KEopO2xmKCk7YnJlYWs7Y2FzZSA1OmtmKGQpO2JyZWFrO2Nhc2UgNDpUYigpO2JyZWFrO2Nhc2UgMTM6dyhHKTticmVhazsKY2FzZSAxOTp3KEcpO2JyZWFrO2Nhc2UgMTA6YWYoZC50eXBlLl9jb250ZXh0KTticmVhaztjYXNlIDIyOmNhc2UgMjM6YmE9R2EuY3VycmVudCx3KEdhKX1jPWMucmV0dXJufU89YTtJPWE9Z2IoYS5jdXJyZW50LG51bGwpO1U9YmE9YjtMPTA7SmM9bnVsbDtTZj1NZD1yYT0wO2phPUtjPW51bGw7aWYobnVsbCE9PXRiKXtmb3IoYj0wO2I8dGIubGVuZ3RoO2IrKylpZihjPXRiW2JdLGQ9Yy5pbnRlcmxlYXZlZCxudWxsIT09ZCl7Yy5pbnRlcmxlYXZlZD1udWxsO3ZhciBlPWQubmV4dCxmPWMucGVuZGluZztpZihudWxsIT09Zil7dmFyIGc9Zi5uZXh0O2YubmV4dD1lO2QubmV4dD1nfWMucGVuZGluZz1kfXRiPW51bGx9cmV0dXJuIGF9ZnVuY3Rpb24gUWkoYSxiKXtkb3t2YXIgYz1JO3RyeXtaZSgpO3pkLmN1cnJlbnQ9QWQ7aWYoQmQpe2Zvcih2YXIgZD1DLm1lbW9pemVkU3RhdGU7bnVsbCE9PWQ7KXt2YXIgZT1kLnF1ZXVlO251bGwhPT1lJiYoZS5wZW5kaW5nPW51bGwpO2Q9ZC5uZXh0fUJkPQohMX13Yj0wO049Sz1DPW51bGw7emM9ITE7QWM9MDtVZi5jdXJyZW50PW51bGw7aWYobnVsbD09PWN8fG51bGw9PT1jLnJldHVybil7TD0xO0pjPWI7ST1udWxsO2JyZWFrfWE6e3ZhciBmPWEsZz1jLnJldHVybixoPWMsaz1iO2I9VTtoLmZsYWdzfD0zMjc2ODtpZihudWxsIT09ayYmIm9iamVjdCI9PT10eXBlb2YgayYmImZ1bmN0aW9uIj09PXR5cGVvZiBrLnRoZW4pe3ZhciBtPWssbD1oLHA9bC50YWc7aWYoMD09PShsLm1vZGUmMSkmJigwPT09cHx8MTE9PT1wfHwxNT09PXApKXt2YXIgcj1sLmFsdGVybmF0ZTtyPyhsLnVwZGF0ZVF1ZXVlPXIudXBkYXRlUXVldWUsbC5tZW1vaXplZFN0YXRlPXIubWVtb2l6ZWRTdGF0ZSxsLmxhbmVzPXIubGFuZXMpOihsLnVwZGF0ZVF1ZXVlPW51bGwsbC5tZW1vaXplZFN0YXRlPW51bGwpfXZhciB3PWtpKGcpO2lmKG51bGwhPT13KXt3LmZsYWdzJj0tMjU3O2xpKHcsZyxoLGYsYik7dy5tb2RlJjEmJmppKGYsbSxiKTtiPXc7az1tO3ZhciB4PWIudXBkYXRlUXVldWU7CmlmKG51bGw9PT14KXt2YXIgej1uZXcgU2V0O3ouYWRkKGspO2IudXBkYXRlUXVldWU9en1lbHNlIHguYWRkKGspO2JyZWFrIGF9ZWxzZXtpZigwPT09KGImMSkpe2ppKGYsbSxiKTtFZigpO2JyZWFrIGF9az1FcnJvcihuKDQyNikpfX1lbHNlIGlmKEQmJmgubW9kZSYxKXt2YXIgeT1raShnKTtpZihudWxsIT09eSl7MD09PSh5LmZsYWdzJjY1NTM2KSYmKHkuZmxhZ3N8PTI1Nik7bGkoeSxnLGgsZixiKTtZZShVYihrLGgpKTticmVhayBhfX1mPWs9VWIoayxoKTs0IT09TCYmKEw9Mik7bnVsbD09PUtjP0tjPVtmXTpLYy5wdXNoKGYpO2Y9Zztkb3tzd2l0Y2goZi50YWcpe2Nhc2UgMzpmLmZsYWdzfD02NTUzNjtiJj0tYjtmLmxhbmVzfD1iO3ZhciBBPWhpKGYsayxiKTtFaChmLEEpO2JyZWFrIGE7Y2FzZSAxOmg9azt2YXIgdj1mLnR5cGUscT1mLnN0YXRlTm9kZTtpZigwPT1lZENoaWxkQ29udGV4dD1hLHcoUyksdyhKKSx5KEosYSkpOncoUyk7CnkoUyxjKX1mdW5jdGlvbiB3aChhKXtudWxsPT09TGE/TGE9W2FdOkxhLnB1c2goYSl9ZnVuY3Rpb24ga2soYSl7bWQ9ITA7d2goYSl9ZnVuY3Rpb24gZGIoKXtpZighVGUmJm51bGwhPT1MYSl7VGU9ITA7dmFyIGE9MCxiPXo7dHJ5e3ZhciBjPUxhO2Zvcih6PTE7YTxjLmxlbmd0aDthKyspe3ZhciBkPWNbYV07ZG8gZD1kKCEwKTt3aGlsZShudWxsIT09ZCl9TGE9bnVsbDttZD0hMX1jYXRjaChlKXt0aHJvdyBudWxsIT09TGEmJihMYT1MYS5zbGljZShhKzEpKSx4aChEZSxkYiksZTt9ZmluYWxseXt6PWIsVGU9ITF9fXJldHVybiBudWxsfWZ1bmN0aW9uIHJiKGEsYil7T2JbUGIrK109bmQ7T2JbUGIrK109b2Q7b2Q9YTtuZD1ifWZ1bmN0aW9uIHloKGEsYixjKXtuYVtvYSsrXT1NYTtuYVtvYSsrXT1OYTtuYVtvYSsrXT1zYjtzYj1hO3ZhciBkPU1hO2E9TmE7dmFyIGU9MzItdGEoZCktMTtkJj1+KDE8PGUpO2MrPTE7dmFyIGY9MzItdGEoYikrZTtpZigzMDxmKXt2YXIgZz1lLWUlNTsKZj0oZCYoMTw8ZyktMSkudG9TdHJpbmcoMzIpO2Q+Pj1nO2UtPWc7TWE9MTw8MzItdGEoYikrZXxjPDxlfGQ7TmE9ZithfWVsc2UgTWE9MTw8ZnxjPDxlfGQsTmE9YX1mdW5jdGlvbiBVZShhKXtudWxsIT09YS5yZXR1cm4mJihyYihhLDEpLHloKGEsMSwwKSl9ZnVuY3Rpb24gVmUoYSl7Zm9yKDthPT09b2Q7KW9kPU9iWy0tUGJdLE9iW1BiXT1udWxsLG5kPU9iWy0tUGJdLE9iW1BiXT1udWxsO2Zvcig7YT09PXNiOylzYj1uYVstLW9hXSxuYVtvYV09bnVsbCxOYT1uYVstLW9hXSxuYVtvYV09bnVsbCxNYT1uYVstLW9hXSxuYVtvYV09bnVsbH1mdW5jdGlvbiB6aChhLGIpe3ZhciBjPXBhKDUsbnVsbCxudWxsLDApO2MuZWxlbWVudFR5cGU9IkRFTEVURUQiO2Muc3RhdGVOb2RlPWI7Yy5yZXR1cm49YTtiPWEuZGVsZXRpb25zO251bGw9PT1iPyhhLmRlbGV0aW9ucz1bY10sYS5mbGFnc3w9MTYpOmIucHVzaChjKX1mdW5jdGlvbiBBaChhLGIpe3N3aXRjaChhLnRhZyl7Y2FzZSA1OnZhciBjPQphLnR5cGU7Yj0xIT09Yi5ub2RlVHlwZXx8Yy50b0xvd2VyQ2FzZSgpIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP251bGw6YjtyZXR1cm4gbnVsbCE9PWI/KGEuc3RhdGVOb2RlPWIsbGE9YSxmYT1LYShiLmZpcnN0Q2hpbGQpLCEwKTohMTtjYXNlIDY6cmV0dXJuIGI9IiI9PT1hLnBlbmRpbmdQcm9wc3x8MyE9PWIubm9kZVR5cGU/bnVsbDpiLG51bGwhPT1iPyhhLnN0YXRlTm9kZT1iLGxhPWEsZmE9bnVsbCwhMCk6ITE7Y2FzZSAxMzpyZXR1cm4gYj04IT09Yi5ub2RlVHlwZT9udWxsOmIsbnVsbCE9PWI/KGM9bnVsbCE9PXNiP3tpZDpNYSxvdmVyZmxvdzpOYX06bnVsbCxhLm1lbW9pemVkU3RhdGU9e2RlaHlkcmF0ZWQ6Yix0cmVlQ29udGV4dDpjLHJldHJ5TGFuZToxMDczNzQxODI0fSxjPXBhKDE4LG51bGwsbnVsbCwwKSxjLnN0YXRlTm9kZT1iLGMucmV0dXJuPWEsYS5jaGlsZD1jLGxhPWEsZmE9bnVsbCwhMCk6ITE7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gV2UoYSl7cmV0dXJuIDAhPT0KKGEubW9kZSYxKSYmMD09PShhLmZsYWdzJjEyOCl9ZnVuY3Rpb24gWGUoYSl7aWYoRCl7dmFyIGI9ZmE7aWYoYil7dmFyIGM9YjtpZighQWgoYSxiKSl7aWYoV2UoYSkpdGhyb3dmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKXtoPWRbZ107az1oLmluc3RhbmNlO209aC5jdXJyZW50VGFyZ2V0O2g9aC5saXN0ZW5lcjtpZihrIT09ZiYmZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrIGE7CmdoKGUsaCxtKTtmPWt9fX1pZihUYyl0aHJvdyBhPXVlLFRjPSExLHVlPW51bGwsYTt9ZnVuY3Rpb24gQihhLGIpe3ZhciBjPWJbTWVdO3ZvaWQgMD09PWMmJihjPWJbTWVdPW5ldyBTZXQpO3ZhciBkPWErIl9fYnViYmxlIjtjLmhhcyhkKXx8KGhoKGIsYSwyLCExKSxjLmFkZChkKSl9ZnVuY3Rpb24gTmUoYSxiLGMpe3ZhciBkPTA7YiYmKGR8PTQpO2hoKGMsYSxkLGIpfWZ1bmN0aW9uIHNjKGEpe2lmKCFhW2lkXSl7YVtpZF09ITA7Y2cuZm9yRWFjaChmdW5jdGlvbihiKXsic2VsZWN0aW9uY2hhbmdlIiE9PWImJihWai5oYXMoYil8fE5lKGIsITEsYSksTmUoYiwhMCxhKSl9KTt2YXIgYj05PT09YS5ub2RlVHlwZT9hOmEub3duZXJEb2N1bWVudDtudWxsPT09Ynx8YltpZF18fChiW2lkXT0hMCxOZSgic2VsZWN0aW9uY2hhbmdlIiwhMSxiKSl9fWZ1bmN0aW9uIGhoKGEsYixjLGQsZSl7c3dpdGNoKExnKGIpKXtjYXNlIDE6ZT1BajticmVhaztjYXNlIDQ6ZT1CajticmVhaztkZWZhdWx0OmU9CkJlfWM9ZS5iaW5kKG51bGwsYixjLGEpO2U9dm9pZCAwOyFPZXx8InRvdWNoc3RhcnQiIT09YiYmInRvdWNobW92ZSIhPT1iJiYid2hlZWwiIT09Ynx8KGU9ITApO2Q/dm9pZCAwIT09ZT9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLHtjYXB0dXJlOiEwLHBhc3NpdmU6ZX0pOmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITApOnZvaWQgMCE9PWU/YS5hZGRFdmVudExpc3RlbmVyKGIsYyx7cGFzc2l2ZTplfSk6YS5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9ZnVuY3Rpb24gQ2UoYSxiLGMsZCxlKXt2YXIgZj1kO2lmKDA9PT0oYiYxKSYmMD09PShiJjIpJiZudWxsIT09ZClhOmZvcig7Oyl7aWYobnVsbD09PWQpcmV0dXJuO3ZhciBnPWQudGFnO2lmKDM9PT1nfHw0PT09Zyl7dmFyIGg9ZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztpZihoPT09ZXx8OD09PWgubm9kZVR5cGUmJmgucGFyZW50Tm9kZT09PWUpYnJlYWs7aWYoND09PWcpZm9yKGc9ZC5yZXR1cm47bnVsbCE9PWc7KXt2YXIgaz1nLnRhZzsKaWYoMz09PWt8fDQ9PT1rKWlmKGs9Zy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyxrPT09ZXx8OD09PWsubm9kZVR5cGUmJmsucGFyZW50Tm9kZT09PWUpcmV0dXJuO2c9Zy5yZXR1cm59Zm9yKDtudWxsIT09aDspe2c9cGIoaCk7aWYobnVsbD09PWcpcmV0dXJuO2s9Zy50YWc7aWYoNT09PWt8fDY9PT1rKXtkPWY9Zztjb250aW51ZSBhfWg9aC5wYXJlbnROb2RlfX1kPWQucmV0dXJufXdnKGZ1bmN0aW9uKCl7dmFyIGQ9ZixlPXJlKGMpLGc9W107YTp7dmFyIGg9ZmguZ2V0KGEpO2lmKHZvaWQgMCE9PWgpe3ZhciBrPUhlLG49YTtzd2l0Y2goYSl7Y2FzZSAia2V5cHJlc3MiOmlmKDA9PT1jZChjKSlicmVhayBhO2Nhc2UgImtleWRvd24iOmNhc2UgImtleXVwIjprPVdqO2JyZWFrO2Nhc2UgImZvY3VzaW4iOm49ImZvY3VzIjtrPVBlO2JyZWFrO2Nhc2UgImZvY3Vzb3V0IjpuPSJibHVyIjtrPVBlO2JyZWFrO2Nhc2UgImJlZm9yZWJsdXIiOmNhc2UgImFmdGVyYmx1ciI6az1QZTticmVhazsKY2FzZSAiY2xpY2siOmlmKDI9PT1jLmJ1dHRvbiltdWwodDMsWDMpO1gzPUZwLnN1YihYMyx0MCk7dDA9RnAubXVsKHQzLHQxKTtaMz1GcC5tdWwodDUsWjMpO1ozPUZwLmFkZChaMyx0MCk7cmV0dXJuIG5ldyBQb2ludChYMyxZMyxaMyl9c3VidHJhY3Qob3RoZXIpe3JldHVybiB0aGlzLmFkZChvdGhlci5uZWdhdGUoKSl9aXMwKCl7cmV0dXJuIHRoaXMuZXF1YWxzKFBvaW50LlpFUk8pfXdOQUYobil7cmV0dXJuIHduYWYud05BRkNhY2hlZCh0aGlzLHBvaW50UHJlY29tcHV0ZXMsbixjb21wPT57Y29uc3QgdG9JbnY9RnAuaW52ZXJ0QmF0Y2goY29tcC5tYXAocD0+cC5weikpO3JldHVybiBjb21wLm1hcCgocCxpKT0+cC50b0FmZmluZSh0b0ludltpXSkpLm1hcChQb2ludC5mcm9tQWZmaW5lKX0pfW11bHRpcGx5VW5zYWZlKG4pe2NvbnN0IEk9UG9pbnQuWkVSTztpZihuPT09XzBuKXJldHVybiBJO2Fzc2VydEdFKG4pO2lmKG49PT1fMW4kMSlyZXR1cm4gdGhpcztjb25zdHtlbmRvfT1DVVJWRTtpZighZW5kbylyZXR1cm4gd25hZi51bnNhZmVMYWRkZXIodGhpcyxuKTtsZXR7azFuZWcsazEsazJuZWcsazJ9PWVuZG8uc3BsaXRTY2FsYXIobik7bGV0IGsxcD1JO2xldCBrMnA9STtsZXQgZD10aGlzO3doaWxlKGsxPl8wbnx8azI+XzBuKXtpZihrMSZfMW4kMSlrMXA9azFwLmFkZChkKTtpZihrMiZfMW4kMSlrMnA9azJwLmFkZChkKTtkPWQuZG91YmxlKCk7azE+Pj1fMW4kMTtrMj4+PV8xbiQxfWlmKGsxbmVnKWsxcD1rMXAubmVnYXRlKCk7aWYoazJuZWcpazJwPWsycC5uZWdhdGUoKTtrMnA9bmV3IFBvaW50KEZwLm11bChrMnAucHgsZW5kby5iZXRhKSxrMnAucHksazJwLnB6KTtyZXR1cm4gazFwLmFkZChrMnApfW11bHRpcGx5KHNjYWxhcil7YXNzZXJ0R0Uoc2NhbGFyKTtsZXQgbj1zY2FsYXI7bGV0IHBvaW50LGZha2U7Y29uc3R7ZW5kb309Q1VSVkU7aWYoZW5kbyl7Y29uc3R7azFuZWcsazEsazJuZWcsazJ9PWVuZG8uc3BsaXRTY2FsYXIobik7bGV0e3A6azFwLGY6ZjFwfT10aGlzLndOQUYoazEpO2xldHtwOmsycCxmOmYycH09dGhpcy53TkFGKGsyKTtrMXA9d25hZi5jb25zdFRpbWVOZWdhdGUoazFuZWcsazFwKTtrMnA9d25hZi5jb25zdFRpbWVOZWdhdGUoazJuZWcsazJwKTtrMnA9bmV3IFBvaW50KEZwLm11bChrMnAucHgsZW5kby5iZXRhKSxrMnAucHksazJwLnB6KTtwb2ludD1rMXAuYWRkKGsycCk7ZmFrZT1mMXAuYWRkKGYycCl9ZWxzZXtjb25zdHtwLGZ9PXRoaXMud05BRihuKTtwb2ludD1wO2Zha2U9Zn1yZXR1cm4gUG9pbnQubm9ybWFsaXplWihbcG9pbnQsZmFrZV0pWzBdfW11bHRpcGx5QW5kQWRkVW5zYWZlKFEsYSxiKXtjb25zdCBHPVBvaW50LkJBU0U7Y29uc3QgbXVsPShQLGEpPT5hPT09XzBufHxhPT09XzFuJDF8fCFQLmVxdWFscyhHKT9QLm11bHRpcGx5VW5zYWZlKGEpOlAubXVsdGlwbHkoYSk7Y29uc3Qgc3VtPW11bCh0aGlzLGEpLmFkZChtdWwoUSxiKSk7cmV0dXJuIHN1bS5pczAoKT91bmRlZmluZWQ6c3VtfXRvQWZmaW5lKGl6KXtjb25zdHtweDp4LHB5OnkscHo6en09dGhpcztjb25zdCBpczA9dGhpcy5pczAoKTtpZihpej09bnVsbClpej1pczA/RnAuT05FOkZwLmludih6KTtjb25zdCBheD1GcC5tdWwoeCxpeik7Y29uc3QgYXk9RnAubXVsKHksaXopO2NvbnN0IHp6PUZwLm11bCh6LGl6KTtpZihpczApcmV0dXJue3g6RnAuWkVSTyx5OkZzcG9uc2UpfX1pZih0aGlzLnByb2Nlc3NGdW5jKXtjaGVja1NpZ25hbChfcmVxdWVzdC4jc2lnbmFsKTt0cnl7cmVzcG9uc2U9YXdhaXQgdGhpcy5wcm9jZXNzRnVuYyhyZXEscmVzcG9uc2UpfWNhdGNoKGVycm9yKXtpZihlcnJvci50aHJvdHRsZT09bnVsbHx8dHlwZW9mIGVycm9yLnN0YWxsIT09Im51bWJlciIpe3Jlc3BvbnNlLm1ha2VTZXJ2ZXJFcnJvcigiZXJyb3IgaW4gcG9zdC1wcm9jZXNzaW5nIGZ1bmN0aW9uIixlcnJvcikuYXNzZXJ0T2soKX1sZXQgZGVsYXk9dGhpcy4jdGhyb3R0bGUuc2xvdEludGVydmFsKk1hdGgudHJ1bmMoTWF0aC5yYW5kb20oKSpNYXRoLnBvdygyLGF0dGVtcHQpKTtpZihlcnJvci5zdGFsbD49MCl7ZGVsYXk9ZXJyb3Iuc3RhbGx9cmV0dXJuIHJlcS5jbG9uZSgpLiNzZW5kKGF0dGVtcHQrMSxleHBpcmVzLGRlbGF5LF9yZXF1ZXN0LHJlc3BvbnNlKX19cmV0dXJuIHJlc3BvbnNlfXNlbmQoKXthc3NlcnQodGhpcy4jc2lnbmFsPT1udWxsLCJyZXF1ZXN0IGFscmVhZHkgc2VudCIsIlVOU1VQUE9SVEVEX09QRVJBVElPTiIse29wZXJhdGlvbjoiZmV0Y2hSZXF1ZXN0LnNlbmQifSk7dGhpcy4jc2lnbmFsPW5ldyBGZXRjaENhbmNlbFNpZ25hbCh0aGlzKTtyZXR1cm4gdGhpcy4jc2VuZCgwLGdldFRpbWUkMigpK3RoaXMudGltZW91dCwwLHRoaXMsbmV3IEZldGNoUmVzcG9uc2UoMCwiIix7fSxudWxsLHRoaXMpKX1jYW5jZWwoKXthc3NlcnQodGhpcy4jc2lnbmFsIT1udWxsLCJyZXF1ZXN0IGhhcyBub3QgYmVlbiBzZW50IiwiVU5TVVBQT1JURURfT1BFUkFUSU9OIix7b3BlcmF0aW9uOiJmZXRjaFJlcXVlc3QuY2FuY2VsIn0pO2NvbnN0IHNpZ25hbD1mZXRjaFNpZ25hbHMuZ2V0KHRoaXMpO2lmKCFzaWduYWwpe3Rocm93IG5ldyBFcnJvcigibWlzc2luZyBzaWduYWw7IHNob3VsZCBub3QgaGFwcGVuIil9c2lnbmFsKCl9cmVkaXJlY3QobG9jYXRpb24pe2NvbnN0IGN1cnJlbnQ9dGhpcy51cmwuc3BsaXQoIjoiKVswXS50b0xvd2VyQ2FzZSgpO2NvbnN0IHRhcmdldD1sb2NhdGlvbi5zcGxpdCgiOiIpWzBdLnRvTG93ZXJDYXNlKCk7YXNzZXJ0KHRoaXMubWV0aG9kPT09IkdFVCImJihjdXJyZW50IT09Imh0dHBzInx8dGFyZ2V0IT09Imh0dHAiKSYmbG9jYXRpb24ubWF0Y2goL15odHRwcz86LyksYHVuc3VwcG9ydGVkIHJlZGlyZWN0YCwiVU5TVVBQT1JURURfT1BFUkFUSU9OIix7b3BlcmF0aW9uOmByZWRpcmVjdCgke3RoaXMubWV0aG9kfSAke0pTT04uc3RyaW5naWZ5KHRoaXMudXJsKX0gPT4gJHtKU09OLnN0cmluZ2lmeShsb2NhdGlvbil9KWB9KTtjb25zdCByZXE9bmV3IEZldGNoUmVxdWVzdChsb2NhdGlvbik7cmVxLm1ldGhvZD0iR0VUIjtyZXEuYWxsb3dHemlwPXRoaXMuYWxsb3dHemlwO3JlcS50aW1lb3V0PXRoaXMudGltZW91dDtyZXEuI2hlYWRlcnM9T2JqZWN0LmFzc2lnbih7fSx0aGlzLiNoZWFkZXJzKTtpZih0aGlzLiNib2R5KXtyZXEuI2JvZHk9bmV3IFVpbnQ4QXJyYXkodGhpcy4jYm9keSl9cmVxLiNib2R5VHlwZT10aGlzLiNib2R5VHlwZTtyZXR1cm4gcmVxfWNsb25lKCl7Y29uc3QgY2xvbmU9bmV3IEZldGNoUmVxdWVzdCh0aGlzLnVybCk7Y2xvbmUuI21ldGhvZD10aGlzLiNtZXRob2Q7aWYodGhpcy4jYm9keSl7Y2xvbmUuI2JvZHk9dGhpcy4jYm9keX1jbG9uZS4jcm9yIix0KSk6ZS5vbnJlY29ubmVjdCgpfSkpKX0pLHQpO3RoaXMub3B0cy5hdXRvVW5yZWYmJm4udW5yZWYoKSx0aGlzLnN1YnMucHVzaCgoKCk9Pnt0aGlzLmNsZWFyVGltZW91dEZuKG4pfSkpfX1vbnJlY29ubmVjdCgpe2NvbnN0IGU9dGhpcy5iYWNrb2ZmLmF0dGVtcHRzO3RoaXMuX3JlY29ubmVjdGluZz0hMSx0aGlzLmJhY2tvZmYucmVzZXQoKSx0aGlzLmVtaXRSZXNlcnZlZCgicmVjb25uZWN0IixlKX19Y29uc3Qgc249e307ZnVuY3Rpb24gdW4oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApO2NvbnN0IG49ZnVuY3Rpb24oZSx0PSIiLG4pe2xldCByPWU7bj1ufHwidW5kZWZpbmVkIiE9dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbixudWxsPT1lJiYoZT1uLnByb3RvY29sKyIvLyIrbi5ob3N0KSwic3RyaW5nIj09dHlwZW9mIGUmJigiLyI9PT1lLmNoYXJBdCgwKSYmKGU9Ii8iPT09ZS5jaGFyQXQoMSk/bi5wcm90b2NvbCtlOm4uaG9zdCtlKSwvXihodHRwcz98d3NzPyk6XC9cLy8udGVzdChlKXx8KGU9dm9pZCAwIT09bj9uLnByb3RvY29sKyIvLyIrZToiaHR0cHM6Ly8iK2UpLHI9RHQoZSkpLHIucG9ydHx8KC9eKGh0dHB8d3MpJC8udGVzdChyLnByb3RvY29sKT9yLnBvcnQ9IjgwIjovXihodHRwfHdzKXMkLy50ZXN0KHIucHJvdG9jb2wpJiYoci5wb3J0PSI0NDMiKSksci5wYXRoPXIucGF0aHx8Ii8iO2NvbnN0IGk9LTEhPT1yLmhvc3QuaW5kZXhPZigiOiIpPyJbIityLmhvc3QrIl0iOnIuaG9zdDtyZXR1cm4gci5pZD1yLnByb3RvY29sKyI6Ly8iK2krIjoiK3IucG9ydCt0LHIuaHJlZj1yLnByb3RvY29sKyI6Ly8iK2krKG4mJm4ucG9ydD09PXIucG9ydD8iIjoiOiIrci5wb3J0KSxyfShlLCh0PXR8fHt9KS5wYXRofHwiL3NvY2tldC5pbyIpLHI9bi5zb3VyY2UsaT1uLmlkLG89bi5wYXRoLGE9c25baV0mJm8gaW4gc25baV0ubnNwcztsZXQgcztyZXR1cm4gdC5mb3JjZU5ld3x8dFsiZm9yY2UgbmV3IGNvbm5lY3Rpb24iXXx8ITE9PT10Lm11bHRpcGxleHx8YT9zPW5ldyBhbihyLHQpOihzbltpXXx8KHNuW2ldPW5ldyBhbihyLHQpKSxzPXNuW2ldKSxuLnF1ZXJ5JiYhdC5xdWVyeSYmKHQucXVlcnk9bi5xdWVyeUtleSkscy5zb2NrZXQobi5wYXRoLHQpfWZ1bmN0aW9uIGxuKGUsdCxuLHIpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihpLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e3Uoci5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXt1KHIudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ7ZS5kb25lP2koZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9dSgocj1yLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfU9iamVjdC5hc3NpZ24odW4se01hbmFnZXI6YW4sU29ja2V0OnJuLGlvOnVuLGNvbm5lY3Q6dW59KSwiZnVuY3Rpb24iPT10eXBlb2YgU3VwcHJlc3NlZEVycm9yJiZTdXBwcmVzc2VkRXJyb3I7Y29uc3QgY249KGUsdCk9PmxuKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbiooKXtjb25zdCBuPXQuZW5kc1dpdGgoIi8iKT9gJHt0fWRlYnVnYDpgJHt0fS9kZWJ1Z2Ascj1KU09OLnN0cmluZ2lmeShlKSxpPXlpZWxkcnZlZCgiY2xvc2UiLGUpfXBhdXNlKGUpe31jcmVhdGVVcmkoZSx0PXt9KXtyZXR1cm4gZSsiOi8vIit0aGlzLl9ob3N0bmFtZSgpK3RoaXMuX3BvcnQoKSt0aGlzLm9wdHMucGF0aCt0aGlzLl9xdWVyeSh0KX1faG9zdG5hbWUoKXtjb25zdCBlPXRoaXMub3B0cy5ob3N0bmFtZTtyZXR1cm4tMT09PWUuaW5kZXhPZigiOiIpP2U6IlsiK2UrIl0ifV9wb3J0KCl7cmV0dXJuIHRoaXMub3B0cy5wb3J0JiYodGhpcy5vcHRzLnNlY3VyZSYmTnVtYmVyKDQ0MyE9PXRoaXMub3B0cy5wb3J0KXx8IXRoaXMub3B0cy5zZWN1cmUmJjgwIT09TnVtYmVyKHRoaXMub3B0cy5wb3J0KSk/IjoiK3RoaXMub3B0cy5wb3J0OiIifV9xdWVyeShlKXtjb25zdCB0PWZ1bmN0aW9uKGUpe2xldCB0PSIiO2ZvcihsZXQgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Lmxlbmd0aCYmKHQrPSImIiksdCs9ZW5jb2RlVVJJQ29tcG9uZW50KG4pKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkpO3JldHVybiB0fShlKTtyZXR1cm4gdC5sZW5ndGg/Ij8iK3Q6IiJ9fWNvbnN0IHBlPSIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fIi5zcGxpdCgiIiksbWU9NjQsZ2U9e307bGV0IHZlLHllPTAsYmU9MDtmdW5jdGlvbiB3ZShlKXtsZXQgdD0iIjtkb3t0PXBlW2UlbWVdK3QsZT1NYXRoLmZsb29yKGUvbWUpfXdoaWxlKGU+MCk7cmV0dXJuIHR9ZnVuY3Rpb24gQWUoKXtjb25zdCBlPXdlKCtuZXcgRGF0ZSk7cmV0dXJuIGUhPT12ZT8oeWU9MCx2ZT1lKTplKyIuIit3ZSh5ZSsrKX1mb3IoO2JlPG1lO2JlKyspZ2VbcGVbYmVdXT1iZTtsZXQgX2U9ITE7dHJ5e19lPSJ1bmRlZmluZWQiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe31jb25zdCBFZT1fZTtmdW5jdGlvbiBTZShlKXtjb25zdCB0PWUueGRvbWFpbjt0cnl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmKCF0fHxFZSkpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9aWYoIXQpdHJ5e3JldHVybiBuZXcoc2VbWyJBY3RpdmUiXS5jb25jYXQoIk9iamVjdCIpLmpvaW4oIlgiKV0pKCJNaWNyb3NvZnQuWE1MSFRUUCIpfWNhdGNoKGUpe319ZnVuY3Rpb24ga2UoKXt9Y29uc3QgTWU9bnVsbCE9bmV3IFNlKHt4ZG9tYWluOiExfSkucmVzcG9uc2VUeXBlO2NsYXNzIENlIGV4dGVuZHMgYWV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLGRlKHRoaXMsdCksdGhpcy5vcHRzPXQsdGhpcy5tZXRob2Q9dC5tZXRob2R8fCJHRVQiLHRoaXMudXJpPWUsdGhpcy5kYXRhPXZvaWQgMCE9PXQuZGF0YT90LmRhdGE6bnVsbCx0aGlzLmNyZWF0ZSgpfWNyZWF0ZSgpe3ZhciBlO2NvbnN0IHQ9dWUodGhpcy5vcHRzLCJhZ2VudCIsInBmeCIsImtleSIsInBhc3NwaHJhc2UiLCJjZXJ0IiwiY2EiLCJjaXBoZXJzIiwicmVqZWN0VW5hdXRob3JpemVkIiwiYXV0b1VucmVmIik7dC54ZG9tYWluPSEhdGhpcy5vcHRzLnhkO2NvbnN0IG49dGhpcy54aHI9bmV3IFNlKHQpO3RyeXtuLm9wZW4odGhpcy5tZXRob2QsdGhpcy51cmksITApO3RyeXtpZih0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKXtuLnNldERpc2FibGVIZWFkZXJDaGVjayYmbi5zZXREe3ZhciBuPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxyPUFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheTpmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxpPSJvYmplY3QiPT10eXBlb2YgTyYmITAsbz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sLGE9Im9iamVjdCI9PXR5cGVvZiBSZWZsZWN0LHM9ImZ1bmN0aW9uIj09dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6c2V0VGltZW91dCx1PW8/YSYmImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSk7cmV0dXJuIHQucHVzaC5hcHBseSh0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpLHR9Ok9iamVjdC5rZXlzO2Z1bmN0aW9uIGwoKXt0aGlzLl9ldmVudHM9e30sdGhpcy5fY29uZiYmYy5jYWxsKHRoaXMsdGhpcy5fY29uZil9ZnVuY3Rpb24gYyhlKXtlJiYodGhpcy5fY29uZj1lLGUuZGVsaW1pdGVyJiYodGhpcy5kZWxpbWl0ZXI9ZS5kZWxpbWl0ZXIpLGUubWF4TGlzdGVuZXJzIT09dCYmKHRoaXMuX21heExpc3RlbmVycz1lLm1heExpc3RlbmVycyksZS53aWxkY2FyZCYmKHRoaXMud2lsZGNhcmQ9ZS53aWxkY2FyZCksZS5uZXdMaXN0ZW5lciYmKHRoaXMuX25ld0xpc3RlbmVyPWUubmV3TGlzdGVuZXIpLGUucmVtb3ZlTGlzdGVuZXImJih0aGlzLl9yZW1vdmVMaXN0ZW5lcj1lLnJlbW92ZUxpc3RlbmVyKSxlLnZlcmJvc2VNZW1vcnlMZWFrJiYodGhpcy52ZXJib3NlTWVtb3J5TGVhaz1lLnZlcmJvc2VNZW1vcnlMZWFrKSxlLmlnbm9yZUVycm9ycyYmKHRoaXMuaWdub3JlRXJyb3JzPWUuaWdub3JlRXJyb3JzKSx0aGlzLndpbGRjYXJkJiYodGhpcy5saXN0ZW5lclRyZWU9e30pKX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49Iihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICIrZSsiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuIjtpZih0aGlzLnZlcmJvc2VNZW1vcnlMZWFrJiYobis9IiBFdmVudCBuYW1lOiAiK3QrIi4iKSx2b2lkIDAhPT1PJiZPLmVtaXRXYXJuaW5nKXt2YXIgcj1uZXcgRXJyb3Iobik7ci5uYW1lPSJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmciLHIuZW1pdHRlcj10aGlzLHIuY291bnQ9ZSxPLmVtaXRXYXJuaW5nKHIpfWVsc2UgY29uc29sZS5lcnJvcihuKSxjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCl9dmFyIGY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg7c3dpdGNoKHIpe2Nhc2UgMDpyZXR1cm5bXTtjYXNlIDE6cmV0dXJuW2VdO2Nhc2UgMjpyZXR1cm5bZSx0XTtjYXNlIDM6cmV0dXJuW2UsdCxuXTtkZWZhdWx0OmZvcih2YXIgaT1uZXcgQXJyYXkocik7ci0tOylpW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gaX19O2Z1bmN0aW9uIGgoZSxuKXtmb3IodmFyIHI9e30saT1lLmxlbmd0aCxvPW4/bi5sZW5ndGg6MCxhPTA7YTxpO2ErKylyW2VbYV1dPWE8bz9uW2FdOnQ7cmV0dXJuIHJ9ZnVuY3Rpb24gcChlLHQsbil7dmFyIHIsaTtpZih0aGlzLl9lbWl0dGVyPWUsdGhpbWl0T3V0cHV0RmlsZVBhdGg6ICgpID0+IGdldFRzQnVpbGRJbmZvRW1pdE91dHB1dEZpbGVQYXRoLAogIGdldFRzQ29uZmlnT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb246ICgpID0+IGdldFRzQ29uZmlnT2JqZWN0TGl0ZXJhbEV4cHJlc3Npb24sCiAgZ2V0VHNDb25maWdQcm9wQXJyYXlFbGVtZW50VmFsdWU6ICgpID0+IGdldFRzQ29uZmlnUHJvcEFycmF5RWxlbWVudFZhbHVlLAogIGdldFR5cGVBbm5vdGF0aW9uTm9kZTogKCkgPT4gZ2V0VHlwZUFubm90YXRpb25Ob2RlLAogIGdldFR5cGVBcmd1bWVudE9yVHlwZVBhcmFtZXRlckxpc3Q6ICgpID0+IGdldFR5cGVBcmd1bWVudE9yVHlwZVBhcmFtZXRlckxpc3QsCiAgZ2V0VHlwZUtleXdvcmRPZlR5cGVPbmx5SW1wb3J0OiAoKSA9PiBnZXRUeXBlS2V5d29yZE9mVHlwZU9ubHlJbXBvcnQsCiAgZ2V0VHlwZU5vZGU6ICgpID0+IGdldFR5cGVOb2RlLAogIGdldFR5cGVOb2RlSWZBY2Nlc3NpYmxlOiAoKSA9PiBnZXRUeXBlTm9kZUlmQWNjZXNzaWJsZSwKICBnZXRUeXBlUGFyYW1ldGVyRnJvbUpzRG9jOiAoKSA9PiBnZXRUeXBlUGFyYW1ldGVyRnJvbUpzRG9jLAogIGdldFR5cGVQYXJhbWV0ZXJPd25lcjogKCkgPT4gZ2V0VHlwZVBhcmFtZXRlck93bmVyLAogIGdldFR5cGVzUGFja2FnZU5hbWU6ICgpID0+IGdldFR5cGVzUGFja2FnZU5hbWUsCiAgZ2V0VUlMb2NhbGU6ICgpID0+IGdldFVJTG9jYWxlLAogIGdldFVuaXF1ZU5hbWU6ICgpID0+IGdldFVuaXF1ZU5hbWUsCiAgZ2V0VW5pcXVlU3ltYm9sSWQ6ICgpID0+IGdldFVuaXF1ZVN5bWJvbElkLAogIGdldFVzZURlZmluZUZvckNsYXNzRmllbGRzOiAoKSA9PiBnZXRVc2VEZWZpbmVGb3JDbGFzc0ZpZWxkcywKICBnZXRXYXRjaEVycm9yU3VtbWFyeURpYWdub3N0aWNNZXNzYWdlOiAoKSA9PiBnZXRXYXRjaEVycm9yU3VtbWFyeURpYWdub3N0aWNNZXNzYWdlLAogIGdldFdhdGNoRmFjdG9yeTogKCkgPT4gZ2V0V2F0Y2hGYWN0b3J5LAogIGdyb3VwOiAoKSA9PiBncm91cCwKICBncm91cEJ5OiAoKSA9PiBncm91cEJ5LAogIGd1ZXNzSW5kZW50YXRpb246ICgpID0+IGd1ZXNzSW5kZW50YXRpb24sCiAgaGFuZGxlTm9FbWl0T3B0aW9uczogKCkgPT4gaGFuZGxlTm9FbWl0T3B0aW9ucywKICBoYW5kbGVXYXRjaE9wdGlvbnNDb25maWdEaXJUZW1wbGF0ZVN1YnN0aXR1dGlvbjogKCkgPT4gaGFuZGxlV2F0Y2hPcHRpb25zQ29uZmlnRGlyVGVtcGxhdGVTdWJzdGl0dXRpb24sCiAgaGFzQWJzdHJhY3RNb2RpZmllcjogKCkgPT4gaGFzQWJzdHJhY3RNb2RpZmllciwKICBoYXNBY2Nlc3Nvck1vZGlmaWVyOiAoKSA9PiBoYXNBY2Nlc3Nvck1vZGlmaWVyLAogIGhhc0FtYmllbnRNb2RpZmllcjogKCkgPT4gaGFzQW1iaWVudE1vZGlmaWVyLAogIGhhc0NoYW5nZXNJblJlc29sdXRpb25zOiAoKSA9PiBoYXNDaGFuZ2VzSW5SZXNvbHV0aW9ucywKICBoYXNDb250ZXh0U2Vuc2l0aXZlUGFyYW1ldGVyczogKCkgPT4gaGFzQ29udGV4dFNlbnNpdGl2ZVBhcmFtZXRlcnMsCiAgaGFzRGVjb3JhdG9yczogKCkgPT4gaGFzRGVjb3JhdG9ycywKICBoYXNEb2NDb21tZW50OiAoKSA9PiBoYXNEb2NDb21tZW50LAogIGhhc0R5bmFtaWNOYW1lOiAoKSA9PiBoYXNEeW5hbWljTmFtZSwKICBoYXNFZmZlY3RpdmVNb2RpZmllcjogKCkgPT4gaGFzRWZmb2x1dGlvbktpbmQsCiAgTW9kdWxlU3BlY2lmaWVyRW5kaW5nOiAoKSA9PiBNb2R1bGVTcGVjaWZpZXJFbmRpbmcsCiAgTmF2aWdhdGVUbzogKCkgPT4gdHNfTmF2aWdhdGVUb19leHBvcnRzLAogIE5hdmlnYXRpb25CYXI6ICgpID0+IHRzX05hdmlnYXRpb25CYXJfZXhwb3J0cywKICBOZXdMaW5lS2luZDogKCkgPT4gTmV3TGluZUtpbmQsCiAgTm9kZUJ1aWxkZXJGbGFnczogKCkgPT4gTm9kZUJ1aWxkZXJGbGFncywKICBOb2RlQ2hlY2tGbGFnczogKCkgPT4gTm9kZUNoZWNrRmxhZ3MsCiAgTm9kZUZhY3RvcnlGbGFnczogKCkgPT4gTm9kZUZhY3RvcnlGbGFncywKICBOb2RlRmxhZ3M6ICgpID0+IE5vZGVGbGFncywKICBOb2RlUmVzb2x1dGlvbkZlYXR1cmVzOiAoKSA9PiBOb2RlUmVzb2x1dGlvbkZlYXR1cmVzLAogIE9iamVjdEZsYWdzOiAoKSA9PiBPYmplY3RGbGFncywKICBPcGVyYXRpb25DYW5jZWxlZEV4Y2VwdGlvbjogKCkgPT4gT3BlcmF0aW9uQ2FuY2VsZWRFeGNlcHRpb24sCiAgT3BlcmF0b3JQcmVjZWRlbmNlOiAoKSA9PiBPcGVyYXRvclByZWNlZGVuY2UsCiAgT3JnYW5pemVJbXBvcnRzOiAoKSA9PiB0c19Pcmdhbml6ZUltcG9ydHNfZXhwb3J0cywKICBPcmdhbml6ZUltcG9ydHNNb2RlOiAoKSA9PiBPcmdhbml6ZUltcG9ydHNNb2RlLAogIE91dGVyRXhwcmVzc2lvbktpbmRzOiAoKSA9PiBPdXRlckV4cHJlc3Npb25LaW5kcywKICBPdXRsaW5pbmdFbGVtZW50c0NvbGxlY3RvcjogKCkgPT4gdHNfT3V0bGluaW5nRWxlbWVudHNDb2xsZWN0b3JfZXhwb3J0cywKICBPdXRsaW5pbmdTcGFuS2luZDogKCkgPT4gT3V0bGluaW5nU3BhbktpbmQsCiAgT3V0cHV0RmlsZVR5cGU6ICgpID0+IE91dHB1dEZpbGVUeXBlLAogIFBhY2thZ2VKc29uQXV0b0ltcG9ydFByZWZlcmVuY2U6ICgpID0+IFBhY2thZ2VKc29uQXV0b0ltcG9ydFByZWZlcmVuY2UsCiAgUGFja2FnZUpzb25EZXBlbmRlbmN5R3JvdXA6ICgpID0+IFBhY2thZ2VKc29uRGVwZW5kZW5jeUdyb3VwLAogIFBhdHRlcm5NYXRjaEtpbmQ6ICgpID0+IFBhdHRlcm5NYXRjaEtpbmQsCiAgUG9sbGluZ0ludGVydmFsOiAoKSA9PiBQb2xsaW5nSW50ZXJ2YWwsCiAgUG9sbGluZ1dhdGNoS2luZDogKCkgPT4gUG9sbGluZ1dhdGNoS2luZCwKICBQcmFnbWFLaW5kRmxhZ3M6ICgpID0+IFByYWdtYUtpbmRGbGFncywKICBQcmVkaWNhdGVTZW1hbnRpY3M6ICgpID0+IFByZWRpY2F0ZVNlbWFudGljcywKICBQcmVwYXJlUGFzdGVFZGl0czogKCkgPT4gdHNfcHJlcGFyZVBhc3RlRWRpdHNfZXhwb3J0cywKICBQcml2YXRlSWRlbnRpZmllcktpbmQ6ICgpID0+IFByaXZhdGVJZGVudGlmaWVyS2luZCwKICBQcm9jZXNzTGV2ZWw6ICgpID0+IFByb2Nlc3NMZXZlbCwKICBQcm9ncmFtVXBkYXRlTGV2ZWw6ICgpID0+IFByb2dyYW1VcGRhdGVMZXZlbCwKICBRdW90ZVByZWZlcmVuY2U6ICgpID0+IFF1b3RlUHJlZmVyZW5jZSwKICBSZWd1bGFyRXhwcmVzc2lvbkZsYWdzOiAoKSA9PiBSZWd1bGFyRXhwcmVzc2lvbkZsYWdzLAogIFJlbGF0aW9uQ29tcGFyaXNvblJlc3VsdDogKCkgPT4gUmVsYXRpb25Db21wYXJpc29uUmVzdWx0LAogIFJlbmFtZTogKCkgPT4gdHNfUmVuYW1lX2V4cG9ydHMsCiAgU2NyaXB0RWxlbWVudEtpbmQ6ICgpID0+IFNjcmlwdEVsZW1lbnRLaW5kLAogIFNjdmVudCh0LCJ1cDpiZWZvcmUiKSxkKHQsMykpdGhpcy5maXJlUmlnaHRDbGljayYmdGhpcy5faGFuZGxlRXZlbnQodCwidXAiLDMscyk7ZWxzZXtpZihkKHQsMikpcmV0dXJuIHRoaXMuZmlyZU1pZGRsZUNsaWNrJiZ0aGlzLl9oYW5kbGVFdmVudCh0LCJ1cCIsMixzKSx2b2lkIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7aWYodGhpcy5pc0RyYXdpbmdNb2RlJiZ0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpdGhpcy5fb25Nb3VzZVVwSW5EcmF3aW5nTW9kZSh0KTtlbHNlIGlmKHRoaXMuX2lzTWFpbkV2ZW50KHQpKXtpZihpJiYodGhpcy5fZmluYWxpemVDdXJyZW50VHJhbnNmb3JtKHQpLG49aS5hY3Rpb25QZXJmb3JtZWQpLCFzKXt2YXIgbz1lPT09dGhpcy5fYWN0aXZlT2JqZWN0O3RoaXMuX21heWJlR3JvdXBPYmplY3RzKHQpLG58fChuPXRoaXMuX3Nob3VsZFJlbmRlcihlKXx8IW8mJmU9PT10aGlzLl9hY3RpdmVPYmplY3QpfXZhciBhLGM7aWYoZSl7aWYoYT1lLl9maW5kVGFyZ2V0Q29ybmVyKHRoaXMuZ2V0UG9pbnRlcih0LCEwKSxmYWJyaWMudXRpbC5pc1RvdWNoRXZlbnQodCkpLGUuc2VsZWN0YWJsZSYmZSE9PXRoaXMuX2FjdGl2ZU9iamVjdCYmInVwIj09PWUuYWN0aXZlT24pdGhpcy5zZXRBY3RpdmVPYmplY3QoZSx0KSxuPSEwO2Vsc2V7dmFyIGg9ZS5jb250cm9sc1thXSxsPWgmJmguZ2V0TW91c2VVcEhhbmRsZXIodCxlLGgpO2wmJmwodCxpLChjPXRoaXMuZ2V0UG9pbnRlcih0KSkueCxjLnkpfWUuaXNNb3Zpbmc9ITF9aWYoaSYmKGkudGFyZ2V0IT09ZXx8aS5jb3JuZXIhPT1hKSl7dmFyIHU9aS50YXJnZXQmJmkudGFyZ2V0LmNvbnRyb2xzW2kuY29ybmVyXSxmPXUmJnUuZ2V0TW91c2VVcEhhbmRsZXIodCxlLGgpO2M9Y3x8dGhpcy5nZXRQb2ludGVyKHQpLGYmJmYodCxpLGMueCxjLnkpfXRoaXMuX3NldEN1cnNvckZyb21FdmVudCh0LGUpLHRoaXMuX2hhbmRsZUV2ZW50KHQsInVwIiwxLHMpLHRoaXMuX2dyb3VwU2VsZWN0b3I9bnVsbCx0aGlzLl9jdXJyZW50VHJhbnNmb3JtPW51bGwsZSYmKGUuX19jb3JuZXI9MCksbj90aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTpzfHx0aGlzLnJlbmRlclRvcCgpfX19LF9zaW1wbGVFdmVudEhhbmRsZXI6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmZpbmRUYXJnZXQoZSkscj10aGlzLnRhcmdldHMsbj17ZTplLHRhcmdldDppLHN1YlRhcmdldHM6cn07aWYodGhpcy5maXJlKHQsbiksaSYmaS5maXJlKHQsbiksIXIpcmV0dXJuIGk7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspcltzXS5maXJlKHQsbik7cmV0dXJuIGl9LF9oYW5kbGVFdmVudDpmdW5jdGlvbih0LGUsaSxyKXt2YXIgbj10aGlzLl90YXJnZXQscz10aGlzLnRhcmdldHN8fFtdLG89e2U6dCx0YXJnZXQ6bixzdWJUYXJnZXRzOnMsYnV0dG9uOml8fDEsaXNDbGljazpyfHwhMSxwb2ludGVyOnRoaXMuX3BvaW50ZXIsYWJzb2x1dGVQb2ludGVyOnRoaXMuX2Fic29sdXRlUG9pbnRlcix0cmFuc2Zvcm06dGhpcy5fY3VycmVudFRyYW5zZm9ybX07InVwIj09PWUmJihvLmN1cnJlbnRUYXJnZXQ9dGhpcy5maW5kVGFyZ2V0KHQpLG8uY3VycmVudFN1YlRhcmdldHM9dGhpcy50YXJnZXRzKSx0aGlzLmZpcmUoIm1vdXNlOiIrZSxvKSxuJiZuLmZpcmUoIm1vdXNlIitlLG8pO2Zvcih2YXIgYT0wO2E8cy5sZW5ncC1ydWxlIjoiY2xpcFJ1bGUiLCJ2ZWN0b3ItZWZmZWN0Ijoic3Ryb2tlVW5pZm9ybSIsImltYWdlLXJlbmRlcmluZyI6ImltYWdlU21vb3RoaW5nIn0sYj17c3Ryb2tlOiJzdHJva2VPcGFjaXR5IixmaWxsOiJmaWxsT3BhY2l0eSJ9LHk9ImZvbnQtc2l6ZSIsXz0iY2xpcC1wYXRoIjtmdW5jdGlvbiB4KHQsZSxpLHIpe3ZhciBuLHM9QXJyYXkuaXNBcnJheShlKTtpZigiZmlsbCIhPT10JiYic3Ryb2tlIiE9PXR8fCJub25lIiE9PWUpe2lmKCJzdHJva2VVbmlmb3JtIj09PXQpcmV0dXJuIm5vbi1zY2FsaW5nLXN0cm9rZSI9PT1lO2lmKCJzdHJva2VEYXNoQXJyYXkiPT09dCllPSJub25lIj09PWU/bnVsbDplLnJlcGxhY2UoLywvZywiICIpLnNwbGl0KC9ccysvKS5tYXAocGFyc2VGbG9hdCk7ZWxzZSBpZigidHJhbnNmb3JtTWF0cml4Ij09PXQpZT1pJiZpLnRyYW5zZm9ybU1hdHJpeD9jKGkudHJhbnNmb3JtTWF0cml4LEMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUoZSkpOkMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUoZSk7ZWxzZSBpZigidmlzaWJsZSI9PT10KWU9Im5vbmUiIT09ZSYmImhpZGRlbiIhPT1lLGkmJiExPT09aS52aXNpYmxlJiYoZT0hMSk7ZWxzZSBpZigib3BhY2l0eSI9PT10KWU9cGFyc2VGbG9hdChlKSxpJiZ2b2lkIDAhPT1pLm9wYWNpdHkmJihlKj1pLm9wYWNpdHkpO2Vsc2UgaWYoInRleHRBbmNob3IiPT09dCllPSJzdGFydCI9PT1lPyJsZWZ0IjoiZW5kIj09PWU/InJpZ2h0IjoiY2VudGVyIjtlbHNlIGlmKCJjaGFyU3BhY2luZyI9PT10KW49UyhlLHIpL3IqMWUzO2Vsc2UgaWYoInBhaW50Rmlyc3QiPT09dCl7dmFyIG89ZS5pbmRleE9mKCJmaWxsIiksYT1lLmluZGV4T2YoInN0cm9rZSIpO2U9ImZpbGwiOy0xPG8mJi0xPGEmJmE8bz9lPSJzdHJva2UiOi0xPT09byYmLTE8YSYmKGU9InN0cm9rZSIpfWVsc2V7aWYoImhyZWYiPT09dHx8InhsaW5rOmhyZWYiPT09dHx8ImZvbnQiPT09dClyZXR1cm4gZTtpZigiaW1hZ2VTbW9vdGhpbmciPT09dClyZXR1cm4ib3B0aW1pemVRdWFsaXR5Ij09PWU7bj1zP2UubWFwKFMpOlMoZSxyKX19ZWxzZSBlPSIiO3JldHVybiFzJiZpc05hTihuKT9lOm59ZnVuY3Rpb24gZSh0KXtyZXR1cm4gbmV3IFJlZ0V4cCgiXigiK3Quam9pbigifCIpKyIpXFxiIiwiaSIpfWZ1bmN0aW9uIFQodCxlKXt2YXIgaSxyLG4scyxvPVtdO2ZvcihuPTAscz1lLmxlbmd0aDtuPHM7bisrKWk9ZVtuXSxyPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaSksbz1vLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyKSk7cmV0dXJuIG99ZnVuY3Rpb24gdyh0LGUpe3ZhciBpLHI9ITA7cmV0dXJuKGk9bih0LGUucG9wKCkpKSYmZS5sZW5ndGgmJihyPWZ1bmN0aW9uKHQsZSl7dmFyIGkscj0hMDtmb3IoO3QucGFyZW50Tm9kZSYmMT09PXQucGFyZW50Tm9kZS5ub2RlVHlwZSYmZS5sZW5ndGg7KXImJihpPWUucG9wKCkpLHQ9dC5wYXJlbnROb2RlLHI9bih0LGkpO3JldHVybiAwPT09ZS5sZW5ndGh9KHQsZSkpLGkmJnImJjA9PT1lLmxlbmd0aH1mdW5jdGlvbiBuKHQsZSl7dmFyIGkscixuPXQubm9kZU5hbWUscz10LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSxvPXQuZ2V0QXR0cmlidXRlKCJpZCIpO2lmKGk9bmV3IFJlZ0V4cCgiXiIrbiwiaSIpLGU9ZS5yZXBsYWNlKGksIiIpLG8mJmUubGVuaDthKyspe3IrKzt2YXIgYz10W29dW2FdO2lmKGMmJjA8T2JqZWN0LmtleXMoYykubGVuZ3RoKWZhYnJpYy51dGlsLmhhc1N0eWxlQ2hhbmdlZChuLGMsITApP3MucHVzaCh7c3RhcnQ6cixlbmQ6cisxLHN0eWxlOmN9KTpzW3MubGVuZ3RoLTFdLmVuZCsrO249Y3x8e319ZWxzZSByKz1pW29dLmxlbmd0aDtyZXR1cm4gc30sc3R5bGVzRnJvbUFycmF5OmZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7Zm9yKHZhciBpPWUuc3BsaXQoIlxuIikscj0tMSxuPTAscz17fSxvPTA7bzxpLmxlbmd0aDtvKyspZm9yKHZhciBhPTA7YTxpW29dLmxlbmd0aDthKyspcisrLHRbbl0mJnRbbl0uc3RhcnQ8PXImJnI8dFtuXS5lbmQmJihzW29dPXNbb118fHt9LHNbb11bYV09T2JqZWN0LmFzc2lnbih7fSx0W25dLnN0eWxlKSxyPT09dFtuXS5lbmQtMSYmbisrKTtyZXR1cm4gc319fSgidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czp0aGlzKSxmdW5jdGlvbigpe3ZhciBBPUFycmF5LnByb3RvdHlwZS5qb2luLFQ9e206MixsOjIsaDoxLHY6MSxjOjYsczo0LHE6NCx0OjIsYTo3fSx3PXttOiJsIixNOiJMIn07ZnVuY3Rpb24gWih0LGUsaSxyKXt2YXIgbj1NYXRoLmF0YW4yKGUsdCkscz1NYXRoLmF0YW4yKHIsaSk7cmV0dXJuIG48PXM/cy1uOjIqTWF0aC5QSS0obi1zKX1mdW5jdGlvbiBkKHQsZSxpKXtmb3IodmFyIHI9aVsxXSxuPWlbMl0scz1pWzNdLG89aVs0XSxhPWlbNV0sYz1mdW5jdGlvbih0LGUsaSxyLG4scyxvKXt2YXIgYT1NYXRoLlBJLGM9byphLzE4MCxoPWZhYnJpYy51dGlsLnNpbihjKSxsPWZhYnJpYy51dGlsLmNvcyhjKSx1PTAsZj0wLGQ9LWwqdCouNS1oKmUqLjUsZz0tbCplKi41K2gqdCouNSxwPShpPU1hdGguYWJzKGkpKSppLHY9KHI9TWF0aC5hYnMocikpKnIsbT1nKmcsYj1kKmQseT1wKnYtcCptLXYqYixfPTA7aWYoeTwwKXt2YXIgeD1NYXRoLnNxcnQoMS15LyhwKnYpKTtpKj14LHIqPXh9ZWxzZSBfPShuPT09cz8tMToxKSpNYXRoLnNxcnQoeS8ocCptK3YqYikpO3ZhciBDPV8qaSpnL3IsUz0tXypyKmQvaSxUPWwqQy1oKlMrLjUqdCx3PWgqQytsKlMrLjUqZSxPPVooMSwwLChkLUMpL2ksKGctUykvciksaz1aKChkLUMpL2ksKGctUykvciwoLWQtQykvaSwoLWctUykvcik7MD09PXMmJjA8az9rLT0yKmE6MT09PXMmJms8MCYmKGsrPTIqYSk7Zm9yKHZhciBQLEUsQSxELGosTSxGLEksTCxSLEIsWCxXLFksSCx6LEcsVT1NYXRoLmNlaWwoTWF0aC5hYnMoay9hKjIpKSxWPVtdLE49ay9VLHE9OC8zKk1hdGguc2luKE4vNCkqTWF0aC5zaW4oTi80KS9NYXRoLnNpbihOLzIpLEs9TytOLEo9MDtKPFU7SisrKVZbSl09KFA9TyxFPUssQT1sLEQ9aCxqPWksTT1yLEY9VCxJPXcsTD1xLFI9dSxCPWYsWD1mYWJyaWMudXRpbC5jb3MoUCksVz1mYWJyaWMudXRpbC5zaW4oUCksWT1mYWJyaWMudXRpbC5jb3MoRSksSD1mYWJyaWMudXRpbC5zaW4oRSksWyJDIixSK0wqKC1BKmoqVy1EKk0qWCksQitMKigtRCpqKlcrQSpNKlgpLCh6PUEqaipZLUQqTSpIK0YpK0wqKEEqaipIK0QqTSpZKSwoRz1EKmoqWStBKk0qSCtJKStMKihEKmoqSC1BKk0qWSkseixHXSksdT1WW0pdWzVdLGY9VltKXVs2XSxPPUssSys9TjtyZXR1cm4gVn0oaVs2XS10LGlbN10tZSxyLG4sbyxhLHMpLGg9MCxsPWN7dmFyIGk9WzEsMCwwXSxvPXlzKHBzKHQpLHBzKGUpKSxhPWdzKG8sbyksdT1vWzBdLGM9YS11KnU7aWYoIWMpcmV0dXJuIXImJnQ7dmFyIGY9biphL2Mscz0tbip1L2MsbD15cyhpLG8pLGg9X3MoaSxmKTt2cyhoLF9zKG8scykpO3ZhciBkPWwscD1ncyhoLGQpLGc9Z3MoZCxkKSx5PXAqcC1nKihncyhoLGgpLTEpO2lmKCEoeTwwKSl7dmFyIHY9emYoeSksXz1fcyhkLCgtcC12KS9nKTtpZih2cyhfLGgpLF89ZHMoXyksIXIpcmV0dXJuIF87dmFyIGIsbT10WzBdLHg9ZVswXSx3PXRbMV0sTT1lWzFdO3g8bSYmKGI9bSxtPXgseD1iKTt2YXIgVD14LW0sQT14ZihULWdmKTxkZjtpZighQSYmTTx3JiYoYj13LHc9TSxNPWIpLEF8fFQ8ZGY/QT93K00+MF5fWzFdPCh4ZihfWzBdLW0pPGRmP3c6TSk6dzw9X1sxXSYmX1sxXTw9TTpUPmdmXihtPD1fWzBdJiZfWzBdPD14KSl7dmFyIFM9X3MoZCwoLXArdikvZyk7cmV0dXJuIHZzKFMsaCksW18sZHMoUyldfX19ZnVuY3Rpb24gdShuLGUpe3ZhciBpPXI/dDpnZi10LG89MDtyZXR1cm4gbjwtaT9vfD0xOm4+aSYmKG98PTIpLGU8LWk/b3w9NDplPmkmJihvfD04KSxvfXJldHVybiB4bChvLChmdW5jdGlvbih0KXt2YXIgbixlLGMsZixzO3JldHVybntsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtmPWM9ITEscz0xfSxwb2ludDpmdW5jdGlvbihsLGgpe3ZhciBkLHA9W2wsaF0sZz1vKGwsaCkseT1yP2c/MDp1KGwsaCk6Zz91KGwrKGw8MD9nZjotZ2YpLGgpOjA7aWYoIW4mJihmPWM9ZykmJnQubGluZVN0YXJ0KCksZyE9PWMmJighKGQ9YShuLHApKXx8Z2wobixkKXx8Z2wocCxkKSkmJihwWzJdPTEpLGchPT1jKXM9MCxnPyh0LmxpbmVTdGFydCgpLGQ9YShwLG4pLHQucG9pbnQoZFswXSxkWzFdKSk6KGQ9YShuLHApLHQucG9pbnQoZFswXSxkWzFdLDIpLHQubGluZUVuZCgpKSxuPWQ7ZWxzZSBpZihpJiZuJiZyXmcpe3ZhciB2O3kmZXx8ISh2PWEocCxuLCEwKSl8fChzPTAscj8odC5saW5lU3RhcnQoKSx0LnBvaW50KHZbMF1bMF0sdlswXVsxXSksdC5wb2ludCh2WzFdWzBdLHZbMV1bMV0pLHQubGluZUVuZCgpKToodC5wb2ludCh2WzFdWzBdLHZbMV1bMV0pLHQubGluZUVuZCgpLHQubGluZVN0YXJ0KCksdC5wb2ludCh2WzBdWzBdLHZbMF1bMV0sMykpKX0hZ3x8biYmZ2wobixwKXx8dC5wb2ludChwWzBdLHBbMV0pLG49cCxjPWcsZT15fSxsaW5lRW5kOmZ1bmN0aW9uKCl7YyYmdC5saW5lRW5kKCksbj1udWxsfSxjbGVhbjpmdW5jdGlvbigpe3JldHVybiBzfChmJiZjKTw8MX19fSksKGZ1bmN0aW9uKG4scixpLG8pe2hsKG8sdCxlLGksbixyKX0pLHI/WzAsLXRdOlstZ2YsdC1nZl0pfXZhciBTbCxFbCxObCxrbCxDbD0xZTksUGw9LUNsO2Z1bmN0aW9uIHpsKHQsbixlLHIpe2Z1bmN0aW9uIGkoaSxvKXtyZXR1cm4gdDw9aSYmaTw9ZSYmbjw9byYmbzw9cn1mdW5jdGlvbiBvKGksbyx1LGYpe3ZhciBzPTAsbD0wO2lmKG51bGw9PWl8fChzPWEoaSx1KSkhPT0obD1hKG8sdSkpfHxjKGksbyk8MF51PjApZG97Zi5wb2ludCgwPT09c3x8Mz09PXM/dDplLHM+MT9yOm4pfXdoaWxlKChzPShzK3UrNCklNCkhPT1sKTtlbHNlIGYucG9pbnQob1swXSxvWzFdKX1mdW5jdGlvbiBhKHIsaSl7cmV0dXJuIHhmKHJbMF0tdCk8ZGY/aT4wPzA6Mzp4ZihyWzBdLWUpPGRmP2k+MD8yOjE6eGYoclsxXS1uKTxkZj9pPmU/blsxXVswXS1uWzBdWzBdK3U6dX0pKS5hdHRyKCJoZWlnaHQiLChmdW5jdGlvbih0KXtyZXR1cm4iZSI9PT10LnR5cGV8fCJ3Ij09PXQudHlwZT9uWzFdWzFdLW5bMF1bMV0rdTp1fSkpKTp0LnNlbGVjdEFsbCgiLnNlbGVjdGlvbiwuaGFuZGxlIikuc3R5bGUoImRpc3BsYXkiLCJub25lIikuYXR0cigieCIsbnVsbCkuYXR0cigieSIsbnVsbCkuYXR0cigid2lkdGgiLG51bGwpLmF0dHIoImhlaWdodCIsbnVsbCl9ZnVuY3Rpb24gcyh0LG4sZSl7dmFyIHI9dC5fX2JydXNoLmVtaXR0ZXI7cmV0dXJuIXJ8fGUmJnIuY2xlYW4/bmV3IGwodCxuLGUpOnJ9ZnVuY3Rpb24gbCh0LG4sZSl7dGhpcy50aGF0PXQsdGhpcy5hcmdzPW4sdGhpcy5zdGF0ZT10Ll9fYnJ1c2gsdGhpcy5hY3RpdmU9MCx0aGlzLmNsZWFuPWV9ZnVuY3Rpb24gaChlKXtpZigoIW58fGUudG91Y2hlcykmJnIuYXBwbHkodGhpcyxhcmd1bWVudHMpKXt2YXIgaSxhLHUsYyxsLGgsZCxwLGcseSx2LF89dGhpcyxiPWUudGFyZ2V0Ll9fZGF0YV9fLnR5cGUsbT0ic2VsZWN0aW9uIj09PShvJiZlLm1ldGFLZXk/Yj0ib3ZlcmxheSI6Yik/dGE6byYmZS5hbHRLZXk/cmE6ZWEseD10PT09c2E/bnVsbDpnYVtiXSx3PXQ9PT1mYT9udWxsOnlhW2JdLE09eGEoXyksVD1NLmV4dGVudCxBPU0uc2VsZWN0aW9uLFM9VFswXVswXSxFPVRbMF1bMV0sTj1UWzFdWzBdLGs9VFsxXVsxXSxDPTAsUD0wLHo9eCYmdyYmbyYmZS5zaGlmdEtleSwkPUFycmF5LmZyb20oZS50b3VjaGVzfHxbZV0sKHQ9Pntjb25zdCBuPXQuaWRlbnRpZmllcjtyZXR1cm4odD1uZSh0LF8pKS5wb2ludDA9dC5zbGljZSgpLHQuaWRlbnRpZmllcj1uLHR9KSk7R2koXyk7dmFyIEQ9cyhfLGFyZ3VtZW50cywhMCkuYmVmb3Jlc3RhcnQoKTtpZigib3ZlcmxheSI9PT1iKXtBJiYoZz0hMCk7Y29uc3Qgbj1bJFswXSwkWzFdfHwkWzBdXTtNLnNlbGVjdGlvbj1BPVtbaT10PT09c2E/UzphYShuWzBdWzBdLG5bMV1bMF0pLHU9dD09PWZhP0U6YWEoblswXVsxXSxuWzFdWzFdKV0sW2w9dD09PXNhP046b2EoblswXVswXSxuWzFdWzBdKSxkPXQ9PT1mYT9rOm9hKG5bMF1bMV0sblsxXVsxXSldXSwkLmxlbmd0aD4xJiZJKGUpfWVsc2UgaT1BWzBdWzBdLHU9QVswXVsxXSxsPUFbMV1bMF0sZD1BWzFdWzFdO2E9aSxjPXUsaD1sLHA9ZDt2YXIgUj1abihfKS5hdHRyKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKSxGPVIuc2VsZWN0QWxsKCIub3ZlcmxheSIpLmF0dHIoImN1cnNvciIsaGFbYl0pO2lmKGUudG91Y2hlcylELm1vdmVkPVUsRC5lbmRlZD1PO2Vsc2V7dmFyIHE9Wm4oZS52aWV3KS5vbigibW91c2Vtb3ZlLmJydXNoIixVLCEwKS5vbigibW91c2V1cC5icnVzaCIsTywhMCk7byYmcS5vbigia2V5ZG93bi5icnVzaCIsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgMTY6ej14JiZ3O2JyZWFrO2Nhc2UgMTg6bT09PWVhJiYoeCYmKGw9aC1DKngsaT1hK0MqeCksdyYmKGQ9cC1QKncsdT1jK1AqdyksbT1yYSxJKHQpKTticmVhaztjYXNlIDMyOm0hPT1lYSYmbSE9PXJhfHwoeDwwP2w9aC1DOng+MCYmKGk9YS1DKSx3PDA/ZD1wLVA6dz4wJiYodT1jLVApLG09bmEsRi5hdHRyKCJjdXJzb3IiLGhhLnNlbGVjdGlvbiksSSh0KSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59Sm8odCl9KSwhMCkub24oImtleXVwLmJydWZzZXQ+PTAmJih0PXsuLi50LC4uLkJ1KHUsdCl9KSxHZSh1LHQpfWFzeW5jIGZ1bmN0aW9uIE1uKGUsdCl7cmV0dXJuIENlKGUsYXdhaXQgc2UodCkpfXZhciB3dT17fTtZdCh3dSx7YnVpbGRlcnM6KCk9PldhLHByaW50ZXI6KCk9PiRhLHV0aWxzOigpPT5WYX0pO3ZhciBXYT17am9pbjpJZSxsaW5lOnJ0LHNvZnRsaW5lOmFyLGhhcmRsaW5lOlYsbGl0ZXJhbGxpbmU6WmUsZ3JvdXA6S3QsY29uZGl0aW9uYWxHcm91cDp1cixmaWxsOnRyLGxpbmVTdWZmaXg6dmUsbGluZVN1ZmZpeEJvdW5kYXJ5OmlyLGN1cnNvcjplZSxicmVha1BhcmVudDpjZSxpZkJyZWFrOnJyLHRyaW06c3IsaW5kZW50OmFlLGluZGVudElmQnJlYWs6bnIsYWxpZ246RGUsYWRkQWxpZ25tZW50VG9Eb2M6dXQsbWFya0FzUm9vdDp0dCxkZWRlbnRUb1Jvb3Q6WnUsZGVkZW50OmVyLGhhcmRsaW5lV2l0aG91dEJyZWFrUGFyZW50OmtlLGxpdGVyYWxsaW5lV2l0aG91dEJyZWFrUGFyZW50Okd0LGxhYmVsOm9yLGNvbmNhdDplPT5lfSwkYT17cHJpbnREb2NUb1N0cmluZzpDZX0sVmE9e3dpbGxCcmVhazpHdSx0cmF2ZXJzZURvYzp3ZSxmaW5kSW5Eb2M6cWUsbWFwRG9jOlBlLHJlbW92ZUxpbmVzOkp1LHN0cmlwVHJhaWxpbmdIYXJkbGluZTpRZSxyZXBsYWNlRW5kT2ZMaW5lOkh1LGNhbkJyZWFrOlh1fTt2YXIgWW49IjMuOC4xIjt2YXIgUHU9e307WXQoUHUse2FkZERhbmdsaW5nQ29tbWVudDooKT0+dWUsYWRkTGVhZGluZ0NvbW1lbnQ6KCk9PmZlLGFkZFRyYWlsaW5nQ29tbWVudDooKT0+bGUsZ2V0QWxpZ25tZW50U2l6ZTooKT0+aGUsZ2V0SW5kZW50U2l6ZTooKT0+am4sZ2V0TWF4Q29udGludW91c0NvdW50OigpPT5VbixnZXROZXh0Tm9uU3BhY2VOb25Db21tZW50Q2hhcmFjdGVyOigpPT5XbixnZXROZXh0Tm9uU3BhY2VOb25Db21tZW50Q2hhcmFjdGVySW5kZXg6KCk9Pm5pLGdldFByZWZlcnJlZFF1b3RlOigpPT5LbixnZXRTdHJpbmdXaWR0aDooKT0+UmUsaGFzTmV3bGluZTooKT0+eixoYXNOZXdsaW5lSW5SYW5nZTooKT0+R24saGFzU3BhY2VzOigpPT56bixpc05leHRMaW5lRW1wdHk6KCk9PkRpLGlzTmV4dExpbmVFbXB0eUFmdGVySW5kZXg6KCk9PnZ0LGlzUHJldmlvdXNMaW5lRW1wdHk6KCk9PmFpLG1ha2VTdHJpbmc6KCk9PnNpLHNraXA6KCk9PnllLHNraXBFdmVyeXRoaW5nQnV0TmV3TGluZTooKT0+YXQsc2tpcElubGluZUNvbW1lbnQ6KCk9PnhlLHNraXBOZXdsaW5lOigpPT5LLHNraXBTcGFjZXM6KCk9Plksc2tpcFRvTGluZUVuZDooKT0+b3Qsc2tpcFRyYWlsaW5nQ29tbWVudDooKT0+QmUsc2tpcFdoaXRlc3BhY2U6KCk9Pm1yfSk7ZnVuY3Rpb24gS2EoZSx0KXtpZih0PT09ITEpcmV0dXJuITE7aWYoZS5jaGFyQXQodCk9PT0iLyImJmUuY2hhckF0KHQrMSk9PT0iKiIpe2ZvcihsZXQgdT10KzI7dTxlLmxlbmd0aDsrK3UpaWYoZS5jaGFyQXQodSk9PT0iKiImJmUuY2hhckF0KHUrMSk9PT0iLyIpcmV0dXJuIHUrMn1yZXR1cm4gdH12YXIgeGU9S2E7ZnVuY3Rpb24gR2EoZSx0KXtyZXR1cm4gdD09PSExPyExOmUuY2hhckF0KHQpPT09Ii8iJiZlLmNoYXJBdCh0KzEpPT09Ii8iP2F0KGUsdCk6dH12YXIgQmU9R2E7ZnVuY3Rpb24gemEoZSx0KXtsZXQgdT1udWxsLHI9dDtmb3IoO3IhPT11Oyl1PXIscj1ZKGUscikscj14ZShlLHIpLHI9QmUoZTdcdTA4MjktXHUwODJEXHUwODU5LVx1MDg1Qlx1MDg5Ny1cdTA4OUZcdTA4Q0EtXHUwOEUxXHUwOEUzLVx1MDkwM1x1MDkzQS1cdTA5M0NcdTA5M0UtXHUwOTRGXHUwOTUxLVx1MDk1N1x1MDk2Mlx1MDk2M1x1MDk2Ni1cdTA5NkZcdTA5ODEtXHUwOTgzXHUwOUJDXHUwOUJFLVx1MDlDNFx1MDlDN1x1MDlDOFx1MDlDQi1cdTA5Q0RcdTA5RDdcdTA5RTJcdTA5RTNcdTA5RTYtXHUwOUVGXHUwOUZFXHUwQTAxLVx1MEEwM1x1MEEzQ1x1MEEzRS1cdTBBNDJcdTBBNDdcdTBBNDhcdTBBNEItXHUwQTREXHUwQTUxXHUwQTY2LVx1MEE3MVx1MEE3NVx1MEE4MS1cdTBBODNcdTBBQkNcdTBBQkUtXHUwQUM1XHUwQUM3LVx1MEFDOVx1MEFDQi1cdTBBQ0RcdTBBRTJcdTBBRTNcdTBBRTYtXHUwQUVGXHUwQUZBLVx1MEFGRlx1MEIwMS1cdTBCMDNcdTBCM0NcdTBCM0UtXHUwQjQ0XHUwQjQ3XHUwQjQ4XHUwQjRCLVx1MEI0RFx1MEI1NS1cdTBCNTdcdTBCNjJcdTBCNjNcdTBCNjYtXHUwQjZGXHUwQjgyXHUwQkJFLVx1MEJDMlx1MEJDNi1cdTBCQzhcdTBCQ0EtXHUwQkNEXHUwQkQ3XHUwQkU2LVx1MEJFRlx1MEMwMC1cdTBDMDRcdTBDM0NcdTBDM0UtXHUwQzQ0XHUwQzQ2LVx1MEM0OFx1MEM0QS1cdTBDNERcdTBDNTVcdTBDNTZcdTBDNjJcdTBDNjNcdTBDNjYtXHUwQzZGXHUwQzgxLVx1MEM4M1x1MENCQ1x1MENCRS1cdTBDQzRcdTBDQzYtXHUwQ0M4XHUwQ0NBLVx1MENDRFx1MENENVx1MENENlx1MENFMlx1MENFM1x1MENFNi1cdTBDRUZcdTBDRjNcdTBEMDAtXHUwRDAzXHUwRDNCXHUwRDNDXHUwRDNFLVx1MEQ0NFx1MEQ0Ni1cdTBENDhcdTBENEEtXHUwRDREXHUwRDU3XHUwRDYyXHUwRDYzXHUwRDY2LVx1MEQ2Rlx1MEQ4MS1cdTBEODNcdTBEQ0FcdTBEQ0YtXHUwREQ0XHUwREQ2XHUwREQ4LVx1MERERlx1MERFNi1cdTBERUZcdTBERjJcdTBERjNcdTBFMzFcdTBFMzQtXHUwRTNBXHUwRTQ3LVx1MEU0RVx1MEU1MC1cdTBFNTlcdTBFQjFcdTBFQjQtXHUwRUJDXHUwRUM4LVx1MEVDRVx1MEVEMC1cdTBFRDlcdTBGMThcdTBGMTlcdTBGMjAtXHUwRjI5XHUwRjM1XHUwRjM3XHUwRjM5XHUwRjNFXHUwRjNGXHUwRjcxLVx1MEY4NFx1MEY4Nlx1MEY4N1x1MEY4RC1cdTBGOTdcdTBGOTktXHUwRkJDXHUwRkM2XHUxMDJCLVx1MTAzRVx1MTA0MC1cdTEwNDlcdTEwNTYtXHUxMDU5XHUxMDVFLVx1MTA2MFx1MTA2Mi1cdTEwNjRcdTEwNjctXHUxMDZEXHUxMDcxLVx1MTA3NFx1MTA4Mi1cdTEwOERcdTEwOEYtXHUxMDlEXHUxMzVELVx1MTM1Rlx1MTM2OS1cdTEzNzFcdTE3MTItXHUxNzE1XHUxNzMyLVx1MTczNFx1MTc1Mlx1MTc1M1x1MTc3Mlx1MTc3M1x1MTdCNC1cdTE3RDNcdTE3RERcdTE3RTAtXHUxN0U5XHUxODBCLVx1MTgwRFx1MTgwRi1cdTE4MTlcdTE4QTlcdTE5MjAtXHUxOTJCXHUxOTMwLVx1MTkzQlx1MTk0Ni1cdTE5NEZcdTE5RDAtXHUxOURBXHUxQTE3LVx1MUExQlx1MUE1NS1cdTFBNUVcdTFBNjAtXHUxQTdDXHUxQTdGLVx1MUE4OVx1MUE5MC1cdTFBOTlcdTFBQjAtXHUxQUJEXHUxQUJGLVx1MUFERFx1MUFFMC1cdTFBRUJcdTFCMDAtXHUxQjA0XHUxQjM0LVx1MUI0NFx1MUI1MC1cdTFCNTlcdTFCNkItXHUxQjczXHUxQjgwLVx1MUI4Mlx1MUJBMS1cdTFCQURcdTFCQjAtXHUxQkI5XHUxQkU2LVx1MUJGM1x1MUMyNC1cdTFDMzdcdTFDNHR1cm4gZX07dmFyIG9vPShlLHQsdSk9Pih1PWUhPW51bGw/Wm4odW8oZSkpOnt9LGt1KHR8fCFlfHwhZS5fX2VzTW9kdWxlP0plKHUsImRlZmF1bHQiLHt2YWx1ZTplLGVudW1lcmFibGU6ITB9KTp1LGUpKSxhbz1lPT5rdShKZSh7fSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZSk7dmFyIHBuPW5vKChhZixkbik9Pnt2YXIgYnQsQXQsX3QseHQsQnQsJGUsYnUsS2UsVHQsZm4sTnQsVmUsU3Qsd3QsT3QscGUsbG4sUHQsSXQsQWE7U3Q9L1wvKD8hWypcL10pKD86XFsoPzpbXlxdXFxcblxyXHUyMDI4XHUyMDI5XSt8XFwuKSpcXXxbXlwvXFxcblxyXHUyMDI4XHUyMDI5XSt8XFwuKSooXC9bJF9cdTIwMENcdTIwMERccHtJRF9Db250aW51ZX1dKnxcXCk/L3l1O1ZlPS8tLXxcK1wrfD0+fFwuezN9fFw/P1wuKD8hXGQpfCg/OiYmfFx8XHx8XD9cP3xbK1wtJSZ8Xl18XCp7MSwyfXw8ezEsMn18PnsxLDN9fCE9P3w9ezEsMn18XC8oPyFbXC8qXSkpPT98Wz9+LDo7W1xdKCl7fV0veTtidD0vKFx4MjM/KSg/PVskX1xwe0lEX1N0YXJ0fVxcXSkoPzpbJF9cdTIwMENcdTIwMERccHtJRF9Db250aW51ZX1dK3xcXHVbXGRhLWZBLUZdezR9fFxcdVx7W1xkYS1mQS1GXStcfSkrL3l1O090PS8oWyciXSkoPzpbXiciXFxcblxyXSt8KD8hXDEpWyciXXxcXCg/OlxyXG58W15dKSkqKFwxKT8veTtOdD0vKD86MFt4WF1bXGRhLWZBLUZdKD86Xz9bXGRhLWZBLUZdKSp8MFtvT11bMC03XSg/Ol8/WzAtN10pKnwwW2JCXVswMV0oPzpfP1swMV0pKiluP3wwbnxbMS05XSg/Ol8/XGQpKm58KD86KD86MCg/IVxkKXwwXGQqWzg5XVxkKnxbMS05XSg/Ol8/XGQpKikoPzpcLig/OlxkKD86Xz9cZCkqKT8pP3xcLlxkKD86Xz9cZCkqKSg/OltlRV1bKy1dP1xkKD86Xz9cZCkqKT98MFswLTddKy95O3BlPS9bYH1dKD86W15gXFwkXSt8XFxbXl18XCQoPyFceykpKihgfFwkXHspPy95O0l0PS9bXHRcdlxmXHVmZWZmXHB7WnN9XSsveXU7S2U9L1xyP1xufFtcclx1MjAyOFx1MjAyOV0veTtUdD0vXC9cKig/OlteKl0rfFwqKD8hXC8pKSooXCpcLyk/L3k7d3Q9L1wvXC8uKi95O190PS9bPD4uOj17fV18XC8oPyFbXC8qXSkveTtBdD0vWyRfXHB7SURfU3RhcnR9XVskX1x1MjAwQ1x1MjAwRFxwe0lEX0NvbnRpbnVlfS1dKi95dTt4dD0vKFsnIl0pKD86W14nIl0rfCg/IVwxKVsnIl0pKihcMSk/L3k7QnQ9L1tePD57fV0rL3k7UHQ9L14oPzpbXC8rLV18XC57M318XD8oPzpJbnRlcnBvbGF0aW9uSW4oPzpKU1h8VGVtcGxhdGUpfE5vTGluZVRlcm1pbmF0b3JIZXJlfE5vbkV4cHJlc3Npb25QYXJlbkVuZHxVbmFyeUluY0RlYykpPyR8W3t9KFssOzw+PSolJnxeIX4/Ol0kLztsbj0vXig/Oj0+fFs7XF0pe31dfGVsc2V8XD8oPzpOb0xpbmVUZXJtaW5hdG9ySGVyZXxOb25FeHByZXNzaW9uUGFyZW5FbmQpKT8kLzskZT0vXig/OmF3YWl0fGNhc2V8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxpbnN0YW5jZW9mfG5ld3xyZXR1cm58dGhyb3d8dHlwZW9mfHZvaWR8eWllbGQpJC87YnU9L14oPzpyZXR1cm58dGhyb3d8eWllbGQpJC87Zm49UmVnRXhwKEtlLnNvdXJjZSk7ZG4uZXhwb3J0cz1BYT1mdW5jdGlvbiooZSx7anN4OnQ9ITF9PXt9KXt2YXIgdSxyLG8sbixhLHMsaSxELGYsbCxkLGMscCxGO2Zvcih7bGVuZ3RoOnN9PWUsbj0wLGE9IiIsRj1be3RhZzoiSlMifV0sdT1bXSs9cyp0Ll9taWxsaXNlY29uZHMsZS5fZGF5cys9cyp0Ll9kYXlzLGUuX21vbnRocys9cyp0Ll9tb250aHMsZS5fYnViYmxlKCl9ZnVuY3Rpb24gZ24oZSl7cmV0dXJuIGU8MD9NYXRoLmZsb29yKGUpOk1hdGguY2VpbChlKX1mdW5jdGlvbiB3bihlKXtyZXR1cm4gNDgwMCplLzE0NjA5N31mdW5jdGlvbiBwbihlKXtyZXR1cm4gMTQ2MDk3KmUvNDgwMH1mdW5jdGlvbiBrbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcyhlKX19ZGU9a24oIm1zIiksdD1rbigicyIpLHllPWtuKCJtIiksaGU9a24oImgiKSxGZT1rbigiZCIpLF9lPWtuKCJ3IiksbWU9a24oIk0iKSxRZT1rbigiUSIpLGk9a24oInkiKSxjZT1kZTtmdW5jdGlvbiBNbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/dGhpcy5fZGF0YVtlXTpOYU59fXZhciB3ZT1NbigibWlsbGlzZWNvbmRzIiksZmU9TW4oInNlY29uZHMiKSxnZT1NbigibWludXRlcyIpLFBlPU1uKCJob3VycyIpLGQ9TW4oImRheXMiKSx2bj1NbigibW9udGhzIiksRG49TW4oInllYXJzIik7dmFyIFluPU1hdGgucm91bmQsU249e3NzOjQ0LHM6NDUsbTo0NSxoOjIyLGQ6MjYsdzpudWxsLE06MTF9O2Z1bmN0aW9uIE9uKGUsdCxuLHMpe3ZhciBpPUMoZSkuYWJzKCkscj1ZbihpLmFzKCJzIikpLGE9WW4oaS5hcygibSIpKSxvPVluKGkuYXMoImgiKSksdT1ZbihpLmFzKCJkIikpLGw9WW4oaS5hcygiTSIpKSxkPVluKGkuYXMoInciKSksaT1ZbihpLmFzKCJ5IikpLHI9KHI8PW4uc3M/WyJzIixyXTpyPG4ucyYmWyJzcyIscl0pfHwoYTw9MT9bIm0iXTphPG4ubSYmWyJtbSIsYV0pfHwobzw9MT9bImgiXTpvPG4uaCYmWyJoaCIsb10pfHwodTw9MT9bImQiXTp1PG4uZCYmWyJkZCIsdV0pO3JldHVybihyPShyPW51bGwhPW4udz9yfHwoZDw9MT9bInciXTpkPG4udyYmWyJ3dyIsZF0pOnIpfHwobDw9MT9bIk0iXTpsPG4uTSYmWyJNTSIsbF0pfHwoaTw9MT9bInkiXTpbInl5IixpXSkpWzJdPXQsclszXT0wPCtlLHJbNF09cyxmdW5jdGlvbihlLHQsbixzLGkpe3JldHVybiBpLnJlbGF0aXZlVGltZSh0fHwxLCEhbixlLHMpfS5hcHBseShudWxsLHIpfXZhciBibj1NYXRoLmFicztmdW5jdGlvbiBUbihlKXtyZXR1cm4oMDxlKS0oZTwwKXx8K2V9ZnVuY3Rpb24geG4oKXt2YXIgZSx0LG4scyxpLHIsYSxvLHUsbCxkO3JldHVybiB0aGlzLmlzVmFsaWQoKT8oZT1ibih0aGlzLl9taWxsaXNlY29uZHMpLzFlMyx0PWJuKHRoaXMuX2RheXMpLG49Ym4odGhpcy5fbW9udGhzKSwobz10aGlzLmFzU2Vjb25kcygpKT8ocz1tKGUvNjApLGk9bShzLzYwKSxlJT02MCxzJT02MCxyPW0obi8xMiksbiU9MTIsYT1lP2UudG9GaXhlZCgzKS5yZXBsYWNlKC9cLj8wKyQvLCIiKToiIix1PVRuKHRoaXMuX21vbnRocykhPT1UbihvKT8iLSI6IiIsbD1Ubih0aGlzLl9kYXlzKSE9PVRuKG8pPyItIjoiIixkPVRuKHRoaXMuX21pbGxpc2Vjb25kcykhPT1UbihvKT8iLSI6IiIsKG88MD8iLSI6IiIpKyJQIisocj91K3IrIlkiOiIiKSsobj91K24rIk0iOiIiKSsodD9sK3QrIkQiOiIiKSsoaXx8c3x8ZT8iVCI6IiIpKyhpP2QraSsiSCI6IiIpKyhzP2QrcysiTSI6IiIpKyhlP2QrYSsiUyI6IiIpKToiUDBEIik6dGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKX12YXIgVT1DdC5wcm90byAicmVhY3RAMTkuMi4xIjogIjE5LjIuNCIsCiAgICAicmVhY3RAMTkuMi4yIjogIjE5LjIuNCIsCiAgICAidGFyLWZzIjogIjIuMS40IiwKICAgICJyb2xsdXAiOiAiNC4yMi40IiwKICAgICJqcGVnLWpzIjogIjAuNC40IiwKICAgICJ2YWxpZGF0b3IiOiAiMTMuMTUuMjIiLAogICAgImZvcm0tZGF0YSI6ICI0LjAuNCIsCiAgICAiYXhpb3MiOiAiMS4xMy4yIiwKICAgICJqd3MiOiAiNC4wLjEiLAogICAgImpzb253ZWJ0b2tlbiI6ICI5LjAuMCIsCiAgICAic2hhLmpzIjogIjIuNC4xMiIsCiAgICAicXMiOiAiNi4xNC4xIiwKICAgICJ0eXBlb3JtIjogIjAuMy4yNyIsCiAgICAibm9kZS1mb3JnZSI6ICIxLjMuMiIsCiAgICAiQG1vZGVsY29udGV4dHByb3RvY29sL3NkayI6ICIxLjI1LjIiLAogICAgImpzLXlhbWwiOiAiNC4xLjEiLAogICAgIm1kYXN0LXV0aWwtdG8taGFzdCI6ICIxMy4yLjEiLAogICAgInByaXNtanMiOiAiMS4zMC4wIiwKICAgICJyZWFjdC1kZXZ0b29scy1jb3JlIjogIjQuMjguNCIsCiAgICAiZm9ybWlkYWJsZSI6ICIyLjEuMyIsCiAgICAic2VyaWFsaXplLWphdmFzY3JpcHQiOiAiNi4wLjIiLAogICAgIkBhZG9iZS9jc3MtdG9vbHMiOiAiNC4zLjIiLAogICAgImpzb25kaWZmcGF0Y2giOiAiMC43LjIiLAogICAgIm1pbi1kb2N1bWVudCI6ICIyLjE5LjEiLAogICAgInRhciI6ICI3LjUuNCIsCiAgICAibG9kYXNoIjogIjQuMTcuMjMiLAogICAgImxvZGFzaC1lcyI6ICI0LjE3LjIzIgogIH0sCiAgInBhY2thZ2VFeHRlbnNpb25zIjogewogICAgImlua0AzLjIuMCI6IHsKICAgICAgImRlcGVuZGVuY2llcyI6IHsKICAgICAgICAid3MiOiAiNy41LjEwIgogICAgICB9CiAgICB9CiAgfSwKICAiZW5naW5lcyI6IHsKICAgICJucG0iOiAiPj03LjAuMCIsCiAgICAieWFybiI6ICI+PTQuMTIuMCIKICB9LAogICJwcmlzbWEiOiB7CiAgICAic2NoZW1hIjogInBhY2thZ2VzL3ByaXNtYS9zY2hlbWEucHJpc21hIiwKICAgICJzZWVkIjogInRzLW5vZGUgLS10cmFuc3BpbGUtb25seSAuL3BhY2thZ2VzL3ByaXNtYS9zZWVkLnRzIgogIH0sCiAgInBhY2thZ2VNYW5hZ2VyIjogInlhcm5ANC4xMi4wIiwKICAic3luY3BhY2siOiB7CiAgICAiZmlsdGVyIjogIl4oPyFAY2FsY29tKS4qIiwKICAgICJzZW12ZXJSYW5nZSI6ICIiCiAgfQp9CnsKICAicHJpdmF0ZSI6IHRydWUsCiAgIm5hbWUiOiAiQGNhbGNvbS9leGNoYW5nZTIwMTZjYWxlbmRhciIsCiAgInZlcnNpb24iOiAiMC4wLjAiLAogICJtYWluIjogIi4vaW5kZXgudHMiLAogICJkZXNjcmlwdGlvbiI6ICJGb3IgY2FsZW5kYXJzIGhvc3RlZCBvbiBvbi1wcmVtaXNlcyBNaWNyb3NvZnQgRXhjaGFuZ2UgMjAxNiBzZXJ2ZXJzIiwKICAiZGVwZW5kZW5jaWVzIjogewogICAgIkBjYWxjb20vbGliIjogIndvcmtzcGFjZToqIiwKICAgICJAY2FsY29tL3ByaXNtYSI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiQGNhbGNvbS91aSI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiZXdzLWphdmFzY3JpcHQtYXBpIjogIjAuMTEuMCIKICB9LAogICJwZWVyRGVwZW5kZW5jaWVzIjogewogICAgInJlYWN0IjogIl4xOC4wLjAgfHwgXjE5LjAuMCIsCiAgICAicmVhY3QtZG9tIjogIl4xOC4wLjAgfHwgXjE5LjAuMCIsCiAgICAicmVhY3QtaG9vay1mb3JtIjogIl43LjAuMCIKICB9b25lbnQgd2l0aCBkZWZhdWx0IHNoYWxsb3cgZXF1YWxpdHkgY2hlY2sgZm9yIHNDVS4KICovCgpmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7CiAgdGhpcy5wcm9wcyA9IHByb3BzOwogIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7IC8vIElmIGEgY29tcG9uZW50IGhhcyBzdHJpbmcgcmVmcywgd2Ugd2lsbCBhc3NpZ24gYSBkaWZmZXJlbnQgb2JqZWN0IGxhdGVyLgoKICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDsKICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlOwp9Cgp2YXIgcHVyZUNvbXBvbmVudFByb3RvdHlwZSA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7CnB1cmVDb21wb25lbnRQcm90b3R5cGUuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50OyAvLyBBdm9pZCBhbiBleHRyYSBwcm90b3R5cGUganVtcCBmb3IgdGhlc2UgbWV0aG9kcy4KCmFzc2lnbihwdXJlQ29tcG9uZW50UHJvdG90eXBlLCBDb21wb25lbnQucHJvdG90eXBlKTsKcHVyZUNvbXBvbmVudFByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7CgovLyBhbiBpbW11dGFibGUgb2JqZWN0IHdpdGggYSBzaW5nbGUgbXV0YWJsZSB2YWx1ZQpmdW5jdGlvbiBjcmVhdGVSZWYoKSB7CiAgdmFyIHJlZk9iamVjdCA9IHsKICAgIGN1cnJlbnQ6IG51bGwKICB9OwoKICB7CiAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpOwogIH0KCiAgcmV0dXJuIHJlZk9iamVjdDsKfQoKdmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZQoKZnVuY3Rpb24gaXNBcnJheShhKSB7CiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpOwp9CgovKgogKiBUaGUgYCcnICsgdmFsdWVgIHBhdHRlcm4gKHVzZWQgaW4gaW4gcGVyZi1zZW5zaXRpdmUgY29kZSkgdGhyb3dzIGZvciBTeW1ib2wKICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC4KICoKICogVGhlIGZ1bmN0aW9ucyBpbiB0aGlzIG1vZHVsZSB3aWxsIHRocm93IGFuIGVhc2llci10by11bmRlcnN0YW5kLAogKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlCiAqIHByb2JsZW0uIChJbnN0ZWFkIG9mIGEgY29uZnVzaW5nIGV4Y2VwdGlvbiB0aHJvd24gaW5zaWRlIHRoZSBpbXBsZW1lbnRhdGlvbgogKiBvZiB0aGUgYHZhbHVlYCBvYmplY3QpLgogKi8KLy8gJEZsb3dGaXhNZSBvbmx5IGNhbGxlZCBpbiBERVYsIHNvIHZvaWQgcmV0dXJuIGlzIG5vdCBwb3NzaWJsZS4KZnVuY3Rpb24gdHlwZU5hbWUodmFsdWUpIHsKICB7CiAgICAvLyB0b1N0cmluZ1RhZyBpcyBuZWVkZWQgZm9yIG5hbWVzcGFjZWQgdHlwZXMgbGlrZSBUZW1wb3JhbC5JbnN0YW50CiAgICB2YXIgaGFzVG9TdHJpbmdUYWcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC50b1N0cmluZ1RhZzsKICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOwogMTIuMjY0NkM1LjQxMDUyIDEyLjI2NDYgNS43NzI4MyAxMi4wODY5IDYuMDE4OTIgMTEuNzEwOUwxMi4zOSAxLjk2OTczQzEyLjU2NzcgMS42OTYyOSAxMi42NDI5IDEuNDQzMzYgMTIuNjQyOSAxLjIwNDFDMTIuNjQyOSAwLjU2MTUyMyAxMi4xNjQ0IDAuMDk2Njc5NyAxMS41MDgyIDAuMDk2Njc5N0MxMS4wNTcgMC4wOTY2Nzk3IDEwLjc3NjcgMC4yNjA3NDIgMTAuNTAzMyAwLjY5MTQwNkw0LjkxMTUgOS41MDk3N0wyLjA3NDU4IDUuOTg5MjZDMS44MjE2NiA1LjY4ODQ4IDEuNTQ4MjIgNS41NTE3NiAxLjE2NTQxIDUuNTUxNzZDMC41MDIzMTkgNS41NTE3NiAwLjAyMzgwMzcgNi4wMjM0NCAwLjAyMzgwMzcgNi42NjYwMkMwLjAyMzgwMzcgNi45NTMxMiAwLjExMjY3MSA3LjIwNjA1IDAuMzU4NzY1IDcuNDg2MzNMMy44ODYxMSAxMS43NTg4QzQuMTgwMDUgMTIuMTA3NCA0LjUwODE4IDEyLjI2NDYgNC45NDU2OCAxMi4yNjQ2WiIsCiAgICAgIGZpbGw6ICJjdXJyZW50Q29sb3IiCiAgICB9CiAgKQopOwoKLy8gc3JjL2NvbXBvbmVudHMvSWNvbnMvQ29weS50c3gKaW1wb3J0IFJlYWN0MjYgZnJvbSAicmVhY3QiOwp2YXIgQ29weUljb24gPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QyNi5jcmVhdGVFbGVtZW50KAogICJzdmciLAogIHsKICAgIGZpbGw6ICJub25lIiwKICAgIGhlaWdodDogIjE2IiwKICAgIHZpZXdCb3g6ICIwIDAgMTcgMTYiLAogICAgd2lkdGg6ICIxNyIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIH0sCiAgLyogQF9fUFVSRV9fICovIFJlYWN0MjYuY3JlYXRlRWxlbWVudCgidGl0bGUiLCBudWxsLCAiQ29weSIpLAogIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI2LmNyZWF0ZUVsZW1lbnQoCiAgICAicGF0aCIsCiAgICB7CiAgICAgIGQ6ICJNMy4wNDIzNiAxMi4zMDI3SDQuMTgzOTZWMTMuMzAwOEM0LjE4Mzk2IDE0Ljg1MjUgNS4wMzg0NSAxNS43MDAyIDYuNTk3MDUgMTUuNzAwMkgxMy42MjQ0QzE1LjE4MyAxNS43MDAyIDE2LjAzNzUgMTQuODUyNSAxNi4wMzc1IDEzLjMwMDhWNi4yNDYwOUMxNi4wMzc1IDQuNjk0MzQgMTUuMTgzIDMuODQ2NjggMTMuNjI0NCAzLjg0NjY4SDEyLjQ4MjhWMi44NDE4QzEyLjQ4MjggMS4yOTY4OCAxMS42MjgzIDAuNDQyMzgzIDEwLjA2OTcgMC40NDIzODNIMy4wNDIzNkMxLjQ4Mzc2IDAuNDQyMzgzIDAuNjI5MjcyIDEuMjkwMDQgMC42MjkyNzIgMi44NDE4VjkuOTAzMzJDMC42MjkyNzIgMTEuNDU1MSAxLjQ4Mzc2IDEyLjMwMjcgMy4wNDIzNiAxMi4zMDI3Wk0zLjIzMzc2IDEwLjUzOTFDMi42ODY4OSAxMC41MzkxIDIuMzkyOTQgMTAuMjY1NiAyLjM5Mjk0IDkuNjg0NTdWMy4wNjA1NUMyLjM5Mjk0IDIuNDc5NDkgMi42ODY4OSAyLjIxMjg5IDMuMjMzNzYgMi4yMTI4OUg5Ljg3ODNDMTAuNDI1MiAyLjIxMjg5IDEwLjcxOTEgMi40Nzk0OSAxMC43MTkxIDMuMDYwNTVWMy44NDY2OEg2LjU5NzA1QzUuMDM4NDUgMy44NDY2OCA0LjE4Mzk2IDQuNjk0MzQgNC4xODM5NiA2LjI0NjA5VjEwLjUzOTFIMy4yMzM3NlpNNi43ODg0NSAxMy45MzY1QzYuMjQxNTggMTMuOTM2NSA1Ljk0NzYzIDEzLjY2OTkgNS45NDc2MyAxMy4wODg5VjYuNDU4MDFDNS45NDc2MyA1Ljg3Njk1IDYuMjQxNTggNS42MTAzNSA2Ljc4ODQ1IDUuNjEwMzVIMTMuNDMzQzEzLjk3ZWZpbmVkIiAmJiAoL2lQYWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgbmF2aWdhdG9yLnBsYXRmb3JtID09PSAiTWFjSW50ZWwiICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpOwp9CmZ1bmN0aW9uIGlzSU9TKCkgewogIHJldHVybiBpc1NtYWxsSU9TKCkgfHwgaXNMYXJnZUlPUygpOwp9CmZ1bmN0aW9uIGlzTW9iaWxlKCkgewogIHJldHVybiBpc0FuZHJvaWQoKSB8fCBpc0lPUygpOwp9CgovLyBzcmMvY29tcG9uZW50cy9Bc3luY0ltYWdlL0FzeW5jSW1hZ2UudHN4CmltcG9ydCBSZWFjdDMsIHsgdXNlUmVkdWNlciBhcyB1c2VSZWR1Y2VyMiB9IGZyb20gInJlYWN0IjsKCi8vIHNyYy9jb21wb25lbnRzL0JveC9Cb3gudHMKaW1wb3J0IGNsc3gyIGZyb20gImNsc3giOwppbXBvcnQgUmVhY3QyIGZyb20gInJlYWN0IjsKCi8vIHNyYy9jc3MvYXRvbXMudHMKaW1wb3J0IGNsc3ggZnJvbSAiY2xzeCI7CgovLyBzcmMvY3NzL3Jlc2V0LmNzcy50cwp2YXIgYmFzZTIgPSAiaWVrYmNjMCI7CnZhciBlbGVtZW50ID0geyBhOiAiaWVrYmNjYSIsIGJsb2NrcXVvdGU6ICJpZWtiY2MyIiwgYnV0dG9uOiAiaWVrYmNjOSIsIGlucHV0OiAiaWVrYmNjOCBpZWtiY2M1IGlla2JjYzQiLCBtYXJrOiAiaWVrYmNjNiIsIG9sOiAiaWVrYmNjMSIsIHE6ICJpZWtiY2MyIiwgc2VsZWN0OiAiaWVrYmNjNyBpZWtiY2M1IGlla2JjYzQiLCB0YWJsZTogImlla2JjYzMiLCB0ZXh0YXJlYTogImlla2JjYzUgaWVrYmNjNCIsIHVsOiAiaWVrYmNjMSIgfTsKCi8vIHNyYy9jc3MvYXRvbXMudHMKdmFyIGF0b21zID0gKHsgcmVzZXQsIC4uLnJlc3QgfSkgPT4gewogIGlmICghcmVzZXQpIHJldHVybiBzcHJpbmtsZXMocmVzdCk7CiAgY29uc3QgZWxlbWVudFJlc2V0ID0gZWxlbWVudFtyZXNldF07CiAgY29uc3Qgc3ByaW5rbGVzQ2xhc3NlcyA9IHNwcmlua2xlcyhyZXN0KTsKICByZXR1cm4gY2xzeChiYXNlMiwgZWxlbWVudFJlc2V0LCBzcHJpbmtsZXNDbGFzc2VzKTsKfTsKCi8vIHNyYy9jb21wb25lbnRzL0JveC9Cb3gudHMKdmFyIEJveCA9IFJlYWN0Mi5mb3J3YXJkUmVmKAogICh7IGFzID0gImRpdiIsIGNsYXNzTmFtZSwgdGVzdElkLCAuLi5wcm9wcyB9LCByZWYpID0+IHsKICAgIGNvbnN0IGF0b21Qcm9wcyA9IHt9OwogICAgY29uc3QgbmF0aXZlUHJvcHMgPSB7fTsKICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7CiAgICAgIGlmIChzcHJpbmtsZXMucHJvcGVydGllcy5oYXMoa2V5KSkgewogICAgICAgIGF0b21Qcm9wc1trZXldID0gcHJvcHNba2V5XTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuYXRpdmVQcm9wc1trZXldID0gcHJvcHNba2V5XTsKICAgICAgfQogICAgfQogICAgY29uc3QgYXRvbWljQ2xhc3NlcyA9IGF0b21zKHsKICAgICAgcmVzZXQ6IHR5cGVvZiBhcyA9PT0gInN0cmluZyIgPyBhcyA6ICJkaXYiLAogICAgICAuLi5hdG9tUHJvcHMKICAgIH0pOwogICAgcmV0dXJuIFJlYWN0Mi5jcmVhdGVFbGVtZW50KGFzLCB7CiAgICAgIGNsYXNzTmFtZTogY2xzeDIoYXRvbWljQ2xhc3NlcywgY2xhc3NOYW1lKSwKICAgICAgLi4ubmF0aXZlUHJvcHMsCiAgICAgICJkYXRhLXRlc3RpZCI6IHRlc3RJZCA/IGByay0ke3Rlc3RJZC5yZXBsYWNlKC9ecmstLywgIiIpfWAgOiB2b2lkIDAsCiAgICAgIHJlZgogICAgdC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX0odixULG4pKSwhaSYmLTE8Y2UuaW5BcnJheSgic2NyaXB0Iix2LmRhdGFUeXBlcykmJmNlLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoY2UubGFzdE1vZGlmaWVkW2ZdPXUpLCh1PVQuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSkmJihjZS5ldGFnW2ZdPXUpKSwyMDQ9PT1lfHwiSEVBRCI9PT12LnR5cGU/bD0ibm9jb250ZW50IjozMDQ9PT1lP2w9Im5vdG1vZGlmaWVkIjoobD1zLnN0YXRlLG89cy5kYXRhLGk9IShhPXMuZXJyb3IpKSk6KGE9bCwhZSYmbHx8KGw9ImVycm9yIixlPDAmJihlPTApKSksVC5zdGF0dXM9ZSxULnN0YXR1c1RleHQ9KHR8fGwpKyIiLGk/eC5yZXNvbHZlV2l0aCh5LFtvLGwsVF0pOngucmVqZWN0V2l0aCh5LFtULGwsYV0pLFQuc3RhdHVzQ29kZSh3KSx3PXZvaWQgMCxnJiZtLnRyaWdnZXIoaT8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtULHYsaT9vOmFdKSxiLmZpcmVXaXRoKHksW1QsbF0pLGcmJihtLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW1Qsdl0pLC0tY2UuYWN0aXZlfHxjZS5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9cmV0dXJuIFR9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjZS5nZXQoZSx0LG4sImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxjZS5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGUsaSl7Y2VbZW50Tm9kZTtyZXR1cm4gZT09PW58fCEoIW58fDEhPT1uLm5vZGVUeXBlfHwhKGUuY29udGFpbnM/ZS5jb250YWlucyhuKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pKSl9O3ZhciBmPS8oW1wwLVx4MWZceDdmXXxeLT9cZCl8Xi0kfFteXHg4MC1cdUZGRkZcdy1dL2c7ZnVuY3Rpb24gcChlLHQpe3JldHVybiB0PyJcMCI9PT1lPyJcdWZmZmQiOmUuc2xpY2UoMCwtMSkrIlxcIitlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK2V9Y2UuZXNjYXBlU2VsZWN0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UoZixwKX07dmFyIHllPUMsbWU9czshZnVuY3Rpb24oKXt2YXIgZSxiLHcsbyxhLFQscixDLGQsaSxrPW1lLFM9Y2UuZXhwYW5kbyxFPTAsbj0wLHM9VygpLGM9VygpLHU9VygpLGg9VygpLGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihhPSEwKSwwfSxmPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsdD0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK2dlKyI/fFxcXFxbXlxcclxcblxcZl18W1xcdy1dfFteXDAtXFx4N2ZdKSsiLHA9IlxcWyIrZ2UrIiooIit0KyIpKD86IitnZSsiKihbKl4kfCF+XT89KSIrZ2UrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIit0KyIpKXwpIitnZSsiKlxcXSIsZz0iOigiK3QrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK3ArIikqKXwuKilcXCl8KSIsdj1uZXcgUmVnRXhwKGdlKyIrIiwiZyIpLHk9bmV3IFJlZ0V4cCgiXiIrZ2UrIiosIitnZSsiKiIpLG09bmV3IFJlZ0V4cCgiXiIrZ2UrIiooWz4rfl18IitnZSsiKSIrZ2UrIioiKSx4PW5ldyBSZWdFeHAoZ2UrInw+Iiksaj1uZXcgUmVnRXhwKGcpLEE9bmV3IFJlZ0V4cCgiXiIrdCsiJCIpLEQ9e0lEOm5ldyBSZWdFeHAoIl4jKCIrdCsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIit0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0KyJ8WypdKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrcCksUFNFVURPOm5ldyBSZWdFeHAoIl4iK2cpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrZ2UrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK2dlKyIqKD86KFsrLV18KSIrZ2UrIiooXFxkKyl8KSkiK2dlKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitmKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrZ2UrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrZ2UrIiooKD86LVxcZCk/XFxkKikiK2dlKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxOPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2kscT0vXmhcZCQvaSxMPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sSD0vWyt+XS8sTz1uZShuLCJ2LWZvciIpKXJldHVybiB6ZShuLHMsdCk7aWYoKHM9X2Uobiwidi1zY29wZSIpKXx8IiI9PT1zKXtjb25zdCBlPXM/TWUodC5zY29wZSxzKTp7fTt0PWV0KHQsZSksZS4kdGVtcGxhdGUmJlhlKG4sZS4kdGVtcGxhdGUpfWNvbnN0IHI9bnVsbCE9X2Uobiwidi1vbmNlIik7ciYmKHFlPSEwKSwocz1fZShuLCJyZWYiKSkmJlFlKG4sSGUsYCIke3N9ImAsdCksR2Uobix0KTtjb25zdCBpPVtdO2Zvcihjb25zdHtuYW1lOmUsdmFsdWU6b31vZlsuLi5uLmF0dHJpYnV0ZXNdKUplLnRlc3QoZSkmJiJ2LWNsb2FrIiE9PWUmJigidi1tb2RlbCI9PT1lP2kudW5zaGlmdChbZSxvXSk6IkAiPT09ZVswXXx8L152LW9uXGIvLnRlc3QoZSk/aS5wdXNoKFtlLG9dKTpVZShuLGUsbyx0KSk7Zm9yKGNvbnN0W2Usb11vZiBpKVVlKG4sZSxvLHQpO3ImJihxZT0hMSl9ZWxzZSBpZigzPT09bil7Y29uc3Qgbj1lLmRhdGE7aWYobi5pbmNsdWRlcyh0LmRlbGltaXRlcnNbMF0pKXtsZXQgcyxyPVtdLGk9MDtmb3IoO3M9dC5kZWxpbWl0ZXJzUkUuZXhlYyhuKTspe2NvbnN0IGU9bi5zbGljZShpLHMuaW5kZXgpO2UmJnIucHVzaChKU09OLnN0cmluZ2lmeShlKSksci5wdXNoKGAkcygke3NbMV19KWApLGk9cy5pbmRleCtzWzBdLmxlbmd0aH1pPG4ubGVuZ3RoJiZyLnB1c2goSlNPTi5zdHJpbmdpZnkobi5zbGljZShpKSkpLFFlKGUsRWUsci5qb2luKCIrIiksdCl9fWVsc2UgMTE9PT1uJiZHZShlLHQpfSxHZT0oZSx0KT0+e2xldCBuPWUuZmlyc3RDaGlsZDtmb3IoO247KW49RGUobix0KXx8bi5uZXh0U2libGluZ30sVWU9KGUsdCxuLHMpPT57bGV0IHIsaSxvO2lmKCI6Ij09PSh0PXQucmVwbGFjZShaZSwoKGUsdCk9Pigob3x8KG89e30pKVt0XT0hMCwiIikpKSlbMF0pcj12ZSxpPXQuc2xpY2UoMSk7ZWxzZSBpZigiQCI9PT10WzBdKXI9U2UsaT10LnNsaWNlKDEpO2Vsc2V7Y29uc3QgZT10LmluZGV4T2YoIjoiKSxuPWU+MD90LnNsaWNlKDIsZSk6dC5zbGljZSgyKTtyPVdlW25dfHxzLmRpcnNbbl0saT1lPjA/dC5zbGljZShlKzEpOnZvaWQgMH1yJiYocj09PXZlJiYicmVmIj09PWkmJihyPUhlKSxRZShlLHIsbixzLGksbyksZS5yZW1vdmVBdHRyaWJ1dGUodCkpfSxRZT0oZSx0LG4scyxyLGkpPT57Y29uc3Qgbz10KHtlbDplLGdldDoodD1uKT0+TWUocy5zY29wZSx0LGUpLGVmZmVjdDpzLmVmZmVjdCxjdHg6cyxleHA6bixhcmc6cixtb2RpZmllcnM6aX0pO28mJnMuY2xlYW51cHMucHVzaChvKX0sWGU9KGUsdCk9PntpZigiIyIhPT10WzBdKWUuaW5uZXJIVE1MPXQ7ZWxzZXtjb25zdCBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7ZS5hcHBlbmRDaGlsZChuLmNvbnRlbnQuY2xvbmVOb2RlKCEwKSl9fSxZZT1lPT57Y29uc3QgdD17ZGVsaW1pdGVyczpbInt7IiwifX0iXSxkZWxpbWl0ZXJzUkU6L1x7XHsoW15dKz8pXH1cfS9nLC4uLmUsc2NvcGU6ZT9lLnNjb3BlOm9lKHt9KSxkaXJzOmU/ZS5kaXJzOnt9LGVmZmVjdHM6W10sYmxvY2tzOltdLGNsZWFudXBzOltdLGVmZmVjdDplPT57aWYocWUpcmV0dXJuIGRlKGUpLGU7Y29uc3Qgbj1mdW5jdGlvbihlLHQpe2UuZWZmZWN0JiYoZT1lLmVmZmVjdC5mbik7Y29uc3Qgbj1uZXcgVyhlKTt0JiYobChuLHQpLHQuc2NvcGUmJlMobix0LnNjb3BlKSksKCF0fHwhdC5sYXp5KSYmbi5ydW4oKTtjUEVSSU9EIiwiLiIsIk9FTV9QRVJJT0QiXSxbMCw2MiwiU2xhc2giLDkwLCIvIiwxOTEsIlZLX09FTV8yIiwiLyIsIk9FTV8yIl0sWzEsNjMsIkNhcHNMb2NrIiw4LCJDYXBzTG9jayIsMjAsIlZLX0NBUElUQUwiLG8sb10sWzEsNjQsIkYxIiw1OSwiRjEiLDExMiwiVktfRjEiLG8sb10sWzEsNjUsIkYyIiw2MCwiRjIiLDExMywiVktfRjIiLG8sb10sWzEsNjYsIkYzIiw2MSwiRjMiLDExNCwiVktfRjMiLG8sb10sWzEsNjcsIkY0Iiw2MiwiRjQiLDExNSwiVktfRjQiLG8sb10sWzEsNjgsIkY1Iiw2MywiRjUiLDExNiwiVktfRjUiLG8sb10sWzEsNjksIkY2Iiw2NCwiRjYiLDExNywiVktfRjYiLG8sb10sWzEsNzAsIkY3Iiw2NSwiRjciLDExOCwiVktfRjciLG8sb10sWzEsNzEsIkY4Iiw2NiwiRjgiLDExOSwiVktfRjgiLG8sb10sWzEsNzIsIkY5Iiw2NywiRjkiLDEyMCwiVktfRjkiLG8sb10sWzEsNzMsIkYxMCIsNjgsIkYxMCIsMTIxLCJWS19GMTAiLG8sb10sWzEsNzQsIkYxMSIsNjksIkYxMSIsMTIyLCJWS19GMTEiLG8sb10sWzEsNzUsIkYxMiIsNzAsIkYxMiIsMTIzLCJWS19GMTIiLG8sb10sWzEsNzYsIlByaW50U2NyZWVuIiwwLG8sMCxvLG8sb10sWzEsNzcsIlNjcm9sbExvY2siLDg0LCJTY3JvbGxMb2NrIiwxNDUsIlZLX1NDUk9MTCIsbyxvXSxbMSw3OCwiUGF1c2UiLDcsIlBhdXNlQnJlYWsiLDE5LCJWS19QQVVTRSIsbyxvXSxbMSw3OSwiSW5zZXJ0IiwxOSwiSW5zZXJ0Iiw0NSwiVktfSU5TRVJUIixvLG9dLFsxLDgwLCJIb21lIiwxNCwiSG9tZSIsMzYsIlZLX0hPTUUiLG8sb10sWzEsODEsIlBhZ2VVcCIsMTEsIlBhZ2VVcCIsMzMsIlZLX1BSSU9SIixvLG9dLFsxLDgyLCJEZWxldGUiLDIwLCJEZWxldGUiLDQ2LCJWS19ERUxFVEUiLG8sb10sWzEsODMsIkVuZCIsMTMsIkVuZCIsMzUsIlZLX0VORCIsbyxvXSxbMSw4NCwiUGFnZURvd24iLDEyLCJQYWdlRG93biIsMzQsIlZLX05FWFQiLG8sb10sWzEsODUsIkFycm93UmlnaHQiLDE3LCJSaWdodEFycm93IiwzOSwiVktfUklHSFQiLCJSaWdodCIsb10sWzEsODYsIkFycm93TGVmdCIsMTUsIkxlZnRBcnJvdyIsMzcsIlZLX0xFRlQiLCJMZWZ0IixvXSxbMSw4NywiQXJyb3dEb3duIiwxOCwiRG93bkFycm93Iiw0MCwiVktfRE9XTiIsIkRvd24iLG9dLFsxLDg4LCJBcnJvd1VwIiwxNiwiVXBBcnJvdyIsMzgsIlZLX1VQIiwiVXAiLG9dLFsxLDg5LCJOdW1Mb2NrIiw4MywiTnVtTG9jayIsMTQ0LCJWS19OVU1MT0NLIixvLG9dLFsxLDkwLCJOdW1wYWREaXZpZGUiLDExMywiTnVtUGFkX0RpdmlkZSIsMTExLCJWS19ESVZJREUiLG8sb10sWzEsOTEsIk51bXBhZE11bHRpcGx5IiwxMDgsIk51bVBhZF9NdWx0aXBseSIsMTA2LCJWS19NVUxUSVBMWSIsbyxvXSxbMSw5MiwiTnVtcGFkU3VidHJhY3QiLDExMSwiTnVtUGFkX1N1YnRyYWN0IiwxMDksIlZLX1NVQlRSQUNUIixvLG9dLFsxLDkzLCJOdW1wYWRBZGQiLDEwOSwiTnVtUGFkX0FkZCIsMTA3LCJWS19BREQiLG8sb10sWzEsOTQsIk51bXBhZEVudGVyIiwzLG8sMCxvLG8sb10sWzEsOTUsIk51bXBhZDEiLDk5LCJOdW1QYWQxIiw5NywiVktfTlVNUEFEMSIsbyxvXSxbMSw5NiwiTnVtcGFkMiIsMTAwLCJOdW1QYWQyIiw5OCwiVktfTlVNUEFEMiIsbyxvXSxbMSw5NywiTnVtcGFkMyIsMTAxLCJOdW1QYWQzIiw5OSwiVktfdHlwZW9mIEUudnNjb2RlV2luZG93SWQhPSJudW1iZXIiJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoRSwidnNjb2RlV2luZG93SWQiLHtnZXQ6KCk9Pnl9KX1lLmVuc3VyZUNvZGVXaW5kb3c9TCxlLm1haW5XaW5kb3c9d2luZG93LGUuJHdpbmRvdz1lLm1haW5XaW5kb3d9KSxkZWZpbmUoaWVbMTNdLG5lKFsxLDBdKSxmdW5jdGlvbihRLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5DYWxsYmFja0l0ZXJhYmxlPWUuQXJyYXlRdWV1ZT1lLnJldmVyc2VPcmRlcj1lLmJvb2xlYW5Db21wYXJhdG9yPWUubnVtYmVyQ29tcGFyYXRvcj1lLnRpZUJyZWFrQ29tcGFyYXRvcnM9ZS5jb21wYXJlQnk9ZS5Db21wYXJlUmVzdWx0PWUuc3BsaWNlPWUuaW5zZXJ0SW50bz1lLmFzQXJyYXk9ZS5wdXNoTWFueT1lLnB1c2hUb0VuZD1lLnB1c2hUb1N0YXJ0PWUuYXJyYXlJbnNlcnQ9ZS5yYW5nZT1lLmZpcnN0T3JEZWZhdWx0PWUuZGlzdGluY3Q9ZS5pc05vbkVtcHR5QXJyYXk9ZS5pc0ZhbHN5T3JFbXB0eT1lLmNvYWxlc2NlSW5QbGFjZT1lLmNvYWxlc2NlPWUuZm9yRWFjaFdpdGhOZWlnaGJvcnM9ZS5mb3JFYWNoQWRqYWNlbnQ9ZS5ncm91cEFkamFjZW50Qnk9ZS5ncm91cEJ5PWUucXVpY2tTZWxlY3Q9ZS5iaW5hcnlTZWFyY2gyPWUuYmluYXJ5U2VhcmNoPWUucmVtb3ZlRmFzdFdpdGhvdXRLZWVwaW5nT3JkZXI9ZS5lcXVhbHM9ZS50YWlsMj1lLnRhaWw9dm9pZCAwO2Z1bmN0aW9uIEwoeCxSPTApe3JldHVybiB4W3gubGVuZ3RoLSgxK1IpXX1lLnRhaWw9TDtmdW5jdGlvbiBrKHgpe2lmKHgubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdGFpbCBjYWxsIik7cmV0dXJuW3guc2xpY2UoMCx4Lmxlbmd0aC0xKSx4W3gubGVuZ3RoLTFdXX1lLnRhaWwyPWs7ZnVuY3Rpb24geSh4LFIsQj0oVyxWKT0+Vz09PVYpe2lmKHg9PT1SKXJldHVybiEwO2lmKCF4fHwhUnx8eC5sZW5ndGghPT1SLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IFc9MCxWPXgubGVuZ3RoO1c8VjtXKyspaWYoIUIoeFtXXSxSW1ddKSlyZXR1cm4hMTtyZXR1cm4hMH1lLmVxdWFscz15O2Z1bmN0aW9uIEUoeCxSKXtjb25zdCBCPXgubGVuZ3RoLTE7UjxCJiYoeFtSXT14W0JdKSx4LnBvcCgpfWUucmVtb3ZlRmFzdFdpdGhvdXRLZWVwaW5nT3JkZXI9RTtmdW5jdGlvbiBfKHgsUixCKXtyZXR1cm4gcCh4Lmxlbmd0aCxXPT5CKHhbV10sUikpfWUuYmluYXJ5U2VhcmNoPV87ZnVuY3Rpb24gcCh4LFIpe2xldCBCPTAsVz14LTE7Zm9yKDtCPD1XOyl7Y29uc3QgVj0oQitXKS8yfDAsVT1SKFYpO2lmKFU8MClCPVYrMTtlbHNlIGlmKFU+MClXPVYtMTtlbHNlIHJldHVybiBWfXJldHVybi0oQisxKX1lLmJpbmFyeVNlYXJjaDI9cDtmdW5jdGlvbiBTKHgsUixCKXtpZih4PXh8MCx4Pj1SLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIGluZGV4Iik7Y29uc3QgVz1SW01hdGguZmxvb3IoUi5sZW5ndGgqTWF0aC5yYW5kb20oKSldLFY9W10sVT1bXSxGPVtdO2Zvcihjb25zdCBqIG9mIFIpe2NvbnN0IEo9QihqLFcpO0o8MD9WLnB1c2goaik6Sj4wP1UucHVzaChqKTpGLnB1c2goail9cmV0dXJuIHg8Vi5sZW5ndGg/Uyh4LFYsQik6eDxWLmxlbmd0aCtGLmxlbmd0aD9GWzBdOlMoeC0oVi5sZW5nSE9PS1NdLnB1c2gob25EZXN0cm95Q2FsbGJhY2spOwp9Ci8qKgogKiBSZW1vdmVzIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBMVmlldy1zcGVjaWZpYyBkZXN0cm95IGNhbGxiYWNrLgogKi8KZnVuY3Rpb24gcmVtb3ZlTFZpZXdPbkRlc3Ryb3kobFZpZXcsIG9uRGVzdHJveUNhbGxiYWNrKSB7CiAgICBpZiAobFZpZXdbT05fREVTVFJPWV9IT09LU10gPT09IG51bGwpCiAgICAgICAgcmV0dXJuOwogICAgY29uc3QgZGVzdHJveUNCSWR4ID0gbFZpZXdbT05fREVTVFJPWV9IT09LU10uaW5kZXhPZihvbkRlc3Ryb3lDYWxsYmFjayk7CiAgICBpZiAoZGVzdHJveUNCSWR4ICE9PSAtMSkgewogICAgICAgIGxWaWV3W09OX0RFU1RST1lfSE9PS1NdLnNwbGljZShkZXN0cm95Q0JJZHgsIDEpOwogICAgfQp9Ci8qKgogKiBHZXRzIHRoZSBwYXJlbnQgTFZpZXcgb2YgdGhlIHBhc3NlZCBMVmlldywgaWYgdGhlIFBBUkVOVCBpcyBhbiBMQ29udGFpbmVyLCB3aWxsIGdldCB0aGUgcGFyZW50IG9mCiAqIHRoYXQgTENvbnRhaW5lciwgd2hpY2ggaXMgYW4gTFZpZXcKICogQHBhcmFtIGxWaWV3IHRoZSBsVmlldyB3aG9zZSBwYXJlbnQgdG8gZ2V0CiAqLwpmdW5jdGlvbiBnZXRMVmlld1BhcmVudChsVmlldykgewogICAgbmdEZXZNb2RlICYmIGFzc2VydExWaWV3KGxWaWV3KTsKICAgIGNvbnN0IHBhcmVudCA9IGxWaWV3W1BBUkVOVF07CiAgICByZXR1cm4gaXNMQ29udGFpbmVyKHBhcmVudCkgPyBwYXJlbnRbUEFSRU5UXSA6IHBhcmVudDsKfQoKY29uc3QgaW5zdHJ1Y3Rpb25TdGF0ZSA9IHsKICAgIGxGcmFtZTogY3JlYXRlTEZyYW1lKG51bGwpLAogICAgYmluZGluZ3NFbmFibGVkOiB0cnVlLAogICAgc2tpcEh5ZHJhdGlvblJvb3RUTm9kZTogbnVsbCwKfTsKLyoqCiAqIEluIHRoaXMgbW9kZSwgYW55IGNoYW5nZXMgaW4gYmluZGluZ3Mgd2lsbCB0aHJvdyBhbiBFeHByZXNzaW9uQ2hhbmdlZEFmdGVyQ2hlY2tlZCBlcnJvci4KICoKICogTmVjZXNzYXJ5IHRvIHN1cHBvcnQgQ2hhbmdlRGV0ZWN0b3JSZWYuY2hlY2tOb0NoYW5nZXMoKS4KICoKICogVGhlIGBjaGVja05vQ2hhbmdlc2AgZnVuY3Rpb24gaXMgaW52b2tlZCBvbmx5IGluIG5nRGV2TW9kZT10cnVlIGFuZCB2ZXJpZmllcyB0aGF0IG5vIHVuaW50ZW5kZWQKICogY2hhbmdlcyBleGlzdCBpbiB0aGUgY2hhbmdlIGRldGVjdG9yIG9yIGl0cyBjaGlsZHJlbi4KICovCmxldCBfaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZSA9IGZhbHNlOwovKioKICogUmV0dXJucyB0cnVlIGlmIHRoZSBpbnN0cnVjdGlvbiBzdGF0ZSBzdGFjayBpcyBlbXB0eS4KICoKICogSW50ZW5kZWQgdG8gYmUgY2FsbGVkIGZyb20gdGVzdHMgb25seSAodHJlZSBzaGFrZW4gb3RoZXJ3aXNlKS4KICovCmZ1bmN0aW9uIHNwZWNPbmx5SXNJbnN0cnVjdGlvblN0YXRlRW1wdHkoKSB7CiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUucGFyZW50ID09PSBudWxsOwp9CmZ1bmN0aW9uIGdldEVsZW1lbnREZXB0aENvdW50KCkgewogICAgcmV0dXJuIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Owp9CmZ1bmN0aW9uIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7CiAgICBpbnN0cnVjdGlvblN0YXRlLmxGcmFtZS5lbGVtZW50RGVwdGhDb3VudCsrOwp9CmZ1bmN0aW9uIGRlY3JlKioKICogRnVuY3Rpb24gdGhhdCBjaGVja3Mgd2hldGhlciBhIGdpdmVuIHROb2RlIG1hdGNoZXMgdGFnLWJhc2VkIHNlbGVjdG9yIGFuZCBoYXMgYSB2YWxpZCB0eXBlLgogKgogKiBNYXRjaGluZyBjYW4gYmUgcGVyZm9ybWVkIGluIDIgbW9kZXM6IHByb2plY3Rpb24gbW9kZSAod2hlbiB3ZSBwcm9qZWN0IG5vZGVzKSBhbmQgcmVndWxhcgogKiBkaXJlY3RpdmUgbWF0Y2hpbmcgbW9kZToKICogLSBpbiB0aGUgImRpcmVjdGl2ZSBtYXRjaGluZyIgbW9kZSB3ZSBkbyBfbm90XyB0YWtlIFRDb250YWluZXIncyB0YWdOYW1lIGludG8gYWNjb3VudCBpZiBpdCBpcwogKiBkaWZmZXJlbnQgZnJvbSBOR19URU1QTEFURV9TRUxFQ1RPUiAodmFsdWUgZGlmZmVyZW50IGZyb20gTkdfVEVNUExBVEVfU0VMRUNUT1IgaW5kaWNhdGVzIHRoYXQgYQogKiB0YWcgbmFtZSB3YXMgZXh0cmFjdGVkIGZyb20gKiBzeW50YXggc28gd2Ugd291bGQgbWF0Y2ggdGhlIHNhbWUgZGlyZWN0aXZlIHR3aWNlKTsKICogLSBpbiB0aGUgInByb2plY3Rpb24iIG1vZGUsIHdlIHVzZSBhIHRhZyBuYW1lIHBvdGVudGlhbGx5IGV4dHJhY3RlZCBmcm9tIHRoZSAqIHN5bnRheCBwcm9jZXNzaW5nCiAqIChhcHBsaWNhYmxlIHRvIFROb2RlVHlwZS5Db250YWluZXIgb25seSkuCiAqLwpmdW5jdGlvbiBoYXNUYWdBbmRUeXBlTWF0Y2godE5vZGUsIGN1cnJlbnRTZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSkgewogICAgY29uc3QgdGFnTmFtZVRvQ29tcGFyZSA9IHROb2RlLnR5cGUgPT09IDQgLyogVE5vZGVUeXBlLkNvbnRhaW5lciAqLyAmJiAhaXNQcm9qZWN0aW9uTW9kZSA/IE5HX1RFTVBMQVRFX1NFTEVDVE9SIDogdE5vZGUudmFsdWU7CiAgICByZXR1cm4gY3VycmVudFNlbGVjdG9yID09PSB0YWdOYW1lVG9Db21wYXJlOwp9Ci8qKgogKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gbWF0Y2ggYW4gSXZ5IG5vZGUgc3RhdGljIGRhdGEgYWdhaW5zdCBhIHNpbXBsZSBDU1Mgc2VsZWN0b3IKICoKICogQHBhcmFtIG5vZGUgc3RhdGljIGRhdGEgb2YgdGhlIG5vZGUgdG8gbWF0Y2gKICogQHBhcmFtIHNlbGVjdG9yIFRoZSBzZWxlY3RvciB0byB0cnkgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgbm9kZS4KICogQHBhcmFtIGlzUHJvamVjdGlvbk1vZGUgaWYgYHRydWVgIHdlIGFyZSBtYXRjaGluZyBmb3IgY29udGVudCBwcm9qZWN0aW9uLCBvdGhlcndpc2Ugd2UgYXJlIGRvaW5nCiAqIGRpcmVjdGl2ZSBtYXRjaGluZy4KICogQHJldHVybnMgdHJ1ZSBpZiBub2RlIG1hdGNoZXMgdGhlIHNlbGVjdG9yLgogKi8KZnVuY3Rpb24gaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3IsIGlzUHJvamVjdGlvbk1vZGUpIHsKICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHNlbGVjdG9yWzBdLCAnU2VsZWN0b3Igc2hvdWxkIGhhdmUgYSB0YWcgbmFtZScpOwogICAgbGV0IG1vZGUgPSA0IC8qIFNlbGVjdG9yRmxhZ3MuRUxFTUVOVCAqLzsKICAgIGNvbnN0IG5vZGVBdHRycyA9IHROb2RlLmF0dHJzIHx8IFtdOwogICAgLy8gRmluZCB0aGUgaW5kZXggb2YgZmlyc3QgYXR0cmlidXRlIHRoYXQgaGFzIG5vIHZhbHVlLCBvbmx5IGEgbmFtZS4KICAgIGNvbnN0IG5hbWVPbmx5TWFya2VySWR4ID0gZ2V0TmFtZU9ubHlNYXJrZXJJbmRleChub2RlQXR0cnMpOwogICBUb2tlbmAgd2hlbmV2ZXIgdGhlIHR5cGUgeW91IGFyZSBpbmplY3RpbmcgaXMgbm90IHJlaWZpZWQgKGRvZXMgbm90IGhhdmUgYQogKiBydW50aW1lIHJlcHJlc2VudGF0aW9uKSBzdWNoIGFzIHdoZW4gaW5qZWN0aW5nIGFuIGludGVyZmFjZSwgY2FsbGFibGUgdHlwZSwgYXJyYXkgb3IKICogcGFyYW1ldGVyaXplZCB0eXBlLgogKgogKiBgSW5qZWN0aW9uVG9rZW5gIGlzIHBhcmFtZXRlcml6ZWQgb24gYFRgIHdoaWNoIGlzIHRoZSB0eXBlIG9mIG9iamVjdCB3aGljaCB3aWxsIGJlIHJldHVybmVkIGJ5CiAqIHRoZSBgSW5qZWN0b3JgLiBUaGlzIHByb3ZpZGVzIGFuIGFkZGl0aW9uYWwgbGV2ZWwgb2YgdHlwZSBzYWZldHkuCiAqCiAqIDxkaXYgY2xhc3M9ImFsZXJ0IGlzLWhlbHBmdWwiPgogKgogKiAqKkltcG9ydGFudCBOb3RlKio6IEVuc3VyZSB0aGF0IHlvdSB1c2UgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGBJbmplY3Rpb25Ub2tlbmAgaW4gYm90aCB0aGUKICogcHJvdmlkZXIgYW5kIHRoZSBpbmplY3Rpb24gY2FsbC4gQ3JlYXRpbmcgYSBuZXcgaW5zdGFuY2Ugb2YgYEluamVjdGlvblRva2VuYCBpbiBkaWZmZXJlbnQgcGxhY2VzLAogKiBldmVuIHdpdGggdGhlIHNhbWUgZGVzY3JpcHRpb24sIHdpbGwgYmUgdHJlYXRlZCBhcyBkaWZmZXJlbnQgdG9rZW5zIGJ5IEFuZ3VsYXIncyBESSBzeXN0ZW0sCiAqIGxlYWRpbmcgdG8gYSBgTnVsbEluamVjdG9yRXJyb3JgLgogKgogKiA8L2Rpdj4KICoKICogPGNvZGUtZXhhbXBsZSBmb3JtYXQ9InR5cGVzY3JpcHQiIGxhbmd1YWdlPSJ0eXBlc2NyaXB0IiBwYXRoPSJpbmplY3Rpb24tdG9rZW4vc3JjL21haW4udHMiCiAqIHJlZ2lvbj0iSW5qZWN0aW9uVG9rZW4iPjwvY29kZS1leGFtcGxlPgogKgogKiBXaGVuIGNyZWF0aW5nIGFuIGBJbmplY3Rpb25Ub2tlbmAsIHlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCByZXR1cm5zCiAqIChwb3NzaWJseSBieSBjcmVhdGluZykgYSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXJpemVkIHR5cGUgYFRgLiBUaGlzIHNldHMgdXAgdGhlCiAqIGBJbmplY3Rpb25Ub2tlbmAgdXNpbmcgdGhpcyBmYWN0b3J5IGFzIGEgcHJvdmlkZXIgYXMgaWYgaXQgd2FzIGRlZmluZWQgZXhwbGljaXRseSBpbiB0aGUKICogYXBwbGljYXRpb24ncyByb290IGluamVjdG9yLiBJZiB0aGUgZmFjdG9yeSBmdW5jdGlvbiwgd2hpY2ggdGFrZXMgemVybyBhcmd1bWVudHMsIG5lZWRzIHRvIGluamVjdAogKiBkZXBlbmRlbmNpZXMsIGl0IGNhbiBkbyBzbyB1c2luZyB0aGUgW2BpbmplY3RgXShhcGkvY29yZS9pbmplY3QpIGZ1bmN0aW9uLgogKiBBcyB5b3UgY2FuIHNlZSBpbiB0aGUgVHJlZS1zaGFrYWJsZSBJbmplY3Rpb25Ub2tlbiBleGFtcGxlIGJlbG93LgogKgogKiBBZGRpdGlvbmFsbHksIGlmIGEgYGZhY3RvcnlgIGlzIHNwZWNpZmllZCB5b3UgY2FuIGFsc28gc3BlY2lmeSB0aGUgYHByb3ZpZGVkSW5gIG9wdGlvbiwgd2hpY2gKICogb3ZlcnJpZGVzIHRoZSBhYm92ZSBiZWhhdmlvciBhbmQgbWFya3MgdGhlIHRva2VuIGFzIGJlbG9uZ2luZyB0byBhIHBhcnRpY3VsYXIgYEBOZ01vZHVsZWAgKG5vdGU6CiAqIHRoaXMgb3B0aW9uIGlzIG5vdyBkZXByZWNhdGVkKS4gQXMgbWVudGlvbmVkIGFib3ZlLCAgMCxwcmV2UG9zaXRpb25ZOnZvaWQgMCxwcmV2VGltZTp2b2lkIDB9O2xldCB2PTE7ZnVuY3Rpb24gYigpe2lmKHUubGVuZ3RoPDIpcmV0dXJuIDE7Y29uc3QgZT11WzBdLnBhZ2VYLHQ9dVswXS5wYWdlWSxzPXVbMV0ucGFnZVgsYT11WzFdLnBhZ2VZO3JldHVybiBNYXRoLnNxcnQoKHMtZSkqKjIrKGEtdCkqKjIpfWZ1bmN0aW9uIHkoZSl7Y29uc3Qgcz10LmlzRWxlbWVudD8ic3dpcGVyLXNsaWRlIjpgLiR7dC5wYXJhbXMuc2xpZGVDbGFzc31gO3JldHVybiEhZS50YXJnZXQubWF0Y2hlcyhzKXx8dC5zbGlkZXMuZmlsdGVyKCh0PT50LmNvbnRhaW5zKGUudGFyZ2V0KSkpLmxlbmd0aD4wfWZ1bmN0aW9uIHgoZSl7aWYoIm1vdXNlIj09PWUucG9pbnRlclR5cGUmJnUuc3BsaWNlKDAsdS5sZW5ndGgpLCF5KGUpKXJldHVybjtjb25zdCBzPXQucGFyYW1zLnpvb207aWYobD0hMSxvPSExLHUucHVzaChlKSwhKHUubGVuZ3RoPDIpKXtpZihsPSEwLG0uc2NhbGVTdGFydD1iKCksIW0uc2xpZGVFbCl7bS5zbGlkZUVsPWUudGFyZ2V0LmNsb3Nlc3QoYC4ke3QucGFyYW1zLnNsaWRlQ2xhc3N9LCBzd2lwZXItc2xpZGVgKSxtLnNsaWRlRWx8fChtLnNsaWRlRWw9dC5zbGlkZXNbdC5hY3RpdmVJbmRleF0pO2xldCBhPW0uc2xpZGVFbC5xdWVyeVNlbGVjdG9yKGAuJHtzLmNvbnRhaW5lckNsYXNzfWApO2lmKGEmJihhPWEucXVlcnlTZWxlY3RvckFsbCgicGljdHVyZSwgaW1nLCBzdmcsIGNhbnZhcywgLnN3aXBlci16b29tLXRhcmdldCIpWzBdKSxtLmltYWdlRWw9YSxtLmltYWdlV3JhcEVsPWE/RShtLmltYWdlRWwsYC4ke3MuY29udGFpbmVyQ2xhc3N9YClbMF06dm9pZCAwLCFtLmltYWdlV3JhcEVsKXJldHVybiB2b2lkKG0uaW1hZ2VFbD12b2lkIDApO20ubWF4UmF0aW89bS5pbWFnZVdyYXBFbC5nZXRBdHRyaWJ1dGUoImRhdGEtc3dpcGVyLXpvb20iKXx8cy5tYXhSYXRpb31pZihtLmltYWdlRWwpe2NvbnN0W2UsdF09ZnVuY3Rpb24oKXtpZih1Lmxlbmd0aDwyKXJldHVybnt4Om51bGwseTpudWxsfTtjb25zdCBlPW0uaW1hZ2VFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm5bKHVbMF0ucGFnZVgrKHVbMV0ucGFnZVgtdVswXS5wYWdlWCkvMi1lLngtbi5zY3JvbGxYKS9jLCh1WzBdLnBhZ2VZKyh1WzFdLnBhZ2VZLXVbMF0ucGFnZVkpLzItZS55LW4uc2Nyb2xsWSkvY119KCk7bS5vcmlnaW5YPWUsbS5vcmlnaW5ZPXQsbS5pbWFnZUVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj0iMG1zIn1wPSEwfX1mdW5jdGlvbiBTKGUpe2lmKCF5KGUpKXJldHVybjtjb25zdCBzPXQucGFyYW1zLnpvb20sYT10Lnpvb20saT11LmZpbmRJbmRleCgodD0+dC5wb2ludGVySWQ9PT1lLnBvaW50ZXJJZCkpO2k+PTAmJih1W2ldPWUpLHUubGVuZ3RoPDJ8fChvPSEwLG0uc2NhbGVNb3ZlPWIoKSxtLmltYWdlRWwmJihhLnNjYWxlPW0uc2NhbGVNb3ZlL20uc2NhbGVTdGFydCpjLGEuc2NhbGU+bS5tYXhSYXRpbyYmKGEuc2NhbGU9bS5tYXhSYXRpby0xKyhhLnNjYWxlLW0ubWF4UmF0aW8rMSkqKi41KSxhLnNjYWxlPHMubWluUmF0aW8mJihhLnNjYWxlPXMubWluUmF0aW8rMS0ocy5taW5SYXRpby1hLnNjYWxlKzEpKiouNSksbS5pbWFnZUVsLnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7YS5zY2FsZX0pYCkpfWZkU2xpZGVzJiZvLnNuYXBJbmRleDxtLnNsaWRlc1BlclZpZXc/by5zbGlkZVRvKG8udmlydHVhbC5zbGlkZXMubGVuZ3RoK28uc25hcEluZGV4LDAsITEsITApOm8uc25hcEluZGV4PT09by5zbmFwR3JpZC5sZW5ndGgtMSYmby5zbGlkZVRvKG8udmlydHVhbC5zbGlkZXNCZWZvcmUsMCwhMSwhMCk6by5zbGlkZVRvKG8udmlydHVhbC5zbGlkZXMubGVuZ3RoLDAsITEsITApKSxvLmFsbG93U2xpZGVQcmV2PWMsby5hbGxvd1NsaWRlTmV4dD1wLHZvaWQgby5lbWl0KCJsb29wRml4Iik7bGV0IGY9bS5zbGlkZXNQZXJWaWV3OyJhdXRvIj09PWY/Zj1vLnNsaWRlc1BlclZpZXdEeW5hbWljKCk6KGY9TWF0aC5jZWlsKHBhcnNlRmxvYXQobS5zbGlkZXNQZXJWaWV3LDEwKSksaCYmZiUyPT0wJiYoZis9MSkpO2NvbnN0IHY9bS5zbGlkZXNQZXJHcm91cEF1dG8/ZjptLnNsaWRlc1Blckdyb3VwO2xldCB3PXY7dyV2IT0wJiYodys9di13JXYpLHcrPW0ubG9vcEFkZGl0aW9uYWxTbGlkZXMsby5sb29wZWRTbGlkZXM9dztjb25zdCBiPW8uZ3JpZCYmbS5ncmlkJiZtLmdyaWQucm93cz4xO2QubGVuZ3RoPGYrdz9nKCJTd2lwZXIgTG9vcCBXYXJuaW5nOiBUaGUgbnVtYmVyIG9mIHNsaWRlcyBpcyBub3QgZW5vdWdoIGZvciBsb29wIG1vZGUsIGl0IHdpbGwgYmUgZGlzYWJsZWQgYW5kIG5vdCBmdW5jdGlvbiBwcm9wZXJseS4gWW91IG5lZWQgdG8gYWRkIG1vcmUgc2xpZGVzIChvciBtYWtlIGR1cGxpY2F0ZXMpIG9yIGxvd2VyIHRoZSB2YWx1ZXMgb2Ygc2xpZGVzUGVyVmlldyBhbmQgc2xpZGVzUGVyR3JvdXAgcGFyYW1ldGVycyIpOmImJiJyb3ciPT09bS5ncmlkLmZpbGwmJmcoIlN3aXBlciBMb29wIFdhcm5pbmc6IExvb3AgbW9kZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGdyaWQuZmlsbCA9IGByb3dgIik7Y29uc3QgeT1bXSxFPVtdO2xldCB4PW8uYWN0aXZlSW5kZXg7dm9pZCAwPT09cj9yPW8uZ2V0U2xpZGVJbmRleChkLmZpbHRlcigoZT0+ZS5jbGFzc0xpc3QuY29udGFpbnMobS5zbGlkZUFjdGl2ZUNsYXNzKSkpWzBdKTp4PXI7Y29uc3QgUz0ibmV4dCI9PT1hfHwhYSxUPSJwcmV2Ij09PWF8fCFhO2xldCBNPTAsQz0wO2NvbnN0IFA9Yj9NYXRoLmNlaWwoZC5sZW5ndGgvbS5ncmlkLnJvd3MpOmQubGVuZ3RoLEw9KGI/ZFtyXS5jb2x1bW46cikrKGgmJnZvaWQgMD09PWk/LWYvMisuNTowKTtpZihMPHcpe009TWF0aC5tYXgody1MLHYpO2ZvcihsZXQgZT0wO2U8dy1MO2UrPTEpe2NvbnN0IHQ9ZS1NYXRoLmZsb29yKGUvUCkqUDtpZihiKXtjb25zdCBlPVAtdC0xO2ZvcihsZXQgdD1kLmxlbmd0aC0xO3Q+PTA7dC09MSlkW3RdLmNvbHVtbj09PWUmJnkucHVzaCh0KX1lbHNlIHkucHVzaChQLXQtMSl9fWVsc2UgaWYoTCtmPlAtdyl7Qz1NYXRoLm1heChMLShQLTIqdyksdik7Zm9yKGxldCBlPTA7ZTxDO2UrPTEpe2NvbnN0IHQ9ZS1NYXRoLmZsb29yKGUvUCkqUDtiP2QuZm9yRWFjaCgoKGUscyk9PntlLmNvbHVtbj09PXQmJkUucHVzaChzKX0pKTpFLnB1c2godCl9fWlmKG8uX19wcmV2ZW50T2JzZXJ2ZXJfXz0hMCxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57by5fX3ByZXZlbnRPYnNlcnZlcl9fPSExfSkpLFQmJnkuZm9yRWFjaCgoZT0+e2RbZV0uc3dpcGVyTG9vcE1vdmVET009ITAsdS5wcmVwZW5kKGRbZV0pLGRbZV0uc3dhXSk6IWMoZVthXSkmJmMoaVthXSk/KGVbYV09e30saVthXS5fX3N3aXBlcl9fP2VbYV09aVthXTpwKGVbYV0saVthXSkpOmVbYV09aVthXSl9fX12YXIgcztyZXR1cm4gZX1mdW5jdGlvbiB1KGUsdCxzKXtlLnN0eWxlLnNldFByb3BlcnR5KHQscyl9ZnVuY3Rpb24gbShlKXtsZXR7c3dpcGVyOnQsdGFyZ2V0UG9zaXRpb246cyxzaWRlOmF9PWU7Y29uc3QgaT1yKCksbj0tdC50cmFuc2xhdGU7bGV0IGwsbz1udWxsO2NvbnN0IGQ9dC5wYXJhbXMuc3BlZWQ7dC53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGU9Im5vbmUiLGkuY2FuY2VsQW5pbWF0aW9uRnJhbWUodC5jc3NNb2RlRnJhbWVJRCk7Y29uc3QgYz1zPm4/Im5leHQiOiJwcmV2IixwPShlLHQpPT4ibmV4dCI9PT1jJiZlPj10fHwicHJldiI9PT1jJiZlPD10LHU9KCk9PntsPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG51bGw9PT1vJiYobz1sKTtjb25zdCBlPU1hdGgubWF4KE1hdGgubWluKChsLW8pL2QsMSksMCkscj0uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzI7bGV0IGM9bityKihzLW4pO2lmKHAoYyxzKSYmKGM9cyksdC53cmFwcGVyRWwuc2Nyb2xsVG8oe1thXTpjfSkscChjLHMpKXJldHVybiB0LndyYXBwZXJFbC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIix0LndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZT0iIixzZXRUaW1lb3V0KCgoKT0+e3Qud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PSIiLHQud3JhcHBlckVsLnNjcm9sbFRvKHtbYV06Y30pfSkpLHZvaWQgaS5jYW5jZWxBbmltYXRpb25GcmFtZSh0LmNzc01vZGVGcmFtZUlEKTt0LmNzc01vZGVGcmFtZUlEPWkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHUpfTt1KCl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5xdWVyeVNlbGVjdG9yKCIuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybSIpfHxlLnNoYWRvd1Jvb3QmJmUuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCIuc3dpcGVyLXNsaWRlLXRyYW5zZm9ybSIpfHxlfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9IiIpLFsuLi5lLmNoaWxkcmVuXS5maWx0ZXIoKGU9PmUubWF0Y2hlcyh0KSkpfWZ1bmN0aW9uIGcoZSl7dHJ5e3JldHVybiB2b2lkIGNvbnNvbGUud2FybihlKX1jYXRjaChlKXt9fWZ1bmN0aW9uIHYoZSx0KXt2b2lkIDA9PT10JiYodD1bXSk7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBzLmNsYXNzTGlzdC5hZGQoLi4uQXJyYXkuaXNBcnJheSh0KT90Om4odCkpLHN9ZnVuY3Rpb24gdyhlKXtjb25zdCB0PXIoKSxzPWEoKSxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1zLmJvZHksbD1lLmNsaWVudFRvcHx8bi5jbGllbnRUb3B8fDAsbz1lLmNsaWVudExlZnR8fG4uY2xpZW50TGVmdHx8MCxkPWU9PT10P3Quc2Nyb2xsWTplLnNjcm9sbFRvcCxjPWU9PT10P3Quc2Nyb2xsWDplLnNjcm9sbExlZnQ7cmV0dXJue3RvcDppLnRvcCtkLWwsbGVmdDppLmxlZnQrYy1vfX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIHIoKS5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSh0KX1mdW5jdGlvbiB5KGUpe2xldCB0LHM9ZTtpZihzKXtmb3IodD0wO251bGwhPT0ocz1zLnByZXZpb3VzU2libGluZyk7KTE9PT1zLm5vZGVUeXBlJiYodCs9MSk7cmV0dXJuIHR9fWZ1bmN0aW9uIEUoZSx0KXsgICAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YicKICAgICAgICAgICAgKyAnfHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkb3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZyknCiAgICAgICAgICAgICsgJ1xcYilcXHcrKD8hOnxbXlxcd1xcc0BdKkApXFxiJykKICAgICAgICAgICAgLmdldFJlZ2V4KCksCiAgICAgICAgZGVmOiAvXiAqXFsoW15cXV0rKVxdOiAqPD8oW15ccz5dKyk+Pyg/OiArKFsiKF1bXlxuXStbIildKSk/ICooPzpcbit8JCkvLAogICAgICAgIGhlYWRpbmc6IC9eKCN7MSw2fSkoLiopKD86XG4rfCQpLywKICAgICAgICBmZW5jZXM6IG5vb3BUZXN0LCAvLyBmZW5jZXMgbm90IHN1cHBvcnRlZAogICAgICAgIGxoZWFkaW5nOiAvXiguKz8pXG4gezAsM30oPSt8LSspICooPzpcbit8JCkvLAogICAgICAgIHBhcmFncmFwaDogZWRpdChfcGFyYWdyYXBoKQogICAgICAgICAgICAucmVwbGFjZSgnaHInLCBocikKICAgICAgICAgICAgLnJlcGxhY2UoJ2hlYWRpbmcnLCAnICojezEsNn0gKlteXG5dJykKICAgICAgICAgICAgLnJlcGxhY2UoJ2xoZWFkaW5nJywgbGhlYWRpbmcpCiAgICAgICAgICAgIC5yZXBsYWNlKCd8dGFibGUnLCAnJykKICAgICAgICAgICAgLnJlcGxhY2UoJ2Jsb2NrcXVvdGUnLCAnIHswLDN9PicpCiAgICAgICAgICAgIC5yZXBsYWNlKCd8ZmVuY2VzJywgJycpCiAgICAgICAgICAgIC5yZXBsYWNlKCd8bGlzdCcsICcnKQogICAgICAgICAgICAucmVwbGFjZSgnfGh0bWwnLCAnJykKICAgICAgICAgICAgLnJlcGxhY2UoJ3x0YWcnLCAnJykKICAgICAgICAgICAgLmdldFJlZ2V4KCkKICAgIH07CiAgICAvKioKICAgICAqIElubGluZS1MZXZlbCBHcmFtbWFyCiAgICAgKi8KICAgIGNvbnN0IGVzY2FwZSA9IC9eXFwoWyEiIyQlJicoKSorLFwtLi86Ozw9Pj9AXFtcXVxcXl9ge3x9fl0pLzsKICAgIGNvbnN0IGlubGluZUNvZGUgPSAvXihgKykoW15gXXxbXmBdW1xzXFNdKj9bXmBdKVwxKD8hYCkvOwogICAgY29uc3QgYnIgPSAvXiggezIsfXxcXClcbig/IVxzKiQpLzsKICAgIGNvbnN0IGlubGluZVRleHQgPSAvXihgK3xbXmBdKSg/Oig/PSB7Mix9XG4pfFtcc1xTXSo/KD86KD89W1xcPCFcW2AqX118XGJffCQpfFteIF0oPz0gezIsfVxuKSkpLzsKICAgIC8vIGxpc3Qgb2YgdW5pY29kZSBwdW5jdHVhdGlvbiBtYXJrcywgcGx1cyBhbnkgbWlzc2luZyBjaGFyYWN0ZXJzIGZyb20gQ29tbW9uTWFyayBzcGVjCiAgICBjb25zdCBfcHVuY3R1YXRpb24gPSAnXFxwe1B9JCs8PT5gXnx+JzsKICAgIGNvbnN0IHB1bmN0dWF0aW9uID0gZWRpdCgvXigoPyFbKl9dKVtcc3B1bmN0dWF0aW9uXSkvLCAndScpCiAgICAgICAgLnJlcGxhY2UoL3B1bmN0dWF0aW9uL2csIF9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTsKICAgIC8vIHNlcXVlbmNlcyBlbSBzaG91bGQgc2tpcCBvdmVyIFt0aXRsZV0obGluayksIGBjb2RlYCwgPGh0bWw+CiAgICBjb25zdCBibG9ja1NraXAgPSAvXFtbXltcXV0qP1xdXChbXlwoXCldKj9cKXxgW15gXSo/YHw8W148Pl0qPz4vZzsKICAgIGNvbnN0IGVtU3Ryb25nTERlbGltID0gZWRpdCgvXig/OlwqKyg/OigoPyFcKilbcHVuY3RdKXxbXlxzKl0pKXxeXysoPzooKD8hXylbcHVuY3RdKXwoW14se2JpdHM6OX0pLGU9MDtlPDMyOyl0LmxlbnNbZSsrXT01O21lKDIsdC5sZW5zLDAsMzIsWWUsMCx0Lndvcmsse2JpdHM6NX0pLEdlPSExfXQubGVuY29kZT1QZSx0LmxlbmJpdHM9OSx0LmRpc3Rjb2RlPVllLHQuZGlzdGJpdHM9NX0sV2U9KHQsZSxhLGkpPT57bGV0IG47Y29uc3Qgcz10LnN0YXRlO3JldHVybiBudWxsPT09cy53aW5kb3cmJihzLndzaXplPTE8PHMud2JpdHMscy53bmV4dD0wLHMud2hhdmU9MCxzLndpbmRvdz1uZXcgVWludDhBcnJheShzLndzaXplKSksaT49cy53c2l6ZT8ocy53aW5kb3cuc2V0KGUuc3ViYXJyYXkoYS1zLndzaXplLGEpLDApLHMud25leHQ9MCxzLndoYXZlPXMud3NpemUpOihuPXMud3NpemUtcy53bmV4dCxuPmkmJihuPWkpLHMud2luZG93LnNldChlLnN1YmFycmF5KGEtaSxhLWkrbikscy53bmV4dCksKGktPW4pPyhzLndpbmRvdy5zZXQoZS5zdWJhcnJheShhLWksYSksMCkscy53bmV4dD1pLHMud2hhdmU9cy53c2l6ZSk6KHMud25leHQrPW4scy53bmV4dD09PXMud3NpemUmJihzLnduZXh0PTApLHMud2hhdmU8cy53c2l6ZSYmKHMud2hhdmUrPW4pKSksMH07dmFyIHFlPXtpbmZsYXRlUmVzZXQ6SGUsaW5mbGF0ZVJlc2V0MjpqZSxpbmZsYXRlUmVzZXRLZWVwOk1lLGluZmxhdGVJbml0OnQ9PktlKHQsMTUpLGluZmxhdGVJbml0MjpLZSxpbmZsYXRlOih0LGUpPT57bGV0IGEsaSxuLHMscixvLGwsaCxkLF8sZixjLHUsdyxtLGIsZyxwLGssdix5LHgsej0wO2NvbnN0IEE9bmV3IFVpbnQ4QXJyYXkoNCk7bGV0IEUsUjtjb25zdCBaPW5ldyBVaW50OEFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSk7aWYoQ2UodCl8fCF0Lm91dHB1dHx8IXQuaW5wdXQmJjAhPT10LmF2YWlsX2luKXJldHVybiB4ZTthPXQuc3RhdGUsYS5tb2RlPT09U2UmJihhLm1vZGU9RGUpLHI9dC5uZXh0X291dCxuPXQub3V0cHV0LGw9dC5hdmFpbF9vdXQscz10Lm5leHRfaW4saT10LmlucHV0LG89dC5hdmFpbF9pbixoPWEuaG9sZCxkPWEuYml0cyxfPW8sZj1sLHg9a2U7dDpmb3IoOzspc3dpdGNoKGEubW9kZSl7Y2FzZSBaZTppZigwPT09YS53cmFwKXthLm1vZGU9RGU7YnJlYWt9Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtzKytdPDxkLGQrPTh9aWYoMiZhLndyYXAmJjM1NjE1PT09aCl7MD09PWEud2JpdHMmJihhLndiaXRzPTE1KSxhLmNoZWNrPTAsQVswXT0yNTUmaCxBWzFdPWg+Pj44JjI1NSxhLmNoZWNrPUgoYS5jaGVjayxBLDIsMCksaD0wLGQ9MCxhLm1vZGU9MTYxODE7YnJlYWt9aWYoYS5oZWFkJiYoYS5oZWFkLmRvbmU9ITEpLCEoMSZhLndyYXApfHwoKCgyNTUmaCk8PDgpKyhoPj44KSklMzEpe3QubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIixhLm1vZGU9TGU7YnJlYWt9aWYoKDE1JmgpIT09UmUpe3QubXNnPSJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCIsYS5tb2RlPUxlO2JyZWFrfWlmKGg+Pj49NCxkLT00LHk9OCsoMTUmaCksMD09PWEud2JpdHMmJihhLndiaXRzPXkpLHk+MTV8fHk+YS53Yml0cyl7dC5tc2c9ImludmFsaWQgd2luZG93IHNpemUiLGEubW9kZT1MZTticmVha31hLmRtYXg9MTw8YS53Yml0cyxhLmZsYWdzPTAsdC5hZGxlcj1hLmNoZWNrPTEsYS5tb2RlPTUxMiZoPzE2MTg5OlNlLGg9MCxkPTA7YnJlYWsJICovCgkJaGlnaGxpZ2h0QWxsVW5kZXI6IGZ1bmN0aW9uIChjb250YWluZXIsIGFzeW5jLCBjYWxsYmFjaykgewoJCQl2YXIgZW52ID0gewoJCQkJY2FsbGJhY2s6IGNhbGxiYWNrLAoJCQkJY29udGFpbmVyOiBjb250YWluZXIsCgkJCQlzZWxlY3RvcjogJ2NvZGVbY2xhc3MqPSJsYW5ndWFnZS0iXSwgW2NsYXNzKj0ibGFuZ3VhZ2UtIl0gY29kZSwgY29kZVtjbGFzcyo9ImxhbmctIl0sIFtjbGFzcyo9ImxhbmctIl0gY29kZScKCQkJfTsKCgkJCV8uaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0YWxsJywgZW52KTsKCgkJCWVudi5lbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShlbnYuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoZW52LnNlbGVjdG9yKSk7CgoJCQlfLmhvb2tzLnJ1bignYmVmb3JlLWFsbC1lbGVtZW50cy1oaWdobGlnaHQnLCBlbnYpOwoKCQkJZm9yICh2YXIgaSA9IDAsIGVsZW1lbnQ7IChlbGVtZW50ID0gZW52LmVsZW1lbnRzW2krK10pOykgewoJCQkJXy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBlbnYuY2FsbGJhY2spOwoJCQl9CgkJfSwKCgkJLyoqCgkJICogSGlnaGxpZ2h0cyB0aGUgY29kZSBpbnNpZGUgYSBzaW5nbGUgZWxlbWVudC4KCQkgKgoJCSAqIFRoZSBmb2xsb3dpbmcgaG9va3Mgd2lsbCBiZSBydW46CgkJICogMS4gYGJlZm9yZS1zYW5pdHktY2hlY2tgCgkJICogMi4gYGJlZm9yZS1oaWdobGlnaHRgCgkJICogMy4gQWxsIGhvb2tzIG9mIHtAbGluayBQcmlzbS5oaWdobGlnaHR9LiBUaGVzZSBob29rcyB3aWxsIGJlIHJ1biBieSBhbiBhc3luY2hyb25vdXMgd29ya2VyIGlmIGBhc3luY2AgaXMgYHRydWVgLgoJCSAqIDQuIGBiZWZvcmUtaW5zZXJ0YAoJCSAqIDUuIGBhZnRlci1oaWdobGlnaHRgCgkJICogNi4gYGNvbXBsZXRlYAoJCSAqCgkJICogU29tZSB0aGUgYWJvdmUgaG9va3Mgd2lsbCBiZSBza2lwcGVkIGlmIHRoZSBlbGVtZW50IGRvZXNuJ3QgY29udGFpbiBhbnkgdGV4dCBvciB0aGVyZSBpcyBubyBncmFtbWFyIGxvYWRlZCBmb3IKCQkgKiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlLgoJCSAqCgkJICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvZGUuCgkJICogSXQgbXVzdCBoYXZlIGEgY2xhc3Mgb2YgYGxhbmd1YWdlLXh4eHhgIHRvIGJlIHByb2Nlc3NlZCwgd2hlcmUgYHh4eHhgIGlzIGEgdmFsaWQgbGFuZ3VhZ2UgaWRlbnRpZmllci4KCQkgKiBAcGFyYW0ge2Jvb2xlYW59IFthc3luYz1mYWxzZV0gV2hldGhlciB0aGUgZWxlbWVudCBpcyB0byBiZSBoaWdobGlnaHRlZCBhc3luY2hyb25vdXNseSB1c2luZyBXZWIgV29ya2VycwoJCSAqIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UgYW5kIGF2b2lkIGJsb2NraW5nIHRoZSBVSSB3aGVuIGhpZ2hsaWdodGluZyB2ZXJ5IGxhcmdlIGNodW5rcyBvZiBjb2RlLiBUaGlzIG9wdGlvbiBpcwoJCSAqIFtkaXNhYmxlZCBieSBkZWZhdWx0XShodHRwczovL3ByaXNtanMuY29tL2ZhcS5odG1sI3doeS1pcy1hc3luY2hyb25vdXMtaGlnaGxpZ2h0aW5nLWRpc2FibGVkLWJ5LWRlZmF1bHQpLgoJCSAqCgkJICogTm90ZTogQWxsIGxhbmd1YWdlIGRlZmluaXRpb25zIHJlcXVpcmVkIHRvIGhpZ2hsaWdodCB0aGUgY29kZSBtdXN0IG5zZm9ybVBlcnNwZWN0aXZlLG09ci5mb3JjZTNELGc9ci50YXJnZXQsdj1yLnpPcmlnaW4seT0iIixUPSJhdXRvIj09PW0mJnQmJjEhPT10fHwhMD09PW07aWYodiYmKGwhPT1Qcnx8aCE9PVByKSl7dmFyIGIsdz1wYXJzZUZsb2F0KGgpKm9yLHg9TWF0aC5zaW4odyksTz1NYXRoLmNvcyh3KTt3PXBhcnNlRmxvYXQobCkqb3IsYj1NYXRoLmNvcyh3KSxhPW9lKGcsYSx4KmIqLXYpLHM9b2UoZyxzLC1NYXRoLnNpbih3KSotdiksbz1vZShnLG8sTypiKi12K3YpfV8hPT1DciYmKHkrPSJwZXJzcGVjdGl2ZSgiK18rQXIpLChpfHxuKSYmKHkrPSJ0cmFuc2xhdGUoIitpKyIlLCAiK24rIiUpICIpLCFUJiZhPT09Q3ImJnM9PT1DciYmbz09PUNyfHwoeSs9byE9PUNyfHxUPyJ0cmFuc2xhdGUzZCgiK2ErIiwgIitzKyIsICIrbysiKSAiOiJ0cmFuc2xhdGUoIithKyIsICIrcytBciksdSE9PVByJiYoeSs9InJvdGF0ZSgiK3UrQXIpLGghPT1QciYmKHkrPSJyb3RhdGVZKCIraCtBciksbCE9PVByJiYoeSs9InJvdGF0ZVgoIitsK0FyKSxmPT09UHImJmQ9PT1Qcnx8KHkrPSJza2V3KCIrZisiLCAiK2QrQXIpLDE9PT1jJiYxPT09cHx8KHkrPSJzY2FsZSgiK2MrIiwgIitwK0FyKSxnLnN0eWxlW2NyXT15fHwidHJhbnNsYXRlKDAsIDApIn0senI9ZnVuY3Rpb24gX3JlbmRlclNWR1RyYW5zZm9ybXModCxlKXt2YXIgcixpLG4sYSxzLG89ZXx8dGhpcyx1PW8ueFBlcmNlbnQsaD1vLnlQZXJjZW50LGw9by54LGY9by55LGQ9by5yb3RhdGlvbixjPW8uc2tld1gscD1vLnNrZXdZLF89by5zY2FsZVgsbT1vLnNjYWxlWSxnPW8udGFyZ2V0LHY9by54T3JpZ2luLHk9by55T3JpZ2luLFQ9by54T2Zmc2V0LGI9by55T2Zmc2V0LHc9by5mb3JjZUNTUyx4PXBhcnNlRmxvYXQobCksTz1wYXJzZUZsb2F0KGYpO2Q9cGFyc2VGbG9hdChkKSxjPXBhcnNlRmxvYXQoYyksKHA9cGFyc2VGbG9hdChwKSkmJihjKz1wPXBhcnNlRmxvYXQocCksZCs9cCksZHx8Yz8oZCo9b3IsYyo9b3Iscj1NYXRoLmNvcyhkKSpfLGk9TWF0aC5zaW4oZCkqXyxuPU1hdGguc2luKGQtYykqLW0sYT1NYXRoLmNvcyhkLWMpKm0sYyYmKHAqPW9yLHM9TWF0aC50YW4oYy1wKSxuKj1zPU1hdGguc3FydCgxK3MqcyksYSo9cyxwJiYocz1NYXRoLnRhbihwKSxyKj1zPU1hdGguc3FydCgxK3MqcyksaSo9cykpLHI9aWEociksaT1pYShpKSxuPWlhKG4pLGE9aWEoYSkpOihyPV8sYT1tLGk9bj0wKSwoeCYmIX4obCsiIikuaW5kZXhPZigicHgiKXx8TyYmIX4oZisiIikuaW5kZXhPZigicHgiKSkmJih4PV9kKGcsIngiLGwsInB4IiksTz1fZChnLCJ5IixmLCJweCIpKSwodnx8eXx8VHx8YikmJih4PWlhKHgrdi0odipyK3kqbikrVCksTz1pYShPK3ktKHYqaSt5KmEpK2IpKSwodXx8aCkmJihzPWcuZ2V0QkJveCgpLHg9aWEoeCt1LzEwMCpzLndpZHRoKSxPPWlhKE8raC8xMDAqcy5oZWlnaHQpKSxzPSJtYXRyaXgoIityKyIsIitpKyIsIituKyIsIithKyIsIit4KyIsIitPKyIpIixnLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIixzKSx3JiYoZy5zdHlsZVtjcl09cyl9O2hhKCJwYWRkaW5nLG1hcmdpbixXaWR0aCxSYWRpdXMiLGZ1bmN0aW9uKGUscil7dmFyIHQ9IlJpZ2h0IixpPSJCb3R0b20iLG49IkxlZnQiLG89KHI8Mz9bIlRvcCIsdCxpLG5dOlsiVG9wIituLCJUb3AiK3QsaSt0LGkrbl0pLmVsc2Ugbz0rcFswXSUzNjAvMzYwLHU9cFsxXS8xMDAsbj0yKihoPXBbMl0vMTAwKS0oYT1oPD0uNT9oKih1KzEpOmgrdS1oKnUpLDM8cC5sZW5ndGgmJihwWzNdKj0xKSxwWzBdPXpiKG8rMS8zLG4sYSkscFsxXT16YihvLG4sYSkscFsyXT16YihvLTEvMyxuLGEpO2Vsc2UgcD1lLm1hdGNoKHR0KXx8enQudHJhbnNwYXJlbnQ7cD1wLm1hcChOdW1iZXIpfXJldHVybiByJiYhYyYmKG49cFswXS9TdCxhPXBbMV0vU3Qscz1wWzJdL1N0LGg9KChsPU1hdGgubWF4KG4sYSxzKSkrKGY9TWF0aC5taW4obixhLHMpKSkvMixsPT09Zj9vPXU9MDooZD1sLWYsdT0uNTxoP2QvKDItbC1mKTpkLyhsK2YpLG89bD09PW4/KGEtcykvZCsoYTxzPzY6MCk6bD09PWE/KHMtbikvZCsyOihuLWEpL2QrNCxvKj02MCkscFswXT1+fihvKy41KSxwWzFdPX5+KDEwMCp1Ky41KSxwWzJdPX5+KDEwMCpoKy41KSksaSYmcC5sZW5ndGg8NCYmKHBbM109MSkscH1mdW5jdGlvbiBCYih0KXt2YXIgcj1bXSxpPVtdLG49LTE7cmV0dXJuIHQuc3BsaXQoRXQpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5tYXRjaChydCl8fFtdO3IucHVzaC5hcHBseShyLGUpLGkucHVzaChuKz1lLmxlbmd0aCsxKX0pLHIuYz1pLHJ9ZnVuY3Rpb24gQ2IodCxlLHIpe3ZhciBpLG4sYSxzLG89IiIsdT0odCtvKS5tYXRjaChFdCksaD1lPyJoc2xhKCI6InJnYmEoIixsPTA7aWYoIXUpcmV0dXJuIHQ7aWYodT11Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4odD1BYih0LGUsMSkpJiZoKyhlP3RbMF0rIiwiK3RbMV0rIiUsIit0WzJdKyIlLCIrdFszXTp0LmpvaW4oIiwiKSkrIikifSksciYmKGE9QmIodCksKGk9ci5jKS5qb2luKG8pIT09YS5jLmpvaW4obykpKWZvcihzPShuPXQucmVwbGFjZShFdCwiMSIpLnNwbGl0KHJ0KSkubGVuZ3RoLTE7bDxzO2wrKylvKz1uW2xdKyh+aS5pbmRleE9mKGwpP3Uuc2hpZnQoKXx8aCsiMCwwLDAsMCkiOihhLmxlbmd0aD9hOnUubGVuZ3RoP3U6cikuc2hpZnQoKSk7aWYoIW4pZm9yKHM9KG49dC5zcGxpdChFdCkpLmxlbmd0aC0xO2w8cztsKyspbys9bltsXSt1W2xdO3JldHVybiBvK25bc119ZnVuY3Rpb24gRmIodCl7dmFyIGUscj10LmpvaW4oIiAiKTtpZihFdC5sYXN0SW5kZXg9MCxFdC50ZXN0KHIpKXJldHVybiBlPUR0LnRlc3QociksdFsxXT1DYih0WzFdLGUpLHRbMF09Q2IodFswXSxlLEJiKHRbMV0pKSwhMH1mdW5jdGlvbiBPYih0KXt2YXIgZT0odCsiIikuc3BsaXQoIigiKSxyPUx0W2VbMF1dO3JldHVybiByJiYxPGUubGVuZ3RoJiZyLmNvbmZpZz9yLmNvbmZpZy5hcHBseShudWxsLH50LmluZGV4T2YoInsiKT9bZnVuY3Rpb24gX3BhcnNlT2JqZWN0SW5TdHJpbmcodCl7Zm9yKHZhciBlLHIsaSxuPXt9LGE9dC5zdWJzdHIoMSx0Lmxlbmd0aC0zKS5zcGxpdCgiOiIpLHM9YVswXSxvPTEsdT1hLmxlbmd0aDtvPHU7bysrKXI9YVtvXSxlPW8hPT11LTE/ci5sYXN0SW5kZXhPZigiLCIpOnIubGVuZ3RoLGk9ci5zdWJzdHIoMCxlKSxuW3NdPWlzTmFOKGkpP2kucmVwbGFjZShCdCwiIikudHJpbSgpOitpLHM9ci5zdWJzdHIoZSsxKS50cmltKCk7cmV0dXJuIG59KGVbMV0pXTpmdW5jdGlvbiBfdmFsdWVJblBhcmVudGhlc2VzKHQpe3ZhciBlPXQuaW5kZXhPZigiKCIpKzEscj10LmluZGV4T2YoIikiKSxpPXQuaW5kZXhPZigiKCIsZSk7cmV0aW9uPSIzLjIuMSIsTC5zcGVlZD0xLEwuc3VzcGVuZFdoZW5Eb2N1bWVudEhpZGRlbj0hMCxMLnJ1bm5pbmc9UyxMLnJlbW92ZT1mdW5jdGlvbihuKXtmb3IodmFyIGU9QShuKSx0PVMubGVuZ3RoO3QtLTspY24oZSxTW3RdKX0sTC5nZXQ9VCxMLnNldD1ubixMLmNvbnZlcnRQeD15LEwucGF0aD1mdW5jdGlvbihuLGUpe3ZhciB0PXcuc3RyKG4pP2EobilbMF06bixyPWV8fDEwMDtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJue3Byb3BlcnR5Om4sZWw6dCxzdmc6USh0KSx0b3RhbExlbmd0aDpHKHQpKihyLzEwMCl9fX0sTC5zZXREYXNob2Zmc2V0PWZ1bmN0aW9uKG4pe3ZhciBlPUcobik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IixlKSxlfSxMLnN0YWdnZXI9ZnVuY3Rpb24obixlKXt2YXIgaT0oZT12b2lkIDA9PT1lP3t9OmUpLmRpcmVjdGlvbnx8Im5vcm1hbCIsYz1lLmVhc2luZz9QKGUuZWFzaW5nKTpudWxsLHM9ZS5ncmlkLGY9ZS5heGlzLGw9ZS5mcm9tfHwwLGQ9ImZpcnN0Ij09PWwscD0iY2VudGVyIj09PWwsaD0ibGFzdCI9PT1sLGc9dy5hcnIobiksbT1nP3BhcnNlRmxvYXQoblswXSk6cGFyc2VGbG9hdChuKSx2PWc/cGFyc2VGbG9hdChuWzFdKTowLHk9QihnP25bMV06bil8fDAsYj1lLnN0YXJ0fHwwKyhnP206MCksTT1bXSx4PTA7cmV0dXJuIGZ1bmN0aW9uKG4sZSx0KXtpZihkJiYobD0wKSxwJiYobD0odC0xKS8yKSxoJiYobD10LTEpLCFNLmxlbmd0aCl7Zm9yKHZhciByLGEsbyx1PTA7dTx0O3UrKylzPyhyPXA/KHNbMF0tMSkvMjpsJXNbMF0sYT1wPyhzWzFdLTEpLzI6TWF0aC5mbG9vcihsL3NbMF0pLHI9ci11JXNbMF0sYT1hLU1hdGguZmxvb3IodS9zWzBdKSxvPU1hdGguc3FydChyKnIrYSphKSwieCI9PT1mJiYobz0tciksTS5wdXNoKG89InkiPT09Zj8tYTpvKSk6TS5wdXNoKE1hdGguYWJzKGwtdSkpLHg9TWF0aC5tYXguYXBwbHkoTWF0aCxNKTtjJiYoTT1NLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gYyhuL3gpKnh9KSksInJldmVyc2UiPT09aSYmKE09TS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGY/bjwwPy0xKm46LW46TWF0aC5hYnMoeC1uKX0pKX1yZXR1cm4gYisoZz8odi1tKS94Om0pKihNYXRoLnJvdW5kKDEwMCpNW2VdKS8xMDApK3l9fSxMLnRpbWVsaW5lPWZ1bmN0aW9uKHUpe3ZhciBpPUwodT12b2lkIDA9PT11P3t9OnUpO3JldHVybiBpLmR1cmF0aW9uPTAsaS5hZGQ9ZnVuY3Rpb24obixlKXt2YXIgdD1TLmluZGV4T2YoaSkscj1pLmNoaWxkcmVuO2Z1bmN0aW9uIGEobil7bi5wYXNzVGhyb3VnaD0hMH0tMTx0JiZTLnNwbGljZSh0LDEpO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKWEocltvXSk7dD1EKG4seChNLHUpKSx0LnRhcmdldHM9dC50YXJnZXRzfHx1LnRhcmdldHMsbj1pLmR1cmF0aW9uLHQuYXV0b3BsYXk9ITEsdC5kaXJlY3Rpb249aS5kaXJlY3Rpb24sdC50aW1lbGluZU9mZnNldD13LnVuZChlKT9uOkUoZSxuKSxhKGkpLGkuc2Vlayh0LnRpbWVsaW5lT2Zmc2V0KSxlPUwodCksYShlKSxyLnB1c2goZSksbj10bihyLHUpO3JldHVybiBpLmRlbGF5PW4uZGVsYXksaS5lbmREZWxheT1uLmVuZERlbGF5LGkuZHVyYXRpb249bi5kdXJhdGlvbixpLnNlZWsoMCksaS5yZXNldCgpLGkuYXV0b3BsYXkmJmkucGxheSgpLGl9LGl9LEwuZWFzaW5nPVAsTC5wUkFOU0ZPUk0gXSA6IHVuZGVmaW5lZDsKCgkJCQlpZiAoIHRyYW5zZm9ybSApIHsKCgkJCQkJY29uc3QgZ2x0ZlJlZmVyZW5jZSA9IHBhcnNlci5hc3NvY2lhdGlvbnMuZ2V0KCB0ZXh0dXJlICk7CgkJCQkJdGV4dHVyZSA9IHBhcnNlci5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdLmV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApOwoJCQkJCXBhcnNlci5hc3NvY2lhdGlvbnMuc2V0KCB0ZXh0dXJlLCBnbHRmUmVmZXJlbmNlICk7CgoJCQkJfQoKCQkJfQoKCQkJaWYgKCBjb2xvclNwYWNlICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJdGV4dHVyZS5jb2xvclNwYWNlID0gY29sb3JTcGFjZTsKCgkJCX0KCgkJCW1hdGVyaWFsUGFyYW1zWyBtYXBOYW1lIF0gPSB0ZXh0dXJlOwoKCQkJcmV0dXJuIHRleHR1cmU7CgoJCX0gKTsKCgl9CgoJLyoqCgkgKiBBc3NpZ25zIGZpbmFsIG1hdGVyaWFsIHRvIGEgTWVzaCwgTGluZSwgb3IgUG9pbnRzIGluc3RhbmNlLiBUaGUgaW5zdGFuY2UKCSAqIGFscmVhZHkgaGFzIGEgbWF0ZXJpYWwgKGdlbmVyYXRlZCBmcm9tIHRoZSBnbFRGIG1hdGVyaWFsIG9wdGlvbnMgYWxvbmUpCgkgKiBidXQgcmV1c2Ugb2YgdGhlIHNhbWUgZ2xURiBtYXRlcmlhbCBtYXkgcmVxdWlyZSBtdWx0aXBsZSB0aHJlZWpzIG1hdGVyaWFscwoJICogdG8gYWNjb21tb2RhdGUgZGlmZmVyZW50IHByaW1pdGl2ZSB0eXBlcywgZGVmaW5lcywgZXRjLiBOZXcgbWF0ZXJpYWxzIHdpbGwKCSAqIGJlIGNyZWF0ZWQgaWYgbmVjZXNzYXJ5LCBhbmQgcmV1c2VkIGZyb20gYSBjYWNoZS4KCSAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS4KCSAqLwoJYXNzaWduRmluYWxNYXRlcmlhbCggbWVzaCApIHsKCgkJY29uc3QgZ2VvbWV0cnkgPSBtZXNoLmdlb21ldHJ5OwoJCWxldCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7CgoJCWNvbnN0IHVzZURlcml2YXRpdmVUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCA9PT0gdW5kZWZpbmVkOwoJCWNvbnN0IHVzZVZlcnRleENvbG9ycyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IgIT09IHVuZGVmaW5lZDsKCQljb25zdCB1c2VGbGF0U2hhZGluZyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQ7CgoJCWlmICggbWVzaC5pc1BvaW50cyApIHsKCgkJCWNvbnN0IGNhY2hlS2V5ID0gJ1BvaW50c01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkOwoKCQkJbGV0IHBvaW50c01hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoIGNhY2hlS2V5ICk7CgoJCQlpZiAoICEgcG9pbnRzTWF0ZXJpYWwgKSB7CgoJCQkJcG9pbnRzTWF0ZXJpYWwgPSBuZXcgUG9pbnRzTWF0ZXJpYWwoKTsKCQkJCU1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoIHBvaW50c01hdGVyaWFsLCBtYXRlcmlhbCApOwoJCQkJcG9pbnRzTWF0ZXJpYWwuY29sb3IuY29weSggbWF0ZXJpYWwuY29sb3IgKTsKCQkJCXBvaW50c01hdGVyaWFsLm1hcCA9IG1hdGVyaWFsLm1hcDsKCQkJCXBvaW50c01hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiA9IGZhbHNlOyAvLyBnbFRGIHNwZWMgc2F5cyBwb2ludHMgc2hvdWxkIGJlIDFweAoKCQkJCXRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgcG9pbnRzb2FkZXI6IFVuc3VwcG9ydGVkIG5vcm1hbGl6ZWQgYWNjZXNzb3IgY29tcG9uZW50IHR5cGUuJyApOwoKCX0KCn0KCmZ1bmN0aW9uIGdldEltYWdlVVJJTWltZVR5cGUoIHVyaSApIHsKCglpZiAoIHVyaS5zZWFyY2goIC9cLmpwZT9nKCR8XD8pL2kgKSA+IDAgfHwgdXJpLnNlYXJjaCggL15kYXRhXDppbWFnZVwvanBlZy8gKSA9PT0gMCApIHJldHVybiAnaW1hZ2UvanBlZyc7CglpZiAoIHVyaS5zZWFyY2goIC9cLndlYnAoJHxcPykvaSApID4gMCB8fCB1cmkuc2VhcmNoKCAvXmRhdGFcOmltYWdlXC93ZWJwLyApID09PSAwICkgcmV0dXJuICdpbWFnZS93ZWJwJzsKCglyZXR1cm4gJ2ltYWdlL3BuZyc7Cgp9Cgpjb25zdCBfaWRlbnRpdHlNYXRyaXggPSBuZXcgTWF0cml4NCgpOwoKLyogR0xURiBQQVJTRVIgKi8KCmNsYXNzIEdMVEZQYXJzZXIgewoKCWNvbnN0cnVjdG9yKCBqc29uID0ge30sIG9wdGlvbnMgPSB7fSApIHsKCgkJdGhpcy5qc29uID0ganNvbjsKCQl0aGlzLmV4dGVuc2lvbnMgPSB7fTsKCQl0aGlzLnBsdWdpbnMgPSB7fTsKCQl0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoKCQkvLyBsb2FkZXIgb2JqZWN0IGNhY2hlCgkJdGhpcy5jYWNoZSA9IG5ldyBHTFRGUmVnaXN0cnkoKTsKCgkJLy8gYXNzb2NpYXRpb25zIGJldHdlZW4gVGhyZWUuanMgb2JqZWN0cyBhbmQgZ2xURiBlbGVtZW50cwoJCXRoaXMuYXNzb2NpYXRpb25zID0gbmV3IE1hcCgpOwoKCQkvLyBCdWZmZXJHZW9tZXRyeSBjYWNoaW5nCgkJdGhpcy5wcmltaXRpdmVDYWNoZSA9IHt9OwoKCQkvLyBOb2RlIGNhY2hlCgkJdGhpcy5ub2RlQ2FjaGUgPSB7fTsKCgkJLy8gT2JqZWN0M0QgaW5zdGFuY2UgY2FjaGVzCgkJdGhpcy5tZXNoQ2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9OwoJCXRoaXMuY2FtZXJhQ2FjaGUgPSB7IHJlZnM6IHt9LCB1c2VzOiB7fSB9OwoJCXRoaXMubGlnaHRDYWNoZSA9IHsgcmVmczoge30sIHVzZXM6IHt9IH07CgoJCXRoaXMuc291cmNlQ2FjaGUgPSB7fTsKCQl0aGlzLnRleHR1cmVDYWNoZSA9IHt9OwoKCQkvLyBUcmFjayBub2RlIG5hbWVzLCB0byBlbnN1cmUgbm8gZHVwbGljYXRlcwoJCXRoaXMubm9kZU5hbWVzVXNlZCA9IHt9OwoKCQkvLyBVc2UgYW4gSW1hZ2VCaXRtYXBMb2FkZXIgaWYgaW1hZ2VCaXRtYXBzIGFyZSBzdXBwb3J0ZWQuIE1vdmVzIG11Y2ggb2YgdGhlCgkJLy8gZXhwZW5zaXZlIHdvcmsgb2YgdXBsb2FkaW5nIGEgdGV4dHVyZSB0byB0aGUgR1BVIG9mZiB0aGUgbWFpbiB0aHJlYWQuCgoJCWxldCBpc1NhZmFyaSA9IGZhbHNlOwoJCWxldCBpc0ZpcmVmb3ggPSBmYWxzZTsKCQlsZXQgZmlyZWZveFZlcnNpb24gPSAtIDE7CgoJCWlmICggdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgKSB7CgoJCQlpc1NhZmFyaSA9IC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKSA9PT0gdHJ1ZTsKCQkJaXNGaXJlZm94ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCAnRmlyZWZveCcgKSA+IC0gMTsKCQkJZmlyZWZveFZlcnNpb24gPSBpc0ZpcmVmb3ggPyBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCAvRmlyZWZveFwvKFswLTldKylcLi8gKVsgMSBdIDogLSAxOwoKCQl9CgoJCWlmICggdHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwID09ZXZlbnRlZH19O1UuYWRkKHNuKSxXLm1peGluKHRjKTt2YXIgZ3Q9KHI9PihyW3IuTG93PTBdPSJMb3ciLHJbci5Ob3JtYWw9MV09Ik5vcm1hbCIscltyLkhpZ2g9Ml09IkhpZ2giLHIpKShndHx8e30pO2NvbnN0IGVjPXtjcmVhdGVDYW52YXM6KHIsdCk9Pntjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiBlLndpZHRoPXIsZS5oZWlnaHQ9dCxlfSxnZXRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ6KCk9PkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxnZXRXZWJHTFJlbmRlcmluZ0NvbnRleHQ6KCk9PldlYkdMUmVuZGVyaW5nQ29udGV4dCxnZXROYXZpZ2F0b3I6KCk9Pm5hdmlnYXRvcixnZXRCYXNlVXJsOigpPT57dmFyIHI7cmV0dXJuKHI9ZG9jdW1lbnQuYmFzZVVSSSkhPW51bGw/cjp3aW5kb3cubG9jYXRpb24uaHJlZn0sZ2V0Rm9udEZhY2VTZXQ6KCk9PmRvY3VtZW50LmZvbnRzLGZldGNoOihyLHQpPT5mZXRjaChyLHQpLHBhcnNlWE1MOnI9Pm5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcociwidGV4dC94bWwiKX07bGV0IHJjPWVjO2NvbnN0IFY9e2dldCgpe3JldHVybiByY30sc2V0KHIpe3JjPXJ9fTtmdW5jdGlvbiBPdChyKXtpZih0eXBlb2YgciE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcihgUGF0aCBtdXN0IGJlIGEgc3RyaW5nLiBSZWNlaXZlZCAke0pTT04uc3RyaW5naWZ5KHIpfWApfWZ1bmN0aW9uIHNyKHIpe3JldHVybiByLnNwbGl0KCI/IilbMF0uc3BsaXQoIiMiKVswXX1mdW5jdGlvbiBJdihyKXtyZXR1cm4gci5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywiXFwkJiIpfWZ1bmN0aW9uIEZ2KHIsdCxlKXtyZXR1cm4gci5yZXBsYWNlKG5ldyBSZWdFeHAoSXYodCksImciKSxlKX1mdW5jdGlvbiBEdihyLHQpe2xldCBlPSIiLGk9MCxzPS0xLG49MCxvPS0xO2ZvcihsZXQgYT0wO2E8PXIubGVuZ3RoOysrYSl7aWYoYTxyLmxlbmd0aClvPXIuY2hhckNvZGVBdChhKTtlbHNle2lmKG89PT00NylicmVhaztvPTQ3fWlmKG89PT00Nyl7aWYoIShzPT09YS0xfHxuPT09MSkpaWYocyE9PWEtMSYmbj09PTIpe2lmKGUubGVuZ3RoPDJ8fGkhPT0yfHxlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkhPT00Nnx8ZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTIpIT09NDYpe2lmKGUubGVuZ3RoPjIpe2NvbnN0IGw9ZS5sYXN0SW5kZXhPZigiLyIpO2lmKGwhPT1lLmxlbmd0aC0xKXtsPT09LTE/KGU9IiIsaT0wKTooZT1lLnNsaWNlKDAsbCksaT1lLmxlbmd0aC0xLWUubGFzdEluZGV4T2YoIi8iKSkscz1hLG49MDtjb250aW51ZX19ZWxzZSBpZihlLmxlbmd0aD09PTJ8fGUubGVuZ3RoPT09MSl7ZT0iIixpPTAscz1hLG49MDtjb250aW51ZX19dCYmKGUubGVuZ3RoPjA/ZSs9Ii8uLiI6ZT0iLi4iLGk9Mil9ZWxzZSBlLmxlbmd0aD4wP2UrPWAvJHtyLnNsaWNlKHMrMSxhKX1gOmU9ci5zbGljZShzKzEsYSksaT1hLXMtMTtzPWEsbj0wfWVsc2Ugbz09PTQ2JiZuIT09LTE/KytuOm49LTF9cmV0dXJuIGV9Y29uc3QgZHQ9e3RvUG9zaXgocil7cmV0dXJuIEZ2KHIsIlxcIiwiLyIpfSxpc1VybChyKXtyZXR1cm4vXmh0dHBzPzovLnRlc3QodGhpcy50b1Bvc2l4KHIpKX0saXNEYXRhVXJsKHIpe3JldHVybi9eZGF0YTooW2Etel0rXC9bYS16MC05LSsuXSsoO1thLXowLTktLiEjJCUqaGlzLm1heFl9Z2V0IGlzUG9zaXRpdmUoKXtyZXR1cm4gdGhpcy5tYXhYLXRoaXMubWluWD4wJiZ0aGlzLm1heFktdGhpcy5taW5ZPjB9Z2V0IGlzVmFsaWQoKXtyZXR1cm4gdGhpcy5taW5YK3RoaXMubWluWSE9PTEvMH1hZGRWZXJ0ZXhEYXRhKHQsZSxpLHMpe2xldCBuPXRoaXMubWluWCxvPXRoaXMubWluWSxhPXRoaXMubWF4WCxsPXRoaXMubWF4WTtzfHwocz10aGlzLm1hdHJpeCk7Y29uc3QgdT1zLmEsYz1zLmIsaD1zLmMscD1zLmQsbT1zLnR4LGY9cy50eTtmb3IobGV0IF89ZTtfPGk7Xys9Mil7Y29uc3QgZz10W19dLGI9dFtfKzFdLHY9dSpnK2gqYittLHg9YypnK3AqYitmO249djxuP3Y6bixvPXg8bz94Om8sYT12PmE/djphLGw9eD5sP3g6bH10aGlzLm1pblg9bix0aGlzLm1pblk9byx0aGlzLm1heFg9YSx0aGlzLm1heFk9bH1jb250YWluc1BvaW50KHQsZSl7cmV0dXJuIHRoaXMubWluWDw9dCYmdGhpcy5taW5ZPD1lJiZ0aGlzLm1heFg+PXQmJnRoaXMubWF4WT49ZX10b1N0cmluZygpe3JldHVybmBbcGl4aS5qczpCb3VuZHMgbWluWD0ke3RoaXMubWluWH0gbWluWT0ke3RoaXMubWluWX0gbWF4WD0ke3RoaXMubWF4WH0gbWF4WT0ke3RoaXMubWF4WX0gd2lkdGg9JHt0aGlzLndpZHRofSBoZWlnaHQ9JHt0aGlzLmhlaWdodH1dYH19Y29uc3Qga3Q9bmV3IFFyKEIpLEx0PW5ldyBRcih1dCk7ZnVuY3Rpb24gSmUocix0LGUpe2UuY2xlYXIoKTtsZXQgaSxzO3JldHVybiByLnBhcmVudD90P2k9ci5wYXJlbnQud29ybGRUcmFuc2Zvcm06KHM9a3QuZ2V0KCkuaWRlbnRpdHkoKSxpPXRyKHIscykpOmk9Qi5JREVOVElUWSx6cyhyLGUsaSx0KSxzJiZrdC5yZXR1cm4ocyksZS5pc1ZhbGlkfHxlLnNldCgwLDAsMCwwKSxlfWZ1bmN0aW9uIHpzKHIsdCxlLGkpe3ZhciBzLG47aWYoIXIudmlzaWJsZXx8IXIubWVhc3VyYWJsZSlyZXR1cm47bGV0IG87aT9vPXIud29ybGRUcmFuc2Zvcm06KHIudXBkYXRlTG9jYWxUcmFuc2Zvcm0oKSxvPWt0LmdldCgpLG8uYXBwZW5kRnJvbShyLmxvY2FsVHJhbnNmb3JtLGUpKTtjb25zdCBhPXQsbD0hIXIuZWZmZWN0cy5sZW5ndGg7aWYobCYmKHQ9THQuZ2V0KCkuY2xlYXIoKSksci5ib3VuZHNBcmVhKXQuYWRkUmVjdChyLmJvdW5kc0FyZWEsbyk7ZWxzZXtyLmFkZEJvdW5kcyYmKHQubWF0cml4PW8sci5hZGRCb3VuZHModCkpO2ZvcihsZXQgdT0wO3U8ci5jaGlsZHJlbi5sZW5ndGg7dSsrKXpzKHIuY2hpbGRyZW5bdV0sdCxvLGkpfWlmKGwpe2ZvcihsZXQgdT0wO3U8ci5lZmZlY3RzLmxlbmd0aDt1KyspKG49KHM9ci5lZmZlY3RzW3VdKS5hZGRCb3VuZHMpPT1udWxsfHxuLmNhbGwocyx0KTthLmFkZEJvdW5kcyh0LEIuSURFTlRJVFkpLEx0LnJldHVybih0KX1pfHxrdC5yZXR1cm4obyl9ZnVuY3Rpb24gdHIocix0KXtjb25zdCBlPXIucGFyZW50O3JldHVybiBlJiYodHIoZSx0KSxlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCksdC5hcHBlbmQoZS5sb2NhbFRyYW5zZm9ybSkpLHR9ZnVuY3Rpb24gZWkocix0LGUpe3JldHVybiB0LmNsZWFyKCksZXx8KGU9Qi5JREVOVElUWSksQXUocix0LGUsciwhMCksdC5pc1ZhbGlkfHx0LnNldCgwLDAsMCwwKSx0fWZ1bmN0aW9uIEF1KHIsdCxlLGkscyl7dmFyIG4sbztsZXQgYTtpZihzKWE9a3QuZ2V0KCksYT1lLmNvcHlUbyhhKTtlbHNle2lmKCFyLnZ2IT09dm9pZCAwfHx0LmghPT12b2lkIDAmJnQucyE9PXZvaWQgMCYmdC52IT09dm9pZCAwJiZ0LmEhPT12b2lkIDB9fTtQZS5zaGFyZWQ9bmV3IFBlLFBlLl90ZW1wPW5ldyBQZSxQZS5IRVhfUEFUVEVSTj0vXigjfDB4KT8oKFthLWYwLTldezN9KXsxLDJ9KFthLWYwLTldezJ9KT8pJC9pO2xldCBZPVBlO2NvbnN0IGR1PXtjdWxsQXJlYTpudWxsLGN1bGxhYmxlOiExLGN1bGxhYmxlQ2hpbGRyZW46ITB9LHB1PU1hdGguUEkqMixmdT0xODAvTWF0aC5QSSxtdT1NYXRoLlBJLzE4MDtjbGFzcyB6e2NvbnN0cnVjdG9yKHQ9MCxlPTApe3RoaXMueD0wLHRoaXMueT0wLHRoaXMueD10LHRoaXMueT1lfWNsb25lKCl7cmV0dXJuIG5ldyB6KHRoaXMueCx0aGlzLnkpfWNvcHlGcm9tKHQpe3JldHVybiB0aGlzLnNldCh0LngsdC55KSx0aGlzfWNvcHlUbyh0KXtyZXR1cm4gdC5zZXQodGhpcy54LHRoaXMueSksdH1lcXVhbHModCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fXNldCh0PTAsZT10KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpc31zdGF0aWMgZ2V0IHNoYXJlZCgpe3JldHVybiBIcy54PTAsSHMueT0wLEhzfX1jb25zdCBIcz1uZXcgejtjbGFzcyBCe2NvbnN0cnVjdG9yKHQ9MSxlPTAsaT0wLHM9MSxuPTAsbz0wKXt0aGlzLmFycmF5PW51bGwsdGhpcy5hPXQsdGhpcy5iPWUsdGhpcy5jPWksdGhpcy5kPXMsdGhpcy50eD1uLHRoaXMudHk9b31mcm9tQXJyYXkodCl7dGhpcy5hPXRbMF0sdGhpcy5iPXRbMV0sdGhpcy5jPXRbM10sdGhpcy5kPXRbNF0sdGhpcy50eD10WzJdLHRoaXMudHk9dFs1XX1zZXQodCxlLGkscyxuLG8pe3JldHVybiB0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLmM9aSx0aGlzLmQ9cyx0aGlzLnR4PW4sdGhpcy50eT1vLHRoaXN9dG9BcnJheSh0LGUpe3RoaXMuYXJyYXl8fCh0aGlzLmFycmF5PW5ldyBGbG9hdDMyQXJyYXkoOSkpO2NvbnN0IGk9ZXx8dGhpcy5hcnJheTtyZXR1cm4gdD8oaVswXT10aGlzLmEsaVsxXT10aGlzLmIsaVsyXT0wLGlbM109dGhpcy5jLGlbNF09dGhpcy5kLGlbNV09MCxpWzZdPXRoaXMudHgsaVs3XT10aGlzLnR5LGlbOF09MSk6KGlbMF09dGhpcy5hLGlbMV09dGhpcy5jLGlbMl09dGhpcy50eCxpWzNdPXRoaXMuYixpWzRdPXRoaXMuZCxpWzVdPXRoaXMudHksaVs2XT0wLGlbN109MCxpWzhdPTEpLGl9YXBwbHkodCxlKXtlPWV8fG5ldyB6O2NvbnN0IGk9dC54LHM9dC55O3JldHVybiBlLng9dGhpcy5hKmkrdGhpcy5jKnMrdGhpcy50eCxlLnk9dGhpcy5iKmkrdGhpcy5kKnMrdGhpcy50eSxlfWFwcGx5SW52ZXJzZSh0LGUpe2U9ZXx8bmV3IHo7Y29uc3QgaT10aGlzLmEscz10aGlzLmIsbj10aGlzLmMsbz10aGlzLmQsYT10aGlzLnR4LGw9dGhpcy50eSx1PTEvKGkqbytuKi1zKSxjPXQueCxoPXQueTtyZXR1cm4gZS54PW8qdSpjKy1uKnUqaCsobCpuLWEqbykqdSxlLnk9aSp1KmgrLXMqdSpjKygtbCppK2EqcykqdSxlfXRyYW5zbGF0ZSh0LGUpe3JldHVybiB0aGlzLnR4Kz10LHRoaXMudHkrPWUsdGhpc31zY2FsZSh0LGUpe3JldHVybiB0aGlzLmEqPXQsdGhpcy5kKj1lLHRoaXMuYyo9dCx0aGlzLmIqPWUsdGhpcy50eCo9dCx0aGlzLnR5Kj1lLHRoaXN9cm90YXRlKHQpe2NvbnN0IGU9TWF0aC5jb3ModCksaT1NYXRoLnNpbih0KSxzPXRoaXMuYSxuPXRoaXNpZGVDb3JuZXJVcExlZnQgfSBmcm9tICcuL2ljb25zL2Nvcm5lci11cC1sZWZ0LmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBDb3JuZXJVcFJpZ2h0LCBkZWZhdWx0IGFzIENvcm5lclVwUmlnaHRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNvcm5lclVwUmlnaHQgfSBmcm9tICcuL2ljb25zL2Nvcm5lci11cC1yaWdodC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3B1LCBkZWZhdWx0IGFzIENwdUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3B1IH0gZnJvbSAnLi9pY29ucy9jcHUuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIENyZWF0aXZlQ29tbW9ucywgZGVmYXVsdCBhcyBDcmVhdGl2ZUNvbW1vbnNJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNyZWF0aXZlQ29tbW9ucyB9IGZyb20gJy4vaWNvbnMvY3JlYXRpdmUtY29tbW9ucy5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3JlZGl0Q2FyZCwgZGVmYXVsdCBhcyBDcmVkaXRDYXJkSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDcmVkaXRDYXJkIH0gZnJvbSAnLi9pY29ucy9jcmVkaXQtY2FyZC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3JvaXNzYW50LCBkZWZhdWx0IGFzIENyb2lzc2FudEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3JvaXNzYW50IH0gZnJvbSAnLi9pY29ucy9jcm9pc3NhbnQuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIENyb3AsIGRlZmF1bHQgYXMgQ3JvcEljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3JvcCB9IGZyb20gJy4vaWNvbnMvY3JvcC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3Jvc3MsIGRlZmF1bHQgYXMgQ3Jvc3NJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUNyb3NzIH0gZnJvbSAnLi9pY29ucy9jcm9zcy5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3Jvc3NoYWlyLCBkZWZhdWx0IGFzIENyb3NzaGFpckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3Jvc3NoYWlyIH0gZnJvbSAnLi9pY29ucy9jcm9zc2hhaXIuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIENyb3duLCBkZWZhdWx0IGFzIENyb3duSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVDcm93biB9IGZyb20gJy4vaWNvbnMvY3Jvd24uanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEN1Ym9pZCwgZGVmYXVsdCBhcyBDdWJvaWRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUN1Ym9pZCB9IGZyb20gJy4vaWNvbnMvY3Vib2lkLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBDdXBTb2RhLCBkZWZhdWx0IGFzIEN1cFNvZGFJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUN1cFNvZGEgfSBmcm9tICcuL2ljb25zL2N1cC1zb2RhLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBDdXJyZW5jeSwgZGVmYXVsdCBhcyBDdXJyZW5jeUljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3VycmVuY3kgfSBmcm9tICcuL2ljb25zL2N1cnJlbmN5LmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBDeWxpbmRlciwgZGVmYXVsdCBhcyBDeWxpbmRlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlQ3lsaW5kZXIgfSBmcm9tICcuL2ljb25zL2N5bGluZGVyLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBEYXRhYmFzZUJhY2t1cCwgZGVmYXVsdCBhcyBEYXRhYmFzZUJhY2t1cEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRGF0YWJhc2VCYWNrdXAgfSBmcm9tICcuL2ljb25zL2RhdGFiYXNlLWJhY2t1cC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRGF0YWJhc2VaYXAsIGRlZmFjbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkgewogICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBUaGUgInN0YXRlIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcbmAgKwogICAgICAgICAgICBgXHRzdGF0ZTogKCkgPT4gbmV3IE15Q2xhc3MoKVxuYCArCiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSAiJHtzdG9yZS4kaWR9Ii5gKTsKICAgIH0KICAgIC8vIG9ubHkgYXBwbHkgaHlkcmF0ZSB0byBvcHRpb24gc3RvcmVzIHdpdGggYW4gaW5pdGlhbCBzdGF0ZSBpbiBwaW5pYQogICAgaWYgKGluaXRpYWxTdGF0ZSAmJgogICAgICAgIGlzT3B0aW9uc1N0b3JlICYmCiAgICAgICAgb3B0aW9ucy5oeWRyYXRlKSB7CiAgICAgICAgb3B0aW9ucy5oeWRyYXRlKHN0b3JlLiRzdGF0ZSwgaW5pdGlhbFN0YXRlKTsKICAgIH0KICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTsKICAgIGlzU3luY0xpc3RlbmluZyA9IHRydWU7CiAgICByZXR1cm4gc3RvcmU7Cn0KZnVuY3Rpb24gZGVmaW5lU3RvcmUoCi8vIFRPRE86IGFkZCBwcm9wZXIgdHlwZXMgZnJvbSBhYm92ZQppZE9yT3B0aW9ucywgc2V0dXAsIHNldHVwT3B0aW9ucykgewogICAgbGV0IGlkOwogICAgbGV0IG9wdGlvbnM7CiAgICBjb25zdCBpc1NldHVwU3RvcmUgPSB0eXBlb2Ygc2V0dXAgPT09ICdmdW5jdGlvbic7CiAgICBpZiAodHlwZW9mIGlkT3JPcHRpb25zID09PSAnc3RyaW5nJykgewogICAgICAgIGlkID0gaWRPck9wdGlvbnM7CiAgICAgICAgLy8gdGhlIG9wdGlvbiBzdG9yZSBzZXR1cCB3aWxsIGNvbnRhaW4gdGhlIGFjdHVhbCBvcHRpb25zIGluIHRoaXMgY2FzZQogICAgICAgIG9wdGlvbnMgPSBpc1NldHVwU3RvcmUgPyBzZXR1cE9wdGlvbnMgOiBzZXR1cDsKICAgIH0KICAgIGVsc2UgewogICAgICAgIG9wdGlvbnMgPSBpZE9yT3B0aW9uczsKICAgICAgICBpZCA9IGlkT3JPcHRpb25zLmlkOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW/CfjY1dOiAiZGVmaW5lU3RvcmUoKSIgbXVzdCBiZSBwYXNzZWQgYSBzdG9yZSBpZCBhcyBpdHMgZmlyc3QgYXJndW1lbnQuYCk7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gdXNlU3RvcmUocGluaWEsIGhvdCkgewogICAgICAgIGNvbnN0IGhhc0NvbnRleHQgPSBoYXNJbmplY3Rpb25Db250ZXh0KCk7CiAgICAgICAgcGluaWEgPQogICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhCiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKQogICAgICAgICAgICAocGluaWEpIHx8CiAgICAgICAgICAgICAgICAoaGFzQ29udGV4dCA/IGluamVjdChwaW5pYVN5bWJvbCwgbnVsbCkgOiBudWxsKTsKICAgICAgICBpZiAocGluaWEpCiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTsKICAgICAgICBpZiAoIWFjdGl2ZVBpbmlhKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW/CfjY1dOiAiZ2V0QWN0aXZlUGluaWEoKSIgd2FzIGNhbGxlZCBidXQgdGhlcmUgd2FzIG5vIGFjdGl2ZSBQaW5pYS4gQXJlIHlvdSB0cnlpbmcgdG8gdXNlIGEgc3RvcmUgYmVmb3JlIGNhbGxpbmcgImFwbGF5KGV2ZW50cy50eXBlKSwKICAgICAgICAgICAga2V5OiBmb3JtYXREaXNwbGF5KGV2ZW50cy5rZXkpLAogICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLAogICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLAogICAgICAgIH07CiAgICB9Cn0KZnVuY3Rpb24gZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpIHsKICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDoKICAgICAgICAgICAgcmV0dXJuICdtdXRhdGlvbic7CiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjoKICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnOwogICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0OgogICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJzsKICAgIH0KfQoKLy8gdGltZWxpbmUgY2FuIGJlIHBhdXNlZCB3aGVuIGRpcmVjdGx5IGNoYW5naW5nIHRoZSBzdGF0ZQpsZXQgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7CmNvbnN0IGNvbXBvbmVudFN0YXRlVHlwZXMgPSBbXTsKY29uc3QgTVVUQVRJT05TX0xBWUVSX0lEID0gJ3BpbmlhOm11dGF0aW9ucyc7CmNvbnN0IElOU1BFQ1RPUl9JRCA9ICdwaW5pYSc7CmNvbnN0IHsgYXNzaWduOiBhc3NpZ24kMSB9ID0gT2JqZWN0OwovKioKICogR2V0cyB0aGUgZGlzcGxheWVkIG5hbWUgb2YgYSBzdG9yZSBpbiBkZXZ0b29scwogKgogKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgc3RvcmUKICogQHJldHVybnMgYSBmb3JtYXR0ZWQgc3RyaW5nCiAqLwpjb25zdCBnZXRTdG9yZVR5cGUgPSAoaWQpID0+ICfwn42NICcgKyBpZDsKLyoqCiAqIEFkZCB0aGUgcGluaWEgcGx1Z2luIHdpdGhvdXQgYW55IHN0b3JlLiBBbGxvd3MgZGlzcGxheWluZyBhIFBpbmlhIHBsdWdpbiB0YWIKICogYXMgc29vbiBhcyBpdCBpcyBhZGRlZCB0byB0aGUgYXBwbGljYXRpb24uCiAqCiAqIEBwYXJhbSBhcHAgLSBWdWUgYXBwbGljYXRpb24KICogQHBhcmFtIHBpbmlhIC0gcGluaWEgaW5zdGFuY2UKICovCmZ1bmN0aW9uIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKSB7CiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHsKICAgICAgICBpZDogJ2Rldi5lc20ucGluaWEnLAogICAgICAgIGxhYmVsOiAnUGluaWEg8J+NjScsCiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJywKICAgICAgICBwYWNrYWdlTmFtZTogJ3BpbmlhJywKICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnJywKICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLAogICAgICAgIGFwcCwKICAgIH0sIChhcGkpID0+IHsKICAgICAgICBpZiAodHlwZW9mIGFwaS5ub3cgIT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCdZb3Ugc2VlbSB0byBiZSB1c2luZyBhbiBvdXRkYXRlZCB2ZXJzaW9uIG9mIFZ1ZSBEZXZ0b29scy4gQXJlIHlvdSBzdGlsbCB1c2luZyB0aGUgQmV0YSByZWxlYXNlIGluc3RlYWQgb2YgdGhlIHN0YWJsZSBvbmU/IFlvdSBjYW4gZmluZCB0aGUgbGlua3MgYXQgaHR0cHM6Ly9kZXZ0b29scy52dWVqcy5vcmcvZ3VpZGUvaW5zdGFsbGF0aW9uLmh0bWwuJyk7CiAxN10qdFsxMl0rc1sxOF0qdFsxN10sc1sxNV0qdFszXStzWzE2XSp0WzhdK3NbMTddKnRbMTNdK3NbMThdKnRbMThdLHNbMTVdKnRbNF0rc1sxNl0qdFs5XStzWzE3XSp0WzE0XStzWzE4XSp0WzE5XStzWzE5XV0pLHRoaXMuX2RpcnR5PSEwLHRoaXN9fSk7ci5CTEFDS19XSElURT1bLjMsLjYsLjEsMCwwLC4zLC42LC4xLDAsMCwuMywuNiwuMSwwLDAsMCwwLDAsMSwwXSxyLk5FR0FUSVZFPVstMSwwLDAsMSwwLDAsLTEsMCwxLDAsMCwwLC0xLDEsMCwwLDAsMCwxLDBdLHIuREVTQVRVUkFURV9MVU1JTkFOQ0U9Wy4yNzY0NzIzLC45Mjk3MDgsLjA5MzgxOTcsMCwtMzcuMSwuMjc2NDcyMywuOTI5NzA4LC4wOTM4MTk3LDAsLTM3LjEsLjI3NjQ3MjMsLjkyOTcwOCwuMDkzODE5NywwLC0zNy4xLDAsMCwwLDEsMF0sci5TRVBJQT1bLjM5MywuNzY4OTk5OSwuMTg4OTk5OTksMCwwLC4zNDksLjY4NTk5OTksLjE2Nzk5OTk5LDAsMCwuMjcyLC41MzM5OTk5LC4xMzA5OTk5OSwwLDAsMCwwLDAsMSwwXSxyLkxTRD1bMiwtLjQsLjUsMCwwLC0uNSwyLC0uNCwwLDAsLS40LC0uNSwzLDAsMCwwLDAsMCwxLDBdLHIuQlJPV049Wy41OTk3MDIzNDk4MTU5NzE1LC4zNDU1MzI0MzA0ODM5MTI2MywtLjI3MDgyOTg2NzQ1MzgwNDIsMCw0Ny40MzE5Mjg1NTYwMDg3MywtLjAzNzcwMzI0OTgzNzc4MzE1NywuODYwOTU3NzU4Nzk5MjY0MSwuMTUwNTk1NTIzODg0NTk5MTMsMCwtMzYuOTY4NDE0OTgzMTkxMjcsLjI0MTEzNjM1MTI4MTUzMzM1LC0uMDc0NDEwMzc5MDg0MjI0OTIsLjQ0OTcyMTgyMDY0ODc3MTUzLDAsLTcuNTYyMDc1Mjc3NTkxMjgzLDAsMCwwLDEsMF0sci5WSU5UQUdFPVsuNjI3OTM0NTYzNTYwNTk5NCwuMzIwMjE4MzQyMDgxOTM2NywtLjAzOTY1NDA4MjExMzEyNDUzLDAsOS42NTEyODU4MzUyOTQxMjMsLjAyNTc4Mzk3NzA0ODA4ODY4LC42NDQxMTg4NjQ0Mzc0NzcxLC4wMzI1OTEyNzYxNjE0OTI5NCwwLDcuNDYyODI5MTc2NDcwNTkxLC4wNDY2MDU1NTU2NzgyNzE5LC0uMDg1MTIzMjk4NzI0Nzg5MSwuNTI0MTY0ODAxODcwMDQ2NSwwLDUuMTU5MTkwNTg4MjM1Mjk2LDAsMCwwLDEsMF0sci5LT0RBQ0hST01FPVsxLjEyODU1ODIzOTY1OTM1MjUsLS4zOTY3MzgyMjgzNjAxMzQ4LC0uMDM5OTI1NTkxNzI5MjE3OTMsMCw2My43Mjk1ODc2MjE5NjUwMiwtLjE2NDA0MzM5OTYyMjQ0NjE2LDEuMDgzNTI1MTU2NjI5MTMwNCwtLjA1NDk4ODA1MTE1NjMzMTMyLDAsMjQuNzMyNDA3ODk2NzA2MjAzLC0uMTY3ODYwMTA3MDYxNTU3NjMsLS41NjAzNDE2Mjc3Njk1MjQ4LDEuNjAxNDg1MDc2MTk2NDk0MywwLDM1LjYyOTgyODA3NDYwOTQ2LDAsMCwwLDEsMF0sci5URUNITklDT0xPUj1bMS45MTI1Mjc3ODkxNDU2MDgzLC0uODU0NTM0NDk3Njk1MTY0NSwtLjA5MTU1NTA4NDgyNzU1NTg1LDAsMTEuNzkzNjAzNDM0Mzc3MzM3LC0uMzA4NzgzMzM4NTkyODA5NywxLjc2NTg5MDg1NTU0NTg0MjgsLS4xMDYwMTc0MzA3NDcyMjI0NSwwLC03MC4zNTIwNTE2MTQ2MTM5OCwtLjIzMTEwMzM3NzU0ODYxNiwtLjc1MDE4OTkxOTc0NDAyMTIsMS44NDc1OTc4MTYxMDgxODksMCwzMC45NTA5NDA4Njk0OTExMzgsMCwwLDAsMSwwXSxyLlBPTEFST0lEPVsxLjQzOCwtLjA2MiwtLjA2MiwwLDAsLS4xMjIsMS4zNzgsLS4xMjIsMCwwLC0uMDE2LC0uMDE2LDEuNDgzLDByb3VuZDogIithO2Vsc2UgaD1oLmNvbmNhdCgiJWMgIiksbC5wdXNoKCJjb2xvcjogIitlLmJhbm5lclRleHRDb2xvcisiOyBiYWNrZ3JvdW5kOiAiK2UuYmFubmVyQmFja2dyb3VuZENvbG9yKTtsLnB1c2goImJhY2tncm91bmQ6IHRyYW5zcGFyZW50IiksZS5nYW1lVGl0bGUmJihoPWguY29uY2F0KGUuZ2FtZVRpdGxlKSxlLmdhbWVWZXJzaW9uJiYoaD1oLmNvbmNhdCgiIHYiK2UuZ2FtZVZlcnNpb24pKSxlLmhpZGVQaGFzZXJ8fChoPWguY29uY2F0KCIgLyAiKSkpO2UuaGlkZVBoYXNlcnx8KGg9aC5jb25jYXQoIlBoYXNlciB2IitzLlZFUlNJT04rIiAoIitpKyIgfCAiK24rIikiKSksaD1oLmNvbmNhdCgiICVjICIrZS5nYW1lVVJMKSxsWzBdPWgsY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxsKX19fX0sNTAxMjc6KHQsZSxpKT0+e3ZhciBzPWkoNDAzNjYpLG49aSg2MDg0OCkscj1pKDI0MDQ3KSxvPWkoMjc5MTkpLGE9aSg4MzQxOSksaD1pKDY5NTQ3KSxsPWkoODM3MTkpLHU9aSg4NjA1NCksYz1pKDQ1ODkzKSxkPWkoOTYzOTEpLGY9aSg4MjI2NCkscD1pKDU3MjY0KSx2PWkoNTA3OTIpLGc9aSg4NDQzKSxtPWkoNzAwMykseT1pKDM3Mjc3KSx4PWkoNzczMzIpLFQ9aSg3NjUzMSksdz1pKDYwOTAzKSxiPWkoNjk0NDIpLFM9aSgxNzEzMCksRT1pKDY1ODk4KSxBPWkoNTEwODUpLEM9aSgxNDc0NyksXz1uZXcgYSh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLmNvbmZpZz1uZXcgaCh0KSx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5kb21Db250YWluZXI9bnVsbCx0aGlzLmNhbnZhcz1udWxsLHRoaXMuY29udGV4dD1udWxsLHRoaXMuaXNCb290ZWQ9ITEsdGhpcy5pc1J1bm5pbmc9ITEsdGhpcy5ldmVudHM9bmV3IHYsdGhpcy5hbmltcz1uZXcgbih0aGlzKSx0aGlzLnRleHR1cmVzPW5ldyBTKHRoaXMpLHRoaXMuY2FjaGU9bmV3IHIodGhpcyksdGhpcy5yZWdpc3RyeT1uZXcgYyh0aGlzLG5ldyB2KSx0aGlzLmlucHV0PW5ldyBtKHRoaXMsdGhpcy5jb25maWcpLHRoaXMuc2NlbmU9bmV3IHcodGhpcyx0aGlzLmNvbmZpZy5zY2VuZUNvbmZpZyksdGhpcy5kZXZpY2U9Zix0aGlzLnNjYWxlPW5ldyBUKHRoaXMsdGhpcy5jb25maWcpLHRoaXMuc291bmQ9bnVsbCx0aGlzLnNvdW5kPUMuY3JlYXRlKHRoaXMpLHRoaXMubG9vcD1uZXcgRSh0aGlzLHRoaXMuY29uZmlnLmZwcyksdGhpcy5wbHVnaW5zPW5ldyB4KHRoaXMsdGhpcy5jb25maWcpLHRoaXMucGVuZGluZ0Rlc3Ryb3k9ITEsdGhpcy5yZW1vdmVDYW52YXM9ITEsdGhpcy5ub1JldHVybj0hMSx0aGlzLmhhc0ZvY3VzPSExLHRoaXMuaXNQYXVzZWQ9ITEscCh0aGlzLmJvb3QuYmluZCh0aGlzKSl9LGJvb3Q6ZnVuY3Rpb24oKXt5Lmhhc0NvcmUoIkV2ZW50RW1pdHRlciIpPyh0aGlzLmlzQm9vdGVkPSEwLHRoaXMuY29uZmlnLnByZUJvb3QodGhpcyksdGhpcy5zY2FsZS5wcmVCb290KCksdSh0aGlzKSxsKHRoaXMpLGQodGhpcykscyh0aGlzLmNhbnZhcyx0aGlzLmNvbmZpZy5wYXJlbnQpLHRoaXMudGV4dHVyZXMub25jZShiLlJFQURZLHRoaXMudGV4dHVyZXNSZWFkeSx0aGlzKSx0aGlzLmV2ZW50cy5lbWl0KGcuQk9PVCkpOmNvbnNvbGUud2FybigiQWJvcnRpbmcuIENvcmUgUGx1Z2lucyBtaXNzaW5nLiIpfSx0ZXh0dXJlc1JlYWR5OmZ1bmN0aW9uKCl7dGhpcy5ldm1hdHJpeCxpPWVbMF0scz1lWzFdLG49ZVsyXSxyPWVbM10sbz1pKnItcypuO2lmKCFvKXJldHVybiB0O3ZhciBhPWVbNF0saD1lWzVdLGw9dGhpcy5zY3JvbGxYLHU9dGhpcy5zY3JvbGxZLGM9dGhpcy53aWR0aCxkPXRoaXMuaGVpZ2h0LGY9dGhpcy55LHA9ZitkLHY9dGhpcy54LGc9ditjLG09dGhpcy5jdWxsZWRPYmplY3RzLHk9dC5sZW5ndGg7bz0xL28sbS5sZW5ndGg9MDtmb3IodmFyIHg9MDt4PHk7Kyt4KXt2YXIgVD10W3hdO2lmKFQuaGFzT3duUHJvcGVydHkoIndpZHRoIikmJiFULnBhcmVudENvbnRhaW5lcil7dmFyIHc9VC53aWR0aCxiPVQuaGVpZ2h0LFM9VC54LWwqVC5zY3JvbGxGYWN0b3JYLXcqVC5vcmlnaW5YLEU9VC55LXUqVC5zY3JvbGxGYWN0b3JZLWIqVC5vcmlnaW5ZOyhTK3cpKmkrKEUrYikqbithPnYmJlMqaStFKm4rYTxnJiYoUyt3KSpzKyhFK2IpKnIraD5mJiZTKnMrRSpyK2g8cCYmbS5wdXNoKFQpfWVsc2UgbS5wdXNoKFQpfXJldHVybiBtfSxnZXRXb3JsZFBvaW50OmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT1uZXcgYyk7dmFyIHM9dGhpcy5tYXRyaXgubWF0cml4LG49c1swXSxyPXNbMV0sbz1zWzJdLGE9c1szXSxoPXNbNF0sbD1zWzVdLHU9biphLXIqbztpZighdSlyZXR1cm4gaS54PXQsaS55PWUsaTt2YXIgZD1hKih1PTEvdSksZj0tcip1LHA9LW8qdSx2PW4qdSxnPShvKmwtYSpoKSp1LG09KHIqaC1uKmwpKnUseT1NYXRoLmNvcyh0aGlzLnJvdGF0aW9uKSx4PU1hdGguc2luKHRoaXMucm90YXRpb24pLFQ9dGhpcy56b29tWCx3PXRoaXMuem9vbVksYj10aGlzLnNjcm9sbFgsUz10aGlzLnNjcm9sbFksRT10KyhiKnktUyp4KSpULEE9ZSsoYip4K1MqeSkqdztyZXR1cm4gaS54PUUqZCtBKnArZyxpLnk9RSpmK0EqdittLGl9LGlnbm9yZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmlkO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV07QXJyYXkuaXNBcnJheShzKT90aGlzLmlnbm9yZShzKTpzLmlzUGFyZW50P3RoaXMuaWdub3JlKHMuZ2V0Q2hpbGRyZW4oKSk6cy5jYW1lcmFGaWx0ZXJ8PWV9cmV0dXJuIHRoaXN9LHByZVJlbmRlcjpmdW5jdGlvbigpe3RoaXMucmVuZGVyTGlzdC5sZW5ndGg9MDt2YXIgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQsaT0uNSp0LHM9LjUqZSxuPXRoaXMuem9vbVgscj10aGlzLnpvb21ZLG89dGhpcy5tYXRyaXgsYT10KnRoaXMub3JpZ2luWCxoPWUqdGhpcy5vcmlnaW5ZLGw9dGhpcy5zY3JvbGxYLHU9dGhpcy5zY3JvbGxZO3RoaXMudXNlQm91bmRzJiYobD10aGlzLmNsYW1wWChsKSx1PXRoaXMuY2xhbXBZKHUpKSx0aGlzLnNjcm9sbFg9bCx0aGlzLnNjcm9sbFk9dTt2YXIgYz1sK2ksZD11K3M7dGhpcy5taWRQb2ludC5zZXQoYyxkKTt2YXIgZj10L24scD1lL3I7dGhpcy53b3JsZFZpZXcuc2V0VG8oYy1mLzIsZC1wLzIsZixwKSxvLmFwcGx5SVRSUyh0aGlzLngrYSx0aGlzLnkraCx0aGlzLnJvdGF0aW9uLG4sciksby50cmFuc2xhdGUoLWEsLWgpfSxjbGFtcFg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYm91bmRzLGk9dGhpcy5kaXNwbGF5V2lkdGgscz1lLngrKGktdGhpcy53aWR0aCkvMixuPU1hdGgubWF4KHMscytlLndpZHRoLWkpO3JldHVybiB0PHM/dD1zOnQ+biYmKHQ9bnNwbGljZShvLGVlKChyW28rMV18fCJpbnZhbGlkLXdhaXQiKS5zcGxpdCgibXMiKVswXSk/MjoxKX1pZihyLmxlbmd0aD09PTB8fHIubGVuZ3RoPT09MSYmTm4odC5rZXkpLmluY2x1ZGVzKHJbMF0pKXJldHVybiExO2xldCBpPVsiY3RybCIsInNoaWZ0IiwiYWx0IiwibWV0YSIsImNtZCIsInN1cGVyIl0uZmlsdGVyKG89PnIuaW5jbHVkZXMobykpO3JldHVybiByPXIuZmlsdGVyKG89PiFpLmluY2x1ZGVzKG8pKSwhKGkubGVuZ3RoPjAmJmkuZmlsdGVyKHM9Pigocz09PSJjbWQifHxzPT09InN1cGVyIikmJihzPSJtZXRhIiksdFtgJHtzfUtleWBdKSkubGVuZ3RoPT09aS5sZW5ndGgmJihrbih0LnR5cGUpfHxObih0LmtleSkuaW5jbHVkZXMoclswXSkpKX1mdW5jdGlvbiBObih0KXtpZighdClyZXR1cm5bXTt0PW9vKHQpO2xldCBlPXtjdHJsOiJjb250cm9sIixzbGFzaDoiLyIsc3BhY2U6IiAiLHNwYWNlYmFyOiIgIixjbWQ6Im1ldGEiLGVzYzoiZXNjYXBlIix1cDoiYXJyb3ctdXAiLGRvd246ImFycm93LWRvd24iLGxlZnQ6ImFycm93LWxlZnQiLHJpZ2h0OiJhcnJvdy1yaWdodCIscGVyaW9kOiIuIixjb21tYToiLCIsZXF1YWw6Ij0iLG1pbnVzOiItIix1bmRlcnNjb3JlOiJfIn07cmV0dXJuIGVbdF09dCxPYmplY3Qua2V5cyhlKS5tYXAocj0+e2lmKGVbcl09PT10KXJldHVybiByfSkuZmlsdGVyKHI9PnIpfWQoIm1vZGVsIiwodCx7bW9kaWZpZXJzOmUsZXhwcmVzc2lvbjpyfSx7ZWZmZWN0Om4sY2xlYW51cDppfSk9PntsZXQgbz10O2UuaW5jbHVkZXMoInBhcmVudCIpJiYobz10LnBhcmVudE5vZGUpO2xldCBzPXgobyxyKSxhO3R5cGVvZiByPT0ic3RyaW5nIj9hPXgobyxgJHtyfSA9IF9fcGxhY2Vob2xkZXJgKTp0eXBlb2Ygcj09ImZ1bmN0aW9uIiYmdHlwZW9mIHIoKT09InN0cmluZyI/YT14KG8sYCR7cigpfSA9IF9fcGxhY2Vob2xkZXJgKTphPSgpPT57fTtsZXQgYz0oKT0+e2xldCBfO3JldHVybiBzKGY9Pl89ZiksRG4oXyk/Xy5nZXQoKTpffSxsPV89PntsZXQgZjtzKGg9PmY9aCksRG4oZik/Zi5zZXQoXyk6YSgoKT0+e30se3Njb3BlOntfX3BsYWNlaG9sZGVyOl99fSl9O3R5cGVvZiByPT0ic3RyaW5nIiYmdC50eXBlPT09InJhZGlvIiYmbSgoKT0+e3QuaGFzQXR0cmlidXRlKCJuYW1lIil8fHQuc2V0QXR0cmlidXRlKCJuYW1lIixyKX0pO2xldCB1PWUuaW5jbHVkZXMoImNoYW5nZSIpfHxlLmluY2x1ZGVzKCJsYXp5IikscD1lLmluY2x1ZGVzKCJibHVyIiksdj1lLmluY2x1ZGVzKCJlbnRlciIpLE89dXx8cHx8dixSO2lmKEYpUj0oKT0+e307ZWxzZSBpZihPKXtsZXQgXz1bXSxmPWg9PmwocmUodCxlLGgsYygpKSk7dSYmXy5wdXNoKFYodCwiY2hhbmdlIixlLGYpKSxwJiZfLnB1c2goVih0LCJibHVyIixlLGYpKSx2JiZfLnB1c2goVih0LCJrZXlkb3duIixlLGg9PntoLmtleT09PSJFbnRlciImJmYoaCl9KSksUj0oKT0+Xy5mb3JFYWNoKGg9PmgoKSl9ZWxzZXtsZXQgXz10LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QifHxbImNoZWNrYm94IiwicmFkaW8iXS5pbmNsdWRlcyh0LnR5cGUpPyJjaGFuZ2UiOiJpbnB1dCI7Uj1WKHQsXyxlLGY9PntsKHJlKHQsZSxmLGMoKSkpfSl9aWYoZS5pbmNsdWRlcygiZmlsbCIpJiYoW3ZvaWQgMCxudWxsLCIiXS5pbmNsdWRlcyhjKCkpfHx6dCh0KSYmQXJyYTE1LjQzOCAyLjE4NEMxNC43MjguODMzIDEzLjQxNiAwIDExLjk5NiAwYy0xLjQyIDAtMi43MzMuODMzLTMuNDQzIDIuMTg0TC41MzMgMTcuNDQ4YTQuNzQ0IDQuNzQ0IDAgMDAwIDQuMzY4QzEuMjQzIDIzLjE2NyAyLjU1NSAyNCAzLjk3NSAyNGgxNi4wNUMyMi4yMiAyNCAyNCAyMi4wNDQgMjQgMTkuNjMyYzAtLjkwNC0uMjUxLTEuNzQ2LS42OC0yLjQ0em0tOS42MjIgMS40NmMwIDEuMDMzLS43MjQgMS44MjMtMS42OTggMS44MjNzLTEuNjk4LS43OS0xLjY5OC0xLjgyMnYtLjA0M2MwLTEuMDI4LjcyNC0xLjgyMiAxLjY5OC0xLjgyMnMxLjY5OC43OSAxLjY5OCAxLjgyMnYuMDQzem0uMDM5LTEyLjI4NWwtLjg0IDguMDZjLS4wNTcuNTgxLS40MDguOTQzLS44OTcuOTQzLS40OSAwLS44NC0uMzY3LS44OTYtLjk0MmwtLjg0LTguMDY1Yy0uMDU3LS42MjQuMjUtMS4wOTUuNzc5LTEuMDk1aDEuOTFjLjUyOC4wMDUuODQuNDc2Ljc4NCAxLjF6In0pKX0sc3VjY2VzczpmdW5jdGlvbihlKXtyZXR1cm4gYS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQSx7Li4uZX0sYS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoInBhdGgiLHtkOiJNMTIgMGExMiAxMiAwIDEwMTIgMTJBMTIuMDE0IDEyLjAxNCAwIDAwMTIgMHptNi45MjcgOC4ybC02Ljg0NSA5LjI4OWExLjAxMSAxLjAxMSAwIDAxLTEuNDMuMTg4bC00Ljg4OC0zLjkwOGExIDEgMCAxMTEuMjUtMS41NjJsNC4wNzYgMy4yNjEgNi4yMjctOC40NTFhMSAxIDAgMTExLjYxIDEuMTgzeiJ9KSl9LGVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiBhLmRlZmF1bHQuY3JlYXRlRWxlbWVudChBLHsuLi5lfSxhLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgicGF0aCIse2Q6Ik0xMS45ODMgMGExMi4yMDYgMTIuMjA2IDAgMDAtOC41MSAzLjY1M0ExMS44IDExLjggMCAwMDAgMTIuMjA3IDExLjc3OSAxMS43NzkgMCAwMDExLjggMjRoLjIxNEExMi4xMTEgMTIuMTExIDAgMDAyNCAxMS43OTEgMTEuNzY2IDExLjc2NiAwIDAwMTEuOTgzIDB6TTEwLjUgMTYuNTQyYTEuNDc2IDEuNDc2IDAgMDExLjQ0OS0xLjUzaC4wMjdhMS41MjcgMS41MjcgMCAwMTEuNTIzIDEuNDcgMS40NzUgMS40NzUgMCAwMS0xLjQ0OSAxLjUzaC0uMDI3YTEuNTI5IDEuNTI5IDAgMDEtMS41MjMtMS40N3pNMTEgMTIuNXYtNmExIDEgMCAwMTIgMHY2YTEgMSAwIDExLTIgMHoifSkpfSxzcGlubmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6IlRvYXN0aWZ5X19zcGlubmVyIn0pfX0sTz1lPT57Y29uc3R7aXNSdW5uaW5nOm4scHJldmVudEV4aXRUcmFuc2l0aW9uOm8sdG9hc3RSZWY6cixldmVudEhhbmRsZXJzOmwscGxheVRvYXN0OmN9PV8oZSkse2Nsb3NlQnV0dG9uOmQsY2hpbGRyZW46dSxhdXRvQ2xvc2U6ZixvbkNsaWNrOnAsdHlwZTptLGhpZGVQcm9ncmVzc0JhcjpnLGNsb3NlVG9hc3Q6eSx0cmFuc2l0aW9uOnYscG9zaXRpb246aCxjbGFzc05hbWU6VCxzdHlsZTpFLGJvZHlDbGFzc05hbWU6Yixib2R5U3R5bGU6SSxwcm9ncmVzc0NsYXNzTmFtZTpMLHByb2dyZXNzU3R5bGU6Tix1cGRhdGVJZDokLHJvbGU6dyxwcm9ncmVzczprLHJ0bDpQLHRvYXN0SWQ6eCxkZWxldGVUb2FzdDpNLGlzSW46QSxpc0xvYWRpbmc6TyxjbG9zZU9uQ2xpY2s6RCx0aGVtZTpSfT1lLFM9cy5kZWZhdWV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7Cn0KLyoqCiAqIFN1cHBvcnQgc3R5bGUgbmFtZXMgdGhhdCBtYXkgY29tZSBwYXNzZWQgaW4gcHJlZml4ZWQgYnkgYWRkaW5nIHBlcm11dGF0aW9ucwogKiBvZiB2ZW5kb3IgcHJlZml4ZXMuCiAqLwoKCnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107IC8vIFVzaW5nIE9iamVjdC5rZXlzIGhlcmUsIG9yIGVsc2UgdGhlIHZhbmlsbGEgZm9yLWluIGxvb3AgbWFrZXMgSUU4IGdvIGludG8gYW4KLy8gaW5maW5pdGUgbG9vcCwgYmVjYXVzZSBpdCBpdGVyYXRlcyBvdmVyIHRoZSBuZXdseSBhZGRlZCBwcm9wcyB0b28uCgpPYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7CiAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7CiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07CiAgfSk7Cn0pOwoKLyoqCiAqIENvbnZlcnQgYSB2YWx1ZSBpbnRvIHRoZSBwcm9wZXIgY3NzIHdyaXRhYmxlIHZhbHVlLiBUaGUgc3R5bGUgbmFtZSBgbmFtZWAKICogc2hvdWxkIGJlIGxvZ2ljYWwgKG5vIGh5cGhlbnMpLCBhcyBzcGVjaWZpZWQKICogaW4gYENTU1Byb3BlcnR5LmlzVW5pdGxlc3NOdW1iZXJgLgogKgogKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgcHJvcGVydHkgbmFtZSBzdWNoIGFzIGB0b3BNYXJnaW5gLgogKiBAcGFyYW0geyp9IHZhbHVlIENTUyBwcm9wZXJ0eSB2YWx1ZSBzdWNoIGFzIGAxMHB4YC4KICogQHJldHVybiB7c3RyaW5nfSBOb3JtYWxpemVkIHN0eWxlIHZhbHVlIHdpdGggZGltZW5zaW9ucyBhcHBsaWVkLgogKi8KCmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUsIGlzQ3VzdG9tUHJvcGVydHkpIHsKICAvLyBOb3RlIHRoYXQgd2UndmUgcmVtb3ZlZCBlc2NhcGVUZXh0Rm9yQnJvd3NlcigpIGNhbGxzIGhlcmUgc2luY2UgdGhlCiAgLy8gd2hvbGUgc3RyaW5nIHdpbGwgYmUgZXNjYXBlZCB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgaW5qZWN0ZWQgaW50bwogIC8vIHRoZSBtYXJrdXAuIElmIHlvdSBwcm92aWRlIHVuc2FmZSB1c2VyIGRhdGEgaGVyZSB0aGV5IGNhbiBpbmplY3QKICAvLyBhcmJpdHJhcnkgQ1NTIHdoaWNoIG1heSBiZSBwcm9ibGVtYXRpYyAoSSBjb3VsZG4ndCByZXBybyB0aGlzKToKICAvLyBodHRwczovL3d3dy5vd2FzcC5vcmcvaW5kZXgucGhwL1hTU19GaWx0ZXJfRXZhc2lvbl9DaGVhdF9TaGVldAogIC8vIGh0dHA6Ly93d3cudGhlc3Bhbm5lci5jby51ay8yMDA3LzExLzI2L3VsdGltYXRlLXhzcy1jc3MtaW5qZWN0aW9uLwogIC8vIFRoaXMgaXMgbm90IGFuIFhTUyBob2xlIGJ1dCBpbnN0ZWFkIGEgcG90ZW50aWFsIENTUyBpbmplY3Rpb24gaXNzdWUKICAvLyB3aGljaCBoYXMgbGVhZCB0byBhIGdyZWF0ZXIgZGlzY3Vzc2lvbiBhYm91dCBob3cgd2UncmUgZ29pbmcgdG8KICAvLyB0cnVzdCBVUkxzIG1vdmluZyBmb3J3YXJkLiBTZWUgIzIxMTU5MDEKICB2YXIgaXNFbXB0eSA9IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnOwoKICBpZmlsbCB0aHJvdyBpZiByYWRpbyBidXR0b25zIHJlbmRlcmVkIGJ5IGRpZmZlcmVudCBjb3BpZXMgb2YgUmVhY3QKICAgICAgLy8gYW5kIHRoZSBzYW1lIG5hbWUgYXJlIHJlbmRlcmVkIGludG8gdGhlIHNhbWUgZm9ybSAoc2FtZSBhcyAjMTkzOSkuCiAgICAgIC8vIFRoYXQncyBwcm9iYWJseSBva2F5OyB3ZSBkb24ndCBzdXBwb3J0IGl0IGp1c3QgYXMgd2UgZG9uJ3Qgc3VwcG9ydAogICAgICAvLyBtaXhpbmcgUmVhY3QgcmFkaW8gYnV0dG9ucyB3aXRoIG5vbi1SZWFjdCBvbmVzLgoKCiAgICAgIHZhciBvdGhlclByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShvdGhlck5vZGUpOwoKICAgICAgaWYgKCFvdGhlclByb3BzKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWFjdERPTUlucHV0OiBNaXhpbmcgUmVhY3QgYW5kIG5vbi1SZWFjdCByYWRpbyBpbnB1dHMgd2l0aCB0aGUgJyArICdzYW1lIGBuYW1lYCBpcyBub3Qgc3VwcG9ydGVkLicpOwogICAgICB9IC8vIFdlIG5lZWQgdXBkYXRlIHRoZSB0cmFja2VkIHZhbHVlIG9uIHRoZSBuYW1lZCBjb3VzaW4gc2luY2UgdGhlIHZhbHVlCiAgICAgIC8vIHdhcyBjaGFuZ2VkIGJ1dCB0aGUgaW5wdXQgc2F3IG5vIGV2ZW50IG9yIHZhbHVlIHNldAoKCiAgICAgIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG90aGVyTm9kZSk7IC8vIElmIHRoaXMgaXMgYSBjb250cm9sbGVkIHJhZGlvIGJ1dHRvbiBncm91cCwgZm9yY2luZyB0aGUgaW5wdXQgdGhhdAogICAgICAvLyB3YXMgcHJldmlvdXNseSBjaGVja2VkIHRvIHVwZGF0ZSB3aWxsIGNhdXNlIGl0IHRvIGJlIGNvbWUgcmUtY2hlY2tlZAogICAgICAvLyBhcyBhcHByb3ByaWF0ZS4KCiAgICAgIHVwZGF0ZVdyYXBwZXIob3RoZXJOb2RlLCBvdGhlclByb3BzKTsKICAgIH0KICB9Cn0gLy8gSW4gQ2hyb21lLCBhc3NpZ25pbmcgZGVmYXVsdFZhbHVlIHRvIGNlcnRhaW4gaW5wdXQgdHlwZXMgdHJpZ2dlcnMgaW5wdXQgdmFsaWRhdGlvbi4KLy8gRm9yIG51bWJlciBpbnB1dHMsIHRoZSBkaXNwbGF5IHZhbHVlIGxvc2VzIHRyYWlsaW5nIGRlY2ltYWwgcG9pbnRzLiBGb3IgZW1haWwgaW5wdXRzLAovLyBDaHJvbWUgcmFpc2VzICJUaGUgc3BlY2lmaWVkIHZhbHVlIDx4PiBpcyBub3QgYSB2YWxpZCBlbWFpbCBhZGRyZXNzIi4KLy8KLy8gSGVyZSB3ZSBjaGVjayB0byBzZWUgaWYgdGhlIGRlZmF1bHRWYWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZCwgYXZvaWRpbmcgdGhlc2UgcHJvYmxlbXMKLy8gd2hlbiB0aGUgdXNlciBpcyBpbnB1dHRpbmcgdGV4dAovLwovLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcyNTMKCgpmdW5jdGlvbiBzZXREZWZhdWx0VmFsdWUobm9kZSwgdHlwZSwgdmFsdWUpIHsKICBpZiAoIC8vIEZvY3VzZWQgbnVtYmVyIGlucHV0cyBzeW5jaHJvbml6ZSBvbiBibHVyLiBTZWUgQ2hhbmdlRXZlbnRQbHVnaW4uanMKICB0eXBlICE9PSAnbnVtYmVyJyB8fCBnZXRBY3RpdmVFbGVtZW50KG5vZGUub3duZXJEb2N1bWVudCkgIT09IG5vZGUpIHsKICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7CiAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gdG9TdHJpbmcobm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSk7CiAgICB9IGVsc2UgaWYgKG5vZGUuZGVmYXVsdFZhbHVlICE9PSB0b2V0dXJuLTF9ZnVuY3Rpb24gaihuLHQsZSl7Ii0iPT10WzBdP24uc2V0UHJvcGVydHkodCxlPT1kPyIiOmUpOm5bdF09ZT09ZD8iIjoibnVtYmVyIiE9dHlwZW9mIGV8fGcudGVzdCh0KT9lOmUrInB4In1mdW5jdGlvbiBPKG4sdCxlLGkscil7dmFyIG8sZjtuOmlmKCJzdHlsZSI9PXQpaWYoInN0cmluZyI9PXR5cGVvZiBlKW4uc3R5bGUuY3NzVGV4dD1lO2Vsc2V7aWYoInN0cmluZyI9PXR5cGVvZiBpJiYobi5zdHlsZS5jc3NUZXh0PWk9IiIpLGkpZm9yKHQgaW4gaSllJiZ0IGluIGV8fGoobi5zdHlsZSx0LCIiKTtpZihlKWZvcih0IGluIGUpaSYmZVt0XT09aVt0XXx8aihuLnN0eWxlLHQsZVt0XSl9ZWxzZSBpZigibyI9PXRbMF0mJiJuIj09dFsxXSlvPXQhPSh0PXQucmVwbGFjZShjLCIkMSIpKSxmPXQudG9Mb3dlckNhc2UoKSx0PWYgaW4gbnx8Im9uRm9jdXNPdXQiPT10fHwib25Gb2N1c0luIj09dD9mLnNsaWNlKDIpOnQuc2xpY2UoMiksbi5sfHwobi5sPXt9KSxuLmxbdCtvXT1lLGU/aT9lLnQ9aS50OihlLnQ9cyxuLmFkZEV2ZW50TGlzdGVuZXIodCxvP2g6YSxvKSk6bi5yZW1vdmVFdmVudExpc3RlbmVyKHQsbz9oOmEsbyk7ZWxzZXtpZihyPT15KXQ9dC5yZXBsYWNlKC94bGluayhIfDpoKS8sImgiKS5yZXBsYWNlKC9zTmFtZSQvLCJzIik7ZWxzZSBpZigid2lkdGgiIT10JiYiaGVpZ2h0IiE9dCYmImhyZWYiIT10JiYibGlzdCIhPXQmJiJmb3JtIiE9dCYmInRhYkluZGV4IiE9dCYmImRvd25sb2FkIiE9dCYmInJvd1NwYW4iIT10JiYiY29sU3BhbiIhPXQmJiJyb2xlIiE9dCYmInBvcG92ZXIiIT10JiZ0IGluIG4pdHJ5e25bdF09ZT09ZD8iIjplO2JyZWFrIG59Y2F0Y2gobil7fSJmdW5jdGlvbiI9PXR5cGVvZiBlfHwoZT09ZHx8ITE9PT1lJiYiLSIhPXRbNF0/bi5yZW1vdmVBdHRyaWJ1dGUodCk6bi5zZXRBdHRyaWJ1dGUodCwicG9wb3ZlciI9PXQmJjE9PWU/IiI6ZSkpfX1mdW5jdGlvbiBWKG4pe3JldHVybiBmdW5jdGlvbihlKXtpZih0aGlzLmwpe3ZhciBpPXRoaXMubFtlLnR5cGUrbl07aWYoZS5pPT1kKWUuaT1zKys7ZWxzZSBpZihlLmk8aS50KXJldHVybjtyZXR1cm4gaSh0LmV2ZW50P3QuZXZlbnQoZSk6ZSl9fX1mdW5jdGlvbiB6KG4sZSxpLHIsbyxmLHUsYyxzLGEpe3ZhciBoLGwscCx5LHYsXyxtLGcseCxTLEEsSSxQLEUsSCxMLFQsaj1lLnR5cGU7aWYoZS5jb25zdHJ1Y3RvciE9PXcpcmV0dXJuIGQ7MTI4JmkuX191JiYocz0hISgzMiZpLl9fdSksZj1bYz1lLl9fZT1pLl9fZV0pLChoPXQuX19iKSYmaChlKTtuOmlmKCJmdW5jdGlvbiI9PXR5cGVvZiBqKXRyeXtpZihnPWUucHJvcHMseD0icHJvdG90eXBlImluIGomJmoucHJvdG90eXBlLnJlbmRlcixTPShoPWouY29udGV4dFR5cGUpJiZyW2guX19jXSxBPWg/Uz9TLnByb3BzLnZhbHVlOmguX186cixpLl9fYz9tPShsPWUuX19jPWkuX19jKS5fXz1sLl9fRTooeD9lLl9fYz1sPW5ldyBqKGcsQSk6KGUuX19jPWw9bmV3ICQoZyxBKSxsLmNvbnN0cnVjdG9yPWosbC5yZW5kZXI9SiksUyYmUy5zdWIobCksbC5zdGF0ZXx8KGwuc3RhdGU9e30pLGwuX19uPXIscD1sLl9fZD0hMCxsLl9faD1bXSxsLl9zYj1bXSkseCYmbC5fX3M9PWQmJihsLl9fcz1sLnN0YXRlKSx4JiZqLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyE9ZCYmKGwuX19zPT1sLnN0YXRlJiYobGUseHMoaCxyLmF0LGMsdSkpO2NvbnRpbnVlfWxldFtwLG0sZj17fV09cjt2b2lkIDAhPT1mLmF0JiYoaD14cyhoLGYuYXQsYyx1KSk7bGV0IGc9MDtjb25zdCB5PSh0LG4saSxyPTAsYT0wKT0+e2NvbnN0IGw9QXModCkse2RlbGF5OnU9MCx0aW1lczpjPUpuKGwpLHR5cGU6cD0ia2V5ZnJhbWVzIixyZXBlYXQ6bSxyZXBlYXRUeXBlOmYscmVwZWF0RGVsYXk6eT0wLC4uLnZ9PW47bGV0e2Vhc2U6eD1lLmVhc2V8fCJlYXNlT3V0IixkdXJhdGlvbjp3fT1uO2NvbnN0IFA9ImZ1bmN0aW9uIj09dHlwZW9mIHU/dShyLGEpOnUsVD1sLmxlbmd0aCxTPWoocCk/cDpudWxsPT1zP3ZvaWQgMDpzW3BdO2lmKFQ8PTImJlMpe2xldCB0PTEwMDtpZigyPT09VCYmQ3MobCkpe2NvbnN0IGU9bFsxXS1sWzBdO3Q9TWF0aC5hYnMoZSl9Y29uc3QgZT17Li4udn07dm9pZCAwIT09dyYmKGUuZHVyYXRpb249Vih3KSk7Y29uc3Qgbj1GKGUsdCxTKTt4PW4uZWFzZSx3PW4uZHVyYXRpb259bnVsbCE9d3x8KHc9byk7Y29uc3QgYj1oK1A7MT09PWMubGVuZ3RoJiYwPT09Y1swXSYmKGNbMV09MSk7Y29uc3QgQT1jLmxlbmd0aC1sLmxlbmd0aDtpZihBPjAmJlpuKGMsQSksMT09PWwubGVuZ3RoJiZsLnVuc2hpZnQobnVsbCksbSl7dz12cyh3LG0pO2NvbnN0IHQ9Wy4uLmxdLGU9Wy4uLmNdO3g9QXJyYXkuaXNBcnJheSh4KT9bLi4ueF06W3hdO2NvbnN0IG49Wy4uLnhdO2ZvcihsZXQgaT0wO2k8bTtpKyspe2wucHVzaCguLi50KTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyljLnB1c2goZVtzXSsoaSsxKSkseC5wdXNoKDA9PT1zPyJsaW5lYXIiOmZzKG4scy0xKSl9UHMoYyxtKX1jb25zdCBFPWIrdzt3cyhpLGwseCxjLGIsRSksZz1NYXRoLm1heChQK3csZyksZD1NYXRoLm1heChFLGQpfTtpZihNdChwKSl7eShtLGYsYnMoImRlZmF1bHQiLFNzKHAsYSkpKX1lbHNle2NvbnN0IHQ9eXMocCxtLGksbCksZT10Lmxlbmd0aDtmb3IobGV0IG49MDtuPGU7bisrKXttPW0sZj1mO2NvbnN0IGk9U3ModFtuXSxhKTtmb3IoY29uc3QgdCBpbiBtKXkobVt0XSxFcyhmLHQpLGJzKHQsaSksbixlKX19Yz1oLGgrPWd9cmV0dXJuIGEuZm9yRWFjaCgodCxpKT0+e2Zvcihjb25zdCBzIGluIHQpe2NvbnN0IG89dFtzXTtvLnNvcnQoVHMpO2NvbnN0IGE9W10sbD1bXSx1PVtdO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdHthdDplLHZhbHVlOm4sZWFzaW5nOml9PW9bdF07YS5wdXNoKG4pLGwucHVzaChDKDAsZCxlKSksdS5wdXNoKGl8fCJlYXNlT3V0Iil9MCE9PWxbMF0mJihsLnVuc2hpZnQoMCksYS51bnNoaWZ0KGFbMF0pLHUudW5zaGlmdCgiZWFzZUluT3V0IikpLDEhPT1sW2wubGVuZ3RoLTFdJiYobC5wdXNoKDEpLGEucHVzaChudWxsKSksci5oYXMoaSl8fHIuc2V0KGkse2tleWZyYW1lczp7fSx0cmFuc2l0aW9uOnt9fSk7Y29uc3QgYz1yLmdldChpKTtjLmtleWZyYW1lc1tzXT1hLGMudHJhbnNpdGlvbltzXT17Li4uZSxkdXJhdGlvbjpkLGVhc2U6dSx0aW1lczpsLC4uLm59fX0pLHJ9KHQsZSxuLHtzcHJpbmc6em59KS5mb3JFYWNoKCh7a2V5ZnJhbWVzOnQsdHJhbnNpdGlvbjplfSxuKT0+e2kucHVzaCguLi5ibyhuLHQsZSkpfSksaX1mdW5jdGlvbiBFbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGkpe2xldCBzPVtdO3ZhciBvO289ZSxzPUFycmF5Lm5DYW5jZWwmJnRoaXMuZXZlbnRzLmFuaW1hdGlvbkNhbmNlbC5ub3RpZnkoKSksdGhpcy5jbGVhckFuaW1hdGlvbigpfWlzQW5pbWF0aW5nKCl7cmV0dXJuISF0aGlzLmFuaW1hdGlvbn1jbGVhckFuaW1hdGlvbigpe2RlbGV0ZSB0aGlzLmFuaW1hdGlvbn1kZXN0cm95KCl7dGhpcy5jbGVhckxpc3RlbmVycygpLHRoaXMuc3RvcCgpLHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QmJnRoaXMuc3RvcFBhc3NpdmVFZmZlY3QoKX19ZnVuY3Rpb24gYnQodCxlKXtyZXR1cm4gbmV3IFN0KHQsZSl9ZnVuY3Rpb24gQXQodCxlLG4pe3QuaGFzVmFsdWUoZSk/dC5nZXRWYWx1ZShlKS5zZXQobik6dC5hZGRWYWx1ZShlLGJ0KG4pKX1mdW5jdGlvbiBFdCh0LGUpe2NvbnN0IG49UCh0LGUpO2xldHt0cmFuc2l0aW9uRW5kOmk9e30sdHJhbnNpdGlvbjpzPXt9LC4uLm99PW58fHt9O289ey4uLm8sLi4uaX07Zm9yKGNvbnN0IGUgaW4gbyl7QXQodCxlLChyPW9bZV0sZyhyKT9yW3IubGVuZ3RoLTFdfHwwOnIpKX12YXIgcn1jb25zdCBNdD10PT5Cb29sZWFuKHQmJnQuZ2V0VmVsb2NpdHkpO2Z1bmN0aW9uIEN0KHQsZSl7Y29uc3Qgbj10LmdldFZhbHVlKCJ3aWxsQ2hhbmdlIik7aWYoaT1uLEJvb2xlYW4oTXQoaSkmJmkuYWRkKSlyZXR1cm4gbi5hZGQoZSk7dmFyIGl9Y29uc3QgVnQ9dD0+dC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9ndSwiJDEtJDIiKS50b0xvd2VyQ2FzZSgpLFJ0PSJkYXRhLSIrVnQoImZyYW1lckFwcGVhcklkIik7ZnVuY3Rpb24gRHQodCl7cmV0dXJuIHQucHJvcHNbUnRdfWNvbnN0IGt0PXtjdXJyZW50OiExfSxMdD0odCxlLG4pPT4oKCgxLTMqbiszKmUpKnQrKDMqbi02KmUpKSp0KzMqZSkqdDtmdW5jdGlvbiBCdCh0LGUsbixpKXtpZih0PT09ZSYmbj09PWkpcmV0dXJuIGI7Y29uc3Qgcz1lPT5mdW5jdGlvbih0LGUsbixpLHMpe2xldCBvLHIsYT0wO2Rve3I9ZSsobi1lKS8yLG89THQocixpLHMpLXQsbz4wP249cjplPXJ9d2hpbGUoTWF0aC5hYnMobyk+MWUtNyYmKythPDEyKTtyZXR1cm4gcn0oZSwwLDEsdCxuKTtyZXR1cm4gdD0+MD09PXR8fDE9PT10P3Q6THQocyh0KSxlLGkpfWNvbnN0IEZ0PXQ9PmU9PmU8PS41P3QoMiplKS8yOigyLXQoMiooMS1lKSkpLzIsanQ9dD0+ZT0+MS10KDEtZSksT3Q9QnQoLjMzLDEuNTMsLjY5LC45OSksSXQ9anQoT3QpLFV0PUZ0KEl0KSxXdD10PT4odCo9Mik8MT8uNSpJdCh0KTouNSooMi1NYXRoLnBvdygyLC0xMCoodC0xKSkpLE50PXQ9PjEtTWF0aC5zaW4oTWF0aC5hY29zKHQpKSx6dD1qdChOdCksJHQ9RnQoTnQpLEh0PXQ9Pi9eMFteLlxzXSskL3UudGVzdCh0KTtjb25zdCBZdD0odCxlLG4pPT5uPmU/ZTpuPHQ/dDpuLFh0PXt0ZXN0OnQ9PiJudW1iZXIiPT10eXBlb2YgdCxwYXJzZTpwYXJzZUZsb2F0LHRyYW5zZm9ybTp0PT50fSxLdD17Li4uWHQsdHJhbnNmb3JtOnQ9Pll0KDAsMSx0KX0sR3Q9ey4uLlh0LGRlZmF1bHQ6MX0sX3Q9dD0+TWF0aC5yb3VuZCgxZTUqdCkvMWU1LHF0PS8tPyg/OlxkKyg/OlwuXGQrKT98XC5cZCspL2d1O2NvbnN0IFp0PS9eKD86I1tcZGEtZl17Myw4fXwoPzpyZ2J8aHNsKWE/XCgoPzotP1tcZC5dKyU/Wyxcc10rKXsyfS0/W1xkLl0rJT9ccyooPzpbLC9dXHMqKT8oPzpcYlxkKyg/OlwuXGQrKT98XC5cZCspPyU/XCkpJC9pdSxKdD0odCxlKT0+bj0+Qm9udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHpvb20gdG8gY3Vyc29yIGRpc2FibGVkLicgKTsKCQkJCQkJc2NvcGUuem9vbVRvQ3Vyc29yID0gZmFsc2U7CgoJCQkJCX0KCgkJCQkJLy8gaGFuZGxlIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHRhcmdldAoJCQkJCWlmICggbmV3UmFkaXVzICE9PSBudWxsICkgewoKCQkJCQkJaWYgKCB0aGlzLnNjcmVlblNwYWNlUGFubmluZyApIHsKCgkJCQkJCQkvLyBwb3NpdGlvbiB0aGUgb3JiaXQgdGFyZ2V0IGluIGZyb250IG9mIHRoZSBuZXcgY2FtZXJhIHBvc2l0aW9uCgkJCQkJCQlzY29wZS50YXJnZXQuc2V0KCAwLCAwLCAtIDEgKQoJCQkJCQkJCS50cmFuc2Zvcm1EaXJlY3Rpb24oIHNjb3BlLm9iamVjdC5tYXRyaXggKQoJCQkJCQkJCS5tdWx0aXBseVNjYWxhciggbmV3UmFkaXVzICkKCQkJCQkJCQkuYWRkKCBzY29wZS5vYmplY3QucG9zaXRpb24gKTsKCgkJCQkJCX0gZWxzZSB7CgoJCQkJCQkJLy8gZ2V0IHRoZSByYXkgYW5kIHRyYW5zbGF0aW9uIHBsYW5lIHRvIGNvbXB1dGUgdGFyZ2V0CgkJCQkJCQlfcmF5Lm9yaWdpbi5jb3B5KCBzY29wZS5vYmplY3QucG9zaXRpb24gKTsKCQkJCQkJCV9yYXkuZGlyZWN0aW9uLnNldCggMCwgMCwgLSAxICkudHJhbnNmb3JtRGlyZWN0aW9uKCBzY29wZS5vYmplY3QubWF0cml4ICk7CgoJCQkJCQkJLy8gaWYgdGhlIGNhbWVyYSBpcyAyMCBkZWdyZWVzIGFib3ZlIHRoZSBob3Jpem9uIHRoZW4gZG9uJ3QgYWRqdXN0IHRoZSBmb2N1cyB0YXJnZXQgdG8gYXZvaWQKCQkJCQkJCS8vIGV4dHJlbWVseSBsYXJnZSB2YWx1ZXMKCQkJCQkJCWlmICggTWF0aC5hYnMoIHNjb3BlLm9iamVjdC51cC5kb3QoIF9yYXkuZGlyZWN0aW9uICkgKSA8IFRJTFRfTElNSVQgKSB7CgoJCQkJCQkJCW9iamVjdC5sb29rQXQoIHNjb3BlLnRhcmdldCApOwoKCQkJCQkJCX0gZWxzZSB7CgoJCQkJCQkJCV9wbGFuZS5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCggc2NvcGUub2JqZWN0LnVwLCBzY29wZS50YXJnZXQgKTsKCQkJCQkJCQlfcmF5LmludGVyc2VjdFBsYW5lKCBfcGxhbmUsIHNjb3BlLnRhcmdldCApOwoKCQkJCQkJCX0KCgkJCQkJCX0KCgkJCQkJfQoKCQkJCX0gZWxzZSBpZiAoIHNjb3BlLm9iamVjdC5pc09ydGhvZ3JhcGhpY0NhbWVyYSApIHsKCgkJCQkJc2NvcGUub2JqZWN0Lnpvb20gPSBNYXRoLm1heCggc2NvcGUubWluWm9vbSwgTWF0aC5taW4oIHNjb3BlLm1heFpvb20sIHNjb3BlLm9iamVjdC56b29tIC8gc2NhbGUgKSApOwoJCQkJCXNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7CgkJCQkJem9vbUNoYW5nZWQgPSB0cnVlOwoKCQkJCX0KCgkJCQlzY2FsZSA9IDE7CgkJCQlwZXJmb3JtQ3Vyc29yWm9vbSA9IGZhbHNlOwoKCQkJCS8vIHVwZGF0ZSBjb25kaXRpb24gaXM6CgkJCQkvLyBtaW4oY2FtZXJhIGRpc3BsYWNlbWVudCwgY2FtZXJhIHJvdGF0aW9uIGluIHJhZGlhbnMpXjIgPiBFUFMKCQkJCS8vIHVzaW5nIHNtYWxsLWFuZ2xlIGFwcHJveGltYXRpb24gY29zKHgvMikgPSAxIC0geF4yIC8gOAoKCQkJCWlmICggem9vbUNoYW5nZWQgfHwKCQkJCQlsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApID4gRVBTIHx8CgkJCQkJOCAqICggMT1hJiYoYT1udWxsKTthPW51bGwhPT1hJiZ2b2lkIDAhPT1hP2E6YjtyZXR1cm4gbihmdW5jdGlvbihjLGQpe3ZhciBlPVtdLGY9MDtjLnN1YnNjcmliZShtKGQsZnVuY3Rpb24oYyl7dmFyIGgsayxnLHAsdj1udWxsOzA9PT1mKyslYSYmZS5wdXNoKFtdKTt0cnl7Zm9yKHZhciBtPUYoZSksbj1tLm5leHQoKTshbi5kb25lO249bS5uZXh0KCkpe3ZhciB1PW4udmFsdWU7dS5wdXNoKGMpO2I8PXUubGVuZ3RoJiYodj1udWxsIT09diYmdm9pZCAwIT09dj92OltdLHYucHVzaCh1KSl9fWNhdGNoKFgpe2g9e2Vycm9yOlh9fWZpbmFsbHl7dHJ5e24mJiFuLmRvbmUmJihrPW0ucmV0dXJuKSYmay5jYWxsKG0pfWZpbmFsbHl7aWYoaCl0aHJvdyBoLmVycm9yOwp9fWlmKHYpdHJ5e2Zvcih2YXIgZWE9Rih2KSxWPWVhLm5leHQoKTshVi5kb25lO1Y9ZWEubmV4dCgpKXU9Vi52YWx1ZSxNKGUsdSksZC5uZXh0KHUpfWNhdGNoKFgpe2c9e2Vycm9yOlh9fWZpbmFsbHl7dHJ5e1YmJiFWLmRvbmUmJihwPWVhLnJldHVybikmJnAuY2FsbChlYSl9ZmluYWxseXtpZihnKXRocm93IGcuZXJyb3I7fX19LGZ1bmN0aW9uKCl7dmFyIGEsYzt0cnl7Zm9yKHZhciBiPUYoZSksZj1iLm5leHQoKTshZi5kb25lO2Y9Yi5uZXh0KCkpZC5uZXh0KGYudmFsdWUpfWNhdGNoKHApe2E9e2Vycm9yOnB9fWZpbmFsbHl7dHJ5e2YmJiFmLmRvbmUmJihjPWIucmV0dXJuKSYmYy5jYWxsKGIpfWZpbmFsbHl7aWYoYSl0aHJvdyBhLmVycm9yO319ZC5jb21wbGV0ZSgpfSx2b2lkIDAsZnVuY3Rpb24oKXtlPW51bGx9KSl9KX1mdW5jdGlvbiBsYyhiKXtmb3IodmFyIGEsYyxkPVtdLGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWRbZS0xXT1hcmd1bWVudHNbZV07dmFyIGY9bnVsbCE9PQooYT1PKGQpKSYmdm9pZCAwIT09YT9hOkksaD1udWxsIT09KGM9ZFswXSkmJnZvaWQgMCE9PWM/YzpudWxsLGw9ZFsxXXx8SW5maW5pdHk7cmV0dXJuIG4oZnVuY3Rpb24oYSxjKXt2YXIgZD1bXSxlPSExLGs9ZnVuY3Rpb24oYSl7dmFyIGI9YS5idWZmZXI7YS5zdWJzLnVuc3Vic2NyaWJlKCk7TShkLGEpO2MubmV4dChiKTtlJiZnKCl9LGc9ZnVuY3Rpb24oKXtpZihkKXt2YXIgYT1uZXcgRDtjLmFkZChhKTt2YXIgZT17YnVmZmVyOltdLHN1YnM6YX07ZC5wdXNoKGUpO0coYSxmLGZ1bmN0aW9uKCl7cmV0dXJuIGsoZSl9LGIpfX07bnVsbCE9PWgmJjA8PWg/RyhjLGYsZyxoLCEwKTplPSEwO2coKTt2YXIgej1tKGMsZnVuY3Rpb24oYSl7dmFyIGMsYixlPWQuc2xpY2UoKTt0cnl7Zm9yKHZhciBmPUYoZSksaD1mLm5leHQoKTshaC5kb25lO2g9Zi5uZXh0KCkpe3ZhciBnPWgudmFsdWUscD1nLmJ1ZmZlcjtwLnB1c2goYSk7bDw9cC5sZW5ndGgmJmsoZyl9fWNhdGNoKHplKXtjPXtlcnJvcjp6ZX19ZmluYWxseXt0cnl7aCYmCiFoLmRvbmUmJihiPWYucmV0dXJuKSYmYi5jYWxsKGYpfWZpbmFsbHl7aWYoYyl0aHJvdyBjLmVycm9yO319fSxmdW5jdGlvbigpe2Zvcig7bnVsbD09PWR8fHZvaWQgMD09PWQ/MDpkLmxlbmd0aDspYy5uZXh0KGQuc2hpZnQoKS5idWZmZXIpO251bGw9PT16fHx2b2lkIDA9PT16P3ZvaWQgMDp6LnVuc3Vic2NyaWJlKCk7Yy5jb21wbGV0ZSgpO2MudW5zdWJzY3JpYmUoKX0sdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGQ9bnVsbH0pO2Euc3Vic2NyaWJlKHopfSl9ZmhlIHBlb3BsZSB0aGF0IG1hdHRlciBtb3N0IGluIHlvdXIgbGlmZSBhbmQgd29yay4gSXQncyBidWlsdCBmb3IgYm90aCBvbmUtb24tb25lIGFuZCBncm91cCBjb252ZXJzYXRpb25zIGFuZCB3b3JrcyB3aGVyZXZlciB5b3UgYXJlIOKAkyB2aWEgbW9iaWxlLCBQQyBhbmQgQWxleGEuIFNreXBlIG1lc3NhZ2luZyBhbmQgSEQgdm9pY2UgYW5kIHZpZGVvIGNhbGxpbmcgd2lsbCBoZWxwIHlvdSBzaGFyZSBleHBlcmllbmNlcyBhbmQgZ2V0IHRoaW5ncyBkb25lIHdpdGggb3RoZXJzLiIKfQpkZWNsYXJlIHR5cGUgQWRkcmVzcyA9IHN0cmluZwpkZWNsYXJlIHR5cGUgQWRkcmVzc1RvPFQ+ID0gUmVjb3JkPEFkZHJlc3MsIFQ+CgpkZWNsYXJlIHR5cGUgTnVsbGFibGU8VD4gPSBUIHwgbnVsbApkZWNsYXJlIHR5cGUgTWF5YmU8VD4gPSBOdWxsYWJsZTxUPiB8IHVuZGVmaW5lZApkZWNsYXJlIHR5cGUgUG9zc2libHlVbmRlZmluZWQ8VD4gPSBUIHwgdW5kZWZpbmVkCgpkZWNsYXJlIHR5cGUgUHJpbWl0aXZlID0gbnVtYmVyIHwgc3RyaW5nIHwgYm9vbGVhbiB8IGJpZ2ludCB8IHN5bWJvbCB8IG51bGwgfCB1bmRlZmluZWQKCmRlY2xhcmUgdHlwZSBWYWx1ZXNPZjxUIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiA9IFRbbnVtYmVyXQoKZGVjbGFyZSB0eXBlIEFycmF5T2ZMZW5ndGg8TCBleHRlbmRzIG51bWJlciwgVCwgQWNjIGV4dGVuZHMgVFtdID0gW10+ID0gQWNjWydsZW5ndGgnXSBleHRlbmRzIEwKICA/IEFjYyBleHRlbmRzIFtdCiAgICA/IEwgZXh0ZW5kcyAwCiAgICAgID8gW10KICAgICAgOiBUW10KICAgIDogQWNjCiAgOiBBcnJheU9mTGVuZ3RoPEwsIFQsIFsuLi5BY2MsIFRdPgoKZGVjbGFyZSB0eXBlIFJlcXVpcmU8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVCAmIFJlcXVpcmVkPFBpY2s8VCwgSz4+CgpkZWNsYXJlIHR5cGUgUmVxdWlyZU5vbk51bGxhYmxlPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFQgJiB7IFtQIGluIEtdLT86IE5vbk51bGxhYmxlPFRbUF0+IH0KCmRlY2xhcmUgdHlwZSBPcHRpb25hbDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBQaWNrPFBhcnRpYWw8VD4sIEs+ICYgT21pdDxULCBLPgoKZGVjbGFyZSB0eXBlIEFsbEtleXNPZjxUPiA9IFQgZXh0ZW5kcyBvYmplY3QgPyBrZXlvZiBUIDogbmV2ZXIKCmRlY2xhcmUgdHlwZSBFeHRyYWN0UHJvcGVydHlUeXBlPFQsIEsgZXh0ZW5kcyBQcm9wZXJ0eUtleT4gPSBUIGV4dGVuZHMgUmVjb3JkPEssIGluZmVyIFU+ID8gVSA6IG5ldmVyCgovLyBVdGlsaXR5IHR5cGUgdG8gY3JlYXRlIGEgcmFuZ2Ugb2YgbnVtYmVycyAoaW5jbHVzaXZlIG9mIHN0YXJ0IGJ1dCBleGNsdXNpdmUgb2YgZW5kIC0tIHB5dGhvbiBzdHlsZSkKZGVjbGFyZSB0eXBlIE51bWJlclJhbmdlPAogIFN0YXJ0IGV4dGVuZHMgbnVtYmVyLAogIEVuZCBleHRlbmRzIG51bWJlciwKICBBY2MgZXh0ZW5kcyBudW1iZXJbXSA9IFtdLAo+ID0gQWNjWydsZW5ndGgnXSBleHRlbmRzIEVuZCA/IEFjY1tudW1iZXJdIDogTnVtYmVyUmFuZ2U8U3RhcnQsIEVuZCwgWy4uLkFjYywgQWNjWydsZW5ndGgnXSAmIG51bWJlcl0+CgpkZWNsYXJlIHR5cGUgUmVhY3RFbGVtZW50V2l0aEFueVByb3BzID0gUmVhY3QuUmVhY3RFbGVtZW50PGFueT4KCmRlY2xhcmUgbmFtZXNwYWNlIEpTWCB7CiAgaW50ZWVmYXVsdHNEZWVwPVVoLApaLmRlZmVyPWxoLFouZGVsYXk9c2gsWi5kaWZmZXJlbmNlPVVzLFouZGlmZmVyZW5jZUJ5PUJzLFouZGlmZmVyZW5jZVdpdGg9VHMsWi5kcm9wPWZvLFouZHJvcFJpZ2h0PWNvLFouZHJvcFJpZ2h0V2hpbGU9YW8sWi5kcm9wV2hpbGU9bG8sWi5maWxsPXNvLFouZmlsdGVyPWxmLFouZmxhdE1hcD1zZixaLmZsYXRNYXBEZWVwPWhmLFouZmxhdE1hcERlcHRoPXBmLFouZmxhdHRlbj1fbyxaLmZsYXR0ZW5EZWVwPXZvLFouZmxhdHRlbkRlcHRoPWdvLFouZmxpcD1MZixaLmZsb3c9dHAsWi5mbG93UmlnaHQ9cnAsWi5mcm9tUGFpcnM9eW8sWi5mdW5jdGlvbnM9JGMsWi5mdW5jdGlvbnNJbj1EYyxaLmdyb3VwQnk9cmgsWi5pbml0aWFsPW1vLFouaW50ZXJzZWN0aW9uPSRzLFouaW50ZXJzZWN0aW9uQnk9RHMsWi5pbnRlcnNlY3Rpb25XaXRoPU1zLFouaW52ZXJ0PUJoLFouaW52ZXJ0Qnk9VGgsWi5pbnZva2VNYXA9ZWgsWi5pdGVyYXRlZT1DYSxaLmtleUJ5PXVoLFoua2V5cz1QYyxaLmtleXNJbj1xYywKWi5tYXA9eWYsWi5tYXBLZXlzPVpjLFoubWFwVmFsdWVzPUtjLFoubWF0Y2hlcz1VYSxaLm1hdGNoZXNQcm9wZXJ0eT1CYSxaLm1lbW9pemU9Q2YsWi5tZXJnZT1EaCxaLm1lcmdlV2l0aD1NaCxaLm1ldGhvZD1lcCxaLm1ldGhvZE9mPXVwLFoubWl4aW49VGEsWi5uZWdhdGU9VWYsWi5udGhBcmc9TWEsWi5vbWl0PUZoLFoub21pdEJ5PVZjLFoub25jZT1CZixaLm9yZGVyQnk9ZGYsWi5vdmVyPWlwLFoub3ZlckFyZ3M9aGgsWi5vdmVyRXZlcnk9b3AsWi5vdmVyU29tZT1mcCxaLnBhcnRpYWw9cGgsWi5wYXJ0aWFsUmlnaHQ9X2gsWi5wYXJ0aXRpb249aWgsWi5waWNrPU5oLFoucGlja0J5PUdjLFoucHJvcGVydHk9RmEsWi5wcm9wZXJ0eU9mPU5hLFoucHVsbD1GcyxaLnB1bGxBbGw9T28sWi5wdWxsQWxsQnk9SW8sWi5wdWxsQWxsV2l0aD1SbyxaLnB1bGxBdD1OcyxaLnJhbmdlPWNwLFoucmFuZ2VSaWdodD1hcCxaLnJlYXJnPXZoLFoucmVqZWN0PW1mLFoucmVtb3ZlPXpvLFoucmVzdD1UZiwKWi5yZXZlcnNlPUVvLFouc2FtcGxlU2l6ZT1qZixaLnNldD1KYyxaLnNldFdpdGg9WWMsWi5zaHVmZmxlPUFmLFouc2xpY2U9U28sWi5zb3J0Qnk9b2gsWi5zb3J0ZWRVbmlxPSRvLFouc29ydGVkVW5pcUJ5PURvLFouc3BsaXQ9ZGEsWi5zcHJlYWQ9JGYsWi50YWlsPU1vLFoudGFrZT1GbyxaLnRha2VSaWdodD1ObyxaLnRha2VSaWdodFdoaWxlPVBvLFoudGFrZVdoaWxlPXFvLFoudGFwPVhvLFoudGhyb3R0bGU9RGYsWi50aHJ1PW5mLFoudG9BcnJheT1qYyxaLnRvUGFpcnM9UGgsWi50b1BhaXJzSW49cWgsWi50b1BhdGg9SGEsWi50b1BsYWluT2JqZWN0PVJjLFoudHJhbnNmb3JtPVFjLFoudW5hcnk9TWYsWi51bmlvbj1QcyxaLnVuaW9uQnk9cXMsWi51bmlvbldpdGg9WnMsWi51bmlxPVpvLFoudW5pcUJ5PUtvLFoudW5pcVdpdGg9Vm8sWi51bnNldD1YYyxaLnVuemlwPUdvLFoudW56aXBXaXRoPUhvLFoudXBkYXRlPW5hLFoudXBkYXRlV2l0aD10YSxaLnZhbHVlcz1yYSxaLnZhbHVlc0luPWVhLApaLndpdGhvdXQ9S3MsWi53b3Jkcz1SYSxaLndyYXA9RmYsWi54b3I9VnMsWi54b3JCeT1HcyxaLnhvcldpdGg9SHMsWi56aXA9SnMsWi56aXBPYmplY3Q9Sm8sWi56aXBPYmplY3REZWVwPVlvLFouemlwV2l0Y3QgVWludDhDbGFtcGVkQXJyYXldIixndD0iW29iamVjdCBVaW50MTZBcnJheV0iLHl0PSJbb2JqZWN0IFVpbnQzMkFycmF5XSIsZHQ9L1xiX19wIFwrPSAnJzsvZyxidD0vXGIoX19wIFwrPSkgJycgXCsvZyx3dD0vKF9fZVwoLio/XCl8XGJfX3RcKSkgXCtcbicnOy9nLG10PS8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyx4dD0vWyY8PiInXS9nLGp0PVJlZ0V4cChtdC5zb3VyY2UpLEF0PVJlZ0V4cCh4dC5zb3VyY2UpLGt0PS88JS0oW1xzXFNdKz8pJT4vZyxPdD0vPCUoW1xzXFNdKz8pJT4vZyxJdD0vPCU9KFtcc1xTXSs/KSU+L2csUnQ9L1wufFxbKD86W15bXF1dKnwoWyInXSkoPzooPyFcMSlbXlxcXXxcXC4pKj9cMSlcXS8senQ9L15cdyokLyxFdD0vW14uW1xdXSt8XFsoPzooLT9cZCsoPzpcLlxkKyk/KXwoWyInXSkoKD86KD8hXDIpW15cXF18XFwuKSo/KVwyKVxdfCg/PSg/OlwufFxbXF0pKD86XC58XFtcXXwkKSkvZyxTdD0vW1xcXiQuKis/KClbXF17fXxdL2csV3Q9UmVnRXhwKFN0LnNvdXJjZSksTHQ9L15ccysvLEN0PS9ccy8sVXQ9L1x7KD86XG5cL1wqIFxbd3JhcHBlZCB3aXRoIC4rXF0gXCpcLyk/XG4/LyxCdD0vXHtcblwvXCogXFt3cmFwcGVkIHdpdGggKC4rKVxdIFwqLyxUdD0vLD8gJiAvLCR0PS9bXlx4MDAtXHgyZlx4M2EtXHg0MFx4NWItXHg2MFx4N2ItXHg3Zl0rL2csRHQ9L1soKT0se31cW1xdXC9cc10vLE10PS9cXChcXCk/L2csRnQ9L1wkXHsoW15cXH1dKig/OlxcLlteXFx9XSopKilcfS9nLE50PS9cdyokLyxQdD0vXlstK10weFswLTlhLWZdKyQvaSxxdD0vXjBiWzAxXSskL2ksWnQ9L15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC8sS3Q9L14wb1swLTddKyQvaSxWdD0vXig/OjB8WzEtOV1cZCopJC8sR3Q9L1tceGMwLVx4ZDZceGQ4LVx4ZjZceGY4LVx4ZmZcdTAxMDAtXHUwMTdmXS9nLEh0PS8oJF4pLyxKdD0vWydcblxyXHUyMDI4XHUyMDI5XFxdL2csWXQ9IlxcdWQ4MDAtXFx1ZGZmZiIsUXQ9IlxcdTAzMDAtXFx1MDM2ZiIsWHQ9IlxcdWZlMjAtXFx1ZmUyZiIsbnI9IlxcdTIwZDAtXFx1MjBmZiIsdHI9UXQrWHQrbnIscnI9IlxcdTI3MDAtXFx1MjdiZiIsZXI9ImEtelxceGRmLVxceGY2XFx4ZjgtXFx4ZmYiLHVyPSJcXHhhY1xceGIxXFx4ZDdcXHhmNyIsaXI9IlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceGJmIixvcj0iXFx1MjAwMC1cXHUyMDZmIixmcj0iIFxcdFxceDBiXFxmXFx4YTBcXHVmZWZmXFxuXFxyXFx1MjAyOFxcdTIwMjlcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwIixjcj0iQS1aXFx4YzAtXFx4ZDZcXHhkOC1cXHhkZSIsYXI9IlxcdWZlMGVcXHVmZTBmIixscj11citpcitvcitmcixzcj0iWydcdTIwMTldIixocj0iWyIrWXQrIl0iLHByPSJbIitscisiXSIsX3I9IlsiK3RyKyJdIix2cj0iXFxkKyIsZ3I9IlsiK3JyKyJdIix5cj0iWyIrZXIrIl0iLGRyPSJbXiIrWXQrbHIrdnIrcnIrZXIrY3IrIl0iLGJyPSJcXHVkODNjW1xcdWRmZmItXFx1ZGZmZl0iLHdyPSIoPzoiK19yKyJ8IiticisiKSIsbXI9IlteIitZdCsiXSIseHI9Iig/OlxcdWQ4M2NbXFx1ZGRlNi1cXHVkZGZmXSl7Mn0idXJuIFZ9LHNldCBfbmFtZXMoZSl7Vj1lfSxnZXQgX2Zvcm1TdGF0ZSgpe3JldHVybiBnfSxzZXQgX2Zvcm1TdGF0ZShlKXtnPWV9LGdldCBfb3B0aW9ucygpe3JldHVybiBsfSxzZXQgX29wdGlvbnMoZSl7bD17Li4ubCwuLi5lfX19LHRyaWdnZXI6cmUscmVnaXN0ZXI6bGUsaGFuZGxlU3VibWl0OmNlLHdhdGNoOihlLHQpPT5RKGUpP3cudmFsdWVzLnN1YnNjcmliZSh7bmV4dDpyPT5lKEkodm9pZCAwLHQpLHIpfSk6SShlLHQsITApLHNldFZhbHVlOlosZ2V0VmFsdWVzOnNlLHJlc2V0Om1lLHJlc2V0RmllbGQ6KGUsdD17fSk9Pnt5KHYsZSkmJihtKHQuZGVmYXVsdFZhbHVlKT9aKGUsYyh5KGIsZSkpKTooWihlLHQuZGVmYXVsdFZhbHVlKSxSKGIsZSxjKHQuZGVmYXVsdFZhbHVlKSkpLHQua2VlcFRvdWNoZWR8fF9lKGcudG91Y2hlZEZpZWxkcyxlKSx0LmtlZXBEaXJ0eXx8KF9lKGcuZGlydHlGaWVsZHMsZSksZy5pc0RpcnR5PXQuZGVmYXVsdFZhbHVlP1coZSxjKHkoYixlKSkpOlcoKSksdC5rZWVwRXJyb3J8fChfZShnLmVycm9ycyxlKSxTLmlzVmFsaWQmJmooKSksdy5zdGF0ZS5uZXh0KHsuLi5nfSkpfSxjbGVhckVycm9yczplPT57ZSYmRShlKS5mb3JFYWNoKChlPT5fZShnLmVycm9ycyxlKSkpLHcuc3RhdGUubmV4dCh7ZXJyb3JzOmU/Zy5lcnJvcnM6e319KX0sdW5yZWdpc3RlcjppZSxzZXRFcnJvcjpuZSxzZXRGb2N1czooZSx0PXt9KT0+e2NvbnN0IHI9eSh2LGUpLHM9ciYmci5fZjtpZihzKXtjb25zdCBlPXMucmVmcz9zLnJlZnNbMF06cy5yZWY7ZS5mb2N1cyYmKGUuZm9jdXMoKSx0LnNob3VsZFNlbGVjdCYmZS5zZWxlY3QoKSl9fSxnZXRGaWVsZFN0YXRlOmFlfX1leHBvcnRzLkNvbnRyb2xsZXI9ZT0+ZS5yZW5kZXIoUChlKSksZXhwb3J0cy5Gb3JtPWZ1bmN0aW9uKGUpe2NvbnN0IHI9dygpLFtzLGFdPXQuZGVmYXVsdC51c2VTdGF0ZSghMSkse2NvbnRyb2w6bj1yLmNvbnRyb2wsb25TdWJtaXQ6aSxjaGlsZHJlbjp1LGFjdGlvbjpvLG1ldGhvZDpsPXEsaGVhZGVyczpkLGVuY1R5cGU6YyxvbkVycm9yOmYscmVuZGVyOm0sb25TdWNjZXNzOnAsdmFsaWRhdGVTdGF0dXM6XywuLi5ofT1lLGc9YXN5bmMgdD0+e2xldCByPSExLHM9IiI7YXdhaXQgbi5oYW5kbGVTdWJtaXQoKGFzeW5jIGU9Pntjb25zdCBhPW5ldyBGb3JtRGF0YTtsZXQgdT0iIjt0cnl7dT1KU09OLnN0cmluZ2lmeShlKX1jYXRjaChlKXt9Zm9yKGNvbnN0IHQgb2Ygbi5fbmFtZXMubW91bnQpYS5hcHBlbmQodCx5KGUsdCkpO2lmKGkmJmF3YWl0IGkoe2RhdGE6ZSxldmVudDp0LG1ldGhvZDpsLGZvcm1EYXRhOmEsZm9ybURhdGFKc29uOnV9KSxvKXRyeXtjb25zdCBlPVtkJiZkWyJDb250ZW50LVR5cGUiXSxjXS5zb21lKChlPT5lJiZlLmluY2x1ZGVzKCJqc29uIikpKSx0PWF3YWl0IGZldGNoKG8se21ldGhvZDpsLGhlYWRlcnM6ey4uLmQsLi4uYz97IkNvbnRlbnQtVHlwZSI6Y306e319LGJvZHk6ZT91OmF9KTt0JiYoXz8hXyh0LnN0YXR1cyk6dC5zdGF0dXM8MjAwfHx0LnN0YXR1cz49MzAwKT8ocj0hMCxmJiZmKHtyZXNwb25zZTp0fSkscz1TdHJpbmcodC5zdGF0dXMpKTpwJiZwKHtyZXNwb25zZTp0fSl9Y2F0Y2goZSl7cj0hMCxmJiZmKHtlcnJvcjplfSl9fSkpKHQpLHImJmUuY29udHJvbCYmKGUuY29udHJvbC5fc3ViamVjdHMuc3RhdGUuO2U8LTI3PyhpW3RdPTAsaVsyNTZ8dF09MzI3Njgsclt0XT0yNCxyWzI1Nnx0XT0yNCk6ZTwtMTQ/KGlbdF09MTAyND4+LWUtMTQsaVsyNTZ8dF09MTAyND4+LWUtMTR8MzI3Njgsclt0XT0tZS0xLHJbMjU2fHRdPS1lLTEpOmU8PTE1PyhpW3RdPWUrMTU8PDEwLGlbMjU2fHRdPWUrMTU8PDEwfDMyNzY4LHJbdF09MTMsclsyNTZ8dF09MTMpOmU8MTI4PyhpW3RdPTMxNzQ0LGlbMjU2fHRdPTY0NTEyLHJbdF09MjQsclsyNTZ8dF09MjQpOihpW3RdPTMxNzQ0LGlbMjU2fHRdPTY0NTEyLHJbdF09MTMsclsyNTZ8dF09MTMpfWNvbnN0IHM9bmV3IFVpbnQzMkFycmF5KDIwNDgpLGE9bmV3IFVpbnQzMkFycmF5KDY0KSxvPW5ldyBVaW50MzJBcnJheSg2NCk7Zm9yKGxldCB0PTE7dDwxMDI0OysrdCl7bGV0IGU9dDw8MTMsbj0wO2Zvcig7MD09KDgzODg2MDgmZSk7KWU8PD0xLG4tPTgzODg2MDg7ZSY9LTgzODg2MDksbis9OTQ3OTEyNzA0LHNbdF09ZXxufWZvcihsZXQgdD0xMDI0O3Q8MjA0ODsrK3Qpc1t0XT05Mzk1MjQwOTYrKHQtMTAyNDw8MTMpO2ZvcihsZXQgdD0xO3Q8MzE7Kyt0KWFbdF09dDw8MjM7YVszMV09MTE5OTU3MDk0NCxhWzMyXT0yMTQ3NDgzNjQ4O2ZvcihsZXQgdD0zMzt0PDYzOysrdClhW3RdPTIxNDc0ODM2NDgrKHQtMzI8PDIzKTthWzYzXT0zMzQ3MDU0NTkyO2ZvcihsZXQgdD0xO3Q8NjQ7Kyt0KTMyIT09dCYmKG9bdF09MTAyNCk7cmV0dXJue2Zsb2F0VmlldzplLHVpbnQzMlZpZXc6bixiYXNlVGFibGU6aSxzaGlmdFRhYmxlOnIsbWFudGlzc2FUYWJsZTpzLGV4cG9uZW50VGFibGU6YSxvZmZzZXRUYWJsZTpvfX1mdW5jdGlvbiBnaSh0KXtNYXRoLmFicyh0KT42NTUwNCYmY29uc29sZS53YXJuKCJUSFJFRS5EYXRhVXRpbHMudG9IYWxmRmxvYXQoKTogVmFsdWUgb3V0IG9mIHJhbmdlLiIpLHQ9YWUodCwtNjU1MDQsNjU1MDQpLG1pLmZsb2F0Vmlld1swXT10O2NvbnN0IGU9bWkudWludDMyVmlld1swXSxuPWU+PjIzJjUxMTtyZXR1cm4gbWkuYmFzZVRhYmxlW25dKygoODM4ODYwNyZlKT4+bWkuc2hpZnRUYWJsZVtuXSl9ZnVuY3Rpb24gX2kodCl7Y29uc3QgZT10Pj4xMDtyZXR1cm4gbWkudWludDMyVmlld1swXT1taS5tYW50aXNzYVRhYmxlW21pLm9mZnNldFRhYmxlW2VdKygxMDIzJnQpXSttaS5leHBvbmVudFRhYmxlW2VdLG1pLmZsb2F0Vmlld1swXX1jb25zdCB2aT17dG9IYWxmRmxvYXQ6Z2ksZnJvbUhhbGZGbG9hdDpfaX0seGk9bmV3IFdlLHlpPW5ldyBtZTtjbGFzcyBNaXtjb25zdHJ1Y3Rvcih0LGUsbj0hMSl7aWYoQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LiIpO3RoaXMuaXNCdWZmZXJBdHRyaWJ1dGU9ITAsdGhpcy5uYW1lPSIiLHRoaXMuYXJyYXk9dCx0aGlzLml0ZW1TaXplPWUsdGhpcy5jb3VudD12b2lkIDAhPT10P3QubGVuZ3RoL2U6MCx0aGlzLm5vcm1hbGl6ZWQ9bix0aGlzLnVzYWdlPVp0LHRoaXMuX3VwZGF0ZVJhbmdlPXtvZmZzZXQ6MCxjb3VudDotMX0sdGhpcy51cGRhdGVSYW5nZXM9W10sdGhpcy5ncHVUeXBlPUgsdGhpcy52ZXJzaW9uPTB9b25VcGxvYWRDYWxsYmFjaygpe31zZXQgbmVlZHNVcGRhdGUodCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK31nZXQgdXBkYXRlYyxlWzRdPXItdCpoLGVbOF09aSpoK24sZVsxXT1oLGVbNV09cypjLGVbOV09LWEqYyxlWzJdPS1sKmMsZVs2XT1uKmgraSxlWzEwXT10LXIqaH1lbHNlIGlmKCJYWlkiPT09dC5vcmRlcil7Y29uc3QgdD1zKm8sbj1zKmwsaT1hKm8scj1hKmw7ZVswXT1vKmMsZVs0XT0taCxlWzhdPWwqYyxlWzFdPXQqaCtyLGVbNV09cypjLGVbOV09bipoLWksZVsyXT1pKmgtbixlWzZdPWEqYyxlWzEwXT1yKmgrdH1yZXR1cm4gZVszXT0wLGVbN109MCxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsdGhpc31tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NlKFRuLHQsRW4pfWxvb2tBdCh0LGUsbil7Y29uc3QgaT10aGlzLmVsZW1lbnRzO3JldHVybiBSbi5zdWJWZWN0b3JzKHQsZSksMD09PVJuLmxlbmd0aFNxKCkmJihSbi56PTEpLFJuLm5vcm1hbGl6ZSgpLHduLmNyb3NzVmVjdG9ycyhuLFJuKSwwPT09d24ubGVuZ3RoU3EoKSYmKDE9PT1NYXRoLmFicyhuLnopP1JuLngrPTFlLTQ6Um4ueis9MWUtNCxSbi5ub3JtYWxpemUoKSx3bi5jcm9zc1ZlY3RvcnMobixSbikpLHduLm5vcm1hbGl6ZSgpLEFuLmNyb3NzVmVjdG9ycyhSbix3biksaVswXT13bi54LGlbNF09QW4ueCxpWzhdPVJuLngsaVsxXT13bi55LGlbNV09QW4ueSxpWzldPVJuLnksaVsyXT13bi56LGlbNl09QW4ueixpWzEwXT1Sbi56LHRoaXN9bXVsdGlwbHkodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfXByZW11bHRpcGx5KHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModCx0aGlzKX1tdWx0aXBseU1hdHJpY2VzKHQsZSl7Y29uc3Qgbj10LmVsZW1lbnRzLGk9ZS5lbGVtZW50cyxyPXRoaXMuZWxlbWVudHMscz1uWzBdLGE9bls0XSxvPW5bOF0sbD1uWzEyXSxjPW5bMV0saD1uWzVdLHU9bls5XSxkPW5bMTNdLHA9blsyXSxtPW5bNl0sZj1uWzEwXSxnPW5bMTRdLF89blszXSx2PW5bN10seD1uWzExXSx5PW5bMTVdLE09aVswXSxTPWlbNF0sYj1pWzhdLFQ9aVsxMl0sRT1pWzFdLHc9aVs1XSxBPWlbOV0sUj1pWzEzXSxDPWlbMl0sTD1pWzZdLFA9aVsxMF0sST1pWzE0XSxVPWlbM10sRD1pWzddLE49aVsxMV0sTz1pWzE1XTtyZXR1cm4gclswXT1zKk0rYSpFK28qQytsKlUscls0XT1zKlMrYSp3K28qTCtsKkQscls4XT1zKmIrYSpBK28qUCtsKk4sclsxMl09cypUK2EqUitvKkkrbCpPLHJbMV09YypNK2gqRSt1KkMrZCpVLHJbNV09YypTK2gqdyt1KkwrZCpELHJbOV09YypiK2gqQSt1KlArZCpOLHJbMTNdPWMqVCtoKlIrdSpJK2QqTyxyWzJdPXAqTSttKkUrZipDK2cqVSxyWzZdPXAqUyttKncrZipMK2cqRCxyWzEwXT1wKmIrbSpBK2YqUCtnKk4sclsxNF09cCpUK20qUitmKkkrZypPLHJbM109XypNK3YqRSt4KkMreSpVLHJbN109XypTK3Yqdyt4KkwreSpELHJbMTFdPV8qYit2KkEreCpQK3kqTixyWzE1XT1fKlQrdipSK3gqSSt5Kk8sdGhpc31tdWx0aXBseVNjYWxhcih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHM7cmV0dXJuIGVbMF0qPXQsZVs0XSo9dCxlWzhdKj10LGVbMTJdKj10LGVbMV0qPXQsZVs1XSo9dCxlWzldKj10LGVbMTNdKj10LGVbMl0qPXQsZVs2XSo9dCxlWzEwXSo9dCxlWzE0XSo9dCxlWzNdKj10LGVbN10qPXQsZVsxMV0qPXQsZVsxNV0qPXQsdGhpc31kZXRlcm1pYm9va2VyRW1haWw6IHN0cmluZzsKICBib29rZXJQaG9uZU51bWJlcj86IHN0cmluZyB8IG51bGw7CiAgdEF0dGVuZGVlczogVEZ1bmN0aW9uOwogIGJvb2tpbmdTZWF0OiBCb29raW5nU2VhdDsKICByZXFVc2VySWQ6IG51bWJlciB8IHVuZGVmaW5lZDsKICByZXFVc2VyVXVpZD86IHN0cmluZyB8IG51bGw7CiAgcmVzY2hlZHVsZVJlYXNvbjogUmVzY2hlZHVsZVJlYXNvbjsKICByZXFCb2R5VXNlcjogc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQ7CiAgbm9FbWFpbDogTm9FbWFpbDsKICBpc0NvbmZpcm1lZEJ5RGVmYXVsdDogYm9vbGVhbjsKICBhZGRpdGlvbmFsTm90ZXM6IEFkZGl0aW9uYWxOb3RlczsKICByZXFBcHBzU3RhdHVzOiBSZXFBcHBzU3RhdHVzOwogIGF0dGVuZGVlTGFuZ3VhZ2U6IHN0cmluZyB8IG51bGw7CiAgcGF5bWVudEFwcERhdGE6IFBheW1lbnRBcHBEYXRhOwogIGZ1bGxOYW1lOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRGdWxsTmFtZT47CiAgc21zUmVtaW5kZXJOdW1iZXI6IFNtc1JlbWluZGVyTnVtYmVyOwogIGV2ZW50VHlwZUluZm86IEV2ZW50VHlwZUluZm87CiAgdWlkOiBzaG9ydC5TVVVJRDsKICBldmVudFR5cGVJZDogRXZlbnRUeXBlSWQ7CiAgcmVxQm9keU1ldGFkYXRhOiBSZXFCb2R5TWV0YWRhdGE7CiAgc3Vic2NyaWJlck9wdGlvbnM6IEdldFN1YnNjcmliZXJPcHRpb25zOwogIGV2ZW50VHJpZ2dlcjogV2ViaG9va1RyaWdnZXJFdmVudHM7CiAgcmVzcG9uc2VzOiB6LmluZmVyPFJldHVyblR5cGU8dHlwZW9mIGdldEJvb2tpbmdEYXRhU2NoZW1hPj5bInJlc3BvbnNlcyJdIHwgbnVsbDsKICByZXNjaGVkdWxlZEJ5Pzogc3RyaW5nOwogIHdvcmtmbG93czogV29ya2Zsb3dbXTsKICBpc0RyeVJ1bj86IGJvb2xlYW47CiAgb3JnYW5pemF0aW9uSWQ/OiBudW1iZXIgfCBudWxsOwogIGFjdGlvblNvdXJjZTogQWN0aW9uU291cmNlOwogIHRyYWNlQ29udGV4dDogVHJhY2VDb250ZXh0OwogIGRlcHM6IHsKICAgIGJvb2tpbmdFdmVudEhhbmRsZXI6IEJvb2tpbmdFdmVudEhhbmRsZXJTZXJ2aWNlOwogIH0KfTsKCmV4cG9ydCB0eXBlIFJlc2NoZWR1bGVTZWF0ZWRCb29raW5nT2JqZWN0ID0gTmV3U2VhdGVkQm9va2luZ09iamVjdCAmIHsgcmVzY2hlZHVsZVVpZDogc3RyaW5nIH07CgpleHBvcnQgdHlwZSBTZWF0ZWRCb29raW5nID0gUHJpc21hLkJvb2tpbmdHZXRQYXlsb2FkPHsKICBzZWxlY3Q6IHsKICAgIHVpZDogdHJ1ZTsKICAgIGlkOiB0cnVlOwogICAgYXR0ZW5kZWVzOiB7IGluY2x1ZGU6IHsgYm9va2luZ1NlYXQ6IHRydWUgfSB9OwogICAgdXNlcklkOiB0cnVlOwogICAgcmVmZXJlbmNlczogdHJ1ZTsKICAgIHN0YXJ0VGltZTogdHJ1ZTsKICAgIHVzZXI6IHRydWU7CiAgICBzdGF0dXM6IHRydWU7CiAgICBzbXNSZW1pbmRlck51bWJlcjogdHJ1ZTsKICAgIGVuZFRpbWU6IHRydWU7CiAgfTsKfT47CgpleHBvcnQgdHlwZSBIYW5kbGVTZWF0c1Jlc3VsdEJvb2tpbmcgPQogIHwgKFBhcnRpYWw8Qm9va2luZz4gJiB7CiAgICBhcHBzU3RhdHVzPzogQXBwc1N0YXR1c1tdOwogICAgc2VhdFJlZmVyZW5jZVVpZD86IHN0cmluZzsKICAgIHBheW1lbnRVaWQ/OiBzdHJpbmc7CiAgICBtZXNzYWdlPzogc3RyaW5nOwogICAgcGF5bWVudElkPzogbnVtYmVyOwogIH0pCiAgfCBudWxsOwoKZXhwb2lkIDB9LHlheGlzOnttaW46dm9pZCAwLG1heDp2b2lkIDB9fSxzcGFya2xpbmU6e2VuYWJsZWQ6ITF9LGJydXNoOntlbmFibGVkOiExLGF1dG9TY2FsZVlheGlzOiEwLHRhcmdldDp2b2lkIDAsdGFyZ2V0czp2b2lkIDB9LHN0YWNrZWQ6ITEsc3RhY2tPbmx5QmFyOiEwLHN0YWNrVHlwZToibm9ybWFsIix0b29sYmFyOntzaG93OiEwLG9mZnNldFg6MCxvZmZzZXRZOjAsdG9vbHM6e2Rvd25sb2FkOiEwLHNlbGVjdGlvbjohMCx6b29tOiEwLHpvb21pbjohMCx6b29tb3V0OiEwLHBhbjohMCxyZXNldDohMCxjdXN0b21JY29uczpbXX0sZXhwb3J0Ontjc3Y6e2ZpbGVuYW1lOnZvaWQgMCxjb2x1bW5EZWxpbWl0ZXI6IiwiLGhlYWRlckNhdGVnb3J5OiJjYXRlZ29yeSIsaGVhZGVyVmFsdWU6InZhbHVlIixkYXRlRm9ybWF0dGVyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRGF0ZSh0KS50b0RhdGVTdHJpbmcoKX19LHBuZzp7ZmlsZW5hbWU6dm9pZCAwfSxzdmc6e2ZpbGVuYW1lOnZvaWQgMH19LGF1dG9TZWxlY3RlZDoiem9vbSJ9LHR5cGU6ImxpbmUiLHdpZHRoOiIxMDAlIix6b29tOntlbmFibGVkOiEwLHR5cGU6IngiLGF1dG9TY2FsZVlheGlzOiExLHpvb21lZEFyZWE6e2ZpbGw6e2NvbG9yOiIjOTBDQUY5IixvcGFjaXR5Oi40fSxzdHJva2U6e2NvbG9yOiIjMEQ0N0ExIixvcGFjaXR5Oi40LHdpZHRoOjF9fX19LHBsb3RPcHRpb25zOnthcmVhOntmaWxsVG86Im9yaWdpbiJ9LGJhcjp7aG9yaXpvbnRhbDohMSxjb2x1bW5XaWR0aDoiNzAlIixiYXJIZWlnaHQ6IjcwJSIsZGlzdHJpYnV0ZWQ6ITEsYm9yZGVyUmFkaXVzOjAsYm9yZGVyUmFkaXVzQXBwbGljYXRpb246ImFyb3VuZCIsYm9yZGVyUmFkaXVzV2hlblN0YWNrZWQ6Imxhc3QiLHJhbmdlQmFyT3ZlcmxhcDohMCxyYW5nZUJhckdyb3VwUm93czohMSxoaWRlWmVyb0JhcnNXaGVuR3JvdXBlZDohMSxpc0R1bWJiZWxsOiExLGR1bWJiZWxsQ29sb3JzOnZvaWQgMCxpc0Z1bm5lbDohMSxpc0Z1bm5lbDNkOiEwLGNvbG9yczp7cmFuZ2VzOltdLGJhY2tncm91bmRCYXJDb2xvcnM6W10sYmFja2dyb3VuZEJhck9wYWNpdHk6MSxiYWNrZ3JvdW5kQmFyUmFkaXVzOjB9LGRhdGFMYWJlbHM6e3Bvc2l0aW9uOiJ0b3AiLG1heEl0ZW1zOjEwMCxoaWRlT3ZlcmZsb3dpbmdMYWJlbHM6ITAsb3JpZW50YXRpb246Imhvcml6b250YWwiLHRvdGFsOntlbmFibGVkOiExLGZvcm1hdHRlcjp2b2lkIDAsb2Zmc2V0WDowLG9mZnNldFk6MCxzdHlsZTp7Y29sb3I6IiMzNzNkM2YiLGZvbnRTaXplOiIxMnB4Iixmb250RmFtaWx5OnZvaWQgMCxmb250V2VpZ2h0OjYwMH19fX0sYnViYmxlOnt6U2NhbGluZzohMCxtaW5CdWJibGVSYWRpdXM6dm9pZCAwLG1heEJ1YmJsZVJhZGl1czp2b2lkIDB9LGNhbmRsZXN0aWNrOntjb2xvcnM6e3Vwd2FyZDoiIzAwQjc0NiIsZG93bndhcmQ6IiNFRjQwM0MifSx3aWNrOnt1c2VGaWxsQ29sb3I6ITB9fSxib3hQbG90Ontjb2xvcnM6e3VwcGVyOiIjMDBFMzk2Iixsb3dlcjoiIzAwOEZGQiJ9fSxoZWF0bWFwOntyYWRpdXM6MixlbmFibGVTaGFkZXM6ITAsc2hhZGVJbnRlbnNpdHk6LjUscmV2ZXJzZU5lZ2F0aXZlU2hhZGU6ITEsZGlzdHJpYnV0ZWQ6ITEsdXNlRmlsbENvbG9yQXNTdHJva2U6ITEsY29sb3JTY2FsZTp7aW52ZXJzZTohMSxyYW5nZXM6W10sbWluOnZvKCIjIikmJihlPXguaGV4VG9SZ2JhKGUsYSkpLGkubGVuZ3RoPDkmJjA9PT1pLmluZGV4T2YoIiMiKSYmKGk9eC5oZXhUb1JnYmEoaSxzKSk7dmFyIGQ9MCxnPTEsdT0xLHA9bnVsbDtudWxsIT09biYmKGQ9dm9pZCAwIT09blswXT9uWzBdLzEwMDowLGc9dm9pZCAwIT09blsxXT9uWzFdLzEwMDoxLHU9dm9pZCAwIT09blsyXT9uWzJdLzEwMDoxLHA9dm9pZCAwIT09blszXT9uWzNdLzEwMDpudWxsKTt2YXIgZj0hKCJkb251dCIhPT1jLmNvbmZpZy5jaGFydC50eXBlJiYicGllIiE9PWMuY29uZmlnLmNoYXJ0LnR5cGUmJiJwb2xhckFyZWEiIT09Yy5jb25maWcuY2hhcnQudHlwZSYmImJ1YmJsZSIhPT1jLmNvbmZpZy5jaGFydC50eXBlKTtpZihyPW51bGw9PT1sfHwwPT09bC5sZW5ndGg/Yy5nbG9iYWxzLmRvbS5QYXBlci5ncmFkaWVudChmPyJyYWRpYWwiOiJsaW5lYXIiLChmdW5jdGlvbih0KXt0LmF0KGQsZSxhKSx0LmF0KGcsaSxzKSx0LmF0KHUsaSxzKSxudWxsIT09cCYmdC5hdChwLGUsYSl9KSk6Yy5nbG9iYWxzLmRvbS5QYXBlci5ncmFkaWVudChmPyJyYWRpYWwiOiJsaW5lYXIiLChmdW5jdGlvbih0KXsoQXJyYXkuaXNBcnJheShsW2hdKT9sW2hdOmwpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuYXQoZS5vZmZzZXQvMTAwLGUuY29sb3IsZS5vcGFjaXR5KX0pKX0pKSxmKXt2YXIgYj1jLmdsb2JhbHMuZ3JpZFdpZHRoLzIsdj1jLmdsb2JhbHMuZ3JpZEhlaWdodC8yOyJidWJibGUiIT09Yy5jb25maWcuY2hhcnQudHlwZT9yLmF0dHIoe2dyYWRpZW50VW5pdHM6InVzZXJTcGFjZU9uVXNlIixjeDpiLGN5OnYscjpvfSk6ci5hdHRyKHtjeDouNSxjeTouNSxyOi44LGZ4Oi4yLGZ5Oi4yfSl9ZWxzZSJ2ZXJ0aWNhbCI9PT10P3IuZnJvbSgwLDApLnRvKDAsMSk6ImRpYWdvbmFsIj09PXQ/ci5mcm9tKDAsMCkudG8oMSwxKToiaG9yaXpvbnRhbCI9PT10P3IuZnJvbSgwLDEpLnRvKDEsMSk6ImRpYWdvbmFsMiI9PT10JiZyLmZyb20oMSwwKS50bygwLDEpO3JldHVybiByfX0se2tleToiZ2V0VGV4dEJhc2VkT25NYXhXaWR0aCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC50ZXh0LGk9dC5tYXhXaWR0aCxhPXQuZm9udFNpemUscz10LmZvbnRGYW1pbHkscj10aGlzLmdldFRleHRSZWN0cyhlLGEscyksbz1yLndpZHRoL2UubGVuZ3RoLG49TWF0aC5mbG9vcihpL28pO3JldHVybiBpPHIud2lkdGg/ZS5zbGljZSgwLG4tMykrIi4uLiI6ZX19LHtrZXk6ImRyYXdUZXh0Iix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLGE9dC54LHM9dC55LHI9dC50ZXh0LG89dC50ZXh0QW5jaG9yLG49dC5mb250U2l6ZSxsPXQuZm9udEZhbWlseSxoPXQuZm9udFdlaWdodCxjPXQuZm9yZUNvbG9yLGQ9dC5vcGFjaXR5LGc9dC5tYXhXaWR0aCx1PXQuY3NzQ2xhc3MscD12b2lkIDA9PT11PyIiOnUsZj10LmlzUGxhaW5UZXh0LHg9dm9pZCAwPT09Znx8ZixiPXQuZG9taW5hbnRCYXNlbGluZSx2PXZvaWQgMD09PWI/ImF1dG8iOmIsbT10aGlzLnc7dm9pZCAwPT09ciYmKHI9IiIpO3ZhciB5PXI7b3x8KG89InN0YXJ0IiksYyYmYy5sZW5ndGh8fChjPW0uY29uZmlnLmNoYXJ0LmZvcmVDb2xvciksbD1sfHxtLmNvbmZpZy5jaGFydC5mb250RmFtaWx5LGg9aHx8InJlZ3VsYXIiO3ZhciB3LGs9e21heFdpZHRoOmcsZm9udFNpemU6bj1ufHwiMTFweCIsdW1iZXIoKSwKICAgIGxhc3RTbG90OiBzdXBlcnN0cnVjdC5udW1iZXIoKQogIH0pCn0pKTsKCi8qKgogKiBBIHBlcmZvcm1hbmNlIHNhbXBsZQogKi8KCmZ1bmN0aW9uIGNyZWF0ZVJwY0NsaWVudCh1cmwsIGh0dHBIZWFkZXJzLCBjdXN0b21GZXRjaCwgZmV0Y2hNaWRkbGV3YXJlLCBkaXNhYmxlUmV0cnlPblJhdGVMaW1pdCwgaHR0cEFnZW50KSB7CiAgY29uc3QgZmV0Y2ggPSBjdXN0b21GZXRjaCA/IGN1c3RvbUZldGNoIDogZmV0Y2hJbXBsOwogIGxldCBhZ2VudDsKICB7CiAgICBpZiAoaHR0cEFnZW50ICE9IG51bGwpIHsKICAgICAgY29uc29sZS53YXJuKCdZb3UgaGF2ZSBzdXBwbGllZCBhbiBgaHR0cEFnZW50YCB3aGVuIGNyZWF0aW5nIGEgYENvbm5lY3Rpb25gIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudC4nICsgJ0l0IGhhcyBiZWVuIGlnbm9yZWQ7IGBodHRwQWdlbnRgIGlzIG9ubHkgdXNlZCBpbiBOb2RlIGVudmlyb25tZW50cy4nKTsKICAgIH0KICB9CiAgbGV0IGZldGNoV2l0aE1pZGRsZXdhcmU7CiAgaWYgKGZldGNoTWlkZGxld2FyZSkgewogICAgZmV0Y2hpbXBvcnQgeyBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7CnR5cGUgWW9nYSA9IGFueTsKCmRlY2xhcmUgY29uc3QgY29kZTogewogICAgcmVhZG9ubHkgJ2phLUpQJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ2tvLUtSJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ3poLUNOJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ3poLVRXJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ3poLUhLJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ3RoLVRIJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ2JuLUlOJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ2FyLUFSJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ3RhLUlOJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ21sLUlOJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ2hlLUlMJzogUmVnRXhwOwogICAgcmVhZG9ubHkgJ3RlLUlOJzogUmVnRXhwOwogICAgcmVhZG9ubHkgZGV2YW5hZ2FyaTogUmVnRXhwOwogICAgcmVhZG9ubHkga2FubmFkYTogUmVnRXhwOwp9Owp0eXBlIExvY2FsZSA9IGtleW9mIHR5cGVvZiBjb2RlOwoKLyoqCiAqIFRoaXMgY2xhc3MgaGFuZGxlcyBldmVyeXRoaW5nIHJlbGF0ZWQgdG8gZm9udHMuCiAqLwoKdHlwZSBXZWlnaHQgPSAxMDAgfCAyMDAgfCAzMDAgfCA0MDAgfCA1MDAgfCA2MDAgfCA3MDAgfCA4MDAgfCA5MDA7CnR5cGUgRm9udFN0eWxlID0gJ25vcm1hbCcgfCAnaXRhbGljJzsKaW50ZXJmYWNlIEZvbnRPcHRpb25zIHsKICAgIGRhdGE6IEJ1ZmZlciB8IEFycmF5QnVmZmVyOwogICAgbmFtZTogc3RyaW5nOwogICAgd2VpZ2h0PzogV2VpZ2h0OwogICAgc3R5bGU/OiBGb250U3R5bGU7CiAgICBsYW5nPzogc3RyaW5nOwp9CgpkZWNsYXJlIHR5cGUgU3R5bGUgPSB7CiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdbXSB8IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBTdHlsZTsKfTsKZGVjbGFyZSB0eXBlIE5vdEltcGxlbWVudGVkID0gKC4uLmFyZ3M6IGFueSkgPT4gdW5rbm93bjsKZGVjbGFyZSB0eXBlIEFkZGVkVXRpbGl0aWVzID0gUmVjb3JkPHN0cmluZywgU3R5bGUgfCBzdHJpbmc+OwpkZWNsYXJlIHR5cGUgUGx1Z2luRnVuY3Rpb24gPSAob2JqOiB7CiAgICBhZGRVdGlsaXRpZXModXRpbGl0CiAgICB9KS5tYXAocHVibGljS2V5ID0+ICh7CiAgICAgIHNpZ25hdHVyZTogbnVsbCwKICAgICAgcHVibGljS2V5CiAgICB9KSk7CiAgfQoKICAvKioKICAgKiBTaWduIHRoZSBUcmFuc2FjdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgc2lnbmVycy4gTXVsdGlwbGUgc2lnbmF0dXJlcyBtYXkKICAgKiBiZSBhcHBsaWVkIHRvIGEgVHJhbnNhY3Rpb24uIFRoZSBmaXJzdCBzaWduYXR1cmUgaXMgY29uc2lkZXJlZCAicHJpbWFyeSIKICAgKiBhbmQgaXMgdXNlZCBpZGVudGlmeSBhbmQgY29uZmlybSB0cmFuc2FjdGlvbnMuCiAgICoKICAgKiBJZiB0aGUgVHJhbnNhY3Rpb24gYGZlZVBheWVyYCBpcyBub3Qgc2V0LCB0aGUgZmlyc3Qgc2lnbmVyIHdpbGwgYmUgdXNlZAogICAqIGFzIHRoZSB0cmFuc2FjdGlvbiBmZWUgcGF5ZXIgYWNjb3VudC4KICAgKgogICAqIFRyYW5zYWN0aW9uIGZpZWxkcyBzaG91bGQgbm90IGJlIG1vZGlmaWVkIGFmdGVyIHRoZSBmaXJzdCBjYWxsIHRvIGBzaWduYCwKICAgKiBhcyBkb2luZyBzbyBtYXkgaW52YWxpZGF0ZSB0aGUgc2lnbmF0dXJlIGFuZCBjYXVzZSB0aGUgVHJhbnNhY3Rpb24gdG8gYmUKICAgKiByZWplY3RlZC4KICAgKgogICAqIFRoZSBUcmFuc2FjdGlvbiBtdXN0IGJlIGFzc2lnbmVkIGEgdmFsaWQgYHJlY2VudEJsb2NraGFzaGAgYmVmb3JlIGludm9raW5nIHRoaXMgbWV0aG9kCiAgICoKICAgKiBAcGFyYW0ge0FycmF5PFNpZ25lcj59IHNpZ25lcnMgQXJyYXkgb2Ygc2lnbmVycyB0aGF0IHdpbGwgc2lnbiB0aGUgdHJhbnNhY3Rpb24KICAgKi8KICBzaWduKC4uLnNpZ25lcnMpIHsKICAgIGlmIChzaWduZXJzLmxlbmd0aCA9PT0gMCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNpZ25lcnMnKTsKICAgIH0KCiAgICAvLyBEZWR1cGUgc2lnbmVycwogICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTsKICAgIGNvbnN0IHVuaXF1ZVNpZ25lcnMgPSBbXTsKICAgIGZvciAoY29uc3Qgc2lnbmVyIG9mIHNpZ25lcnMpIHsKICAgICAgY29uc3Qga2V5ID0gc2lnbmVyLnB1YmxpY0tleS50b1N0cmluZygpOwogICAgICBpZiAoc2Vlbi5oYXMoa2V5KSkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHNlZW4uYWRkKGtleSk7CiAgICAgICAgdW5pcXVlU2lnbmVycy5wdXNoKHNpZ25lcik7CiAgICAgIH0KICAgIH0KICAgIHRoaXMuc2lnbmF0dXJlcyA9IHVuaXF1ZVNpZ25lcnMubWFwKHNpZ25lciA9PiAoewogICAgICBzaWduYXR1cmU6IG51bGwsCiAgICAgIHB1YmxpY0tleTogc2lnbmVyLnB1YmxpY0tleQogICAgfSkpOwogICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuX2NvbXBpbGUoKTsKICAgIHRoaXMuX3BhcnRpYWxTaWduKG1lc3NhZ2UsIC4uLnVuaXF1ZVNpZ25lcnMpOwogIH0KCiAgLyoqCiAgICogUGFydGlhbGx5IHNpZ24gYSB0cmFuc2FjdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgYWNjb3VudHMuIEFsbCBhY2NvdW50cyBtdXN0CiAgICogY29ycmVzcG9uZCB0byBlaXRoZXIgdGhlIGZlZSBwYXllciBvciBhIHNpZ25lciBhY2NvdW50IGluIHRoZSB0cmFuc2FjdGlvbgogICAqIGluc3RydWN0aW9ucy4KICAgKgogICAqIEFsbCB0aGUgY2F2ZWF0cyBmcm9tIHRoZSBgc2lnbmAgbWV0aG9kIGFwcGx5IHRvIGBwYXJ0aWFsU2lnbmAKICAgKgogdXJuIGIudyhuLnRvRGF0ZSgpW3RdLmFwcGx5KG4udG9EYXRlKCJzIiksKHI/WzAsMCwwLDBdOlsyMyw1OSw1OSw5OTldKS5zbGljZShlKSksbil9LHk9dGhpcy4kVyxNPXRoaXMuJE0sbT10aGlzLiRELHY9InNldCIrKHRoaXMuJHU/IlVUQyI6IiIpO3N3aXRjaChmKXtjYXNlIGg6cmV0dXJuIHI/bCgxLDApOmwoMzEsMTEpO2Nhc2UgYzpyZXR1cm4gcj9sKDEsTSk6bCgwLE0rMSk7Y2FzZSBvOnZhciBnPXRoaXMuJGxvY2FsZSgpLndlZWtTdGFydHx8MCxEPSh5PGc/eSs3OnkpLWc7cmV0dXJuIGwocj9tLUQ6bSsoNi1EKSxNKTtjYXNlIGE6Y2FzZSBkOnJldHVybiAkKHYrIkhvdXJzIiwwKTtjYXNlIHU6cmV0dXJuICQodisiTWludXRlcyIsMSk7Y2FzZSBzOnJldHVybiAkKHYrIlNlY29uZHMiLDIpO2Nhc2UgaTpyZXR1cm4gJCh2KyJNaWxsaXNlY29uZHMiLDMpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY2xvbmUoKX19LG0uZW5kT2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3RhcnRPZih0LCExKX0sbS4kc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz1iLnAodCksZj0ic2V0IisodGhpcy4kdT8iVVRDIjoiIiksbD0obj17fSxuW2FdPWYrIkRhdGUiLG5bZF09ZisiRGF0ZSIsbltjXT1mKyJNb250aCIsbltoXT1mKyJGdWxsWWVhciIsblt1XT1mKyJIb3VycyIsbltzXT1mKyJNaW51dGVzIixuW2ldPWYrIlNlY29uZHMiLG5bcl09ZisiTWlsbGlzZWNvbmRzIixuKVtvXSwkPW89PT1hP3RoaXMuJEQrKGUtdGhpcy4kVyk6ZTtpZihvPT09Y3x8bz09PWgpe3ZhciB5PXRoaXMuY2xvbmUoKS5zZXQoZCwxKTt5LiRkW2xdKCQpLHkuaW5pdCgpLHRoaXMuJGQ9eS5zZXQoZCxNYXRoLm1pbih0aGlzLiRELHkuZGF5c0luTW9udGgoKSkpLiRkfWVsc2UgbCYmdGhpcy4kZFtsXSgkKTtyZXR1cm4gdGhpcy5pbml0KCksdGhpc30sbS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLiRzZXQodCxlKX0sbS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbYi5wKHQpXSgpfSxtLmFkZD1mdW5jdGlvbihyLGYpe3ZhciBkLGw9dGhpcztyPU51bWJlcihyKTt2YXIgJD1iLnAoZikseT1mdW5jdGlvbih0KXt2YXIgZT1PKGwpO3JldHVybiBiLncoZS5kYXRlKGUuZGF0ZSgpK01hdGgucm91bmQodCpyKSksbCl9O2lmKCQ9PT1jKXJldHVybiB0aGlzLnNldChjLHRoaXMuJE0rcik7aWYoJD09PWgpcmV0dXJuIHRoaXMuc2V0KGgsdGhpcy4keStyKTtpZigkPT09YSlyZXR1cm4geSgxKTtpZigkPT09bylyZXR1cm4geSg3KTt2YXIgTT0oZD17fSxkW3NdPWUsZFt1XT1uLGRbaV09dCxkKVskXXx8MSxtPXRoaXMuJGQuZ2V0VGltZSgpK3IqTTtyZXR1cm4gYi53KG0sdGhpcyl9LG0uc3VidHJhY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGQoLTEqdCxlKX0sbS5mb3JtYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuJGxvY2FsZSgpO2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbi5pbnZhbGlkRGF0ZXx8bDt2YXIgcj10fHwiWVlZWS1NTS1ERFRISDptbTpzc1oiLGk9Yi56KHRoaXMpLHM9dGhpcy4kSCx1PXRoaXMuJG0sYT10aGlzLiRNLG89bi53ZWVrZGF5cyxjPW4ubW9udGhzLGY9bi5tZXJpZGllbSxoPWZ1bmN0aW9uKHQsbixpLHMpe3JldHVybiB0JiYodFtuXXx8dChlLHIpKXx8aVtuXS5zbGljZSgwLHMpfSxkPWZ1bmN0YWZlRGVzY3JpcHRvcnN8fHQucCxzZXQ6bnQobi50b1N0cmluZygpLGkuc2V0KX0scik6KCJmdW5jdGlvbiI9PXR5cGVvZiBpLnZhbHVlJiZudWxsIT0oZT10aGlzLnUpJiZlLmF1dG9CaW5kJiYoaS52YWx1ZT1pLnZhbHVlLmJpbmQobnVsbCE9KG89dC5sKT9vOnQuaCkpLCghMT09PShudWxsPT0odT10aGlzLnUpP3ZvaWQgMDp1LmRlZXApP2lpLnJlZjppaSkucyh0LG4saSxyKSl9ZnVuY3Rpb24gWSgpe24oIiciK3RoaXMuaSsiJyBjYW5ub3QgYmUgdXNlZCBhcyBhIGRlY29yYXRvciIpfWZ1bmN0aW9uIFEodCl7cmV0dXJuIHR8fHpufWZ1bmN0aW9uIFoodCl7cmV0dXJuITA9PT10LmRlZXA/RTohMT09PXQuZGVlcD9OOihuPXQuZGVmYXVsdERlY29yYXRvcikmJm51bGwhPShpPW51bGw9PShyPW4udSk/dm9pZCAwOnIuZW5oYW5jZXIpP2k6RTt2YXIgbixpLHJ9ZnVuY3Rpb24gdHQodCxuLGkpe3JldHVybiB4KG4pPyRuLnQodCxuKTpvKG4pP3ZvaWQgUyh0LG4sJG4pOkh0KHQpP3Q6Zih0KT9paS5vYmplY3QodCxuLGkpOkFycmF5LmlzQXJyYXkodCk/aWkuYXJyYXkodCxuKTpsKHQpP2lpLm1hcCh0LG4pOmQodCk/aWkuc2V0KHQsbik6Im9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT09dD90OmlpLmJveCh0LG4pfWZ1bmN0aW9uIG50KHQsbixpLHIpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gaXQoMCxpLG4scnx8dGhpcyxhcmd1bWVudHMpfXJldHVybiB2b2lkIDA9PT1pJiYoaT0hMSksZS5pc01vYnhBY3Rpb249ITAsZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBuLnRvU3RyaW5nKCl9LGNpJiYoYWkudmFsdWU9dCxSbihlLCJuYW1lIixhaSkpLGV9ZnVuY3Rpb24gaXQodCxuLGkscixlKXt2YXIgdT1ydCgwLG4pO3RyeXtyZXR1cm4gaS5hcHBseShyLGUpfWNhdGNoKHQpe3Rocm93IHUuQT10LHR9ZmluYWxseXtldCh1KX19ZnVuY3Rpb24gcnQodCxuKXt2YXIgaT1naS50cmFja2luZ0Rlcml2YXRpb24scj0hbnx8IWk7T3QoKTt2YXIgZT1naS5hbGxvd1N0YXRlQ2hhbmdlcztyJiYobHQoKSxlPW90KCEwKSk7dmFyIHU9e1M6cixNOmksTjplLFY6YnQoITApLFI6ITEsVDowLGs6ZmkrKyxMOnNpfTtyZXR1cm4gc2k9dS5rLHV9ZnVuY3Rpb24gZXQodCl7c2khPT10LmsmJm4oMzApLHNpPXQuTCx2b2lkIDAhPT10LkEmJihnaS5zdXBwcmVzc1JlYWN0aW9uRXJyb3JzPSEwKSxzdCh0Lk4pLHl0KHQuViksX3QoKSx0LlMmJmR0KHQuTSksZ2kuc3VwcHJlc3NSZWFjdGlvbkVycm9ycz0hMX1mdW5jdGlvbiB1dCh0LG4pe3ZhciBpPW90KHQpO3RyeXtyZXR1cm4gbigpfWZpbmFsbHl7c3QoaSl9fWZ1bmN0aW9uIG90KHQpe3ZhciBuPWdpLmFsbG93U3RhdGVDaGFuZ2VzO3JldHVybiBnaS5hbGxvd1N0YXRlQ2hhbmdlcz10LG59ZnVuY3Rpb24gc3QodCl7Z2kuYWxsb3dTdGF0ZUNoYW5nZXM9dH1mdW5jdGlvbiBmdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG1pfWZ1bmN0aW9uIGN0KHQpe3N3aXRjaCh0LkMpe2Nhc2UgZGkuSTpyZXR1cm4hMTtjYXNlIGRpLks6Y2FzZSBkaS5QOnJldHVybiEwO2Nhc2UgZGkuRDpmb3IodmFyIG49YnQoITApLGk9bHQoKSxyPXQuQixlPXIubGVuZ3RoLHU9MDt1PGU7dSsrKXt2YXIgbz1yW3VdO2lmKHBpKG8pKXtpZihnaS5kaXNhYmxlRXJyb3JCb3VuZGFyaWVzKW8uZ2V0KCk7ZWxzZSB0cnl7by5nZXQoKX1jYXRjZSBpZigieSI9PT1lKXtpZigiY2VudGVyIj09PXMpTT0odC5sZWZ0K3QucmlnaHQpLzItZztlbHNlIGlmKG8ocykpe2NvbnN0IHQ9T2JqZWN0LmtleXMocylbMF0sZT1zW3RdO009dGhpcy5jaGFydC5zY2FsZXNbdF0uZ2V0UGl4ZWxGb3JWYWx1ZShlKX1rPXRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQoZikudGV4dEFsaWdufSJ5Ij09PWUmJigic3RhcnQiPT09aD9BPSJ0b3AiOiJlbmQiPT09aCYmKEE9ImJvdHRvbSIpKTtjb25zdCBUPXRoaXMuX2dldExhYmVsU2l6ZXMoKTtmb3IoeD0wLF89bC5sZW5ndGg7eDxfOysreCl7eT1sW3hdLHY9eS5sYWJlbDtjb25zdCB0PWEuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoeCkpO1M9dGhpcy5nZXRQaXhlbEZvclRpY2soeCkrYS5sYWJlbE9mZnNldCxQPXRoaXMuX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoeCksRD1QLmxpbmVIZWlnaHQsQz1uKHYpP3YubGVuZ3RoOjE7Y29uc3QgZT1DLzIsaT10LmNvbG9yLG89dC50ZXh0U3Ryb2tlQ29sb3IsaD10LnRleHRTdHJva2VXaWR0aDtsZXQgZCxmPWs7aWYocj8oTT1TLCJpbm5lciI9PT1rJiYoZj14PT09Xy0xP3RoaXMub3B0aW9ucy5yZXZlcnNlPyJsZWZ0IjoicmlnaHQiOjA9PT14P3RoaXMub3B0aW9ucy5yZXZlcnNlPyJyaWdodCI6ImxlZnQiOiJjZW50ZXIiKSxPPSJ0b3AiPT09cz8ibmVhciI9PT1jfHwwIT09bT8tQypEK0QvMjoiY2VudGVyIj09PWM/LVQuaGlnaGVzdC5oZWlnaHQvMi1lKkQrRDotVC5oaWdoZXN0LmhlaWdodCtELzI6Im5lYXIiPT09Y3x8MCE9PW0/RC8yOiJjZW50ZXIiPT09Yz9ULmhpZ2hlc3QuaGVpZ2h0LzItZSpEOlQuaGlnaGVzdC5oZWlnaHQtQypELHUmJihPKj0tMSksMD09PW18fHQuc2hvd0xhYmVsQmFja2Ryb3B8fChNKz1ELzIqTWF0aC5zaW4obSkpKToodz1TLE89KDEtQykqRC8yKSx0LnNob3dMYWJlbEJhY2tkcm9wKXtjb25zdCBlPWtpKHQuYmFja2Ryb3BQYWRkaW5nKSxpPVQuaGVpZ2h0c1t4XSxzPVQud2lkdGhzW3hdO2xldCBuPU8tZS50b3Asbz0wLWUubGVmdDtzd2l0Y2goQSl7Y2FzZSJtaWRkbGUiOm4tPWkvMjticmVhaztjYXNlImJvdHRvbSI6bi09aX1zd2l0Y2goayl7Y2FzZSJjZW50ZXIiOm8tPXMvMjticmVhaztjYXNlInJpZ2h0IjpvLT1zO2JyZWFrO2Nhc2UiaW5uZXIiOng9PT1fLTE/by09czp4PjAmJihvLT1zLzIpfWQ9e2xlZnQ6byx0b3A6bix3aWR0aDpzK2Uud2lkdGgsaGVpZ2h0OmkrZS5oZWlnaHQsY29sb3I6dC5iYWNrZHJvcENvbG9yfX1iLnB1c2goe2xhYmVsOnYsZm9udDpQLHRleHRPZmZzZXQ6TyxvcHRpb25zOntyb3RhdGlvbjptLGNvbG9yOmksc3Ryb2tlQ29sb3I6byxzdHJva2VXaWR0aDpoLHRleHRBbGlnbjpmLHRleHRCYXNlbGluZTpBLHRyYW5zbGF0aW9uOltNLHddLGJhY2tkcm9wOmR9fSl9cmV0dXJuIGJ9X2dldFhBeGlzTGFiZWxBbGlnbm1lbnQoKXtjb25zdHtwb3NpdGlvbjp0LHRpY2tzOmV9PXRoaXMub3B0aW9ucztpZigtJCh0aGlzLmxhYmVsUm90YXRpb24pKXJldHVybiJ0b3AiPT09dD8ibGVmdCI6InJpZ2h0IjtsZXQgaT0iY2VudGVyIjtyZXR1cm4ic3RhcnQiPT09ZS5hbGlnbj9pPSJsZWZ0IjoiZW5kIj09PWUuYWxpZ24/aT0icmlnaHQiOiJpbm5lciI9PT1lLmFsaWduJiYoaT0iaW5uZXIiKSxpfV9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHQpe2NvTkZJTklUWTpULFBJOkMsUElUQVU6QSxRVUFSVEVSX1BJOlIsUkFEX1BFUl9ERUc6TCxUQVU6TyxUV09fVEhJUkRTX1BJOkksX2FkZEdyYWNlOkRpLF9hbGlnblBpeGVsOkFlLF9hbGlnblN0YXJ0RW5kOmZ0LF9hbmdsZUJldHdlZW46WixfYW5nbGVEaWZmOkssX2FycmF5VW5pcXVlOmx0LF9hdHRhY2hDb250ZXh0OiRlLF9iZXppZXJDdXJ2ZVRvOlZlLF9iZXppZXJJbnRlcnBvbGF0aW9uOm1pLF9ib3VuZFNlZ21lbnQ6UmksX2JvdW5kU2VnbWVudHM6SWksX2NhcGl0YWxpemU6dyxfY29tcHV0ZVNlZ21lbnRzOnppLF9jcmVhdGVSZXNvbHZlcjpqZSxfZGVjaW1hbFBsYWNlczpVLF9kZXByZWNhdGVkOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMCE9PWUmJmNvbnNvbGUud2Fybih0Kyc6ICInK2krJyIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAiJytzKyciIGluc3RlYWQnKX0sX2Rlc2NyaXB0b3JzOlllLF9lbGVtZW50c0VxdWFsOmYsX2ZhY3Rvcml6ZTpXLF9maWx0ZXJCZXR3ZWVuOm50LF9nZXRQYXJlbnROb2RlOmdlLF9nZXRTdGFydEFuZENvdW50T2ZWaXNpYmxlUG9pbnRzOnB0LF9pbnQxNlJhbmdlOlEsX2lzQmV0d2Vlbjp0dCxfaXNDbGlja0V2ZW50OkQsX2lzRG9tU3VwcG9ydGVkOmZlLF9pc1BvaW50SW5BcmVhOlJlLF9saW1pdFZhbHVlOkosX2xvbmdlc3RUZXh0Ok9lLF9sb29rdXA6ZXQsX2xvb2t1cEJ5S2V5Oml0LF9tZWFzdXJlVGV4dDpDZSxfbWVyZ2VyOm0sX21lcmdlcklmOl8sX25vcm1hbGl6ZUFuZ2xlOkcsX3BhcnNlT2JqZWN0RGF0YVJhZGlhbFNjYWxlOmlpLF9wb2ludEluTGluZTpnaSxfcmVhZFZhbHVlVG9Qcm9wczp2aSxfcmxvb2t1cEJ5S2V5OnN0LF9zY2FsZVJhbmdlc0NoYW5nZWQ6bXQsX3NldE1pbkFuZE1heEJ5S2V5OmosX3NwbGl0S2V5OnYsX3N0ZXBwZWRJbnRlcnBvbGF0aW9uOnBpLF9zdGVwcGVkTGluZVRvOkZlLF90ZXh0WDpndCxfdG9MZWZ0UmlnaHRDZW50ZXI6dXQsX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHM6aGksYWRkUm91bmRlZFJlY3RQYXRoOkhlLGFsbW9zdEVxdWFsczpWLGFsbW9zdFdob2xlOkgsY2FsbGJhY2s6ZCxjbGVhckNhbnZhczpUZSxjbGlwQXJlYTpJZSxjbG9uZTpnLGNvbG9yOlF0LGNyZWF0ZUNvbnRleHQ6Q2ksZGVib3VuY2U6ZHQsZGVmaW5lZDprLGRpc3RhbmNlQmV0d2VlblBvaW50czpxLGRyYXdQb2ludDpMZSxkcmF3UG9pbnRMZWdlbmQ6RWUsZWFjaDp1LGVhc2luZ0VmZmVjdHM6ZmksZmluaXRlT3JEZWZhdWx0OnIsZm9udFN0cmluZzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUrIiAiK3QrInB4ICIraX0sZm9ybWF0TnVtYmVyOm5lLGdldEFuZ2xlRnJvbVBvaW50OlgsZ2V0SG92ZXJDb2xvcjp0ZSxnZXRNYXhpbXVtU2l6ZTp3ZSxnZXRSZWxhdGl2ZVBvc2l0aW9uOnZlLGdldFJ0bEFkYXB0ZXI6T2ksZ2V0U3R5bGU6YmUsaXNBcnJheTpuLGlzRmluaXRlOmEsaXNGdW5jdGlvbjpTLGlzTnVsbE9yVW5kZWY6cyxpc051bWJlcjpOLGlzT2JqZWN0Om8saXNQYXR0ZXJuT3JHcmFkaWVudDpKdCxsaXN0ZW5BcnJheUV2ZW50czphdCxsb2cxMDp6LG1lcmdlOmIsbWVyZ2VJZjp4LG5pY2VOdW06Qixub29wOmUsb3ZlcnJpZGVUZXh0RGlyZWN0aW9uOkFpLHJlYWRVc2VkU2l6ZTpQZSxyZW5kZXJUZXh0Ok5lLHJlcXVlc3RBbmltRnJhbWU6aHQscmVzb2x2ZTpQaSxyZXNvInZ1ZToiKSYmKHI9bC52YWx1ZS5jb250ZW50LnNsaWNlKDQpKTtsZXQgcz1zMihyKXx8dC5pc0J1aWx0SW5Db21wb25lbnQocik7cmV0dXJuIHM/KG58fHQuaGVscGVyKHMpLHMpOih0LmhlbHBlcihzbyksdC5jb21wb25lbnRzLmFkZChyKSxvZChyLCJjb21wb25lbnQiKSl9KGUsdCk6YCIke299ImAsZD1NKHUpJiZ1LmNhbGxlZT09PXNhLHA9MCxoPWR8fHU9PT1sNHx8dT09PWw4fHwhYyYmKCJzdmciPT09b3x8ImZvcmVpZ25PYmplY3QiPT09b3x8Im1hdGgiPT09byk7aWYoYS5sZW5ndGg+MCl7bGV0IHI9YWMoZSx0LHZvaWQgMCxjLGQpO249ci5wcm9wcyxwPXIucGF0Y2hGbGFnLGw9ci5keW5hbWljUHJvcE5hbWVzO2xldCBpPXIuZGlyZWN0aXZlcztzPWkmJmkubGVuZ3RoP3MkKGkubWFwKGU9PihmdW5jdGlvbihlLHQpe2xldCBuPVtdLHI9YW8uZ2V0KGUpO3I/bi5wdXNoKHQuaGVscGVyU3RyaW5nKHIpKToodC5oZWxwZXIoc2MpLHQuZGlyZWN0aXZlcy5hZGQoZS5uYW1lKSxuLnB1c2gob2QoZS5uYW1lLCJkaXJlY3RpdmUiKSkpO2xldHtsb2M6aX09ZTtpZihlLmV4cCYmbi5wdXNoKGUuZXhwKSxlLmFyZyYmKGUuZXhwfHxuLnB1c2goInZvaWQgMCIpLG4ucHVzaChlLmFyZykpLE9iamVjdC5rZXlzKGUubW9kaWZpZXJzKS5sZW5ndGgpe2UuYXJnfHwoZS5leHB8fG4ucHVzaCgidm9pZCAwIiksbi5wdXNoKCJ2b2lkIDAiKSk7bGV0IHQ9c1YoInRydWUiLCExLGkpO24ucHVzaChzRChlLm1vZGlmaWVycy5tYXAoZT0+c0YoZSx0KSksaSkpfXJldHVybiBzJChuLGUubG9jKX0pKGUsdCkpKTp2b2lkIDAsci5zaG91bGRVc2VCbG9jayYmKGg9ITApfWlmKGUuY2hpbGRyZW4ubGVuZ3RoPjApaWYodT09PWw1JiYoaD0hMCxwfD0xMDI0KSxjJiZ1IT09bDQmJnUhPT1sNSl7bGV0e3Nsb3RzOm4saGFzRHluYW1pY1Nsb3RzOml9PWZ1bmN0aW9uKGUsdCxuPShlLHQsbixyKT0+c1UoZSxuLCExLCEwLG4ubGVuZ3RoP25bMF0ubG9jOnIpKXt0LmhlbHBlcihzQSk7bGV0e2NoaWxkcmVuOnIsbG9jOml9PWUsbD1bXSxzPVtdLG89dC5zY29wZXMudlNsb3Q+MHx8dC5zY29wZXMudkZvcj4wLGE9b2UoZSwic2xvdCIsITApO2lmKGEpe2xldHthcmc6ZSxleHA6dH09YTtlJiYhczEoZSkmJihvPSEwKSxsLnB1c2goc0YoZXx8c1YoImRlZmF1bHQiLCEwKSxuKHQsdm9pZCAwLHIsaSkpKX1sZXQgYz0hMSx1PSExLGQ9W10scD1uZXcgU2V0LGg9MDtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7bGV0IGksZixtLGcseT1yW2VdO2lmKCFvcyh5KXx8IShpPW9lKHksInNsb3QiLCEwKSkpezMhPT15LnR5cGUmJmQucHVzaCh5KTtjb250aW51ZX1pZihhKXt0Lm9uRXJyb3IoczAoMzcsaS5sb2MpKTticmVha31jPSEwO2xldHtjaGlsZHJlbjpiLGxvYzpffT15LHthcmc6Uz1zVigiZGVmYXVsdCIsITApLGV4cDp4LGxvYzpDfT1pO3MxKFMpP2Y9Uz9TLmNvbnRlbnQ6ImRlZmF1bHQiOm89ITA7bGV0IGs9b2UoeSwiZm9yIiksVD1uKHgsayxiLF8pO2lmKG09b2UoeSwiaWYiKSlvPSEwLHMucHVzaChzSChtLmV4cCxhcyhTLFQsaCsrKSxhaSkpO2Vsc2UgaWYoZz1vZSh5LC9eZWxzZSg/Oi1pZik/JC8sITApKXtsZXQgbixpPWU7Zm9yKDtpLS0mJm9tKG49cltpXSk7KTtpZihuJiZvcyhuKSYmb2UobiwvXig/OmVsc2UtKT9pZiQvKSl7bGV0IGU9c1tzLmxlbmd0Y10pLG4sZCxpLGwscyxvLGEpLGMrK319ZWxzZSBpZihjPnApZm9yKDtjPD1kOylldChlW2NdLGksbCwhMCksYysrO2Vsc2V7bGV0IGgsZj1jLG09YyxnPW5ldyBNYXA7Zm9yKGM9bTtjPD1wO2MrKyl7bGV0IGU9dFtjXT1hP2l5KHRbY10pOml2KHRbY10pO251bGwhPWUua2V5JiZnLnNldChlLmtleSxjKX1sZXQgeT0wLGI9cC1tKzEsUz0hMSxDPTAsaz1BcnJheShiKTtmb3IoYz0wO2M8YjtjKyspa1tjXT0wO2ZvcihjPWY7Yzw9ZDtjKyspe2xldCByLHU9ZVtjXTtpZih5Pj1iKXtldCh1LGksbCwhMCk7Y29udGludWV9aWYobnVsbCE9dS5rZXkpcj1nLmdldCh1LmtleSk7ZWxzZSBmb3IoaD1tO2g8PXA7aCsrKWlmKDA9PT1rW2gtbV0mJmlhKHUsdFtoXSkpe3I9aDticmVha312b2lkIDA9PT1yP2V0KHUsaSxsLCEwKTooa1tyLW1dPWMrMSxyPj1DP0M9cjpTPSEwLHgodSx0W3JdLG4sbnVsbCxpLGwscyxvLGEpLHkrKyl9bGV0IFQ9Uz9mdW5jdGlvbihlKXtsZXQgdCxuLHIsaSxsLHM9ZS5zbGljZSgpLG89WzBdLGE9ZS5sZW5ndGg7Zm9yKHQ9MDt0PGE7dCsrKXtsZXQgYT1lW3RdO2lmKDAhPT1hKXtpZihlW249b1tvLmxlbmd0aC0xXV08YSl7c1t0XT1uLG8ucHVzaCh0KTtjb250aW51ZX1mb3Iocj0wLGk9by5sZW5ndGgtMTtyPGk7KWVbb1tsPXIraT4+MV1dPGE/cj1sKzE6aT1sO2E8ZVtvW3JdXSYmKHI+MCYmKHNbdF09b1tyLTFdKSxvW3JdPXQpfX1mb3Iocj1vLmxlbmd0aCxpPW9bci0xXTtyLS0gPjA7KW9bcl09aSxpPXNbaV07cmV0dXJuIG99KGspOl87Zm9yKGg9VC5sZW5ndGgtMSxjPWItMTtjPj0wO2MtLSl7bGV0IGU9bStjLGQ9dFtlXSxwPXRbZSsxXSxmPWUrMTx1P3AuZWx8fGZ1bmN0aW9uIGUodCl7aWYodC5wbGFjZWhvbGRlcilyZXR1cm4gdC5wbGFjZWhvbGRlcjtsZXQgbj10LmNvbXBvbmVudDtyZXR1cm4gbj9lKG4uc3ViVHJlZSk6bnVsbH0ocCk6cjswPT09a1tjXT94KG51bGwsZCxuLGYsaSxsLHMsbyxhKTpTJiYoaDwwfHxjIT09VFtoXT9lZShkLG4sZiwyKTpoLS0pfX19LGVlPShlLHQsbixyLGk9bnVsbCk9PntsZXR7ZWw6byx0eXBlOmEsdHJhbnNpdGlvbjpjLGNoaWxkcmVuOnUsc2hhcGVGbGFnOmR9PWU7aWYoNiZkKXJldHVybiB2b2lkIGVlKGUuY29tcG9uZW50LnN1YlRyZWUsdCxuLHIpO2lmKDEyOCZkKXJldHVybiB2b2lkIGUuc3VzcGVuc2UubW92ZSh0LG4scik7aWYoNjQmZClyZXR1cm4gdm9pZCBhLm1vdmUoZSx0LG4sZWMpO2lmKGE9PT1yMyl7bChvLHQsbik7Zm9yKGxldCBlPTA7ZTx1Lmxlbmd0aDtlKyspZWUodVtlXSx0LG4scik7bChlLmFuY2hvcix0LG4pO3JldHVybn1pZihhPT09cjUpcmV0dXJuIHZvaWQoKHtlbDplLGFuY2hvcjp0fSxuLHIpPT57bGV0IGk7Zm9yKDtlJiZlIT09dDspaT1tKGUpLGwoZSxuLHIpLGU9aTtsKHQsbixyKX0pKGUsdCxuKTtpZigyIT09ciYmMSZkJiZjKWlmKDA9PT1yKWMuYmVmb3JlRW50ZXIobyksbChvLHQsbiksckgoKCk9PmMuZW50ZXIobyksaSk7ZWxzZXtsZXR7bGVhdmU6cixkZWxheUxlYXZlOmksYWZ0ZXJMZWF2ZTphfT1jLHU9KCk9PntlLmN0eC5pc1VubW91bnRlZD9zKG8pOmwobyx0LG4pfSxkPSgpPT57by5faXNMZWF2aW5nJiZvW25wXSghMCkscihvLCgpPT57dSgpLGEmJmEoKX0pfTtpP2kobyx1LGQpOmQoKX1lbHNlIGwobyx0LG4pfSxldD0oZSx0dW1lbnRzKXx8dGhpc31zKG4sdCk7dmFyIHI9bi5wcm90b3R5cGU7cmV0dXJuIHIuZG9PcGVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0cnl7dGhpcy5UPW5ldyBXZWJUcmFuc3BvcnQodGhpcy5jcmVhdGVVcmkoImh0dHBzIiksdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbdGhpcy5uYW1lXSl9Y2F0Y2godCl7cmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKCJlcnJvciIsdCl9dGhpcy5ULmNsb3NlZC50aGVuKChmdW5jdGlvbigpe3Qub25DbG9zZSgpfSkpLmNhdGNoKChmdW5jdGlvbihuKXt0Lm9uRXJyb3IoIndlYnRyYW5zcG9ydCBlcnJvciIsbil9KSksdGhpcy5ULnJlYWR5LnRoZW4oKGZ1bmN0aW9uKCl7dC5ULmNyZWF0ZUJpZGlyZWN0aW9uYWxTdHJlYW0oKS50aGVuKChmdW5jdGlvbihuKXt2YXIgaT1mdW5jdGlvbih0LG4pe098fChPPW5ldyBUZXh0RGVjb2Rlcik7dmFyIGk9W10scj0wLGU9LTEsbz0hMTtyZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtOmZ1bmN0aW9uKHMsdSl7Zm9yKGkucHVzaChzKTs7KXtpZigwPT09cil7aWYoTShpKTwxKWJyZWFrO3ZhciBoPXgoaSwxKTtvPSEoMTI4Jn5oWzBdKSxlPTEyNyZoWzBdLHI9ZTwxMjY/MzoxMjY9PT1lPzE6Mn1lbHNlIGlmKDE9PT1yKXtpZihNKGkpPDIpYnJlYWs7dmFyIGY9eChpLDIpO2U9bmV3IERhdGFWaWV3KGYuYnVmZmVyLGYuYnl0ZU9mZnNldCxmLmxlbmd0aCkuZ2V0VWludDE2KDApLHI9M31lbHNlIGlmKDI9PT1yKXtpZihNKGkpPDgpYnJlYWs7dmFyIGM9eChpLDgpLGE9bmV3IERhdGFWaWV3KGMuYnVmZmVyLGMuYnl0ZU9mZnNldCxjLmxlbmd0aCksdj1hLmdldFVpbnQzMigwKTtpZih2Pk1hdGgucG93KDIsMjEpLTEpe3UuZW5xdWV1ZShkKTticmVha31lPXYqTWF0aC5wb3coMiwzMikrYS5nZXRVaW50MzIoNCkscj0zfWVsc2V7aWYoTShpKTxlKWJyZWFrO3ZhciBsPXgoaSxlKTt1LmVucXVldWUoUyhvP2w6Ty5kZWNvZGUobCksbikpLHI9MH1pZigwPT09ZXx8ZT50KXt1LmVucXVldWUoZCk7YnJlYWt9fX19KX0oTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsdC5zb2NrZXQuYmluYXJ5VHlwZSkscj1uLnJlYWRhYmxlLnBpcGVUaHJvdWdoKGkpLmdldFJlYWRlcigpLGU9VSgpO2UucmVhZGFibGUucGlwZVRvKG4ud3JpdGFibGUpLHQuVT1lLndyaXRhYmxlLmdldFdyaXRlcigpOyFmdW5jdGlvbiBuKCl7ci5yZWFkKCkudGhlbigoZnVuY3Rpb24oaSl7dmFyIHI9aS5kb25lLGU9aS52YWx1ZTtyfHwodC5vblBhY2tldChlKSxuKCkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt9KSl9KCk7dmFyIG89e3R5cGU6Im9wZW4ifTt0LnF1ZXJ5LnNpZCYmKG8uZGF0YT0neyJzaWQiOiInLmNvbmNhdCh0LnF1ZXJ5LnNpZCwnIn0nKSksdC5VLndyaXRlKG8pLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQub25PcGVuKCl9KSl9KSl9KSl9LHIud3JpdGU9ZnVuY3Rpb24odCl7dmFyIG49dGhpczt0aGlzLndyaXRhYmxlPSExO2Zvcih2YXIgaT1mdW5jdGlvbigpe3ZhciBpPXRbcl0sZT1yPT09dC5sZW5ndGgtMTtuLlUud3JpdGUoaSkudGhlbigoZnVuY3Rpb24oKXtlJiZSKChmdW5jdGlvbigpe24ud3JpdGFibGU9ITAsbi5lbWl0UmVzZXJ2ZWQoImRyYWluIil9KSxuLnNldFRpbWVvdXRGbil9KSl9LHI9MDtyPHQubGVuZ3RoO3IrKylpKCl9LHIuZG9DbG9zZT1mdW5jYXJDb2RlKDMyKSxTZz0hMSxIYj0hMSxMaj17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCwiZGF0ZXRpbWUtbG9jYWwiOiEwLGVtYWlsOiEwLG1vbnRoOiEwLG51bWJlcjohMCxwYXNzd29yZDohMCxyYW5nZTohMCxzZWFyY2g6ITAsdGVsOiEwLHRleHQ6ITAsdGltZTohMCx1cmw6ITAsd2VlazohMH0sb2M9bnVsbCxwYz1udWxsLHBoPSExO0lhJiYocGg9TWooImlucHV0IikmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PGRvY3VtZW50LmRvY3VtZW50TW9kZSkpO3ZhciB1YT0iZnVuY3Rpb24iPT09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6VGosZWs9SWEmJiJkb2N1bWVudE1vZGUiaW4gZG9jdW1lbnQmJjExPj1kb2N1bWVudC5kb2N1bWVudE1vZGUsSmI9bnVsbCxLZT1udWxsLHJjPW51bGwsSmU9ITEsS2I9e2FuaW1hdGlvbmVuZDpnZCgiQW5pbWF0aW9uIiwiQW5pbWF0aW9uRW5kIiksCmFuaW1hdGlvbml0ZXJhdGlvbjpnZCgiQW5pbWF0aW9uIiwiQW5pbWF0aW9uSXRlcmF0aW9uIiksYW5pbWF0aW9uc3RhcnQ6Z2QoIkFuaW1hdGlvbiIsIkFuaW1hdGlvblN0YXJ0IiksdHJhbnNpdGlvbmVuZDpnZCgiVHJhbnNpdGlvbiIsIlRyYW5zaXRpb25FbmQiKX0sTGU9e30sZWg9e307SWEmJihlaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSwiQW5pbWF0aW9uRXZlbnQiaW4gd2luZG93fHwoZGVsZXRlIEtiLmFuaW1hdGlvbmVuZC5hbmltYXRpb24sZGVsZXRlIEtiLmFuaW1hdGlvbml0ZXJhdGlvbi5hbmltYXRpb24sZGVsZXRlIEtiLmFuaW1hdGlvbnN0YXJ0LmFuaW1hdGlvbiksIlRyYW5zaXRpb25FdmVudCJpbiB3aW5kb3d8fGRlbGV0ZSBLYi50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb24pO3ZhciBqaD1oZCgiYW5pbWF0aW9uZW5kIiksa2g9aGQoImFuaW1hdGlvbml0ZXJhdGlvbiIpLGxoPWhkKCJhbmltYXRpb25zdGFydCIpLG1oPWhkKCJ0cmFuc2l0aW9uZW5kIiksCmZoPW5ldyBNYXAsJGk9ImFib3J0IGF1eENsaWNrIGNhbmNlbCBjYW5QbGF5IGNhblBsYXlUaHJvdWdoIGNsaWNrIGNsb3NlIGNvbnRleHRNZW51IGNvcHkgY3V0IGRyYWcgZHJhZ0VuZCBkcmFnRW50ZXIgZHJhZ0V4aXQgZHJhZ0xlYXZlIGRyYWdPdmVyIGRyYWdTdGFydCBkcm9wIGR1cmF0aW9uQ2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGdvdFBvaW50ZXJDYXB0dXJlIGlucHV0IGludmFsaWQga2V5RG93biBrZXlQcmVzcyBrZXlVcCBsb2FkIGxvYWRlZERhdGEgbG9hZGVkTWV0YWRhdGEgbG9hZFN0YXJ0IGxvc3RQb2ludGVyQ2FwdHVyZSBtb3VzZURvd24gbW91c2VNb3ZlIG1vdXNlT3V0IG1vdXNlT3ZlciBtb3VzZVVwIHBhc3RlIHBhdXNlIHBsYXkgcGxheWluZyBwb2ludGVyQ2FuY2VsIHBvaW50ZXJEb3duIHBvaW50ZXJNb3ZlIHBvaW50ZXJPdXQgcG9pbnRlck92ZXIgcG9pbnRlclVwIHByb2dyZXNzIHJhdGVDaGFuZ2UgcmVzZXQgcmVzaXplIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VibWl0IHN1c3BlbmQgdGltZVVwZGF0ZSB0b3VjaENhbmNlbCB0b3VjaEVuZCB0b3VjaFN0YXJ0IHZvbHVtZUNoYW5nZSBzY3JvbGwgdG9nZ2xlIHRvdWNoTW92ZSB3YWl0aW5nIHdoZWVsIi5zcGxpdCgiICIpOwooZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPCRpLmxlbmd0aDthKyspe3ZhciBiPSRpW2FdLGM9Yi50Y3Rpb24gaWEoYSxiKXt2YXIgYz1hLmNhbGxiYWNrTm9kZTt1aihhLGIpO3ZhciBkPVZjKGEsYT09PU8/VTowKTtpZigwPT09ZCludWxsIT09YyYmTGkoYyksYS5jYWxsYmFja05vZGU9bnVsbCxhLmNhbGxiYWNrUHJpb3JpdHk9MDtlbHNlIGlmKGI9ZCYtZCxhLmNhbGxiYWNrUHJpb3JpdHkhPT1iKXtudWxsIT1jJiZMaShjKTtpZigxPT09YikwPT09YS50YWc/a2soTWkuYmluZChudWxsLGEpKTp3aChNaS5iaW5kKG51bGwsYSkpLEtrKGZ1bmN0aW9uKCl7MD09PShwJjYpJiZkYigpfSksYz1udWxsO2Vsc2V7c3dpdGNoKEVnKGQpKXtjYXNlIDE6Yz1EZTticmVhaztjYXNlIDQ6Yz1NZzticmVhaztjYXNlIDE2OmM9YWQ7YnJlYWs7Y2FzZSA1MzY4NzA5MTI6Yz1OZzticmVhaztkZWZhdWx0OmM9YWR9Yz1OaShjLE9pLmJpbmQobnVsbCxhKSl9YS5jYWxsYmFja1ByaW9yaXR5PWI7YS5jYWxsYmFja05vZGU9Y319ZnVuY3Rpb24gT2koYSxiKXtLZD0tMTsKTGQ9MDtpZigwIT09KHAmNikpdGhyb3cgRXJyb3IobigzMjcpKTt2YXIgYz1hLmNhbGxiYWNrTm9kZTtpZihYYigpJiZhLmNhbGxiYWNrTm9kZSE9PWMpcmV0dXJuIG51bGw7dmFyIGQ9VmMoYSxhPT09Tz9VOjApO2lmKDA9PT1kKXJldHVybiBudWxsO2lmKDAhPT0oZCYzMCl8fDAhPT0oZCZhLmV4cGlyZWRMYW5lcyl8fGIpYj1OZChhLGQpO2Vsc2V7Yj1kO3ZhciBlPXA7cHw9Mjt2YXIgZj1QaSgpO2lmKE8hPT1hfHxVIT09YilSYT1udWxsLEhjKCkseGIoYSxiKTtkbyB0cnl7TGsoKTticmVha31jYXRjaChoKXtRaShhLGgpfXdoaWxlKDEpO1plKCk7T2QuY3VycmVudD1mO3A9ZTtudWxsIT09ST9iPTA6KE89bnVsbCxVPTAsYj1MKX1pZigwIT09Yil7Mj09PWImJihlPXZlKGEpLDAhPT1lJiYoZD1lLGI9UWYoYSxlKSkpO2lmKDE9PT1iKXRocm93IGM9SmMseGIoYSwwKSxrYihhLGQpLGlhKGEsUCgpKSxjO2lmKDY9PT1iKWtiKGEsZCk7ZWxzZXtlPWEuY3VycmVudC5hbHRlcm5hdGU7CmlmKDA9PT0oZCYzMCkmJiFNayhlKSYmKGI9TmQoYSxkKSwyPT09YiYmKGY9dmUoYSksMCE9PWYmJihkPWYsYj1RZihhLGYpKSksMT09PWIpKXRocm93IGM9SmMseGIoYSwwKSxrYihhLGQpLGlhKGEsUCgpKSxjO2EuZmluaXNoZWRXb3JrPWU7YS5maW5pc2hlZExhbmVzPWQ7c3dpdGNoKGIpe2Nhc2UgMDpjYXNlIDE6dGhyb3cgRXJyb3IobigzNDUpKTtjYXNlIDI6eWIoYSxqYSxSYSk7YnJlYWs7Y2FzZSAzOmtiKGEsZCk7aWYoKGQmMTMwMDIzNDI0KT09PWQmJihiPU9mKzUwMC1QKCksMTA8Yikpe2lmKDAhPT1WYyhhLDApKWJyZWFrO2U9YS5zdXNwZW5kZWRMYW5lcztpZigoZSZkKSE9PWQpe1ooKTthLnBpbmdlZExhbmVzfD1hLnN1c3BlbmRlZExhbmVzJmU7YnJlYWt9YS50aW1lb3V0SGFuZGxlPVJmKHliLmJpbmQobnVsbCxhLGphLFJhKSxiKTticmVha315YihhLGphLFJhKTticmVhaztjYXNlIDQ6a2IoYSxkKTtpZigoZCY0MTk0MjQwKT09PWQpYnJlYWs7Yj1hLmV2ZW50VGltZXM7CmZvcihlPS0xOzA8ZDspe3ZhciBnPTMxLXRhKGQpO2Y9MTw8ZztnPWJbZ107Zz5lJiYoZT1nKTtkJj1+Zn1kPWU7ZD1QKCktZDtkPSgxMjA+ZD8xMjA6NDgwPmQ/NDgwOjEwODA+ZD8xMDgwOjE5MjA+ZD8xOTIwOjNFMz5kPzNFMzo0MzIwPmQ/NDMyMDoxOTYwKk5rKGQvMTk2MCkpLWQ7aWYoMTA8ZCl7YS50aW1laWdJbnQoMjIpO2NvbnN0IF8yM249QmlnSW50KDIzKSxfNDRuPUJpZ0ludCg0NCksXzg4bj1CaWdJbnQoODgpO2NvbnN0IGIyPXkqeSp5JVA7Y29uc3QgYjM9YjIqYjIqeSVQO2NvbnN0IGI2PXBvdzIoYjMsXzNuLFApKmIzJVA7Y29uc3QgYjk9cG93MihiNixfM24sUCkqYjMlUDtjb25zdCBiMTE9cG93MihiOSxfMm4sUCkqYjIlUDtjb25zdCBiMjI9cG93MihiMTEsXzExbixQKSpiMTElUDtjb25zdCBiNDQ9cG93MihiMjIsXzIybixQKSpiMjIlUDtjb25zdCBiODg9cG93MihiNDQsXzQ0bixQKSpiNDQlUDtjb25zdCBiMTc2PXBvdzIoYjg4LF84OG4sUCkqYjg4JVA7Y29uc3QgYjIyMD1wb3cyKGIxNzYsXzQ0bixQKSpiNDQlUDtjb25zdCBiMjIzPXBvdzIoYjIyMCxfM24sUCkqYjMlUDtjb25zdCB0MT1wb3cyKGIyMjMsXzIzbixQKSpiMjIlUDtjb25zdCB0Mj1wb3cyKHQxLF82bixQKSpiMiVQO2NvbnN0IHJvb3Q9cG93Mih0MixfMm4sUCk7aWYoIUZwLmVxbChGcC5zcXIocm9vdCkseSkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBzcXVhcmUgcm9vdCIpO3JldHVybiByb290fWNvbnN0IEZwPUZpZWxkKHNlY3AyNTZrMVAsdW5kZWZpbmVkLHVuZGVmaW5lZCx7c3FydDpzcXJ0TW9kfSk7Y29uc3Qgc2VjcDI1NmsxPWNyZWF0ZUN1cnZlKHthOkJpZ0ludCgwKSxiOkJpZ0ludCg3KSxGcDpGcCxuOnNlY3AyNTZrMU4sR3g6QmlnSW50KCI1NTA2NjI2MzAyMjI3NzM0MzY2OTU3ODcxODg5NTE2ODUzNDMyNjI1MDYwMzQ1Mzc3NzU5NDE3NTUwMDE4NzM2MDM4OTExNjcyOTI0MCIpLEd5OkJpZ0ludCgiMzI2NzA1MTAwMjA3NTg4MTY5NzgwODMwODUxMzA1MDcwNDMxODQ0NzEyNzMzODA2NTkyNDMyNzU5Mzg5MDQzMzU3NTczMzc0ODI0MjQiKSxoOkJpZ0ludCgxKSxsb3dTOnRydWUsZW5kbzp7YmV0YTpCaWdJbnQoIjB4N2FlOTZhMmI2NTdjMDcxMDZlNjQ0NzllYWMzNDM0ZTk5Y2YwNDk3NTEyZjU4OTk1YzEzOTZjMjg3MTk1MDFlZSIpLHNwbGl0U2NhbGFyOms9Pntjb25zdCBuPXNlY3AyNTZrMU47Y29uc3QgYTE9QmlnSW50KCIweDMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1Iik7Y29uc3QgYjE9LV8xbipCaWdJbnQoIjB4ZTQ0MzdlZDYwMTBlODgyODZmNTQ3ZmE5MGFiZmU0YzMiKTtjb25zdCBhMj1CaWdJbnQoIjB4MTE0Y2E1MGY3YThlMmYzZjY1N2MxMTA4ZDlkNDRjZmQ4Iik7Y29uc3QgYjI9YTE7Y29uc3QgUE9XXzJfMTI4PUJpZ0ludCgiMHgxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiKTtjb25zdCBjMT1kaXZOZWFyZXN0KGIyKmssbik7Y29uc3QgYzI9ZGl2TmVhcmVzdCgtYjEqayxuKTtsZXQgazE9bW9kKGstYzEqYTEtYzIqYTIsbik7bGV0IGsyPW1vZCgtYzEqYjEtYzIqYjIsbik7Y29uc3QgazFuZWc9azE+UE9XXzJfMTI4O2NvbnN0IGsybmVnPWsyPlBPV18yXzEyODtpZihrMW5lZylrMT1uLWsxO2lmKGsybmVnKWsyPW4tazI7aWYoazE+UE9XXzJfMTI4fHxrMj5QT1dfMl8xMjgpe3Rocm93IG5ldyBFcnJvcigic3BsaXRTY2FsYXI6IEVuZG9tb3JwaGlzbSBmYWlsZWQsIGs9IitrKX1yZXR1cm57azFuZWc6azFuZWcsazE6azEsazJuZWc6azJuZWcsazI6azJ9fX19LHNoYTI1NiQxKTtCaWdJbnQoMCk7c2VjcDI1NmsxLlByb2plY3RpdmVQb2ludDtjb25zdCBaZXJvQWRkcmVzcz0iMHgwMDAwY2NhazI1NiBpcyBsb2NrZWQiKX1fX2tlY2NhazI1Nj1mdW5jfTtPYmplY3QuZnJlZXplKGtlY2NhazI1Nik7Y29uc3QgUmhvPW5ldyBVaW50OEFycmF5KFs3LDQsMTMsMSwxMCw2LDE1LDMsMTIsMCw5LDUsMiwxNCwxMSw4XSk7Y29uc3QgSWQ9VWludDhBcnJheS5mcm9tKHtsZW5ndGg6MTZ9LChfLGkpPT5pKTtjb25zdCBQaT1JZC5tYXAoaT0+KDkqaSs1KSUxNik7bGV0IGlkeEw9W0lkXTtsZXQgaWR4Uj1bUGldO2ZvcihsZXQgaT0wO2k8NDtpKyspZm9yKGxldCBqIG9mW2lkeEwsaWR4Ul0pai5wdXNoKGpbaV0ubWFwKGs9PlJob1trXSkpO2NvbnN0IHNoaWZ0cz1bWzExLDE0LDE1LDEyLDUsOCw3LDksMTEsMTMsMTQsMTUsNiw3LDksOF0sWzEyLDEzLDExLDE1LDYsOSw5LDcsMTIsMTUsMTEsMTMsNyw4LDcsN10sWzEzLDE1LDE0LDExLDcsNyw2LDgsMTMsMTQsMTMsMTIsNSw1LDYsOV0sWzE0LDExLDEyLDE0LDgsNiw1LDUsMTUsMTIsMTUsMTQsOSw5LDgsNl0sWzE1LDEyLDEzLDEzLDksNSw4LDYsMTQsMTEsMTIsMTEsOCw2LDUsNV1dLm1hcChpPT5uZXcgVWludDhBcnJheShpKSk7Y29uc3Qgc2hpZnRzTD1pZHhMLm1hcCgoaWR4LGkpPT5pZHgubWFwKGo9PnNoaWZ0c1tpXVtqXSkpO2NvbnN0IHNoaWZ0c1I9aWR4Ui5tYXAoKGlkeCxpKT0+aWR4Lm1hcChqPT5zaGlmdHNbaV1bal0pKTtjb25zdCBLbD1uZXcgVWludDMyQXJyYXkoWzAsMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMjg0MDg1MzgzOF0pO2NvbnN0IEtyPW5ldyBVaW50MzJBcnJheShbMTM1MjgyOTkyNiwxNTQ4NjAzNjg0LDE4MzYwNzI2OTEsMjA1Mzk5NDIxNywwXSk7Y29uc3Qgcm90bCQxPSh3b3JkLHNoaWZ0KT0+d29yZDw8c2hpZnR8d29yZD4+PjMyLXNoaWZ0O2Z1bmN0aW9uIGYoZ3JvdXAseCx5LHope2lmKGdyb3VwPT09MClyZXR1cm4geF55Xno7ZWxzZSBpZihncm91cD09PTEpcmV0dXJuIHgmeXx+eCZ6O2Vsc2UgaWYoZ3JvdXA9PT0yKXJldHVybih4fH55KV56O2Vsc2UgaWYoZ3JvdXA9PT0zKXJldHVybiB4Jnp8eSZ+ejtlbHNlIHJldHVybiB4Xih5fH56KX1jb25zdCBCVUY9bmV3IFVpbnQzMkFycmF5KDE2KTtjbGFzcyBSSVBFTUQxNjAgZXh0ZW5kcyBTSEEye2NvbnN0cnVjdG9yKCl7c3VwZXIoNjQsMjAsOCx0cnVlKTt0aGlzLmgwPTE3MzI1ODQxOTN8MDt0aGlzLmgxPTQwMjMyMzM0MTd8MDt0aGlzLmgyPTI1NjIzODMxMDJ8MDt0aGlzLmgzPTI3MTczMzg3OHwwO3RoaXMuaDQ9MzI4NTM3NzUyMHwwfWdldCgpe2NvbnN0e2gwLGgxLGgyLGgzLGg0fT10aGlzO3JldHVybltoMCxoMSxoMixoMyxoNF19c2V0KGgwLGgxLGgyLGgzLGg0KXt0aGlzLmgwPWgwfDA7dGhpcy5oMT1oMXwwO3RoaXMuaDI9aDJ8MDt0aGlzLmgzPWgzfDA7dGhpcy5oND1oNHwwfXByb2Nlc3ModmlldyxvZmZzZXQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrLG9mZnNldCs9NClCVUZbaV09dmlldy5nZXRVaW50MzIob2Zmc2V0LHRydWUpO2xldCBhbD10aGlzLmgwfDAsYXI9YWwsYmw9dGhpcy5oMXwwLGJyPWJsLGNsPXRoaXMuaDJ8MCxjcj1jbCxkbD10aGlzLmgzfDAsZHI9ZGwsZWw9dGhpcy5oNHwwLGVyPWVsO2ZvcihsZXQgZ3JvdXA9MDtncm91cDw1O2dyb3VwKyspe2NvbnN0IHJHcm91cD00LWdyb3VwO2NvbnN0IGhibD1LbFtncm91cF0saGJyPUtyW2dyb3VwXTtjb25zLHdpZHRoKX1lbHNle3ZhbD0tZnJvbVR3b3MobWFzaygtdmFsLHdpZHRoKSx3aWR0aCl9fWVsc2V7Y29uc3QgbGltaXQ9Qk5fMSQ0PDx3aWR0aDthc3NlcnQoc2FmZU9wPT1udWxsfHx2YWw+PTAmJnZhbDxsaW1pdCwib3ZlcmZsb3ciLCJOVU1FUklDX0ZBVUxUIix7b3BlcmF0aW9uOnNhZmVPcCxmYXVsdDoib3ZlcmZsb3ciLHZhbHVlOnZhbH0pO3ZhbD0odmFsJWxpbWl0K2xpbWl0KSVsaW1pdCZsaW1pdC1CTl8xJDR9cmV0dXJuIHZhbH1mdW5jdGlvbiBnZXRGb3JtYXQodmFsdWUpe2lmKHR5cGVvZiB2YWx1ZT09PSJudW1iZXIiKXt2YWx1ZT1gZml4ZWQxMjh4JHt2YWx1ZX1gfWxldCBzaWduZWQ9dHJ1ZTtsZXQgd2lkdGg9MTI4O2xldCBkZWNpbWFscz0xODtpZih0eXBlb2YgdmFsdWU9PT0ic3RyaW5nIil7aWYodmFsdWU9PT0iZml4ZWQiKTtlbHNlIGlmKHZhbHVlPT09InVmaXhlZCIpe3NpZ25lZD1mYWxzZX1lbHNle2NvbnN0IG1hdGNoPXZhbHVlLm1hdGNoKC9eKHU/KWZpeGVkKFswLTldKyl4KFswLTldKykkLyk7YXNzZXJ0QXJndW1lbnQobWF0Y2gsImludmFsaWQgZml4ZWQgZm9ybWF0IiwiZm9ybWF0Iix2YWx1ZSk7c2lnbmVkPW1hdGNoWzFdIT09InUiO3dpZHRoPXBhcnNlSW50KG1hdGNoWzJdKTtkZWNpbWFscz1wYXJzZUludChtYXRjaFszXSl9fWVsc2UgaWYodmFsdWUpe2NvbnN0IHY9dmFsdWU7Y29uc3QgY2hlY2s9KGtleSx0eXBlLGRlZmF1bHRWYWx1ZSk9PntpZih2W2tleV09PW51bGwpe3JldHVybiBkZWZhdWx0VmFsdWV9YXNzZXJ0QXJndW1lbnQodHlwZW9mIHZba2V5XT09PXR5cGUsImludmFsaWQgZml4ZWQgZm9ybWF0ICgiK2tleSsiIG5vdCAiK3R5cGUrIikiLCJmb3JtYXQuIitrZXksdltrZXldKTtyZXR1cm4gdltrZXldfTtzaWduZWQ9Y2hlY2soInNpZ25lZCIsImJvb2xlYW4iLHNpZ25lZCk7d2lkdGg9Y2hlY2soIndpZHRoIiwibnVtYmVyIix3aWR0aCk7ZGVjaW1hbHM9Y2hlY2soImRlY2ltYWxzIiwibnVtYmVyIixkZWNpbWFscyl9YXNzZXJ0QXJndW1lbnQod2lkdGglOD09PTAsImludmFsaWQgRml4ZWROdW1iZXIgd2lkdGggKG5vdCBieXRlIGFsaWduZWQpIiwiZm9ybWF0LndpZHRoIix3aWR0aCk7YXNzZXJ0QXJndW1lbnQoZGVjaW1hbHM8PTgwLCJpbnZhbGlkIEZpeGVkTnVtYmVyIGRlY2ltYWxzICh0b28gbGFyZ2UpIiwiZm9ybWF0LmRlY2ltYWxzIixkZWNpbWFscyk7Y29uc3QgbmFtZT0oc2lnbmVkPyIiOiJ1IikrImZpeGVkIitTdHJpbmcod2lkdGgpKyJ4IitTdHJpbmcoZGVjaW1hbHMpO3JldHVybntzaWduZWQ6c2lnbmVkLHdpZHRoOndpZHRoLGRlY2ltYWxzOmRlY2ltYWxzLG5hbWU6bmFtZX19ZnVuY3Rpb24gdG9TdHJpbmcodmFsLGRlY2ltYWxzKXtsZXQgbmVnYXRpdmU9IiI7aWYodmFsPEJOXzAkOCl7bmVnYXRpdmU9Ii0iO3ZhbCo9Qk5fTjF9bGV0IHN0cj12YWwudG9TdHJpbmcoKTtpZihkZWNpbWFscz09PTApe3JldHVybiBuZWdhdGl2ZStzdHJ9d2hpbGUoc3RyLmxlbmd0aDw9ZGVjaW1hbHMpe3N0cj1aZXJvcyQxK3N0cn1jb25zdCBpbmRleD1zdHIubGVuZ3RoLWRlY2ltYWxzO3N0cj1zdHIuc3Vic3RyaW5nKDAsaW5kZXgpKyIuIitzdHIuc3Vic3RyaW5nKGluZGV4KTt3aGlsZShzdHJbMF09PT0iMCImJnN0clsxXSE9PSIuIil7c3RyPXN0ci5zdWJzdHJpbmcoMSl9d2hpbGUob21pc2UoKChyLGkpPT57dC5wdXNoKCgoZSx0KT0+bj9lP2koZSk6cih0KTpyKGUpKSksdGhpcy5lbWl0KGUsLi4udCl9KSl9X2FkZFRvUXVldWUoZSl7bGV0IHQ7ImZ1bmN0aW9uIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0mJih0PWUucG9wKCkpO2NvbnN0IG49e2lkOnRoaXMuX3F1ZXVlU2VxKyssdHJ5Q291bnQ6MCxwZW5kaW5nOiExLGFyZ3M6ZSxmbGFnczpPYmplY3QuYXNzaWduKHtmcm9tUXVldWU6ITB9LHRoaXMuZmxhZ3MpfTtlLnB1c2goKChlLC4uLnIpPT57aWYobiE9PXRoaXMuX3F1ZXVlWzBdKXJldHVybjtyZXR1cm4gbnVsbCE9PWU/bi50cnlDb3VudD50aGlzLl9vcHRzLnJldHJpZXMmJih0aGlzLl9xdWV1ZS5zaGlmdCgpLHQmJnQoZSkpOih0aGlzLl9xdWV1ZS5zaGlmdCgpLHQmJnQobnVsbCwuLi5yKSksbi5wZW5kaW5nPSExLHRoaXMuX2RyYWluUXVldWUoKX0pKSx0aGlzLl9xdWV1ZS5wdXNoKG4pLHRoaXMuX2RyYWluUXVldWUoKX1fZHJhaW5RdWV1ZShlPSExKXtpZighdGhpcy5jb25uZWN0ZWR8fDA9PT10aGlzLl9xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fcXVldWVbMF07dC5wZW5kaW5nJiYhZXx8KHQucGVuZGluZz0hMCx0LnRyeUNvdW50KyssdGhpcy5mbGFncz10LmZsYWdzLHRoaXMuZW1pdC5hcHBseSh0aGlzLHQuYXJncykpfXBhY2tldChlKXtlLm5zcD10aGlzLm5zcCx0aGlzLmlvLl9wYWNrZXQoZSl9b25vcGVuKCl7ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuYXV0aD90aGlzLmF1dGgoKGU9Pnt0aGlzLl9zZW5kQ29ubmVjdFBhY2tldChlKX0pKTp0aGlzLl9zZW5kQ29ubmVjdFBhY2tldCh0aGlzLmF1dGgpfV9zZW5kQ29ubmVjdFBhY2tldChlKXt0aGlzLnBhY2tldCh7dHlwZTpRdC5DT05ORUNULGRhdGE6dGhpcy5fcGlkP09iamVjdC5hc3NpZ24oe3BpZDp0aGlzLl9waWQsb2Zmc2V0OnRoaXMuX2xhc3RPZmZzZXR9LGUpOmV9KX1vbmVycm9yKGUpe3RoaXMuY29ubmVjdGVkfHx0aGlzLmVtaXRSZXNlcnZlZCgiY29ubmVjdF9lcnJvciIsZSl9b25jbG9zZShlLHQpe3RoaXMuY29ubmVjdGVkPSExLGRlbGV0ZSB0aGlzLmlkLHRoaXMuZW1pdFJlc2VydmVkKCJkaXNjb25uZWN0IixlLHQpfW9ucGFja2V0KGUpe2lmKGUubnNwPT09dGhpcy5uc3Apc3dpdGNoKGUudHlwZSl7Y2FzZSBRdC5DT05ORUNUOmUuZGF0YSYmZS5kYXRhLnNpZD90aGlzLm9uY29ubmVjdChlLmRhdGEuc2lkLGUuZGF0YS5waWQpOnRoaXMuZW1pdFJlc2VydmVkKCJjb25uZWN0X2Vycm9yIixuZXcgRXJyb3IoIkl0IHNlZW1zIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWNoIGEgU29ja2V0LklPIHNlcnZlciBpbiB2Mi54IHdpdGggYSB2My54IGNsaWVudCwgYnV0IHRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIChtb3JlIGluZm9ybWF0aW9uIGhlcmU6IGh0dHBzOi8vc29ja2V0LmlvL2RvY3MvdjMvbWlncmF0aW5nLWZyb20tMi14LXRvLTMtMC8pIikpO2JyZWFrO2Nhc2UgUXQuRVZFTlQ6Y2FzZSBRdC5CSU5BUllfRVZFTlQ6dGhpcy5vbmV2ZW50KGUpO2JyZWFrO2Nhc2UgUXQuQUNLOmNhc2UgUXQuQklOQVJZX0FDSzp0aGlzLm9uYWNrKGUpO2JyZWFrO2Nhc2UgUXQuRElTQ09OTkVDVDp0aGlzLm9uZGlzY29ubmVjdCgpO2JyZWFrO2Nhc2UgUXQuQ09OTkVDVF9FUlJPUjp0aGlzLmRlc3Ryb3koKTtjb25zdCB0PW5ldyBFcmYgZSYmRC50ZXN0KGUpfWZvcih2YXIgaj1bXSxVPTA7VTwyNTY7KytVKWoucHVzaCgoVSsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO2Z1bmN0aW9uIHooZSx0LG4pe3ZhciByPShlPWV8fHt9KS5yYW5kb218fChlLnJuZ3x8TikoKTtpZihyWzZdPTE1JnJbNl18NjQscls4XT02MyZyWzhdfDEyOCx0KXtuPW58fDA7Zm9yKHZhciBpPTA7aTwxNjsrK2kpdFtuK2ldPXJbaV07cmV0dXJuIHR9cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49KGpbZVt0KzBdXStqW2VbdCsxXV0raltlW3QrMl1dK2pbZVt0KzNdXSsiLSIraltlW3QrNF1dK2pbZVt0KzVdXSsiLSIraltlW3QrNl1dK2pbZVt0KzddXSsiLSIraltlW3QrOF1dK2pbZVt0KzldXSsiLSIraltlW3QrMTBdXStqW2VbdCsxMV1dK2pbZVt0KzEyXV0raltlW3QrMTNdXStqW2VbdCsxNF1dK2pbZVt0KzE1XV0pLnRvTG93ZXJDYXNlKCk7aWYoIUIobikpdGhyb3cgVHlwZUVycm9yKCJTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQiKTtyZXR1cm4gbn0ocil9Y29uc3QgRj1PYmplY3QuY3JlYXRlKG51bGwpO0Yub3Blbj0iMCIsRi5jbG9zZT0iMSIsRi5waW5nPSIyIixGLnBvbmc9IjMiLEYubWVzc2FnZT0iNCIsRi51cGdyYWRlPSI1IixGLm5vb3A9IjYiO2NvbnN0IHE9T2JqZWN0LmNyZWF0ZShudWxsKTtPYmplY3Qua2V5cyhGKS5mb3JFYWNoKChlPT57cVtGW2VdXT1lfSkpO2NvbnN0IFc9e3R5cGU6ImVycm9yIixkYXRhOiJwYXJzZXIgZXJyb3IifSxWPSJmdW5jdGlvbiI9PXR5cGVvZiBCbG9ifHwidW5kZWZpbmVkIiE9dHlwZW9mIEJsb2ImJiJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEJsb2IpLEs9ImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyLEg9ZT0+ImZ1bmN0aW9uIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcoZSk6ZSYmZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciwkPSh7dHlwZTplLGRhdGE6dH0sbixyKT0+ViYmdCBpbnN0YW5jZW9mIEJsb2I/bj9yKHQpOlkodCxyKTpLJiYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxIKHQpKT9uP3IodCk6WShuZXcgQmxvYihbdF0pLHIpOnIoRltlXSsodHx8IiIpKSxZPShlLHQpPT57Y29uc3Qgbj1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gbi5vbmxvYWQ9ZnVuY3Rpb24oKXtjb25zdCBlPW4ucmVzdWx0LnNwbGl0KCIsIilbMV07dCgiYiIrKGV8fCIiKSl9LG4ucmVhZEFzRGF0YVVSTChlKX07ZnVuY3Rpb24gRyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/ZTplIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9bGV0IFE7ZnVuY3Rpb24gWihlLHQpe3JldHVybiBWJiZlLmRhdGEgaW5zdGFuY2VvZiBCbG9iP2UuZGF0YS5hcnJheUJ1ZmZlcigpLnRoZW4oRykudGhlbih0KTpLJiYoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEgoZS5kYXRhKSk/dChHKGUuZGF0YSkpOnZvaWQgJChlLCExLChlPT57UXx8KFE9bmV3IFRleHRFbmNvZGVyKSx0KFEuZW5jb2RlKGUpKX0pKWU6ITB9KX0oe30pfShpKSxpLmZldGNoLnBvbnlmaWxsPSEwLGRlbGV0ZSBpLmZldGNoLnBvbHlmaWxsO3ZhciBvPWk7KG49by5mZXRjaCkuZGVmYXVsdD1vLmZldGNoLG4uZmV0Y2g9by5mZXRjaCxuLkhlYWRlcnM9by5IZWFkZXJzLG4uUmVxdWVzdD1vLlJlcXVlc3Qsbi5SZXNwb25zZT1vLlJlc3BvbnNlLGUuZXhwb3J0cz1ufShpLGkuZXhwb3J0cyk7dmFyIG89bihpLmV4cG9ydHMpO2Z1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBzKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX12YXIgdT1hLGw9cztmdW5jdGlvbiBjKGUpe2lmKHU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHU9PT1hfHwhdSkmJnNldFRpbWVvdXQpcmV0dXJuIHU9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiB1KGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiB1LmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiB1LmNhbGwodGhpcyxlLDApfX19ImZ1bmN0aW9uIj09dHlwZW9mIGUuc2V0VGltZW91dCYmKHU9c2V0VGltZW91dCksImZ1bmN0aW9uIj09dHlwZW9mIGUuY2xlYXJUaW1lb3V0JiYobD1jbGVhclRpbWVvdXQpO3ZhciBkLGY9W10saD0hMSxwPS0xO2Z1bmN0aW9uIG0oKXtoJiZkJiYoaD0hMSxkLmxlbmd0aD9mPWQuY29uY2F0KGYpOnA9LTEsZi5sZW5ndGgmJmcoKSl9ZnVuY3Rpb24gZygpe2lmKCFoKXt2YXIgZT1jKG0pO2g9ITA7Zm9yKHZhciB0PWYubGVuZ3RoO3Q7KXtmb3IoZD1mLGY9W107KytwPHQ7KWQmJmRbcF0ucnVuKCk7cD0tMSx0PWYubGVuZ3RofWQ9bnVsbCxoPSExLGZ1bmN0aW9uKGUpe2lmKGw9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobD09PXN8fCFsKSYmY2xlYXJUaW1lb3V0KXJldHVybiBsPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3JldHVybiBsKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbC5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIGwuY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiB2KGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07Zi5wdXNoKG5ldyB5KGUsdCkpLDEhPT1mLmxlbmd0aHx8aHx8YyhnKX1mdW5jdGlvbiB5KGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9eS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX07ZnVuY3Rpb24gYigpe312YXIgdz1iLEE9YixfPWIsRT1iLFM9YixrPWIsTT1iO3ZhciBDPWUucGVyZm9ybWFuY2V8fHt9LHg9Qy5ub3d8fEMubW96Tm93fHxDLm1zTm93fHxDLm9Ob3d8fEMud2Via2l0Tm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgUj1uZXcgRGF0ZTt2YXIgTz17bmV4dFRpY2s6dix0aXRsZToiYnJvd3NlciIsYnJvd3NlcjohMCxlbnY6e30sYXJndjpbXSx2ZXJzaW9uOiIiLHZlcnNpb25zOnt9LG9uOncsYWRkTGlzdGVuZXI6QSxvbmNlOl8sb2ZmOkUscmVtb3ZlTGlzdGVuZXI6UyxyZWl2YXRlRW52aXJvbm1lbnQ6ICgpID0+IG5ld1ByaXZhdGVFbnZpcm9ubWVudCwKICBub0VtaXROb3RpZmljYXRpb246ICgpID0+IG5vRW1pdE5vdGlmaWNhdGlvbiwKICBub0VtaXRTdWJzdGl0dXRpb246ICgpID0+IG5vRW1pdFN1YnN0aXR1dGlvbiwKICBub1RyYW5zZm9ybWVyczogKCkgPT4gbm9UcmFuc2Zvcm1lcnMsCiAgbm9UcnVuY2F0aW9uTWF4aW11bVRydW5jYXRpb25MZW5ndGg6ICgpID0+IG5vVHJ1bmNhdGlvbk1heGltdW1UcnVuY2F0aW9uTGVuZ3RoLAogIG5vZGVDYW5CZURlY29yYXRlZDogKCkgPT4gbm9kZUNhbkJlRGVjb3JhdGVkLAogIG5vZGVDb3JlTW9kdWxlczogKCkgPT4gbm9kZUNvcmVNb2R1bGVzLAogIG5vZGVIYXNOYW1lOiAoKSA9PiBub2RlSGFzTmFtZSwKICBub2RlSXNEZWNvcmF0ZWQ6ICgpID0+IG5vZGVJc0RlY29yYXRlZCwKICBub2RlSXNNaXNzaW5nOiAoKSA9PiBub2RlSXNNaXNzaW5nLAogIG5vZGVJc1ByZXNlbnQ6ICgpID0+IG5vZGVJc1ByZXNlbnQsCiAgbm9kZUlzU3ludGhlc2l6ZWQ6ICgpID0+IG5vZGVJc1N5bnRoZXNpemVkLAogIG5vZGVNb2R1bGVOYW1lUmVzb2x2ZXI6ICgpID0+IG5vZGVNb2R1bGVOYW1lUmVzb2x2ZXIsCiAgbm9kZU1vZHVsZXNQYXRoUGFydDogKCkgPT4gbm9kZU1vZHVsZXNQYXRoUGFydCwKICBub2RlTmV4dEpzb25Db25maWdSZXNvbHZlcjogKCkgPT4gbm9kZU5leHRKc29uQ29uZmlnUmVzb2x2ZXIsCiAgbm9kZU9yQ2hpbGRJc0RlY29yYXRlZDogKCkgPT4gbm9kZU9yQ2hpbGRJc0RlY29yYXRlZCwKICBub2RlT3ZlcmxhcHNXaXRoU3RhcnRFbmQ6ICgpID0+IG5vZGVPdmVybGFwc1dpdGhTdGFydEVuZCwKICBub2RlUG9zVG9TdHJpbmc6ICgpID0+IG5vZGVQb3NUb1N0cmluZywKICBub2RlU2VlblRyYWNrZXI6ICgpID0+IG5vZGVTZWVuVHJhY2tlciwKICBub2RlU3RhcnRzTmV3TGV4aWNhbEVudmlyb25tZW50OiAoKSA9PiBub2RlU3RhcnRzTmV3TGV4aWNhbEVudmlyb25tZW50LAogIG5vb3A6ICgpID0+IG5vb3AsCiAgbm9vcEZpbGVXYXRjaGVyOiAoKSA9PiBub29wRmlsZVdhdGNoZXIsCiAgbm9ybWFsaXplUGF0aDogKCkgPT4gbm9ybWFsaXplUGF0aCwKICBub3JtYWxpemVTbGFzaGVzOiAoKSA9PiBub3JtYWxpemVTbGFzaGVzLAogIG5vcm1hbGl6ZVNwYW5zOiAoKSA9PiBub3JtYWxpemVTcGFucywKICBub3Q6ICgpID0+IG5vdCwKICBub3RJbXBsZW1lbnRlZDogKCkgPT4gbm90SW1wbGVtZW50ZWQsCiAgbm90SW1wbGVtZW50ZWRSZXNvbHZlcjogKCkgPT4gbm90SW1wbGVtZW50ZWRSZXNvbHZlciwKICBudWxsTm9kZUNvbnZlcnRlcnM6ICgpID0+IG51bGxOb2RlQ29udmVydGVycywKICBudWxsUGFyZW50aGVzaXplclJ1bGVzOiAoKSA9PiBudWxsUGFyZW50aGVzaXplclJ1bGVzLAogIG51bGxUcmFuc2Zvcm1hdGlvbkNvbnRleHQ6ICgpID0+IG51bGxUcmFuc2Zvcm1hdGlvbkNvbnRleHQsCiAgb2JqZWN0QWxsb2NhdG9yOiAoKSA9PiBvYmplY3RBbGxvY2F0b3IsCiAgb3BlcmF0b3JQYXJ0OiAoKSA9PiBvcGVyYXRvclBhcnQsCiAgb3B0aW9uRGVjbGFyYXRpb25zOiAoKSA9PiBvcHRpb25EZWNsYXJhdGlvbnMsCiAgb3B0aW9uTWFwVG9PYmplY3Q6ICgpID0+IG9wdGlvbk1hcFRvT2JqZWN0LAogIG9wdGlvbnNBZmZlY3RpbmdQcm9ncmFtU3RydWN0dXQgeyB1c2VJc0ZldGNoaW5nIH0gZnJvbSAiLi91c2VJc0ZldGNoaW5nLmpzIjsKaW1wb3J0IHsgdXNlSXNNdXRhdGluZywgdXNlTXV0YXRpb25TdGF0ZSB9IGZyb20gIi4vdXNlTXV0YXRpb25TdGF0ZS5qcyI7CmltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSAiLi91c2VNdXRhdGlvbi5qcyI7CmltcG9ydCB7IG11dGF0aW9uT3B0aW9ucyB9IGZyb20gIi4vbXV0YXRpb25PcHRpb25zLmpzIjsKaW1wb3J0IHsgdXNlSW5maW5pdGVRdWVyeSB9IGZyb20gIi4vdXNlSW5maW5pdGVRdWVyeS5qcyI7CmltcG9ydCB7IHVzZUlzUmVzdG9yaW5nLCBJc1Jlc3RvcmluZ1Byb3ZpZGVyIH0gZnJvbSAiLi9Jc1Jlc3RvcmluZ1Byb3ZpZGVyLmpzIjsKZXhwb3J0IHsKICBIeWRyYXRpb25Cb3VuZGFyeSwKICBJc1Jlc3RvcmluZ1Byb3ZpZGVyLAogIFF1ZXJ5Q2xpZW50Q29udGV4dCwKICBRdWVyeUNsaWVudFByb3ZpZGVyLAogIFF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5LAogIGluZmluaXRlUXVlcnlPcHRpb25zLAogIG11dGF0aW9uT3B0aW9ucywKICBxdWVyeU9wdGlvbnMsCiAgdXNlSW5maW5pdGVRdWVyeSwKICB1c2VJc0ZldGNoaW5nLAogIHVzZUlzTXV0YXRpbmcsCiAgdXNlSXNSZXN0b3JpbmcsCiAgdXNlTXV0YXRpb24sCiAgdXNlTXV0YXRpb25TdGF0ZSwKICB1c2VQcmVmZXRjaEluZmluaXRlUXVlcnksCiAgdXNlUHJlZmV0Y2hRdWVyeSwKICB1c2VRdWVyaWVzLAogIHVzZVF1ZXJ5LAogIHVzZVF1ZXJ5Q2xpZW50LAogIHVzZVF1ZXJ5RXJyb3JSZXNldEJvdW5kYXJ5LAogIHVzZVN1c3BlbnNlSW5maW5pdGVRdWVyeSwKICB1c2VTdXNwZW5zZVF1ZXJpZXMsCiAgdXNlU3VzcGVuc2VRdWVyeQp9OwovLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXB7CiAgIiRzY2hlbWEiOiAiaHR0cHM6Ly9qc29uLnNjaGVtYXN0b3JlLm9yZy9wYWNrYWdlLmpzb24iLAogICJwcml2YXRlIjogdHJ1ZSwKICAibmFtZSI6ICJAY2FsY29tL244biIsCiAgInZlcnNpb24iOiAiMC4wLjAiLAogICJtYWluIjogIi4vaW5kZXgudHMiLAogICJkZXNjcmlwdGlvbiI6ICJBdXRvbWF0ZSB3aXRob3V0IGxpbWl0cy4gVGhlIHdvcmtmbG93IGF1dG9tYXRpb24gcGxhdGZvcm0gdGhhdCBkb2Vzbid0IGJveCB5b3UgaW4sIHRoYXQgeW91IG5ldmVyIG91dGdyb3ciLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiQGNhbGNvbS9saWIiOiAid29ya3NwYWNlOioiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgIkBjYWxjb20vdHlwZXMiOiAid29ya3NwYWNlOioiCiAgfQp9Ci8vIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IMKpIDIwMTkgRXRlU3luYyBBdXRob3JzCi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMy4wLW9ubHkKLy8gaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEtY29tbS9pY2FsLmpzL2lzc3Vlcy8zNjcjaXNzdWVjb21tZW50LTU2ODQ5MzUxNwpkZWNsYXJlIG1vZHVsZSAiaWNhbC5qcyIgewogIGZ1bmN0aW9uIHBhcnNlKGlucHV0OiBzdHJpbmcpOiB1bmtub3duW107CgogIGV4cG9ydCBjbGFzcyBoZWxwZXJzIHsKICAgIHB1YmxpYyB1cGRhdGVUaW1lem9uZXModmNhbDogQ29tcG9uZW50KTogQ29tcG9uZW50OwogIH0KCiAgY2xhc3MgQ29tcG9uZW50IHsKICAgIHB1YmxpYyBmcm9tU3RyaW5nKHN0cjogc3RyaW5nKTogQ29tcGU9dGhpcy5zb3VyY2U7aWYoIWUpcmV0dXJuIiI7aWYodm9pZCAwIT09ZS5zcmMpe2lmKCFlLmNvbXBsZXRlKXJldHVybiIiO2lmKDA9PT1lLm5hdHVyYWxXaWR0aHx8MD09PWUubmF0dXJhbEhlaWdodClyZXR1cm4iIn1yZXR1cm4gdC5jcmVhdGVQYXR0ZXJuKGUsdGhpcy5yZXBlYXQpfX0pfSgpLGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz10LmZhYnJpY3x8KHQuZmFicmljPXt9KSxhPW8udXRpbC50b0ZpeGVkO28uU2hhZG93P28ud2FybigiZmFicmljLlNoYWRvdyBpcyBhbHJlYWR5IGRlZmluZWQuIik6KG8uU2hhZG93PW8udXRpbC5jcmVhdGVDbGFzcyh7Y29sb3I6InJnYigwLDAsMCkiLGJsdXI6MCxvZmZzZXRYOjAsb2Zmc2V0WTowLGFmZmVjdFN0cm9rZTohMSxpbmNsdWRlRGVmYXVsdFZhbHVlczohMCxub25TY2FsaW5nOiExLGluaXRpYWxpemU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLl9wYXJzZVNoYWRvdyh0KSksdCl0aGlzW2VdPXRbZV07dGhpcy5pZD1vLk9iamVjdC5fX3VpZCsrfSxfcGFyc2VTaGFkb3c6ZnVuY3Rpb24odCl7dmFyIGU9dC50cmltKCksaT1vLlNoYWRvdy5yZU9mZnNldHNBbmRCbHVyLmV4ZWMoZSl8fFtdO3JldHVybntjb2xvcjooZS5yZXBsYWNlKG8uU2hhZG93LnJlT2Zmc2V0c0FuZEJsdXIsIiIpfHwicmdiKDAsMCwwKSIpLnRyaW0oKSxvZmZzZXRYOnBhcnNlRmxvYXQoaVsxXSwxMCl8fDAsb2Zmc2V0WTpwYXJzZUZsb2F0KGlbMl0sMTApfHwwLGJsdXI6cGFyc2VGbG9hdChpWzNdLDEwKXx8MH19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMub2Zmc2V0WCx0aGlzLm9mZnNldFksdGhpcy5ibHVyLHRoaXMuY29sb3JdLmpvaW4oInB4ICIpfSx0b1NWRzpmdW5jdGlvbih0KXt2YXIgZT00MCxpPTQwLHI9by5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyxuPW8udXRpbC5yb3RhdGVWZWN0b3Ioe3g6dGhpcy5vZmZzZXRYLHk6dGhpcy5vZmZzZXRZfSxvLnV0aWwuZGVncmVlc1RvUmFkaWFucygtdC5hbmdsZSkpLHM9bmV3IG8uQ29sb3IodGhpcy5jb2xvcik7cmV0dXJuIHQud2lkdGgmJnQuaGVpZ2h0JiYoZT0xMDAqYSgoTWF0aC5hYnMobi54KSt0aGlzLmJsdXIpL3Qud2lkdGgscikrMjAsaT0xMDAqYSgoTWF0aC5hYnMobi55KSt0aGlzLmJsdXIpL3QuaGVpZ2h0LHIpKzIwKSx0LmZsaXBYJiYobi54Kj0tMSksdC5mbGlwWSYmKG4ueSo9LTEpLCc8ZmlsdGVyIGlkPSJTVkdJRF8nK3RoaXMuaWQrJyIgeT0iLScraSsnJSIgaGVpZ2h0PSInKygxMDArMippKSsnJSIgeD0iLScrZSsnJSIgd2lkdGg9IicrKDEwMCsyKmUpKyclIiA+XG5cdDxmZUdhdXNzaWFuQmx1ciBpbj0iU291cmNlQWxwaGEiIHN0ZERldmlhdGlvbj0iJythKHRoaXMuYmx1cj90aGlzLmJsdXIvMjowLHIpKyciPjwvZmVHYXVzc2lhbkJsdXI+XG5cdDxmZU9mZnNldCBkeD0iJythKG4ueCxyKSsnIiBkeT0iJythKG4ueSxyKSsnIiByZXN1bHQ9Im9CbHVyIiA+PC9mZU9mZnNldD5cblx0PGZlRmxvb2QgZmxvb2QtY29sb3I9Iicrcy50b1JnYigpKyciIGZsb29kLW9wYWNpdHk9Iicrcy5nZXRBbHBoYSgpKyciLz5cblx0PGZlQ29tcG9zaXRlIGluMj0ib0JsdXIiIG9wZXJhdG9yPSJpbiIgLz5cblx0PGZlTWVyZ2U+XG5cdFx0PGZlTWVyZ2VOb2RlPjwvZmVNZXJnZV0rPWEsZVsyXSs9YyxlWzNdKz1hLGVbNF0rPWM7Y2FzZSJRIjpzPWVbMV0sbz1lWzJdLGE9ZVszXSxjPWVbNF07YnJlYWs7Y2FzZSJ0IjplWzBdPSJUIixlWzFdKz1hLGVbMl0rPWM7Y2FzZSJUIjoiUSI9PT1uPyhzPTIqYS1zLG89MipjLW8pOihzPWEsbz1jKSxlWzBdPSJRIixhPWVbMV0sYz1lWzJdLGVbMV09cyxlWzJdPW8sZVszXT1hLGVbNF09YzticmVhaztjYXNlImEiOmVbMF09IkEiLGVbNl0rPWEsZVs3XSs9YztjYXNlIkEiOnI9ITAsZj1mLmNvbmNhdChkKGEsYyxlKSksYT1lWzZdLGM9ZVs3XTticmVhaztjYXNlInoiOmNhc2UiWiI6YT1sLGM9dX1yfHxmLnB1c2goZSksbj1lWzBdfXJldHVybiBmfSxmYWJyaWMudXRpbC5nZXRTbW9vdGhQYXRoRnJvbVBvaW50cz1mdW5jdGlvbih0LGUpe3ZhciBpLHI9W10sbj1uZXcgZmFicmljLlBvaW50KHRbMF0ueCx0WzBdLnkpLHM9bmV3IGZhYnJpYy5Qb2ludCh0WzFdLngsdFsxXS55KSxvPXQubGVuZ3RoLGE9MSxjPTAsaD0yPG87Zm9yKGU9ZXx8MCxoJiYoYT10WzJdLng8cy54Py0xOnRbMl0ueD09PXMueD8wOjEsYz10WzJdLnk8cy55Py0xOnRbMl0ueT09PXMueT8wOjEpLHIucHVzaChbIk0iLG4ueC1hKmUsbi55LWMqZV0pLGk9MTtpPG87aSsrKXtpZighbi5lcShzKSl7dmFyIGw9bi5taWRQb2ludEZyb20ocyk7ci5wdXNoKFsiUSIsbi54LG4ueSxsLngsbC55XSl9bj10W2ldLGkrMTx0Lmxlbmd0aCYmKHM9dFtpKzFdKX1yZXR1cm4gaCYmKGE9bi54PnRbaS0yXS54PzE6bi54PT09dFtpLTJdLng/MDotMSxjPW4ueT50W2ktMl0ueT8xOm4ueT09PXRbaS0yXS55PzA6LTEpLHIucHVzaChbIkwiLG4ueCthKmUsbi55K2MqZV0pLHJ9LGZhYnJpYy51dGlsLmdldFBhdGhTZWdtZW50c0luZm89bCxmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkN1cnZlPWZ1bmN0aW9uKHQsZSxpLHIsbixzLG8sYSl7dmFyIGM7aWYoZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUmJihjPUEuY2FsbChhcmd1bWVudHMpLGZhYnJpYy5ib3VuZHNPZkN1cnZlQ2FjaGVbY10pKXJldHVybiBmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2NdO3ZhciBoLGwsdSxmLGQsZyxwLHYsbT1NYXRoLnNxcnQsYj1NYXRoLm1pbix5PU1hdGgubWF4LF89TWF0aC5hYnMseD1bXSxDPVtbXSxbXV07bD02KnQtMTIqaSs2Km4saD0tMyp0KzkqaS05Km4rMypvLHU9MyppLTMqdDtmb3IodmFyIFM9MDtTPDI7KytTKWlmKDA8UyYmKGw9NiplLTEyKnIrNipzLGg9LTMqZSs5KnItOSpzKzMqYSx1PTMqci0zKmUpLF8oaCk8MWUtMTIpe2lmKF8obCk8MWUtMTIpY29udGludWU7MDwoZj0tdS9sKSYmZjwxJiZ4LnB1c2goZil9ZWxzZShwPWwqbC00KnUqaCk8MHx8KDA8KGQ9KC1sKyh2PW0ocCkpKS8oMipoKSkmJmQ8MSYmeC5wdXNoKGQpLDA8KGc9KC1sLXYpLygyKmgpKSYmZzwxJiZ4LnB1c2goZykpO2Zvcih2YXIgVCx3LE8saz14Lmxlbmd0aCxQPWs7ay0tOylUPShPPTEtKGY9eFtrXSkpKk8qTyp0KzMqTypPKmYqaSszKk8qZipmKm4rZipmKmYqbyxDWzBdW2tdPVQsdz1PKk8qTyplKzMqTypPKmYqciszKk8qZipmKnMrZipmKmYqYSxDWzFdW2tdPXc7Q1swXVtQXT10LENbMV1bUF09ZSxDWzBdW1ArMV09byxDWzFdW1ArMV09YTt2YXIgRT1be3g6Yi5hcHBseShudWxsLENbMF0pLHk6Yi5hcHBseShudWxsLENbMV0pfSx7eDp5LmFwcGx5KGVsZXRlIjpEZShyLG4saSk7cmV0dXJuO2RlZmF1bHQ6dmFyIGE9RnIodCk7Zm9yKHZhciBvPTA7bzxhLmxlbmd0aDtvKyspe3ZhciBzPWFbb107dHJ5e3ZhciBsPXMuaGFuZGxlU3dhcChlLHIsbixpKTtpZihsKXtpZih0eXBlb2YgbC5sZW5ndGghPT0idW5kZWZpbmVkIil7Zm9yKHZhciB1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBmPWxbdV07aWYoZi5ub2RlVHlwZSE9PU5vZGUuVEVYVF9OT0RFJiZmLm5vZGVUeXBlIT09Tm9kZS5DT01NRU5UX05PREUpe2kudGFza3MucHVzaChPZShmKSl9fX1yZXR1cm59fWNhdGNoKGUpe2IoZSl9fWlmKGU9PT0iaW5uZXJIVE1MIil7VWUocixuLGkpfWVsc2V7RmUoUS5jb25maWcuZGVmYXVsdFN3YXBTdHlsZSx0LHIsbixpKX19fWZ1bmN0aW9uIFZlKGUpe2lmKGUuaW5kZXhPZigiPHRpdGxlIik+LTEpe3ZhciB0PWUucmVwbGFjZShILCIiKTt2YXIgcj10Lm1hdGNoKHEpO2lmKHIpe3JldHVybiByWzJdfX19ZnVuY3Rpb24gamUoZSx0LHIsbixpLGEpe2kudGl0bGU9VmUobik7dmFyIG89bChuKTtpZihvKXtDZShyLG8saSk7bz1CZShyLG8sYSk7UmUobyk7cmV0dXJuIEZlKGUscix0LG8saSl9fWZ1bmN0aW9uIF9lKGUsdCxyKXt2YXIgbj1lLmdldFJlc3BvbnNlSGVhZGVyKHQpO2lmKG4uaW5kZXhPZigieyIpPT09MCl7dmFyIGk9RShuKTtmb3IodmFyIGEgaW4gaSl7aWYoaS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIG89aVthXTtpZighUChvKSl7bz17dmFsdWU6b319Y2UocixhLG8pfX19ZWxzZXt2YXIgcz1uLnNwbGl0KCIsIik7Zm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspe2NlKHIsc1tsXS50cmltKCksW10pfX19dmFyIHplPS9ccy87dmFyIHg9L1tccyxdLzt2YXIgJGU9L1tfJGEtekEtWl0vO3ZhciBXZT0vW18kYS16QS1aMC05XS87dmFyIEdlPVsnIicsIiciLCIvIl07dmFyIEplPS9bXlxzXS87dmFyIFplPS9beyhdLzt2YXIgS2U9L1t9KV0vO2Z1bmN0aW9uIFllKGUpe3ZhciB0PVtdO3ZhciByPTA7d2hpbGUocjxlLmxlbmd0aCl7aWYoJGUuZXhlYyhlLmNoYXJBdChyKSkpe3ZhciBuPXI7d2hpbGUoV2UuZXhlYyhlLmNoYXJBdChyKzEpKSl7cisrfXQucHVzaChlLnN1YnN0cihuLHItbisxKSl9ZWxzZSBpZihHZS5pbmRleE9mKGUuY2hhckF0KHIpKSE9PS0xKXt2YXIgaT1lLmNoYXJBdChyKTt2YXIgbj1yO3IrKzt3aGlsZShyPGUubGVuZ3RoJiZlLmNoYXJBdChyKSE9PWkpe2lmKGUuY2hhckF0KHIpPT09IlxcIil7cisrfXIrK310LnB1c2goZS5zdWJzdHIobixyLW4rMSkpfWVsc2V7dmFyIGE9ZS5jaGFyQXQocik7dC5wdXNoKGEpfXIrK31yZXR1cm4gdH1mdW5jdGlvbiBRZShlLHQscil7cmV0dXJuICRlLmV4ZWMoZS5jaGFyQXQoMCkpJiZlIT09InRydWUiJiZlIT09ImZhbHNlIiYmZSE9PSJ0aGlzIiYmZSE9PXImJnQhPT0iLiJ9ZnVuY3Rpb24gZXQoZSx0LHIpe2lmKHRbMF09PT0iWyIpe3Quc2hpZnQoKTt2YXIgbj0xO3ZhciBpPSIgcmV0dXJuIChmdW5jdGlvbigiK3IrIil7IHJldHVybiAoIjt2YXIgYT1udWxsO3doaWxlKHQubGVuZ3RoPjApe3ZhciBvPXRbMF07aWYobz09PSJdIil7bi0tO2lmKG49PT0wKXtpZihhPT09bnVsbCl7aT1pKyJ0cnVlIn10LnNoaWZ0KCk7aSs9Iil9KSI7dHJ5e3ZhciBzPVRyKGUsZnVuY3Rpb24oKXtyZXR1cm4gRnVuY3Rpb24oaSkoKX0sZnVuY2xhY2UoL1swLTldL2csKGZ1bmN0aW9uKG4pe3JldHVybiB0WytuXX0pKX19KGFmLmNhbGwodC5udW1lcmFscyxTdHJpbmcpKSxjPXZvaWQgMD09PXQucGVyY2VudD8iJSI6dC5wZXJjZW50KyIiLGY9dm9pZCAwPT09dC5taW51cz8i4oiSIjp0Lm1pbnVzKyIiLHM9dm9pZCAwPT09dC5uYW4/Ik5hTiI6dC5uYW4rIiI7ZnVuY3Rpb24gbCh0KXt2YXIgbj0odD1KYyh0KSkuZmlsbCxlPXQuYWxpZ24sbD10LnNpZ24saD10LnN5bWJvbCxkPXQuemVybyxwPXQud2lkdGgsZz10LmNvbW1hLHk9dC5wcmVjaXNpb24sdj10LnRyaW0sXz10LnR5cGU7Im4iPT09Xz8oZz0hMCxfPSJnIik6ZWZbX118fCh2b2lkIDA9PT15JiYoeT0xMiksdj0hMCxfPSJnIiksKGR8fCIwIj09PW4mJiI9Ij09PWUpJiYoZD0hMCxuPSIwIixlPSI9Iik7dmFyIGI9IiQiPT09aD9pOiIjIj09PWgmJi9bYm94WF0vLnRlc3QoXyk/IjAiK18udG9Mb3dlckNhc2UoKToiIixtPSIkIj09PWg/bzovWyVwXS8udGVzdChfKT9jOiIiLHg9ZWZbX10sdz0vW2RlZmdwcnMlXS8udGVzdChfKTtmdW5jdGlvbiBNKHQpe3ZhciBpLG8sYyxoPWIsTT1tO2lmKCJjIj09PV8pTT14KHQpK00sdD0iIjtlbHNle3ZhciBUPSh0PSt0KTwwfHwxL3Q8MDtpZih0PWlzTmFOKHQpP3M6eChNYXRoLmFicyh0KSx5KSx2JiYodD1mdW5jdGlvbih0KXt0OmZvcih2YXIgbixlPXQubGVuZ3RoLHI9MSxpPS0xO3I8ZTsrK3Ipc3dpdGNoKHRbcl0pe2Nhc2UiLiI6aT1uPXI7YnJlYWs7Y2FzZSIwIjowPT09aSYmKGk9ciksbj1yO2JyZWFrO2RlZmF1bHQ6aWYoISt0W3JdKWJyZWFrIHQ7aT4wJiYoaT0wKX1yZXR1cm4gaT4wP3Quc2xpY2UoMCxpKSt0LnNsaWNlKG4rMSk6dH0odCkpLFQmJjA9PSt0JiYiKyIhPT1sJiYoVD0hMSksaD0oVD8iKCI9PT1sP2w6ZjoiLSI9PT1sfHwiKCI9PT1sPyIiOmwpK2gsTT0oInMiPT09Xz91Zls4K0tjLzNdOiIiKStNKyhUJiYiKCI9PT1sPyIpIjoiIiksdylmb3IoaT0tMSxvPXQubGVuZ3RoOysraTxvOylpZig0OD4oYz10LmNoYXJDb2RlQXQoaSkpfHxjPjU3KXtNPSg0Nj09PWM/YSt0LnNsaWNlKGkrMSk6dC5zbGljZShpKSkrTSx0PXQuc2xpY2UoMCxpKTticmVha319ZyYmIWQmJih0PXIodCwxLzApKTt2YXIgQT1oLmxlbmd0aCt0Lmxlbmd0aCtNLmxlbmd0aCxTPUE8cD9uZXcgQXJyYXkocC1BKzEpLmpvaW4obik6IiI7c3dpdGNoKGcmJmQmJih0PXIoUyt0LFMubGVuZ3RoP3AtTS5sZW5ndGg6MS8wKSxTPSIiKSxlKXtjYXNlIjwiOnQ9aCt0K00rUzticmVhaztjYXNlIj0iOnQ9aCtTK3QrTTticmVhaztjYXNlIl4iOnQ9Uy5zbGljZSgwLEE9Uy5sZW5ndGg+PjEpK2grdCtNK1Muc2xpY2UoQSk7YnJlYWs7ZGVmYXVsdDp0PVMraCt0K019cmV0dXJuIHUodCl9cmV0dXJuIHk9dm9pZCAwPT09eT82Oi9bZ3Byc10vLnRlc3QoXyk/TWF0aC5tYXgoMSxNYXRoLm1pbigyMSx5KSk6TWF0aC5tYXgoMCxNYXRoLm1pbigyMCx5KSksTS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0KyIifSxNfXJldHVybntmb3JtYXQ6bCxmb3JtYXRQcmVmaXg6ZnVuY3Rpb24odCxuKXt2YXIgZT1sKCgodD1KYyh0KSkudHlwZT0iZiIsdCkpLHI9MypNYXRoLm1heCgtOCxNYXRoLm1pbig4LE1hdGguZmxvb3IoWmMobikvMykpKSxpPU1hdGgucG93KDEwLC1yKSxvPXVmWzgrci8zXTtyZXR1cmNpdHkpfSxkYXJrZXIodCl7cmV0dXJuIHQ9bnVsbD09dD92ZTpNYXRoLnBvdyh2ZSx0KSxuZXcgWGUodGhpcy5oLHRoaXMucyx0aGlzLmwqdCx0aGlzLm9wYWNpdHkpfSxyZ2IoKXt2YXIgdD10aGlzLmglMzYwKzM2MCoodGhpcy5oPDApLG49aXNOYU4odCl8fGlzTmFOKHRoaXMucyk/MDp0aGlzLnMsZT10aGlzLmwscj1lKyhlPC41P2U6MS1lKSpuLGk9MiplLXI7cmV0dXJuIG5ldyBxZShXZSh0Pj0yNDA/dC0yNDA6dCsxMjAsaSxyKSxXZSh0LGksciksV2UodDwxMjA/dCsyNDA6dC0xMjAsaSxyKSx0aGlzLm9wYWNpdHkpfSxjbGFtcCgpe3JldHVybiBuZXcgWGUoR2UodGhpcy5oKSxWZSh0aGlzLnMpLFZlKHRoaXMubCksT2UodGhpcy5vcGFjaXR5KSl9LGRpc3BsYXlhYmxlKCl7cmV0dXJuKDA8PXRoaXMucyYmdGhpcy5zPD0xfHxpc05hTih0aGlzLnMpKSYmMDw9dGhpcy5sJiZ0aGlzLmw8PTEmJjA8PXRoaXMub3BhY2l0eSYmdGhpcy5vcGFjaXR5PD0xfSxmb3JtYXRIc2woKXtjb25zdCB0PU9lKHRoaXMub3BhY2l0eSk7cmV0dXJuYCR7MT09PXQ/ImhzbCgiOiJoc2xhKCJ9JHtHZSh0aGlzLmgpfSwgJHsxMDAqVmUodGhpcy5zKX0lLCAkezEwMCpWZSh0aGlzLmwpfSUkezE9PT10PyIpIjpgLCAke3R9KWB9YH19KSk7Y29uc3QgWmU9TWF0aC5QSS8xODAsS2U9MTgwL01hdGguUEksUWU9Ljk2NDIyLEplPTEsdHI9LjgyNTIxLG5yPTQvMjksZXI9Ni8yOSxycj0zKmVyKmVyLGlyPWVyKmVyKmVyO2Z1bmN0aW9uIG9yKHQpe2lmKHQgaW5zdGFuY2VvZiB1cilyZXR1cm4gbmV3IHVyKHQubCx0LmEsdC5iLHQub3BhY2l0eSk7aWYodCBpbnN0YW5jZW9mIHByKXJldHVybiBncih0KTt0IGluc3RhbmNlb2YgcWV8fCh0PVJlKHQpKTt2YXIgbixlLHI9bHIodC5yKSxpPWxyKHQuZyksbz1scih0LmIpLGE9Y3IoKC4yMjI1MDQ1KnIrLjcxNjg3ODYqaSsuMDYwNjE2OSpvKS9KZSk7cmV0dXJuIHI9PT1pJiZpPT09bz9uPWU9YToobj1jcigoLjQzNjA3NDcqcisuMzg1MDY0OSppKy4xNDMwODA0Km8pL1FlKSxlPWNyKCguMDEzOTMyMipyKy4wOTcxMDQ1KmkrLjcxNDE3MzMqbykvdHIpKSxuZXcgdXIoMTE2KmEtMTYsNTAwKihuLWEpLDIwMCooYS1lKSx0Lm9wYWNpdHkpfWZ1bmN0aW9uIGFyKHQsbixlLHIpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9vcih0KTpuZXcgdXIodCxuLGUsbnVsbD09cj8xOnIpfWZ1bmN0aW9uIHVyKHQsbixlLHIpe3RoaXMubD0rdCx0aGlzLmE9K24sdGhpcy5iPStlLHRoaXMub3BhY2l0eT0rcn1mdW5jdGlvbiBjcih0KXtyZXR1cm4gdD5pcj9NYXRoLnBvdyh0LDEvMyk6dC9ycitucn1mdW5jdGlvbiBmcih0KXtyZXR1cm4gdD5lcj90KnQqdDpycioodC1ucil9ZnVuY3Rpb24gc3IodCl7cmV0dXJuIDI1NSoodDw9LjAwMzEzMDg/MTIuOTIqdDoxLjA1NSpNYXRoLnBvdyh0LDEvMi40KS0uMDU1KX1mdW5jdGlvbiBscih0KXtyZXR1cm4odC89MjU1KTw9LjA0MDQ1P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiBocih0KXtpZih0IGluc3RhbmNlb2YgcHIpcmV0dXJuIG5ldyBwcih0LmgsdC5jLHQubCx0Lm9wYWNpdHkpO2lmKHQgaW5zdGFuY2VvZiB1cnx8KHQ9b3IodCkpLDA9PT10LmEmJjA9PT10LmIpcmV0dXJuIG5ldyBwcihOYU4sMDx0LmwmJnQubDwxMDA/MDpOYU4sdC5sLG57dGV4dDpyLGFzdDpvfX1mdW5jdGlvbiBUYShlLHQpe2xldHtsb2M6dX09ZTtpZih1KXtsZXQgcj1Dbih0LHUse2hpZ2hsaWdodENvZGU6ITB9KTt0aHJvdyBlLm1lc3NhZ2UrPWAKYCtyLGUuY29kZUZyYW1lPXIsZX10aHJvdyBlfXZhciBGZT1CYTthc3luYyBmdW5jdGlvbiBobihlLHQsdSxyLG8pe2lmKHUuZW1iZWRkZWRMYW5ndWFnZUZvcm1hdHRpbmchPT0iYXV0byIpcmV0dXJuO2xldHtwcmludGVyOm59PXUse2VtYmVkOmF9PW47aWYoIWEpcmV0dXJuO2lmKGEubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCJwcmludGVyLmVtYmVkIGhhcyB0b28gbWFueSBwYXJhbWV0ZXJzLiBUaGUgQVBJIGNoYW5nZWQgaW4gUHJldHRpZXIgdjMuIFBsZWFzZSB1cGRhdGUgeW91ciBwbHVnaW4uIFNlZSBodHRwczovL3ByZXR0aWVyLmlvL2RvY3MvcGx1Z2lucyNvcHRpb25hbC1lbWJlZCIpO2xldHtoYXNQcmV0dGllcklnbm9yZTpzfT1uLHtnZXRWaXNpdG9yS2V5czppfT1hLEQ9W107ZCgpO2xldCBmPWUuc3RhY2s7Zm9yKGxldHtwcmludDpjLG5vZGU6cCxwYXRoU3RhY2s6Rn1vZiBEKXRyeXtlLnN0YWNrPUY7bGV0IEM9YXdhaXQgYyhsLHQsZSx1KTtDJiZvLnNldChwLEMpfWNhdGNoKEMpe2lmKGdsb2JhbFRoaXMuUFJFVFRJRVJfREVCVUcpdGhyb3cgQ31lLnN0YWNrPWY7ZnVuY3Rpb24gbChjLHApe3JldHVybiBOYShjLHAsdSxyKX1mdW5jdGlvbiBkKCl7bGV0e25vZGU6Y309ZTtpZihjPT09bnVsbHx8dHlwZW9mIGMhPSJvYmplY3QifHxzPy4oZSkpcmV0dXJuO2ZvcihsZXQgRiBvZiBpKGMpKUFycmF5LmlzQXJyYXkoY1tGXSk/ZS5lYWNoKGQsRik6ZS5jYWxsKGQsRik7bGV0IHA9YShlLHUpO2lmKHApe2lmKHR5cGVvZiBwPT0iZnVuY3Rpb24iKXtELnB1c2goe3ByaW50OnAsbm9kZTpjLHBhdGhTdGFjazpbLi4uZS5zdGFja119KTtyZXR1cm59by5zZXQoYyxwKX19fWFzeW5jIGZ1bmN0aW9uIE5hKGUsdCx1LHIpe2xldCBvPWF3YWl0IHNlKHsuLi51LC4uLnQscGFyZW50UGFyc2VyOnUucGFyc2VyLG9yaWdpbmFsVGV4dDplLGN1cnNvck9mZnNldDp2b2lkIDAscmFuZ2VTdGFydDp2b2lkIDAscmFuZ2VFbmQ6dm9pZCAwfSx7cGFzc1Rocm91Z2g6ITB9KSx7YXN0Om59PWF3YWl0IEZlKGUsbyksYT1hd2FpdCByKG4sbyk7cmV0dXJuIFFlKGEpfWZ1bmN0aW9uIFNhKGUsdCx1LHIpe2xldHtvcmlnaW5hbFRleHQ6byxbU3ltYm9sLmZvcigiY29tbWVudHMiKV06bixsb2NTdGFydDphLGxvY0VuZDpzLFtTeW1ib2wuZm9yKCJwcmludGVkQ29tbWVudHMiKV06aX09dCx7bm9kZTpEfT1lLGY9YShEKSxsPXMoRCk7Zm9yKGxldCBjIG9mIG4pYShjKT49ZiYmcyhjKTw9bCYmaS5hZGQoYyk7bGV0e3ByaW50UHJldHRpZXJJZ25vcmVkOmR9PXQucHJpbnRlcjtyZXR1cm4gZD9kKGUsdCx1LHIpOm8uc2xpY2UoZixsKX12YXIgZ249U2E7YXN5bmMgZnVuY3Rpb24gR2UoZSx0KXsoe2FzdDplfT1hd2FpdCB4dShlLHQpKTtsZXQgdT1uZXcgTWFwLHI9bmV3IEZyKGUpLG89U3IodCksbj1uZXcgTWFwO2F3YWl0IGhuKHIscyx0LEdlLG4pO2xldCBhPWF3YWl0IHluKHIsdCxzLHZvaWQgMCxuKTtpZihOcih0KSx0LmN1cnNvck9mZnNldD49MCl7aWYodC5ub2RlQWZ0ZXJDdXJzb3ImJiF0Lm5vZGVCZWZvcmVDdXJzb3IpcmV0dXJuW2VlLGFdO2lmKHQubm8xMzlcdTIxM0MtXHUyMTNGXHUyMTQ1LVx1MjE0OVx1MjE0RVx1MjE2MC1cdTIxODhcdTJDMDAtXHUyQ0U0XHUyQ0VCLVx1MkNFRVx1MkNGMlx1MkNGM1x1MkQwMC1cdTJEMjVcdTJEMjdcdTJEMkRcdTJEMzAtXHUyRDY3XHUyRDZGXHUyRDgwLVx1MkQ5Nlx1MkRBMC1cdTJEQTZcdTJEQTgtXHUyREFFXHUyREIwLVx1MkRCNlx1MkRCOC1cdTJEQkVcdTJEQzAtXHUyREM2XHUyREM4LVx1MkRDRVx1MkREMC1cdTJERDZcdTJERDgtXHUyRERFXHUzMDA1LVx1MzAwN1x1MzAyMS1cdTMwMjlcdTMwMzEtXHUzMDM1XHUzMDM4LVx1MzAzQ1x1MzA0MS1cdTMwOTZcdTMwOUItXHUzMDlGXHUzMEExLVx1MzBGQVx1MzBGQy1cdTMwRkZcdTMxMDUtXHUzMTJGXHUzMTMxLVx1MzE4RVx1MzFBMC1cdTMxQkZcdTMxRjAtXHUzMUZGXHUzNDAwLVx1NERCRlx1NEUwMC1cdUE0OENcdUE0RDAtXHVBNEZEXHVBNTAwLVx1QTYwQ1x1QTYxMC1cdUE2MUZcdUE2MkFcdUE2MkJcdUE2NDAtXHVBNjZFXHVBNjdGLVx1QTY5RFx1QTZBMC1cdUE2RUZcdUE3MTctXHVBNzFGXHVBNzIyLVx1QTc4OFx1QTc4Qi1cdUE3RENcdUE3RjEtXHVBODAxXHVBODAzLVx1QTgwNVx1QTgwNy1cdUE4MEFcdUE4MEMtXHVBODIyXHVBODQwLVx1QTg3M1x1QTg4Mi1cdUE4QjNcdUE4RjItXHVBOEY3XHVBOEZCXHVBOEZEXHVBOEZFXHVBOTBBLVx1QTkyNVx1QTkzMC1cdUE5NDZcdUE5NjAtXHVBOTdDXHVBOTg0LVx1QTlCMlx1QTlDRlx1QTlFMC1cdUE5RTRcdUE5RTYtXHVBOUVGXHVBOUZBLVx1QTlGRVx1QUEwMC1cdUFBMjhcdUFBNDAtXHVBQTQyXHVBQTQ0LVx1QUE0Qlx1QUE2MC1cdUFBNzZcdUFBN0FcdUFBN0UtXHVBQUFGXHVBQUIxXHVBQUI1XHVBQUI2XHVBQUI5LVx1QUFCRFx1QUFDMFx1QUFDMlx1QUFEQi1cdUFBRERcdUFBRTAtXHVBQUVBXHVBQUYyLVx1QUFGNFx1QUIwMS1cdUFCMDZcdUFCMDktXHVBQjBFXHVBQjExLVx1QUIxNlx1QUIyMC1cdUFCMjZcdUFCMjgtXHVBQjJFXHVBQjMwLVx1QUI1QVx1QUI1Qy1cdUFCNjlcdUFCNzAtXHVBQkUyXHVBQzAwLVx1RDdBM1x1RDdCMC1cdUQ3QzZcdUQ3Q0ItXHVEN0ZCXHVGOTAwLVx1RkE2RFx1RkE3MC1cdUZBRDlcdUZCMDAtXHVGQjA2XHVGQjEzLVx1RkIxN1x1RkIxRFx1RkIxRi1cdUZCMjhcdUZCMkEtXHVGQjM2XHVGQjM4LVx1RkIzQ1x1RkIzRVx1RkI0MFx1RkI0MVx1RkI0M1x1RkI0NFx1RkI0Ni1cdUZCQjFcdUZCRDMtXHVGRDNEXHVGRDUwLVx1RkQ4Rlx1RkQ5Mi1cdUZEQzdcdUZERjAtXHVGREZCXHVGRTcwLVx1RkU3NFx1RkU3Ni1cdUZFRkNcdUZGMjEtXHVGRjNBXHVGRjQxLVx1RkY1QVx1RkY2Ni1cdUZGQkVcdUZGQzItXHVGRkM3XHVGRkNBLVx1RkZDRlx1RkZEMi1cdUZGRDdcdUZGREEtXHVGRkRDIixGbj0iXHhCN1x1MDMwMC1cdTAzNkZcdTAzODdcdTA0ODMtXHUwNDg3XHUwNTkxLVx1MDVCRFx1MDVCRlx1MDVDMVx1MDVDMlx1MDVDNFx1MDVDNVx1MDVDN1x1MDYxMC1cdTA2MUFcdTA2NEItXHUwNjY5XHUwNjcwXHUwNkQ2LVx1MDZEQ1x1MDZERi1cdTA2RTRcdTA2RTdcdTA2RThcdTA2RUEtXHUwNkVEXHUwNkYwLVx1MDZGOVx1MDcxMVx1MDczMC1cdTA3NEFcdTA3QTYtXHUwN0IwXHUwN0MwLVx1MDdDOVx1MDdFQi1cdTA3RjNcdTA3RkRcdTA4MTYtXHUwODE5XHUwODFCLVx1MDgyM1x1MDgyNS1cdTA4MjdcdTA4MjkgLyoqIEEgY29udGFjdCBlbWFpbCwgbWFpbmx5IHRvIGFzayBmb3Igc3VwcG9ydCAqLwogIGVtYWlsOiBzdHJpbmc7CiAgLyoqIE5lZWRlZCBBUEkgS2V5cyAodXN1YWxseSBmb3IgZ2xvYmFsIGFwcHMpICovCiAga2V5PzogUHJpc21hLkpzb25WYWx1ZTsKICAvKiogSWYgbm90IGZyZWUsIHdoYXQga2luZCBvZiBmZWVzIGRvZXMgdGhlIGFwcCBoYXZlICovCiAgZmVlVHlwZT86ICJtb250aGx5IiB8ICJ1c2FnZS1iYXNlZCIgfCAib25lLXRpbWUiIHwgImZyZWUiOwogIC8qKiAwID0gZnJlZS4gaWYgdHlwZT0idXNhZ2UtYmFzZWQiIGl0J3MgdGhlIHByaWNlIHBlciBib29raW5nICovCiAgcHJpY2U/OiBudW1iZXI7CiAgLyoqIG9ubHkgcmVxdWlyZWQgZm9yICJ1c2FnZS1iYXNlZCIgYmlsbGluZy4gJSBvZiBjb21taXNzaW9uIGZvciBwYWlkIGJvb2tpbmdzICovCiAgY29tbWlzc2lvbj86IG51bWJlcjsKICBsaWNlbnNlUmVxdWlyZWQ/OiBib29sZWFuOwogIHRlYW1zUGxhblJlcXVpcmVkPzogewogICAgdXBncmFkZVVybDogc3RyaW5nOwogIH07CiAgYXBwRGF0YT86IEFwcERhdGE7CiAgLyoqIFJlcHJlc2VudHMgcGFpZCBhcHAgZGF0YSwgc3VjaCBhcyBwcmljZSwgdHJpYWxzLCBldGMgKi8KICBwYWlkPzogUGFpZEFwcERhdGE7CgogIC8qKgogICAqIEBkZXByZWNhdGVkCiAgICogVXNlZCBvbmx5IGJ5IGxlZ2FjeSBhcHBzIHdoaWNoIGhhZCBzbHVnIGRpZmZlcmVudCBmcm9tIHRoZWlyIGRpcmVjdG9yeSBuYW1lLgogICAqLwogIGRpck5hbWU/OiBzdHJpbmc7CiAgaXNUZW1wbGF0ZT86IGJvb2xlYW47CiAgX190ZW1wbGF0ZT86IHN0cmluZzsKICAvKiogU2x1ZyBvZiBhbiBhcHAgbmVlZGVkIHRvIGJlIGluc3RhbGxlZCBiZWZvcmUgdGhlIGN1cnJlbnQgYXBwIGNhbiBiZSBhZGRlZCAqLwogIGRlcGVuZGVuY2llcz86IHN0cmluZ1tdOwogIC8qKiBFbmFibGVzIHZpZGVvIGFwcHMgdG8gYmUgdXNlZCBmb3IgdGVhbSBldmVudHMuIE5vbiBWaWRlby9Db25mZXJlbmNpbmcgYXBwcyBkb24ndCBob25vciB0aGlzIGFzIHRoZXkgc3VwcG9ydCB0ZWFtIGluc3RhbGxhdGlvbiBhbHdheXMuICovCiAgY29uY3VycmVudE1lZXRpbmdzPzogYm9vbGVhbjsKCiAgY3JlYXRlZEF0Pzogc3RyaW5nOwogIC8qKiBTcGVjaWZpZXMgaWYgdGhlIEFwcCB1c2VzIGFuIE9BdXRoIGZsb3cgICovCiAgaXNPQXV0aD86IGJvb2xlYW47CiAgLyoqCiAgICogU3BlY2lmaWVzIGlmIHRoZSBBcHAgc3VwcG9ydHMgZGVsZWdhdGlvbiBjcmVkZW50aWFsCiAgICovCiAgZGVsZWdhdGlvbkNyZWRlbnRpYWw/OiB7CiAgICB3b3Jrc3BhY2VQbGF0Zm9ybVNsdWc6IHN0cmluZzsKICB9Owp9CgpleHBvcnQgdHlwZSBBcHBGcm9udGVuZFBheWxvYWQgPSBPbWl0PEFwcCwgImtleSI+ICYgewogIC8qKiBXZSBzaG91bGQgdHlwZSBlcnJvciBpZiBrZXlzIGFyZSBsZWFrZWQgdG8gdGhlIGZyb250ZW5kICovCiAgaXNEZWZhdWx0PzogYm9vbGVhbjsKICBrZXk/OiBuZXZlcjsKICBkZXBlbmRlbmN5RGF0YT86IHsKICAgIG5hbWU/OiBzdHJpbmc7CiAgICBpbnN0YWxsZWQ/OiBib29sZWFuOwogIH1bXTsKICAvKiogTnVtYmVyIG9mIHVzZXJzIHdobyBjdXJyZW50bHkgaGF2ZSB0aGlzIEFwcCBpbnN0YWxsZWQgKi8KICBpbnN0YWxsQ291bnQ/OiBudW1iZXI7Cn07CgpleHB2YXIgbixzO2lmKCEodD0xPT09dC5sZW5ndGgmJnkodFswXSk/dFswXTp0KS5sZW5ndGgpcmV0dXJuIFIoKTtmb3Iobj10WzBdLHM9MTtzPHQubGVuZ3RoOysrcyl0W3NdLmlzVmFsaWQoKSYmIXRbc11bZV0obil8fChuPXRbc10pO3JldHVybiBufXZhciBSdD1bInllYXIiLCJxdWFydGVyIiwibW9udGgiLCJ3ZWVrIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIl07ZnVuY3Rpb24gQ3QoZSl7dmFyIGU9dWUoZSksdD1lLnllYXJ8fDAsbj1lLnF1YXJ0ZXJ8fDAscz1lLm1vbnRofHwwLGk9ZS53ZWVrfHxlLmlzb1dlZWt8fDAscj1lLmRheXx8MCxhPWUuaG91cnx8MCxvPWUubWludXRlfHwwLHU9ZS5zZWNvbmR8fDAsbD1lLm1pbGxpc2Vjb25kfHwwO3RoaXMuX2lzVmFsaWQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixzPSExLGk9UnQubGVuZ3RoO2Zvcih0IGluIGUpaWYoYyhlLHQpJiYoLTE9PT14LmNhbGwoUnQsdCl8fG51bGwhPWVbdF0mJmlzTmFOKGVbdF0pKSlyZXR1cm4hMTtmb3Iobj0wO248aTsrK24paWYoZVtSdFtuXV0pe2lmKHMpcmV0dXJuITE7cGFyc2VGbG9hdChlW1J0W25dXSkhPT1NKGVbUnRbbl1dKSYmKHM9ITApfXJldHVybiEwfShlKSx0aGlzLl9taWxsaXNlY29uZHM9K2wrMWUzKnUrNmU0Km8rMWUzKmEqNjAqNjAsdGhpcy5fZGF5cz0rcis3KmksdGhpcy5fbW9udGhzPStzKzMqbisxMip0LHRoaXMuX2RhdGE9e30sdGhpcy5fbG9jYWxlPVAoKSx0aGlzLl9idWJibGUoKX1mdW5jdGlvbiBVdChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEN0fWZ1bmN0aW9uIEh0KGUpe3JldHVybiBlPDA/LTEqTWF0aC5yb3VuZCgtMSplKTpNYXRoLnJvdW5kKGUpfWZ1bmN0aW9uIEZ0KGUsbil7cyhlLDAsMCxmdW5jdGlvbigpe3ZhciBlPXRoaXMudXRjT2Zmc2V0KCksdD0iKyI7cmV0dXJuIGU8MCYmKGU9LWUsdD0iLSIpLHQrcih+fihlLzYwKSwyKStuK3Iofn5lJTYwLDIpfSl9RnQoIloiLCI6IiksRnQoIlpaIiwiIiksaCgiWiIsdmUpLGgoIlpaIix2ZSksdihbIloiLCJaWiJdLGZ1bmN0aW9uKGUsdCxuKXtuLl91c2VVVEM9ITAsbi5fdHptPVZ0KHZlLGUpfSk7dmFyIEx0PS8oW1wrXC1dfFxkXGQpL2dpO2Z1bmN0aW9uIFZ0KGUsdCl7dmFyIHQ9KHR8fCIiKS5tYXRjaChlKTtyZXR1cm4gbnVsbD09PXQ/bnVsbDowPT09KHQ9NjAqKGU9KCh0W3QubGVuZ3RoLTFdfHxbXSkrIiIpLm1hdGNoKEx0KXx8WyItIiwwLDBdKVsxXStNKGVbMl0pKT8wOiIrIj09PWVbMF0/dDotdH1mdW5jdGlvbiBHdChlLHQpe3ZhciBuO3JldHVybiB0Ll9pc1VUQz8odD10LmNsb25lKCksbj0oayhlKXx8VihlKT9lOlIoZSkpLnZhbHVlT2YoKS10LnZhbHVlT2YoKSx0Ll9kLnNldFRpbWUodC5fZC52YWx1ZU9mKCkrbiksXy51cGRhdGVPZmZzZXQodCwhMSksdCk6UihlKS5sb2NhbCgpfWZ1bmN0aW9uIEV0KGUpe3JldHVybi1NYXRoLnJvdW5kKGUuX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSl9ZnVuY3Rpb24gQXQoKXtyZXR1cm4hIXRoaXMuaXNWYWxpZCgpJiZ0aGlzLl9pc1VUQyYmMD09PXRoaXMuX29mZnNldH1fLnVwZGF0ZU9mZnNldD1mdW5jdGlvbigpe307dmFyIEl0PS9eKC18XCspPyg/OihcZCopWy4gXSk/KFxkKyk6KFxkKykoPzo6KFxkKykoXC5cZCopPyk/JC8sanQ9L14oLXxcKyk/UCg/OihbLStdP1swLTksLl0qKVkpPyhyKHZhciBuIGluIHQpYyh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gYyh0LCJ0b1N0cmluZyIpJiYoZS50b1N0cmluZz10LnRvU3RyaW5nKSxjKHQsInZhbHVlT2YiKSYmKGUudmFsdWVPZj10LnZhbHVlT2YpLGV9ZnVuY3Rpb24gbChlLHQsbixzKXtyZXR1cm4gV3QoZSx0LG4scywhMCkudXRjKCl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gbnVsbD09ZS5fcGYmJihlLl9wZj17ZW1wdHk6ITEsdW51c2VkVG9rZW5zOltdLHVudXNlZElucHV0OltdLG92ZXJmbG93Oi0yLGNoYXJzTGVmdE92ZXI6MCxudWxsSW5wdXQ6ITEsaW52YWxpZEVyYTpudWxsLGludmFsaWRNb250aDpudWxsLGludmFsaWRGb3JtYXQ6ITEsdXNlckludmFsaWRhdGVkOiExLGlzbzohMSxwYXJzZWREYXRlUGFydHM6W10sZXJhOm51bGwsbWVyaWRpZW06bnVsbCxyZmMyODIyOiExLHdlZWtkYXlNaXNtYXRjaDohMX0pLGUuX3BmfWZ1bmN0aW9uIEEoZSl7dmFyIHQsbixzPWUuX2QmJiFpc05hTihlLl9kLmdldFRpbWUoKSk7cmV0dXJuIHMmJih0PXAoZSksbj1qLmNhbGwodC5wYXJzZWREYXRlUGFydHMsZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWV9KSxzPXQub3ZlcmZsb3c8MCYmIXQuZW1wdHkmJiF0LmludmFsaWRFcmEmJiF0LmludmFsaWRNb250aCYmIXQuaW52YWxpZFdlZWtkYXkmJiF0LndlZWtkYXlNaXNtYXRjaCYmIXQubnVsbElucHV0JiYhdC5pbnZhbGlkRm9ybWF0JiYhdC51c2VySW52YWxpZGF0ZWQmJighdC5tZXJpZGllbXx8dC5tZXJpZGllbSYmbiksZS5fc3RyaWN0KSYmKHM9cyYmMD09PXQuY2hhcnNMZWZ0T3ZlciYmMD09PXQudW51c2VkVG9rZW5zLmxlbmd0aCYmdm9pZCAwPT09dC5iaWdIb3VyKSxudWxsIT1PYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0Zyb3plbihlKT9zOihlLl9pc1ZhbGlkPXMsZS5faXNWYWxpZCl9ZnVuY3Rpb24gSShlKXt2YXIgdD1sKE5hTik7cmV0dXJuIG51bGwhPWU/RShwKHQpLGUpOnAodCkudXNlckludmFsaWRhdGVkPSEwLHR9dmFyIGo9QXJyYXkucHJvdG90eXBlLnNvbWV8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3QodGhpcyksbj10Lmxlbmd0aD4+PjAscz0wO3M8bjtzKyspaWYocyBpbiB0JiZlLmNhbGwodGhpcyx0W3NdLHMsdCkpcmV0dXJuITA7cmV0dXJuITF9LFo9Xy5tb21lbnRQcm9wZXJ0aWVzPVtdLHo9ITE7ZnVuY3Rpb24gcShlLHQpe3ZhciBuLHMsaSxyPVoubGVuZ3RoO2lmKGcodC5faXNBTW9tZW50T2JqZWN0KXx8KGUuX2lzQU1vbWVudE9iamVjdD10Ll9pc0FNb21lbnRPYmplY3QpLGcodC5faSl8fChlLl9pPXQuX2kpLGcodC5fZil8fChlLl9mPXQuX2YpLGcodC5fbCl8fChlLl9sPXQuX2wpLGcodC5fc3RyaWN0KXx8KGUuX3N0cmljdD10Ll9zdHJpY3QpLGcodC5fdHptKXx8KGUuX3R6bT10Ll90em0pLGcodC5faXNVVEMpfHwoZS5faXNVVEM9dC5faXNVVEMpLGcodC5fb2Zmc2V0KXx8KGUuX29mZnNldD10Ll9vZmZzZXQpLGcodC5fcGYpfHwoZS5fcGY9cCh0KSksZyh0Ll9sb2NhbGUpfHwoZS5fbG9jYWxlPXQuX2xvY2FsZSksMDxyKWZvcihuPTA7bjxyO24rKylnKGk9dFtzPVpbbl1dKXx8KGVbc109aSk7cmV0dXJuIGV9ZnVuY3Rpb24gJChlKXtxKHRoaXMsZSksdGhpcy5fZD1uZXcgRGF0ZShudWxsIT1lLl9kP2UuX2QuZ2V0VGltZSgpOk5hTiksdGhpcy5pc1ZhbGlkKCl8fCh0aGlzLl9lKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssICdzZXRTdGF0ZScpOwp9OwovKioKICogRm9yY2VzIGFuIHVwZGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbnZva2VkIHdoZW4gaXQgaXMga25vd24gd2l0aAogKiBjZXJ0YWludHkgdGhhdCB3ZSBhcmUgKipub3QqKiBpbiBhIERPTSB0cmFuc2FjdGlvbi4KICoKICogWW91IG1heSB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIHlvdSBrbm93IHRoYXQgc29tZSBkZWVwZXIgYXNwZWN0IG9mIHRoZQogKiBjb21wb25lbnQncyBzdGF0ZSBoYXMgY2hhbmdlZCBidXQgYHNldFN0YXRlYCB3YXMgbm90IGNhbGxlZC4KICoKICogVGhpcyB3aWxsIG5vdCBpbnZva2UgYHNob3VsZENvbXBvbmVudFVwZGF0ZWAsIGJ1dCBpdCB3aWxsIGludm9rZQogKiBgY29tcG9uZW50V2lsbFVwZGF0ZWAgYW5kIGBjb21wb25lbnREaWRVcGRhdGVgLgogKgogKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHVwZGF0ZSBpcyBjb21wbGV0ZS4KICogQGZpbmFsCiAqIEBwcm90ZWN0ZWQKICovCgoKQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogIHRoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpOwp9OwovKioKICogRGVwcmVjYXRlZCBBUElzLiBUaGVzZSBBUElzIHVzZWQgdG8gZXhpc3Qgb24gY2xhc3NpYyBSZWFjdCBjbGFzc2VzIGJ1dCBzaW5jZQogKiB3ZSB3b3VsZCBsaWtlIHRvIGRlcHJlY2F0ZSB0aGVtLCB3ZSdyZSBub3QgZ29pbmcgdG8gbW92ZSB0aGVtIG92ZXIgdG8gdGhpcwogKiBtb2Rlcm4gYmFzZSBjbGFzcy4gSW5zdGVhZCwgd2UgZGVmaW5lIGEgZ2V0dGVyIHRoYXQgd2FybnMgaWYgaXQncyBhY2Nlc3NlZC4KICovCgoKewogIHZhciBkZXByZWNhdGVkQVBJcyA9IHsKICAgIGlzTW91bnRlZDogWydpc01vdW50ZWQnLCAnSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gJyArICdjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4nXSwKICAgIHJlcGxhY2VTdGF0ZTogWydyZXBsYWNlU3RhdGUnLCAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLiddCiAgfTsKCiAgdmFyIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyA9IGZ1bmN0aW9uIChtZXRob2ROYW1lLCBpbmZvKSB7CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwgewogICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKCclcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlcycsIGluZm9bMF0sIGluZm9bMV0pOwoKICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICB9CiAgICB9KTsKICB9OwoKICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHsKICAgIGlmIChkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpKSB7CiAgICAgIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhmbk5hbWUsIGRlcHJlYzA4SDkuOTk5NjNDMTEuNTUxNCAxNS41OTA4IDEyLjM5OSAxNC43NDMyIDEyLjM5OSAxMy4xNzc3VjEwLjI2NTZIMTAuNjM1NFYxMi45ODYzQzEwLjYzNTQgMTMuNTMzMiAxMC4zNjg4IDEzLjgyNzEgOS43ODc3MiAxMy44MjcxSDIuODkwMjZDMi4zMDkyIDEzLjgyNzEgMi4wNDI2IDEzLjUzMzIgMi4wNDI2IDEyLjk4NjNWMy4xNTYyNUMyLjA0MjYgMi42MDI1NCAyLjMwOTIgMi4zMDg1OSAyLjg5MDI2IDIuMzA4NTlIOS43ODc3MkMxMC4zNjg4IDIuMzA4NTkgMTAuNjM1NCAyLjYwMjU0IDEwLjYzNTQgMy4xNTYyNVY1Ljg5NzQ2SDEyLjM5OVYyLjk1ODAxQzEyLjM5OSAxLjM5OTQxIDExLjU1MTQgMC41NDQ5MjIgOS45OTk2MyAwLjU0NDkyMkgyLjY3ODM0QzEuMTI2NTkgMC41NDQ5MjIgMC4yNzg5MzEgMS4zOTk0MSAwLjI3ODkzMSAyLjk1ODAxVjEzLjE3NzdDMC4yNzg5MzEgMTQuNzQzMiAxLjEyNjU5IDE1LjU5MDggMi42NzgzNCAxNS41OTA4Wk03LjQzNjE2IDguODUwNTlIMTQuMDg3NUwxNS4wOTI0IDguNzg5MDZMMTQuNTY2IDkuMTQ0NTNMMTMuNjg0MiA5Ljk2NDg0QzEzLjU0MDYgMTAuMTAxNiAxMy40NTg2IDEwLjI4NjEgMTMuNDU4NiAxMC40ODQ0QzEzLjQ1ODYgMTAuODM5OCAxMy43MzIxIDExLjE2OCAxNC4xMjE3IDExLjE2OEMxNC4zMTk5IDExLjE2OCAxNC40NjM1IDExLjA5MjggMTQuNjAwMiAxMC45NTYxTDE2Ljc4MDkgOC42ODY1MkMxNi45ODYgOC40ODE0NSAxNy4wNTQzIDguMjc2MzcgMTcuMDU0MyA4LjA2NDQ1QzE3LjA1NDMgNy44NTI1NCAxNi45ODYgNy42NDc0NiAxNi43ODA5IDcuNDM1NTVMMTQuNjAwMiA1LjE3Mjg1QzE0LjQ2MzUgNS4wMzYxMyAxNC4zMTk5IDQuOTU0MSAxNC4xMjE3IDQuOTU0MUMxMy43MzIxIDQuOTU0MSAxMy40NTg2IDUuMjc1MzkgMTMuNDU4NiA1LjYzNzdDMTMuNDU4NiA1LjgzNTk0IDEzLjU0MDYgNi4wMjczNCAxMy42ODQyIDYuMTU3MjNMMTQuNTY2IDYuOTg0MzhMMTUuMDkyNCA3LjMzOTg0TDE0LjA4NzUgNy4yNzE0OEg3LjQzNjE2QzcuMDE5MTcgNy4yNzE0OCA2LjY1Njg2IDcuNjIwMTIgNi42NTY4NiA4LjA2NDQ1QzYuNjU2ODYgOC41MDE5NSA3LjAxOTE3IDguODUwNTkgNy40MzYxNiA4Ljg1MDU5WiIsCiAgICAgIGZpbGw6ICJjdXJyZW50Q29sb3IiCiAgICB9CiAgKQopOwoKLy8gc3JjL2NvbXBvbmVudHMvVHhzL1R4TGlzdC50c3gKaW1wb3J0IFJlYWN0MzIsIHsgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0OSB9IGZyb20gInJlYWN0IjsKaW1wb3J0IHsgdXNlQWNjb3VudCBhcyB1c2VBY2NvdW50OSB9IGZyb20gIndhZ21pIjsKCi8vIHNyYy90cmFuc2FjdGlvbnMvdXNlQ2xlYXJSZWNlbnRUcmFuc2FjdGlvbnMudHMKaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s3IH0gZnJvbSAicmVhY3QiOwppbXBvcnQgeyB1c2VBY2NvdW50IGFzIHVzZUFjY291bnQ3IH0gZnJvbSAid2FnbWkiOwpmdW5jdGlvbiB1c2VDbGVhclJlY2VudFRyYW5zYWN0aW9ucygpIHsKICBjb25zdCBzdG9yZSA9IHVzZVRyYW5zYWN0aW9uU3RvcmUoKTsKICBjb25zdCB7IGFkZHJlc3MgfSA9IHVzZUFjY291bnQ3KCk7CiAgY29uc3QgY2hhaW5JZCA9IHVzZUNoYWluSWQoKTsKICByZXR1cm4gdXNlQ2FsbGJhY2s3KCgpID0+IHsKICAgIGlmICghYWRkcmVzcyB8fCAhY2hhaW5JZCkgewogIGFpbklkOiA1MSwgLi4ueGRjSWNvbiB9LAogIHpldGFjaGFpbjogeyBjaGFpbklkOiA3ZTMsIG5hbWU6ICJaZXRhQ2hhaW4iLCAuLi56ZXRhY2hhaW5JY29uIH0sCiAgemV0YWNoYWluQXRoZW5zVGVzdG5ldDogewogICAgY2hhaW5JZDogNzAwMSwKICAgIG5hbWU6ICJaZXRhIEF0aGVucyIsCiAgICAuLi56ZXRhY2hhaW5JY29uCiAgfSwKICB6a1N5bmM6IHsgY2hhaW5JZDogMzI0LCBuYW1lOiAiemtTeW5jIiwgLi4uemtTeW5jSWNvbiB9LAogIHprU3luY1Rlc3RuZXQ6IHsgY2hhaW5JZDogMjgwLCAuLi56a1N5bmNJY29uIH0sCiAgem9yYTogeyBjaGFpbklkOiA3Nzc3Nzc3LCBuYW1lOiAiWm9yYSIsIC4uLnpvcmFJY29uIH0sCiAgem9yYVNlcG9saWE6IHsgY2hhaW5JZDogOTk5OTk5OTk5LCAuLi56b3JhSWNvbiB9LAogIHpvcmFUZXN0bmV0OiB7IGNoYWluSWQ6IDk5OSwgLi4uem9yYUljb24gfQp9Owp2YXIgY2hhaW5NZXRhZGF0YUJ5SWQgPSBPYmplY3QuZnJvbUVudHJpZXMoCiAgT2JqZWN0LnZhbHVlcyhjaGFpbk1ldGFkYXRhQnlOYW1lKS5maWx0ZXIoaXNOb3ROdWxsaXNoKS5tYXAoKHsgY2hhaW5JZCwgLi4ubWV0YWRhdGEgfSkgPT4gW2NoYWluSWQsIG1ldGFkYXRhXSkKKTsKdmFyIHByb3ZpZGVSYWluYm93S2l0Q2hhaW5zID0gKGNoYWlucykgPT4gY2hhaW5zLm1hcCgoY2hhaW4pID0+IHsKICBjb25zdCBkZWZhdWx0TWV0YWRhdGEgPSBjaGFpbk1ldGFkYXRhQnlJZFtjaGFpbi5pZF0gPz8ge307CiAgcmV0dXJuIHsKICAgIC4uLmNoYWluLAogICAgbmFtZTogZGVmYXVsdE1ldGFkYXRhLm5hbWUgPz8gY2hhaW4ubmFtZSwKICAgIC8vIGZhdm9yIGNvbGxvcXVpYWwgbmFtZXMKICAgIGljb25Vcmw6IGNoYWluLmljb25VcmwgPz8gZGVmYXVsdE1ldGFkYXRhLmljb25VcmwsCiAgICBpY29uQmFja2dyb3VuZDogY2hhaW4uaWNvbkJhY2tncm91bmQgPz8gZGVmYXVsdE1ldGFkYXRhLmljb25CYWNrZ3JvdW5kCiAgfTsKfSk7CgovLyBzcmMvY29tcG9uZW50cy9SYWluYm93S2l0UHJvdmlkZXIvUmFpbmJvd0tpdENoYWluQ29udGV4dC50c3gKdmFyIFJhaW5ib3dLaXRDaGFpbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0NCh7CiAgY2hhaW5zOiBbXQp9KTsKZnVuY3Rpb24gUmFpbmJvd0tpdENoYWluUHJvdmlkZXIoewogIGNoaWxkcmVuLAogIGluaXRpYWxDaGFpbgp9KSB7CiAgY29uc3QgeyBjaGFpbnMgfSA9IHVzZUNvbmZpZygpOwogIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoCiAgICBSYWluYm93S2l0Q2hhaW5Db250ZXh0LlByb3ZpZGVyLAogICAgewogICAgICB2YWx1ZTogdXNlTWVtbzUoCiAgICAgICAgKCkgPT4gKHsKICAgICAgICAgIGNoYWluczogcHJvdmlkZVJhaW5ib3dLaXRDaGFpbnMoY2hhaW5zKSwKICAgICAgICAgIGluaXRpYWxDaGFpbklkOiB0eXBlb2YgaW5pdGlhbENoYWluID09PSAibnVtYmVyIiA/IGluaXRpYWxDaGFpbiA6IGluaXRpYWxDaGFpbj8uaWQKICAgICAgICB9KSwKICAgICAgICBbY2hhaW5zLCBpbml0aWFsQ2hhaW5dCiAgICAgICkKICAgIH0sCiAgICBjaGlsZHJlbgogICk7Cn0KdmFyIHVzZVJhaW5ib3dLaXRDaGFpbnMgPSAoKSA9PiB1c2VDb250ZXh0MyhSYWluYm93S2l0Q2hhaW5Db250ZXh0KS5jaGFpbnM7CnZhciB1c2VJbml0aWFsQ2hhaW5JZCA9IENhc2UoKS5tYXRjaChEKXx8W107aWYodih0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFZ0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PV90O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsY2UuZWFjaCh0W2VdfHxbXSxmdW5jdGlvbihlLHQpe3ZhciBuPXQoaSxvLGEpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbIioiXSYmbCgiKiIpfWZ1bmN0aW9uIEd0KGUsdCl7dmFyIG4scixpPWNlLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKG4gaW4gdCl2b2lkIDAhPT10W25dJiYoKGlbbl0/ZTpyfHwocj17fSkpW25dPXRbbl0pO3JldHVybiByJiZjZS5leHRlbmQoITAsZSxyKSxlfVh0LmhyZWY9RXQuaHJlZixjZS5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOkV0LmhyZWYsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoRXQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6enQsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmNlLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9HdChHdChlLGNlLmFqYXhTZXR0aW5ncyksdCk6R3QoY2UuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOlV0KEJ0KSxhamF4VHJhbnNwb3J0OlV0KF90KSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9Y2UuYWpheFNldHVwKHt9LHQpLHk9di5jb250ZXh0fHx2LG09di5jb250ZXh0JiYoeS5ub2RlVHlwZXx8eS5qcXVlcnkpP2NlKHkpOmNlLmV2ZW50LHg9Y2UuRGVmZXJyZWQoKSxiPWNlLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1XdC5leGVjKHApKW5bdFsxXS50b0xwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49cWUpLHRoaXMuZWFjaChmdW5jdGlvbigpe2NlLmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfX0pO3ZhciBPZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxQZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxNZT0vXlxzKjwhXFtDREFUQVxbfFxdXF0+XHMqJC9nO2Z1bmN0aW9uIFJlKGUsdCl7cmV0dXJuIGZlKGUsInRhYmxlIikmJmZlKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmY2UoZSkuY2hpbGRyZW4oInRib2R5IilbMF18fGV9ZnVuY3Rpb24gSWUoZSl7cmV0dXJuIGUudHlwZT0obnVsbCE9PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIitlLnR5cGUsZX1mdW5jdGlvbiBXZShlKXtyZXR1cm4idHJ1ZS8iPT09KGUudHlwZXx8IiIpLnNsaWNlKDAsNSk/ZS50eXBlPWUudHlwZS5zbGljZSg1KTplLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLGV9ZnVuY3Rpb24gRmUoZSx0KXt2YXIgbixyLGksbyxhLHM7aWYoMT09PXQubm9kZVR5cGUpe2lmKF8uaGFzRGF0YShlKSYmKHM9Xy5nZXQoZSkuZXZlbnRzKSlmb3IoaSBpbiBfLnJlbW92ZSh0LCJoYW5kbGUgZXZlbnRzIikscylmb3Iobj0wLHI9c1tpXS5sZW5ndGg7bjxyO24rKyljZS5ldmVudC5hZGQodCxpLHNbaV1bbl0pO3ouaGFzRGF0YShlKSYmKG89ei5hY2Nlc3MoZSksYT1jZS5leHRlbmQoe30sbyksei5zZXQodCxhKSl9fWZ1bmN0aW9uICRlKG4scixpLG8pe3I9ZyhyKTt2YXIgZSx0LGEscyx1LGwsYz0wLGY9bi5sZW5ndGgscD1mLTEsZD1yWzBdLGg9dihkKTtpZihofHwxPGYmJiJzdHJpbmciPT10eXBlb2YgZCYmIWxlLmNoZWNrQ2xvbmUmJlBlLnRlc3QoZCkpcmV0dXJuIG4uZWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLmVxKGUpO2gmJihyWzBdPWQuY2FsbCh0aGlzLGUsdC5odG1sKCkpKSwkZSh0LHIsaSxvKX0pO2lmKGYmJih0PShlPUFlKHIsblswXS5vd25lckRvY3VtZW50LCExLG4sbykpLmZpcnN0Q2hpbGQsMT09PWUuY2hpbGROb2Rlcy5sZW5ndGgmJihlPXQpLHR8fG8pKXtmb3Iocz0oYT1jZS5tYXAoU2UoZSwic2NyaXB0IiksSWUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PWNlLmNsb25lKHUsITAsITApLHMmJmNlLm1lcmdlKGEsU2UodSwic2NyaXB0IikpKSxpLmNhbGwobltjXSx1LGMpO2lmKHMpZm9yKGw9YVthLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGNlLm1hcChhLFdlKSxjPTA7YzxzO2MrKyl1PWFbY10sQ2UudGVzdCh1LnR5cGV8fCIiKSYmIV8uYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmY2UuY29udGFpbnMobCx1KSYmKHUuc3JjJiYibW9kdWxlIiE9PSh1LnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP2NlLl9ldmFsVXJsJiYhdS5ub01vZHVsZSYmY2UuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTptKHUudGV4dENvbnRlbnQucmVwbGFjZShNZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gQmUoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Y2UuZmlsdGVyKHQsZSk6ZSxvPTA7bnVsbCE9KHI9aVtvXSk7bysrKW58fDEhPT1yLm5vZGVUeXt2YXIgdDtyZXR1cm57dG9rZW46bmV3IGUoKGZ1bmN0aW9uKGUpe3Q9ZX0pKSxjYW5jZWw6dH19fV0pLGV9KCk7dmFyIFhlPXtDb250aW51ZToxMDAsU3dpdGNoaW5nUHJvdG9jb2xzOjEwMSxQcm9jZXNzaW5nOjEwMixFYXJseUhpbnRzOjEwMyxPazoyMDAsQ3JlYXRlZDoyMDEsQWNjZXB0ZWQ6MjAyLE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjoyMDMsTm9Db250ZW50OjIwNCxSZXNldENvbnRlbnQ6MjA1LFBhcnRpYWxDb250ZW50OjIwNixNdWx0aVN0YXR1czoyMDcsQWxyZWFkeVJlcG9ydGVkOjIwOCxJbVVzZWQ6MjI2LE11bHRpcGxlQ2hvaWNlczozMDAsTW92ZWRQZXJtYW5lbnRseTozMDEsRm91bmQ6MzAyLFNlZU90aGVyOjMwMyxOb3RNb2RpZmllZDozMDQsVXNlUHJveHk6MzA1LFVudXNlZDozMDYsVGVtcG9yYXJ5UmVkaXJlY3Q6MzA3LFBlcm1hbmVudFJlZGlyZWN0OjMwOCxCYWRSZXF1ZXN0OjQwMCxVbmF1dGhvcml6ZWQ6NDAxLFBheW1lbnRSZXF1aXJlZDo0MDIsRm9yYmlkZGVuOjQwMyxOb3RGb3VuZDo0MDQsTWV0aG9kTm90QWxsb3dlZDo0MDUsTm90QWNjZXB0YWJsZTo0MDYsUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOjQwNyxSZXF1ZXN0VGltZW91dDo0MDgsQ29uZmxpY3Q6NDA5LEdvbmU6NDEwLExlbmd0aFJlcXVpcmVkOjQxMSxQcmVjb25kaXRpb25GYWlsZWQ6NDEyLFBheWxvYWRUb29MYXJnZTo0MTMsVXJpVG9vTG9uZzo0MTQsVW5zdXBwb3J0ZWRNZWRpYVR5cGU6NDE1LFJhbmdlTm90U2F0aXNmaWFibGU6NDE2LEV4cGVjdGF0aW9uRmFpbGVkOjQxNyxJbUFUZWFwb3Q6NDE4LE1pc2RpcmVjdGVkUmVxdWVzdDo0MjEsVW5wcm9jZXNzYWJsZUVudGl0eTo0MjIsTG9ja2VkOjQyMyxGYWlsZWREZXBlbmRlbmN5OjQyNCxUb29FYXJseTo0MjUsVXBncmFkZVJlcXVpcmVkOjQyNixQcmVjb25kaXRpb25SZXF1aXJlZDo0MjgsVG9vTWFueVJlcXVlc3RzOjQyOSxSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6NDMxLFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOjQ1MSxJbnRlcm5hbFNlcnZlckVycm9yOjUwMCxOb3RJbXBsZW1lbnRlZDo1MDEsQmFkR2F0ZXdheTo1MDIsU2VydmljZVVuYXZhaWxhYmxlOjUwMyxHYXRld2F5VGltZW91dDo1MDQsSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6NTA1LFZhcmlhbnRBbHNvTmVnb3RpYXRlczo1MDYsSW5zdWZmaWNpZW50U3RvcmFnZTo1MDcsTG9vcERldGVjdGVkOjUwOCxOb3RFeHRlbmRlZDo1MTAsTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6NTExfTtPYmplY3QuZW50cmllcyhYZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9cyhlLDIpLG49dFswXSxyPXRbMV07WGVbcl09bn0pKTt2YXIgJGU9WGU7dmFyIFFlPWZ1bmN0aW9uIGUodCl7dmFyIG49bmV3IFZlKHQpLHI9aChWZS5wcm90b3R5cGUucmVxdWVzdCxuKTtyZXR1cm4gRy5leHRlbmQocixWZS5wcm90b3R5cGUsbix7YWxsT3duS2V5czohMH0pLEcuZXh0ZW5kKHIsbixudWxsLHthbGxPd25LZXlzOiEwfSksci5jcmVhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGUocWUodCxuKSl9LHJ9KGJlKTtyZXR1cm4gUWUuQXhpb3M9VmUsUWUuQ2FuY2VsZWRFcnJvcj1QZSxRZS5DYW5jZWxUb2tlbj1HZSxRZS5pc0NhbmNlbD1UZSxRZS5WRVJTSU9OPXplLFFlLnRvRm9ybURhdGE9bmUsUWUuQXhpb3NFcm9dLFswLDIxLCJLZXlMIiw0MiwiTCIsNzYsIlZLX0wiLG8sb10sWzAsMjIsIktleU0iLDQzLCJNIiw3NywiVktfTSIsbyxvXSxbMCwyMywiS2V5TiIsNDQsIk4iLDc4LCJWS19OIixvLG9dLFswLDI0LCJLZXlPIiw0NSwiTyIsNzksIlZLX08iLG8sb10sWzAsMjUsIktleVAiLDQ2LCJQIiw4MCwiVktfUCIsbyxvXSxbMCwyNiwiS2V5USIsNDcsIlEiLDgxLCJWS19RIixvLG9dLFswLDI3LCJLZXlSIiw0OCwiUiIsODIsIlZLX1IiLG8sb10sWzAsMjgsIktleVMiLDQ5LCJTIiw4MywiVktfUyIsbyxvXSxbMCwyOSwiS2V5VCIsNTAsIlQiLDg0LCJWS19UIixvLG9dLFswLDMwLCJLZXlVIiw1MSwiVSIsODUsIlZLX1UiLG8sb10sWzAsMzEsIktleVYiLDUyLCJWIiw4NiwiVktfViIsbyxvXSxbMCwzMiwiS2V5VyIsNTMsIlciLDg3LCJWS19XIixvLG9dLFswLDMzLCJLZXlYIiw1NCwiWCIsODgsIlZLX1giLG8sb10sWzAsMzQsIktleVkiLDU1LCJZIiw4OSwiVktfWSIsbyxvXSxbMCwzNSwiS2V5WiIsNTYsIloiLDkwLCJWS19aIixvLG9dLFswLDM2LCJEaWdpdDEiLDIyLCIxIiw0OSwiVktfMSIsbyxvXSxbMCwzNywiRGlnaXQyIiwyMywiMiIsNTAsIlZLXzIiLG8sb10sWzAsMzgsIkRpZ2l0MyIsMjQsIjMiLDUxLCJWS18zIixvLG9dLFswLDM5LCJEaWdpdDQiLDI1LCI0Iiw1MiwiVktfNCIsbyxvXSxbMCw0MCwiRGlnaXQ1IiwyNiwiNSIsNTMsIlZLXzUiLG8sb10sWzAsNDEsIkRpZ2l0NiIsMjcsIjYiLDU0LCJWS182IixvLG9dLFswLDQyLCJEaWdpdDciLDI4LCI3Iiw1NSwiVktfNyIsbyxvXSxbMCw0MywiRGlnaXQ4IiwyOSwiOCIsNTYsIlZLXzgiLG8sb10sWzAsNDQsIkRpZ2l0OSIsMzAsIjkiLDU3LCJWS185IixvLG9dLFswLDQ1LCJEaWdpdDAiLDIxLCIwIiw0OCwiVktfMCIsbyxvXSxbMSw0NiwiRW50ZXIiLDMsIkVudGVyIiwxMywiVktfUkVUVVJOIixvLG9dLFsxLDQ3LCJFc2NhcGUiLDksIkVzY2FwZSIsMjcsIlZLX0VTQ0FQRSIsbyxvXSxbMSw0OCwiQmFja3NwYWNlIiwxLCJCYWNrc3BhY2UiLDgsIlZLX0JBQ0siLG8sb10sWzEsNDksIlRhYiIsMiwiVGFiIiw5LCJWS19UQUIiLG8sb10sWzEsNTAsIlNwYWNlIiwxMCwiU3BhY2UiLDMyLCJWS19TUEFDRSIsbyxvXSxbMCw1MSwiTWludXMiLDg4LCItIiwxODksIlZLX09FTV9NSU5VUyIsIi0iLCJPRU1fTUlOVVMiXSxbMCw1MiwiRXF1YWwiLDg2LCI9IiwxODcsIlZLX09FTV9QTFVTIiwiPSIsIk9FTV9QTFVTIl0sWzAsNTMsIkJyYWNrZXRMZWZ0Iiw5MiwiWyIsMjE5LCJWS19PRU1fNCIsIlsiLCJPRU1fNCJdLFswLDU0LCJCcmFja2V0UmlnaHQiLDk0LCJdIiwyMjEsIlZLX09FTV82IiwiXSIsIk9FTV82Il0sWzAsNTUsIkJhY2tzbGFzaCIsOTMsIlxcIiwyMjAsIlZLX09FTV81IiwiXFwiLCJPRU1fNSJdLFswLDU2LCJJbnRsSGFzaCIsMCxvLDAsbyxvLG9dLFswLDU3LCJTZW1pY29sb24iLDg1LCI7IiwxODYsIlZLX09FTV8xIiwiOyIsIk9FTV8xIl0sWzAsNTgsIlF1b3RlIiw5NSwiJyIsMjIyLCJWS19PRU1fNyIsIiciLCJPRU1fNyJdLFswLDU5LCJCYWNrcXVvdGUiLDkxLCJgIiwxOTIsIlZLX09FTV8zIiwiYCIsIk9FTV8zIl0sWzAsNjAsIkNvbW1hIiw4NywiLCIsMTg4LCJWS19PRU1fQ09NTUEiLCIsIiwiT0VNX0NPTU1BIl0sWzAsNjEsIlBlcmlvZCIsODksIi4iLDE5MCwiVnBlb2YgeGUhPSJzdHJpbmciKXRocm93IEl0KCJkaXJ0eSBpcyBub3QgYSBzdHJpbmcsIGFib3J0aW5nIil9ZWxzZSB0aHJvdyBJdCgidG9TdHJpbmcgaXMgbm90IGEgZnVuY3Rpb24iKTtpZighZS5pc1N1cHBvcnRlZClyZXR1cm4geGU7aWYodGV8fGtlKERlKSxlLnJlbW92ZWQ9W10sdHlwZW9mIHhlPT0ic3RyaW5nIiYmKEs9ITEpLEspe2lmKHhlLm5vZGVOYW1lKXtjb25zdCBsdD1MZSh4ZS5ub2RlTmFtZSk7aWYoIVBbbHRdfHxWW2x0XSl0aHJvdyBJdCgicm9vdCBub2RlIGlzIGZvcmJpZGRlbiBhbmQgY2Fubm90IGJlIHNhbml0aXplZCBpbi1wbGFjZSIpfX1lbHNlIGlmKHhlIGluc3RhbmNlb2YgcClGZT1RZSgiPCEtLS0tPiIpLFdlPUZlLm93bmVyRG9jdW1lbnQuaW1wb3J0Tm9kZSh4ZSwhMCksV2Uubm9kZVR5cGU9PT0xJiZXZS5ub2RlTmFtZT09PSJCT0RZInx8V2Uubm9kZU5hbWU9PT0iSFRNTCI/RmU9V2U6RmUuYXBwZW5kQ2hpbGQoV2UpO2Vsc2V7aWYoIWRlJiYhZWUmJiEkJiZ4ZS5pbmRleE9mKCI8Iik9PT0tMSlyZXR1cm4gZCYmWD9kLmNyZWF0ZUhUTUwoeGUpOnhlO2lmKEZlPVFlKHhlKSwhRmUpcmV0dXJuIGRlP251bGw6WD9yOiIifUZlJiZHJiZudChGZS5maXJzdENoaWxkKTtjb25zdCB1dD1odChLP3hlOkZlKTtmb3IoO3FlPXV0Lm5leHROb2RlKCk7KXdlKHFlKXx8KHFlLmNvbnRlbnQgaW5zdGFuY2VvZiBFJiZ6ZShxZS5jb250ZW50KSxBZShxZSkpO2lmKEspcmV0dXJuIHhlO2lmKGRlKXtpZih1ZSlmb3IoWmU9Zy5jYWxsKEZlLm93bmVyRG9jdW1lbnQpO0ZlLmZpcnN0Q2hpbGQ7KVplLmFwcGVuZENoaWxkKEZlLmZpcnN0Q2hpbGQpO2Vsc2UgWmU9RmU7cmV0dXJuKFIuc2hhZG93cm9vdHx8Ui5zaGFkb3dyb290bW9kZSkmJihaZT1tLmNhbGwoTCxaZSwhMCkpLFplfWxldCBYZT0kP0ZlLm91dGVySFRNTDpGZS5pbm5lckhUTUw7cmV0dXJuICQmJlBbIiFkb2N0eXBlIl0mJkZlLm93bmVyRG9jdW1lbnQmJkZlLm93bmVyRG9jdW1lbnQuZG9jdHlwZSYmRmUub3duZXJEb2N1bWVudC5kb2N0eXBlLm5hbWUmJkN0KCR0LEZlLm93bmVyRG9jdW1lbnQuZG9jdHlwZS5uYW1lKSYmKFhlPSI8IURPQ1RZUEUgIitGZS5vd25lckRvY3VtZW50LmRvY3R5cGUubmFtZStgPgpgK1hlKSxlZSYmKFhlPVN0KFhlLHcsIiAiKSxYZT1TdChYZSxELCIgIiksWGU9U3QoWGUsSSwiICIpKSxkJiZYP2QuY3JlYXRlSFRNTChYZSk6WGV9LGUuc2V0Q29uZmlnPWZ1bmN0aW9uKHhlKXtrZSh4ZSksdGU9ITB9LGUuY2xlYXJDb25maWc9ZnVuY3Rpb24oKXtOZT1udWxsLHRlPSExfSxlLmlzVmFsaWRBdHRyaWJ1dGU9ZnVuY3Rpb24oeGUsRGUsRmUpe05lfHxrZSh7fSk7Y29uc3QgV2U9TGUoeGUpLHFlPUxlKERlKTtyZXR1cm4geWUoV2UscWUsRmUpfSxlLmFkZEhvb2s9ZnVuY3Rpb24oeGUsRGUpe3R5cGVvZiBEZT09ImZ1bmN0aW9uIiYmKENbeGVdPUNbeGVdfHxbXSxFdChDW3hlXSxEZSkpfSxlLnJlbW92ZUhvb2s9ZnVuY3Rpb24oeGUpe2lmKENbeGVdKXJldHVybiB6dChDW3hlXSl9LGUucmVtb3ZlSG9va3M9ZnVuY3Rpb24oeGUpe0NbeGVdJiYoQ1t4ZV09W10pfSxlLnJlbW92ZUFsbEhvb2tzPWZ1bmN0aW9uKCl7Qz17fX0sZX12YXIgcGk9WnQoKTtkZWZpbmUoInZzL2Jhc2UvYnJvd3Nlci9kb21wdXJpZnkvZG9tcHVyaWZ5IixmdW5jdG4gcHJvdmlkZWQgYnkgdGhlIGNhbGxlciBvciBudWxsIHZhbHVlIHRvIGRpc2FibGUgcHJvZmlsaW5nLgogKi8KY29uc3Qgc2V0UHJvZmlsZXIgPSAocHJvZmlsZXIpID0+IHsKICAgIHByb2ZpbGVyQ2FsbGJhY2sgPSBwcm9maWxlcjsKfTsKLyoqCiAqIFByb2ZpbGVyIGZ1bmN0aW9uIHdoaWNoIHdyYXBzIHVzZXIgY29kZSBleGVjdXRlZCBieSB0aGUgcnVudGltZS4KICoKICogQHBhcmFtIGV2ZW50IFByb2ZpbGVyRXZlbnQgY29ycmVzcG9uZGluZyB0byB0aGUgZXhlY3V0aW9uIGNvbnRleHQKICogQHBhcmFtIGluc3RhbmNlIGNvbXBvbmVudCBpbnN0YW5jZQogKiBAcGFyYW0gaG9va09yTGlzdGVuZXIgbGlmZWN5Y2xlIGhvb2sgZnVuY3Rpb24gb3Igb3V0cHV0IGxpc3RlbmVyLiBUaGUgdmFsdWUgZGVwZW5kcyBvbiB0aGUKICogIGV4ZWN1dGlvbiBjb250ZXh0CiAqIEByZXR1cm5zCiAqLwpjb25zdCBwcm9maWxlciA9IGZ1bmN0aW9uIChldmVudCwgaW5zdGFuY2UsIGhvb2tPckxpc3RlbmVyKSB7CiAgICBpZiAocHJvZmlsZXJDYWxsYmFjayAhPSBudWxsIC8qIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYCAqLykgewogICAgICAgIHByb2ZpbGVyQ2FsbGJhY2soZXZlbnQsIGluc3RhbmNlLCBob29rT3JMaXN0ZW5lcik7CiAgICB9Cn07Cgpjb25zdCBTVkdfTkFNRVNQQUNFID0gJ3N2Zyc7CmNvbnN0IE1BVEhfTUxfTkFNRVNQQUNFID0gJ21hdGgnOwoKLy8gVE9ETyhhdHNjb3R0KTogZmxpcCBkZWZhdWx0IGludGVybmFsbHkgQVNBUCBhbmQgZXh0ZXJuYWxseSBmb3IgdjE4ICgjNTI5MjgpCmxldCBfZW5zdXJlRGlydHlWaWV3c0FyZUFsd2F5c1JlYWNoYWJsZSA9IGZhbHNlOwpmdW5jdGlvbiBnZXRFbnN1cmVEaXJ0eVZpZXdzQXJlQWx3YXlzUmVhY2hhYmxlKCkgewogICAgcmV0dXJuIF9lbnN1cmVEaXJ0eVZpZXdzQXJlQWx3YXlzUmVhY2hhYmxlOwp9CmZ1bmN0aW9uIHNldEVuc3VyZURpcnR5Vmlld3NBcmVBbHdheXNSZWFjaGFibGUodikgewogICAgX2Vuc3VyZURpcnR5Vmlld3NBcmVBbHdheXNSZWFjaGFibGUgPSB2Owp9CgovKioKICogRm9yIGVmZmljaWVuY3kgcmVhc29ucyB3ZSBvZnRlbiBwdXQgc2V2ZXJhbCBkaWZmZXJlbnQgZGF0YSB0eXBlcyAoYFJOb2RlYCwgYExWaWV3YCwgYExDb250YWluZXJgKQogKiBpbiBzYW1lIGxvY2F0aW9uIGluIGBMVmlld2AuIFRoaXMgaXMgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHByZS1hbGxvY2F0ZSBzcGFjZSBmb3IgaXQKICogYmVjYXVzZSB0aGUgc3RvcmFnZSBpcyBzcGFyc2UuIFRoaXMgZmlsZSBjb250YWlucyB1dGlsaXRpZXMgZm9yIGRlYWxpbmcgd2l0aCBzdWNoIGRhdGEgdHlwZXMuCiAqCiAqIEhvdyBkbyB3ZSBrbm93IHdoYXQgaXMgc3RvcmVkIGF0IGEgZ2l2ZW4gbG9jYXRpb24gaW4gYExWaWV3YC4KICogLSBgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPT09IGZhbHNlYCA9PiBgUk5vZGVgIChUaGUgbm9ybWFsIHN0b3JhZ2UgdmFsdWUpCiAqIC0gYEFycmF5LmlzQXJyYXkodmFsdWUpID09PSB0cnVlYCA9PiB0aGVuIHRoZSBgdmFsdWVbMF1gIHJlcHJlc2VudHMgdGhlIHdyYXBwZWQgdmFsdWUuCiAqICAgLSBgdHlwZW9mIHZhbHVlW1RZUEVdID09PSAnb2JqZWN0J2AgPT4gYExWaWV3YAogKiAgICAgIC0gVGhpcyBoYXBwZW5zIHdoZW4gd2UgaGF2ZSBhIGNvbXMgdGhlIGRlZmF1bHQgb3B0aW9uLgogICAgICovCiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvblsiRW11bGF0ZWQiXSA9IDBdID0gIkVtdWxhdGVkIjsKICAgIC8vIEhpc3RvcmljYWxseSB0aGUgMSB2YWx1ZSB3YXMgZm9yIGBOYXRpdmVgIGVuY2Fwc3VsYXRpb24gd2hpY2ggaGFzIGJlZW4gcmVtb3ZlZCBhcyBvZiB2MTEuCiAgICAvKioKICAgICAqIERvZXNuJ3QgcHJvdmlkZSBhbnkgc29ydCBvZiBDU1Mgc3R5bGUgZW5jYXBzdWxhdGlvbiwgbWVhbmluZyB0aGF0IGFsbCB0aGUgc3R5bGVzIHByb3ZpZGVkCiAgICAgKiB2aWEge0BsaW5rIENvbXBvbmVudCNzdHlsZXMgc3R5bGVzfSBvciB7QGxpbmsgQ29tcG9uZW50I3N0eWxlVXJscyBzdHlsZVVybHN9IGFyZSBhcHBsaWNhYmxlCiAgICAgKiB0byBhbnkgSFRNTCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiByZWdhcmRsZXNzIG9mIHRoZWlyIGhvc3QgQ29tcG9uZW50LgogICAgICovCiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvblsiTm9uZSJdID0gMl0gPSAiTm9uZSI7CiAgICAvKioKICAgICAqIFVzZXMgdGhlIGJyb3dzZXIncyBuYXRpdmUgU2hhZG93IERPTSBBUEkgdG8gZW5jYXBzdWxhdGUgQ1NTIHN0eWxlcywgbWVhbmluZyB0aGF0IGl0IGNyZWF0ZXMKICAgICAqIGEgU2hhZG93Um9vdCBmb3IgdGhlIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCB3aGljaCBpcyB0aGVuIHVzZWQgdG8gZW5jYXBzdWxhdGUKICAgICAqIGFsbCB0aGUgQ29tcG9uZW50J3Mgc3R5bGluZy4KICAgICAqLwogICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bIlNoYWRvd0RvbSJdID0gM10gPSAiU2hhZG93RG9tIjsKfSkoVmlld0VuY2Fwc3VsYXRpb24kMSB8fCAoVmlld0VuY2Fwc3VsYXRpb24kMSA9IHt9KSk7CgovKioKICogVGhpcyBmaWxlIGNvbnRhaW5zIHJldXNlYWJsZSAiZW1wdHkiIHN5bWJvbHMgdGhhdCBjYW4gYmUgdXNlZCBhcyBkZWZhdWx0IHJldHVybiB2YWx1ZXMKICogaW4gZGlmZmVyZW50IHBhcnRzIG9mIHRoZSByZW5kZXJpbmcgY29kZS4gQmVjYXVzZSB0aGUgc2FtZSBzeW1ib2xzIGFyZSByZXR1cm5lZCwgdGhpcwogKiBhbGxvd3MgZm9yIGlkZW50aXR5IGNoZWNrcyBhZ2FpbnN0IHRoZXNlIHZhbHVlcyB0byBiZSBjb25zaXN0ZW50bHkgdXNlZCBieSB0aGUgZnJhbWV3b3JrCiAqIGNvZGUuCiAqLwpjb25zdCBFTVBUWV9PQkogPSB7fTsKY29uc3QgRU1QVFlfQVJSQVkgPSBbXTsKLy8gZnJlZXppbmcgdGhlIHZhbHVlcyBwcmV2ZW50cyBhbnkgY29kZSBmcm9tIGFjY2lkZW50YWxseSBpbnNlcnRpbmcgbmV3IHZhbHVlcyBpbgppZiAoKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkgJiYgaW5pdE5nRGV2TW9kZSgpKSB7CiAgICAvLyBUaGVzZSBwcm9wZXJ0eSBhY2Nlc3NlcyBjYW4gYmUgaWdub3JlZCBiZWNhdXNlIG5nRGV2TW9kZSB3aWxsIGJlIHNldCB0byBmYWxzZQogICAgLy8gd2hlbiBvcHRpbWl6aW5nIGNvZGUgYW5kIHRoZSB3aG9sZSBpZiBzdGF0ZW1lbnQgd2lsbCBiZSBkcm9wcGVkLgogICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXRvcGxldmVsLXByb3BlcnR5LWFjY2VzcwogICAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopOwogICAgL3kgYmVlbiBkZXN0cm95ZWQuJyk7CiAqIGBgYAogKgogKiBOb3RlOiB0aGUgYG1lc3NhZ2VgIGFyZ3VtZW50IGNvbnRhaW5zIGEgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZSBhcyBhIHN0cmluZyBpbiBkZXZlbG9wbWVudAogKiBtb2RlICh3aGVuIHRoZSBgbmdEZXZNb2RlYCBpcyBkZWZpbmVkKS4gSW4gcHJvZHVjdGlvbiBtb2RlIChhZnRlciB0cmVlLXNoYWtpbmcgcGFzcyksIHRoZQogKiBgbWVzc2FnZWAgYXJndW1lbnQgYmVjb21lcyBgZmFsc2VgLCB0aHVzIHdlIGFjY291bnQgZm9yIGl0IGluIHRoZSB0eXBpbmdzIGFuZCB0aGUgcnVudGltZQogKiBsb2dpYy4KICovCmNsYXNzIFJ1bnRpbWVFcnJvciBleHRlbmRzIEVycm9yIHsKICAgIGNvbnN0cnVjdG9yKGNvZGUsIG1lc3NhZ2UpIHsKICAgICAgICBzdXBlcihmb3JtYXRSdW50aW1lRXJyb3IoY29kZSwgbWVzc2FnZSkpOwogICAgICAgIHRoaXMuY29kZSA9IGNvZGU7CiAgICB9Cn0KLyoqCiAqIENhbGxlZCB0byBmb3JtYXQgYSBydW50aW1lIGVycm9yLgogKiBTZWUgYWRkaXRpb25hbCBpbmZvIG9uIHRoZSBgbWVzc2FnZWAgYXJndW1lbnQgdHlwZSBpbiB0aGUgYFJ1bnRpbWVFcnJvcmAgY2xhc3MgZGVzY3JpcHRpb24uCiAqLwpmdW5jdGlvbiBmb3JtYXRSdW50aW1lRXJyb3IoY29kZSwgbWVzc2FnZSkgewogICAgLy8gRXJyb3IgY29kZSBtaWdodCBiZSBhIG5lZ2F0aXZlIG51bWJlciwgd2hpY2ggaXMgYSBzcGVjaWFsIG1hcmtlciB0aGF0IGluc3RydWN0cyB0aGUgbG9naWMgdG8KICAgIC8vIGdlbmVyYXRlIGEgbGluayB0byB0aGUgZXJyb3IgZGV0YWlscyBwYWdlIG9uIGFuZ3VsYXIuaW8uCiAgICAvLyBXZSBhbHNvIHByZXBlbmQgYDBgIHRvIG5vbi1jb21waWxlLXRpbWUgZXJyb3JzLgogICAgY29uc3QgZnVsbENvZGUgPSBgTkcwJHtNYXRoLmFicyhjb2RlKX1gOwogICAgbGV0IGVycm9yTWVzc2FnZSA9IGAke2Z1bGxDb2RlfSR7bWVzc2FnZSA/ICc6ICcgKyBtZXNzYWdlIDogJyd9YDsKICAgIGlmIChuZ0Rldk1vZGUgJiYgY29kZSA8IDApIHsKICAgICAgICBjb25zdCBhZGRQZXJpb2RTZXBhcmF0b3IgPSAhZXJyb3JNZXNzYWdlLm1hdGNoKC9bLiw7IT9cbl0kLyk7CiAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gYWRkUGVyaW9kU2VwYXJhdG9yID8gJy4nIDogJyc7CiAgICAgICAgZXJyb3JNZXNzYWdlID0KICAgICAgICAgICAgYCR7ZXJyb3JNZXNzYWdlfSR7c2VwYXJhdG9yfSBGaW5kIG1vcmUgYXQgJHtFUlJPUl9ERVRBSUxTX1BBR0VfQkFTRV9VUkx9LyR7ZnVsbENvZGV9YDsKICAgIH0KICAgIHJldHVybiBlcnJvck1lc3NhZ2U7Cn0KCmNvbnN0IFJFUVVJUkVEX1VOU0VUX1ZBTFVFID0gLyogQF9fUFVSRV9fICovIFN5bWJvbCgnSW5wdXRTaWduYWxOb2RlI1VOU0VUJyk7Ci8vIE5vdGU6IFVzaW5nIGFuIElJRkUgaGVyZSB0byBlbnN1cmUgdGhhdCB0aGUgc3ByZWFkIGFzc2lnbm1lbnQgaXMgbm90IGNvbnNpZGVyZWQKLy8gYSBzaWRlLWVmZmVjdCwgZW5kaW5nIHVwIHByZXNlcnZpbmcgYENPTVBVVEVEX05PREVgIGFuZCBgUkVBQ1RJVkVfTk9ERWAuCi8vIFRPRE86IHJlbW92ZSB3aGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9lc2J1aWxkL2lzc3Vlcy8zMzkyIGlzIHJlc29sdmVkLgpjb25zdCBJTlBVVF9TSUdOQUxfTk9ERSA9IC8qIG9sbGVyLnNwbGluZT10LnBhcmFtcy5sb29wP25ldyBpKHQuc2xpZGVzR3JpZCxlLnNsaWRlc0dyaWQpOm5ldyBpKHQuc25hcEdyaWQsZS5zbmFwR3JpZCl9KGUpLG49LXQuY29udHJvbGxlci5zcGxpbmUuaW50ZXJwb2xhdGUoLXMpKSxuJiYiY29udGFpbmVyIiE9PXQucGFyYW1zLmNvbnRyb2xsZXIuYnl8fChyPShlLm1heFRyYW5zbGF0ZSgpLWUubWluVHJhbnNsYXRlKCkpLyh0Lm1heFRyYW5zbGF0ZSgpLXQubWluVHJhbnNsYXRlKCkpLCFOdW1iZXIuaXNOYU4ocikmJk51bWJlci5pc0Zpbml0ZShyKXx8KHI9MSksbj0ocy10Lm1pblRyYW5zbGF0ZSgpKSpyK2UubWluVHJhbnNsYXRlKCkpLHQucGFyYW1zLmNvbnRyb2xsZXIuaW52ZXJzZSYmKG49ZS5tYXhUcmFuc2xhdGUoKS1uKSxlLnVwZGF0ZVByb2dyZXNzKG4pLGUuc2V0VHJhbnNsYXRlKG4sdCksZS51cGRhdGVBY3RpdmVJbmRleCgpLGUudXBkYXRlU2xpZGVzQ2xhc3NlcygpfWlmKEFycmF5LmlzQXJyYXkoYSkpZm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKz0xKWFbZV0hPT1zJiZhW2VdaW5zdGFuY2VvZiBsJiZvKGFbZV0pO2Vsc2UgYSBpbnN0YW5jZW9mIGwmJnMhPT1hJiZvKGEpfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKGUscyl7Y29uc3QgYT10LmNvbnN0cnVjdG9yLGk9dC5jb250cm9sbGVyLmNvbnRyb2w7bGV0IHI7ZnVuY3Rpb24gbihzKXtzLmRlc3Ryb3llZHx8KHMuc2V0VHJhbnNpdGlvbihlLHQpLDAhPT1lJiYocy50cmFuc2l0aW9uU3RhcnQoKSxzLnBhcmFtcy5hdXRvSGVpZ2h0JiZsKCgoKT0+e3MudXBkYXRlQXV0b0hlaWdodCgpfSkpLHgocy53cmFwcGVyRWwsKCgpPT57aSYmcy50cmFuc2l0aW9uRW5kKCl9KSkpKX1pZihBcnJheS5pc0FycmF5KGkpKWZvcihyPTA7cjxpLmxlbmd0aDtyKz0xKWlbcl0hPT1zJiZpW3JdaW5zdGFuY2VvZiBhJiZuKGlbcl0pO2Vsc2UgaSBpbnN0YW5jZW9mIGEmJnMhPT1pJiZuKGkpfX0pfSxmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsZXh0ZW5kUGFyYW1zOnMsb246YX09ZTtzKHthMTF5OntlbmFibGVkOiEwLG5vdGlmaWNhdGlvbkNsYXNzOiJzd2lwZXItbm90aWZpY2F0aW9uIixwcmV2U2xpZGVNZXNzYWdlOiJQcmV2aW91cyBzbGlkZSIsbmV4dFNsaWRlTWVzc2FnZToiTmV4dCBzbGlkZSIsZmlyc3RTbGlkZU1lc3NhZ2U6IlRoaXMgaXMgdGhlIGZpcnN0IHNsaWRlIixsYXN0U2xpZGVNZXNzYWdlOiJUaGlzIGlzIHRoZSBsYXN0IHNsaWRlIixwYWdpbmF0aW9uQnVsbGV0TWVzc2FnZToiR28gdG8gc2xpZGUge3tpbmRleH19IixzbGlkZUxhYmVsTWVzc2FnZToie3tpbmRleH19IC8ge3tzbGlkZXNMZW5ndGh9fSIsY29udGFpbmVyTWVzc2FnZTpudWxsLGNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2U6bnVsbCxpdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZTpudWxsLHNsaWRlUm9sZToiZ3JvdXAiLGlkOm51bGx9fSksdC5hMTF5PXtjbGlja2VkOiExfTtsZXQgaT1udWxsO2Z1bmN0aW9uIHIoZSl7Y29uc3QgdD1pOzAhPT10Lmxlbmd0aCYmKHQuaW5uZXJIVE1MPSIiLHQuaW5uZXJIVE1MPWUpfWNvbnN0IG49ZT0+KEFycmF5LmlzQXJyYXkoZSk/ZTpbZV0pLmZpbHRlcigoZT0+ISFlKSk7ZnVuY3Rpb24gbChlKXsoZT1uKGUpKS5mb3JFYWNoKChlPT57ZS5zZXRBdHRyaWJ1dGUoInRhYkluZGV4IiwiMCIpfSkpfWZ1bikmJnJbZF0oImNsaWNrIixlLm9uQ2xpY2ssITApLGkuY3NzTW9kZSYmbltkXSgic2Nyb2xsIixlLm9uU2Nyb2xsKSxpLnVwZGF0ZU9uV2luZG93UmVzaXplP2VbY10obC5pb3N8fGwuYW5kcm9pZD8icmVzaXplIG9yaWVudGF0aW9uY2hhbmdlIG9ic2VydmVyVXBkYXRlIjoicmVzaXplIG9ic2VydmVyVXBkYXRlIixxLCEwKTplW2NdKCJvYnNlcnZlclVwZGF0ZSIscSwhMCkscltkXSgibG9hZCIsZS5vbkxvYWQse2NhcHR1cmU6ITB9KX07Y29uc3QgVT0oZSx0KT0+ZS5ncmlkJiZ0LmdyaWQmJnQuZ3JpZC5yb3dzPjE7dmFyIEs9e2luaXQ6ITAsZGlyZWN0aW9uOiJob3Jpem9udGFsIixvbmVXYXlNb3ZlbWVudDohMSx0b3VjaEV2ZW50c1RhcmdldDoid3JhcHBlciIsaW5pdGlhbFNsaWRlOjAsc3BlZWQ6MzAwLGNzc01vZGU6ITEsdXBkYXRlT25XaW5kb3dSZXNpemU6ITAscmVzaXplT2JzZXJ2ZXI6ITAsbmVzdGVkOiExLGNyZWF0ZUVsZW1lbnRzOiExLGV2ZW50c1ByZWZpeDoic3dpcGVyIixlbmFibGVkOiEwLGZvY3VzYWJsZUVsZW1lbnRzOiJpbnB1dCwgc2VsZWN0LCBvcHRpb24sIHRleHRhcmVhLCBidXR0b24sIHZpZGVvLCBsYWJlbCIsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxwcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb246ITEsdXNlckFnZW50Om51bGwsdXJsOm51bGwsZWRnZVN3aXBlRGV0ZWN0aW9uOiExLGVkZ2VTd2lwZVRocmVzaG9sZDoyMCxhdXRvSGVpZ2h0OiExLHNldFdyYXBwZXJTaXplOiExLHZpcnR1YWxUcmFuc2xhdGU6ITEsZWZmZWN0OiJzbGlkZSIsYnJlYWtwb2ludHM6dm9pZCAwLGJyZWFrcG9pbnRzQmFzZToid2luZG93IixzcGFjZUJldHdlZW46MCxzbGlkZXNQZXJWaWV3OjEsc2xpZGVzUGVyR3JvdXA6MSxzbGlkZXNQZXJHcm91cFNraXA6MCxzbGlkZXNQZXJHcm91cEF1dG86ITEsY2VudGVyZWRTbGlkZXM6ITEsY2VudGVyZWRTbGlkZXNCb3VuZHM6ITEsc2xpZGVzT2Zmc2V0QmVmb3JlOjAsc2xpZGVzT2Zmc2V0QWZ0ZXI6MCxub3JtYWxpemVTbGlkZUluZGV4OiEwLGNlbnRlckluc3VmZmljaWVudFNsaWRlczohMSx3YXRjaE92ZXJmbG93OiEwLHJvdW5kTGVuZ3RoczohMSx0b3VjaFJhdGlvOjEsdG91Y2hBbmdsZTo0NSxzaW11bGF0ZVRvdWNoOiEwLHNob3J0U3dpcGVzOiEwLGxvbmdTd2lwZXM6ITAsbG9uZ1N3aXBlc1JhdGlvOi41LGxvbmdTd2lwZXNNczozMDAsZm9sbG93RmluZ2VyOiEwLGFsbG93VG91Y2hNb3ZlOiEwLHRocmVzaG9sZDo1LHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjohMSx0b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ6ITAsdG91Y2hTdGFydEZvcmNlUHJldmVudERlZmF1bHQ6ITEsdG91Y2hSZWxlYXNlT25FZGdlczohMSx1bmlxdWVOYXZFbGVtZW50czohMCxyZXNpc3RhbmNlOiEwLHJlc2lzdGFuY2VSYXRpbzouODUsd2F0Y2hTbGlkZXNQcm9ncmVzczohMSxncmFiQ3Vyc29yOiExLHByZXZlbnRDbGlja3M6ITAscHJldmVudENsaWNrc1Byb3BhZ2F0aW9uOiEwLHNsaWRlVG9DbGlja2VkU2xpZGU6ITEsbG9vcDohMSxsb29wQWRkQmxhbmtTbGlkZXM6ITAsbG9vcEFkZGl0aW9uYWxTbGlkZXM6MCxsb29wUHJldmVudHNTbGlkaW5nOiEwLHJld2luZDohMSxhbGxvd1NsaWRlUHJldjohMCxhbGxvd1NsaWRlTmV4dDohMCxzd2lwZUhhbmRsZXI6bnVsbCxub1N3aXBpbmc6ITAsVmFsdWUoIndpZHRoIj09PXQ/Im1hcmdpbi1sZWZ0IjoibWFyZ2luLWJvdHRvbSIpKTplLm9mZnNldFdpZHRofWxldCBULE0sQztmdW5jdGlvbiBQKCl7cmV0dXJuIFR8fChUPWZ1bmN0aW9uKCl7Y29uc3QgZT1yKCksdD1hKCk7cmV0dXJue3Ntb290aFNjcm9sbDp0LmRvY3VtZW50RWxlbWVudCYmdC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJiJzY3JvbGxCZWhhdmlvciJpbiB0LmRvY3VtZW50RWxlbWVudC5zdHlsZSx0b3VjaDohISgib250b3VjaHN0YXJ0ImluIGV8fGUuRG9jdW1lbnRUb3VjaCYmdCBpbnN0YW5jZW9mIGUuRG9jdW1lbnRUb3VjaCl9fSgpKSxUfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxNfHwoTT1mdW5jdGlvbihlKXtsZXR7dXNlckFnZW50OnR9PXZvaWQgMD09PWU/e306ZTtjb25zdCBzPVAoKSxhPXIoKSxpPWEubmF2aWdhdG9yLnBsYXRmb3JtLG49dHx8YS5uYXZpZ2F0b3IudXNlckFnZW50LGw9e2lvczohMSxhbmRyb2lkOiExfSxvPWEuc2NyZWVuLndpZHRoLGQ9YS5zY3JlZW4uaGVpZ2h0LGM9bi5tYXRjaCgvKEFuZHJvaWQpOz9bXHNcL10rKFtcZC5dKyk/Lyk7bGV0IHA9bi5tYXRjaCgvKGlQYWQpLipPU1xzKFtcZF9dKykvKTtjb25zdCB1PW4ubWF0Y2goLyhpUG9kKSguKk9TXHMoW1xkX10rKSk/LyksbT0hcCYmbi5tYXRjaCgvKGlQaG9uZVxzT1N8aU9TKVxzKFtcZF9dKykvKSxoPSJXaW4zMiI9PT1pO2xldCBmPSJNYWNJbnRlbCI9PT1pO3JldHVybiFwJiZmJiZzLnRvdWNoJiZbIjEwMjR4MTM2NiIsIjEzNjZ4MTAyNCIsIjgzNHgxMTk0IiwiMTE5NHg4MzQiLCI4MzR4MTExMiIsIjExMTJ4ODM0IiwiNzY4eDEwMjQiLCIxMDI0eDc2OCIsIjgyMHgxMTgwIiwiMTE4MHg4MjAiLCI4MTB4MTA4MCIsIjEwODB4ODEwIl0uaW5kZXhPZihgJHtvfXgke2R9YCk+PTAmJihwPW4ubWF0Y2goLyhWZXJzaW9uKVwvKFtcZC5dKykvKSxwfHwocD1bMCwxLCIxM18wXzAiXSksZj0hMSksYyYmIWgmJihsLm9zPSJhbmRyb2lkIixsLmFuZHJvaWQ9ITApLChwfHxtfHx1KSYmKGwub3M9ImlvcyIsbC5pb3M9ITApLGx9KGUpKSxNfWZ1bmN0aW9uIEEoKXtyZXR1cm4gQ3x8KEM9ZnVuY3Rpb24oKXtjb25zdCBlPXIoKTtsZXQgdD0hMTtmdW5jdGlvbiBzKCl7Y29uc3QgdD1lLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtyZXR1cm4gdC5pbmRleE9mKCJzYWZhcmkiKT49MCYmdC5pbmRleE9mKCJjaHJvbWUiKTwwJiZ0LmluZGV4T2YoImFuZHJvaWQiKTwwfWlmKHMoKSl7Y29uc3Qgcz1TdHJpbmcoZS5uYXZpZ2F0b3IudXNlckFnZW50KTtpZihzLmluY2x1ZGVzKCJWZXJzaW9uLyIpKXtjb25zdFtlLGFdPXMuc3BsaXQoIlZlcnNpb24vIilbMV0uc3BsaXQoIiAiKVswXS5zcGxpdCgiLiIpLm1hcCgoZT0+TnVtYmVyKGUpKSk7dD1lPDE2fHwxNj09PWUmJmE8Mn19cmV0dXJue2lzU2FmYXJpOnR8fHMoKSxuZWVkUGVyc3BlY3RpdmVGaXg6dCxpc1dlYlZpZXc6LyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KGUubmF2aWdhdG9yLnVzZXJBZ2VudCl9fSgpKSxDfXZhciBJPXtvbihlLHQscyl7Y29uc3QgYT10aGlzO2lmKCFhLmV2ZW50c0xpc3RlbmVyc3x8YS5kZXN0cm95ZWQpcmV0dXJuIGE7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dWVmaW5lZAp0eXBlIExvYWRDaHVua0J5VXJsID0gKGNodW5rVXJsOiBDaHVua1VybCkgPT4gUHJvbWlzZTxhbnk+IHwgdW5kZWZpbmVkCnR5cGUgTG9hZFdlYkFzc2VtYmx5ID0gKAogIHdhc21DaHVua1BhdGg6IENodW5rUGF0aCwKICBlZGdlTW9kdWxlOiAoKSA9PiBXZWJBc3NlbWJseS5Nb2R1bGUsCiAgaW1wb3J0czogV2ViQXNzZW1ibHkuSW1wb3J0cwopID0+IEV4cG9ydHMKdHlwZSBMb2FkV2ViQXNzZW1ibHlNb2R1bGUgPSAoCiAgd2FzbUNodW5rUGF0aDogQ2h1bmtQYXRoLAogIGVkZ2VNb2R1bGU6ICgpID0+IFdlYkFzc2VtYmx5Lk1vZHVsZQopID0+IFdlYkFzc2VtYmx5Lk1vZHVsZQoKdHlwZSBNb2R1bGVDYWNoZTxNPiA9IFJlY29yZDxNb2R1bGVJZCwgTT4KLy8gVE9ETyBwcm9wZXJseSB0eXBlIHZhbHVlcyBoZXJlCnR5cGUgTW9kdWxlRmFjdG9yaWVzID0gTWFwPE1vZHVsZUlkLCBGdW5jdGlvbj4KLyoqCiAqIFRoaXMgaXMgYW4gYWx0ZXJuYXRpbmcsIG5vbi1lbXB0eSBhcnJvdyBvZiBtb2R1bGUgZmFjdG9yeSBmdW5jdGlvbnMgYW5kIG1vZHVsZSBpZHMKICogYFtpZDEsIGlkMi4uLiwgZmFjdG9yeTEsIGlkMywgZmFjdG9yeTIsIGlkNCwgaWQ1LCBmYWN0b3J5M11gCiAqIFRoZXJlIGNhbiBiZSBtdWx0aXBsZSBpZHMgdG8gc3VwcG9ydCBzY29wZSBob2lzdGVkIG1lcmdlZCBtb2R1bGVzCiAqLwp0eXBlIENvbXByZXNzZWRNb2R1bGVGYWN0b3JpZXMgPSBBcnJheTxNb2R1bGVJZCB8IEZ1bmN0aW9uPgoKdHlwZSBSZWxhdGl2ZVVSTCA9IChpbnB1dFVybDogc3RyaW5nKSA9PiB2b2lkCnR5cGUgUmVzb2x2ZVBhdGhGcm9tTW9kdWxlID0gKG1vZHVsZUlkOiBzdHJpbmcpID0+IHN0cmluZwoKdHlwZSBBc3luY01vZHVsZSA9ICgKICBib2R5OiAoCiAgICBoYW5kbGVBc3luY0RlcGVuZGVuY2llczogKAogICAgICBkZXBzOiBEZXBbXQogICAgKSA9PiBFeHBvcnRzW10gfCBQcm9taXNlPCgpID0+IEV4cG9ydHNbXT4sCiAgICBhc3luY1Jlc3VsdDogKGVycj86IGFueSkgPT4gdm9pZAogICkgPT4gdm9pZCwKICBoYXNBd2FpdDogYm9vbGVhbgopID0+IHZvaWQKCnR5cGUgUmVzb2x2ZUFic29sdXRlUGF0aCA9IChtb2R1bGVQYXRoPzogc3RyaW5nKSA9PiBzdHJpbmcKdHlwZSBHZXRXb3JrZXJVUkwgPSAoCiAgZW50cnlwb2ludDogQ2h1bmtQYXRoLAogIG1vZHVsZUNodW5rczogQ2h1bmtQYXRoW10sCiAgc2hhcmVkOiBib29sZWFuCikgPT4gVVJMCgp0eXBlIEV4dGVybmFsUmVxdWlyZSA9ICgKICBpZDogRGVwZW5kZW5jeVNwZWNpZmllciwKICB0aHVuazogKCkgPT4gYW55LAogIGVzbT86IGJvb2xlYW4KKSA9PiBFeHBvcnRzIHwgRXNtTmFtZXNwYWNlT2JqZWN0CnR5cGUgRXh0ZXJuYWxJbXBvcnQgPSAoCiAgaWQ6IERlcGVuZGVuY3lTcGVjaWZpZXIKKSA9PiBQcm9taXNlPEV4cG9ydHMgfCBFc21OYW1lc3BhY2VPYmplY3Q+CgppbnRlcmZhY2UgTW9kdWxlIHsKICBleHBvcnRzOiBGdW5jdGlvbiB8IEV4cG9ydHMgfCBQcm9taXNlPEV4cG9ydHM+IHwgQXN5bmNNb2R1bGVQcm9taXNlCiAgZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkCiAgaWQ6IE1vZHVsZUlkCiAgbmFtZXNwYWNlT2JqZWN0PzoKICAgIHwgRXNtTmFtZXNwYWNlT2JqZWN0CiAgICB8IFByb21pc2U8RXNtTmFtZXNwYWNlT2JqZWN0PgogICAgfCBBc3luLDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSksd2U9bmV3IFVpbnQ4QXJyYXkoWzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XSk7dmFyIG1lPSh0LGUsYSxpLG4scyxyLG8pPT57Y29uc3QgbD1vLmJpdHM7bGV0IGgsZCxfLGYsYyx1LHc9MCxtPTAsYj0wLGc9MCxwPTAsaz0wLHY9MCx5PTAseD0wLHo9MCxBPW51bGw7Y29uc3QgRT1uZXcgVWludDE2QXJyYXkoMTYpLFI9bmV3IFVpbnQxNkFycmF5KDE2KTtsZXQgWixVLFMsRD1udWxsO2Zvcih3PTA7dzw9X2U7dysrKUVbd109MDtmb3IobT0wO208aTttKyspRVtlW2ErbV1dKys7Zm9yKHA9bCxnPV9lO2c+PTEmJjA9PT1FW2ddO2ctLSk7aWYocD5nJiYocD1nKSwwPT09ZylyZXR1cm4gbltzKytdPTIwOTcxNTIwLG5bcysrXT0yMDk3MTUyMCxvLmJpdHM9MSwwO2ZvcihiPTE7YjxnJiYwPT09RVtiXTtiKyspO2ZvcihwPGImJihwPWIpLHk9MSx3PTE7dzw9X2U7dysrKWlmKHk8PD0xLHktPUVbd10seTwwKXJldHVybi0xO2lmKHk+MCYmKDA9PT10fHwxIT09ZykpcmV0dXJuLTE7Zm9yKFJbMV09MCx3PTE7dzxfZTt3KyspUlt3KzFdPVJbd10rRVt3XTtmb3IobT0wO208aTttKyspMCE9PWVbYSttXSYmKHJbUltlW2ErbV1dKytdPW0pO2lmKDA9PT10PyhBPUQ9cix1PTIwKToxPT09dD8oQT1mZSxEPWNlLHU9MjU3KTooQT11ZSxEPXdlLHU9MCksej0wLG09MCx3PWIsYz1zLGs9cCx2PTAsXz0tMSx4PTE8PHAsZj14LTEsMT09PXQmJng+ODUyfHwyPT09dCYmeD41OTIpcmV0dXJuIDE7Zm9yKDs7KXtaPXctdixyW21dKzE8dT8oVT0wLFM9clttXSk6clttXT49dT8oVT1EW3JbbV0tdV0sUz1BW3JbbV0tdV0pOihVPTk2LFM9MCksaD0xPDx3LXYsZD0xPDxrLGI9ZDtkb3tkLT1oLG5bYysoej4+dikrZF09Wjw8MjR8VTw8MTZ8U3wwfXdoaWxlKDAhPT1kKTtmb3IoaD0xPDx3LTE7eiZoOyloPj49MTtpZigwIT09aD8oeiY9aC0xLHorPWgpOno9MCxtKyssMD09LS1FW3ddKXtpZih3PT09ZylicmVhazt3PWVbYStyW21dXX1pZih3PnAmJih6JmYpIT09Xyl7Zm9yKDA9PT12JiYodj1wKSxjKz1iLGs9dy12LHk9MTw8aztrK3Y8ZyYmKHktPUVbayt2XSwhKHk8PTApKTspaysrLHk8PD0xO2lmKHgrPTE8PGssMT09PXQmJng+ODUyfHwyPT09dCYmeD41OTIpcmV0dXJuIDE7Xz16JmYsbltfXT1wPDwyNHxrPDwxNnxjLXN8MH19cmV0dXJuIDAhPT16JiYobltjK3pdPXctdjw8MjR8NjQ8PDE2fDApLG8uYml0cz1wLDB9O2NvbnN0e1pfRklOSVNIOmJlLFpfQkxPQ0s6Z2UsWl9UUkVFUzpwZSxaX09LOmtlLFpfU1RSRUFNX0VORDp2ZSxaX05FRURfRElDVDp5ZSxaX1NUUkVBTV9FUlJPUjp4ZSxaX0RBVEFfRVJST1I6emUsWl9NRU1fRVJST1I6QWUsWl9CVUZfRVJST1I6RWUsWl9ERUZMQVRFRDpSZX09SyxaZT0xNjE4MCxVZT0xNjE5MCxTZT0xNjE5MSxEZT0xNjE5MixUZT0xNjE5NCxPZT0xNjE5OSxJZT0xNjIwMCxGZT0xNjIwNixMZT0xNjIwOSxOZT10PT4odD4+PjI0JjI1NSkrKHQ+Pj44JjY1MjgwKSsoKDY1MjgwJnQpPDw4KSsoKDI1NSZ0KTw8MjQpO2Z1bmN0ZDogdHJ1ZQoJfSwKCSdvcGVyYXRvcic6IC8tLXxcK1wrfFwqXCo9P3w9PnwmJj0/fFx8XHw9P3xbIT1dPT18PDw9P3w+Pj4/PT98Wy0rKi8lJnxeIT08Pl09P3xcLnszfXxcP1w/PT98XD9cLj98W346XS8KfSk7CgpQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFsnY2xhc3MtbmFtZSddWzBdLnBhdHRlcm4gPSAvKFxiKD86Y2xhc3N8ZXh0ZW5kc3xpbXBsZW1lbnRzfGluc3RhbmNlb2Z8aW50ZXJmYWNlfG5ldylccyspW1x3LlxcXSsvOwoKUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdrZXl3b3JkJywgewoJJ3JlZ2V4JzogewoJCXBhdHRlcm46IFJlZ0V4cCgKCQkJLy8gbG9va2JlaGluZAoJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVnZXhwL25vLWR1cGUtY2hhcmFjdGVycy1jaGFyYWN0ZXItY2xhc3MKCQkJLygoPzpefFteJFx3XHhBMC1cdUZGRkYuIidcXSlcc118XGIoPzpyZXR1cm58eWllbGQpKVxzKikvLnNvdXJjZSArCgkJCS8vIFJlZ2V4IHBhdHRlcm46CgkJCS8vIFRoZXJlIGFyZSAyIHJlZ2V4IHBhdHRlcm5zIGhlcmUuIFRoZSBSZWdFeHAgc2V0IG5vdGF0aW9uIHByb3Bvc2FsIGFkZGVkIHN1cHBvcnQgZm9yIG5lc3RlZCBjaGFyYWN0ZXIKCQkJLy8gY2xhc3NlcyBpZiB0aGUgYHZgIGZsYWcgaXMgcHJlc2VudC4gVW5mb3J0dW5hdGVseSwgbmVzdGVkIENDcyBhcmUgYm90aCBjb250ZXh0LWZyZWUgYW5kIGluY29tcGF0aWJsZQoJCQkvLyB3aXRoIHRoZSBvbmx5IHN5bnRheCwgc28gd2UgaGF2ZSB0byBkZWZpbmUgMiBkaWZmZXJlbnQgcmVnZXggcGF0dGVybnMuCgkJCS9cLy8uc291cmNlICsKCQkJJyg/OicgKwoJCQkvKD86XFsoPzpbXlxdXFxcclxuXXxcXC4pKlxdfFxcLnxbXi9cXFxbXHJcbl0pK1wvW2RnaW15dXNdezAsN30vLnNvdXJjZSArCgkJCSd8JyArCgkJCS8vIGB2YCBmbGFnIHN5bnRheC4gVGhpcyBzdXBwb3J0cyAzIGxldmVscyBvZiBuZXN0ZWQgY2hhcmFjdGVyIGNsYXNzZXMuCgkJCS8oPzpcWyg/OlteW1xdXFxcclxuXXxcXC58XFsoPzpbXltcXVxcXHJcbl18XFwufFxbKD86W15bXF1cXFxyXG5dfFxcLikqXF0pKlxdKSpcXXxcXC58W14vXFxcW1xyXG5dKStcL1tkZ2lteXVzXXswLDd9dltkZ2lteXVzXXswLDd9Ly5zb3VyY2UgKwoJCQknKScgKwoJCQkvLyBsb29rYWhlYWQKCQkJLyg/PSg/OlxzfFwvXCooPzpbXipdfFwqKD8hXC8pKSpcKlwvKSooPzokfFtcclxuLC47On0pXF1dfFwvXC8pKS8uc291cmNlCgkJKSwKCQlsb29rYmVoaW5kOiB0cnVlLAoJCWdyZWVkeTogdHJ1ZSwKCQlpbnNpZGU6IHsKCQkJJ3JlZ2V4LXNvdXJjZSc6IHsKCQkJCXBhdHRlcm46IC9eKFwvKVtcc1xTXSsoPz1cL1thLXpdKiQpLywKCQkJCWxvb2tiZWhpbmQ6IHRydWUsCgkJCQlhbGlhczogJ2xhbmd1YWdlLXJlZ2V4JywKCQkJCWluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLnJlZ2V4CgkJCX0sCgkJCSdyZWdleC1kZWxpbWl0ZXInOiAvXlwvfFwvJC8sCgkJCSdyZWdleC1mbGFncyc6IC9eW2Etel0rJC8sCgkJfQoJfSwKCS8vIFRoaXMgbXVzdCBiZSBkZWNsYXJlZCBiZWZvcmUga2V5d29yZCBiZWNhdXNlIHdlIHVzZSAiZnVuY3Rpb24iIGluc2lkZSB0aGUgbG9vay1mb3J3YXJkCgknZnVuY3Rpb24tdmFyaWFibGUnOiB7CgkJcGF0dGVybjogLyM/KD8hXHMpW18kYS16QS1aZXZlcnNlZCgpPy10OnQpKTtpZihhLl9kaXJ0eSl7Zm9yKGk9YS5wYXJlbnQ7czspZT1zLl9wcmV2LHMuX2RpcnR5JiZzLnRvdGFsRHVyYXRpb24oKSxvPChyPXMuX3N0YXJ0KSYmYS5fc29ydCYmcy5fdHMmJiFhLl9sb2NrPyhhLl9sb2NrPTEsS2EoYSxzLHItcy5fZGVsYXksMSkuX2xvY2s9MCk6bz1yLHI8MCYmcy5fdHMmJihuLT1yLCghaSYmIWEuX2RwfHxpJiZpLnNtb290aENoaWxkVGltaW5nKSYmKGEuX3N0YXJ0Kz1yL2EuX3RzLGEuX3RpbWUtPXIsYS5fdFRpbWUtPXIpLGEuc2hpZnRDaGlsZHJlbigtciwhMSwtSW5maW5pdHkpLG89MCkscy5fZW5kPm4mJnMuX3RzJiYobj1zLl9lbmQpLHM9ZTtSYShhLGE9PT1JJiZhLl90aW1lPm4/YS5fdGltZTpuLDEsMSksYS5fZGlydHk9MH1yZXR1cm4gYS5fdER1cn0sVGltZWxpbmUudXBkYXRlUm9vdD1mdW5jdGlvbiB1cGRhdGVSb290KHQpe2lmKEkuX3RzJiYobmEoSSxHYSh0LEkpKSxmPVJ0LmZyYW1lKSxSdC5mcmFtZT49bXQpe210Kz1xLmF1dG9TbGVlcHx8MTIwO3ZhciBlPUkuX2ZpcnN0O2lmKCghZXx8IWUuX3RzKSYmcS5hdXRvU2xlZXAmJlJ0Ll9saXN0ZW5lcnMubGVuZ3RoPDIpe2Zvcig7ZSYmIWUuX3RzOyllPWUuX25leHQ7ZXx8UnQuc2xlZXAoKX19fSxUaW1lbGluZX0oVXQpO3FhKFh0LnByb3RvdHlwZSx7X2xvY2s6MCxfaGFzUGF1c2U6MCxfZm9yY2luZzowfSk7ZnVuY3Rpb24gYWModCxlLGksbixhLG8pe3ZhciB1LGgsbCxmO2lmKHB0W3RdJiYhMSE9PSh1PW5ldyBwdFt0XSkuaW5pdChhLHUucmF3VmFycz9lW3RdOmZ1bmN0aW9uIF9wcm9jZXNzVmFycyh0LGUsaSxuLGEpe2lmKHModCkmJih0PUt0KHQsYSxlLGksbikpLCF2KHQpfHx0LnN0eWxlJiZ0Lm5vZGVUeXBlfHxaKHQpfHwkKHQpKXJldHVybiByKHQpP0t0KHQsYSxlLGksbik6dDt2YXIgbyx1PXt9O2ZvcihvIGluIHQpdVtvXT1LdCh0W29dLGEsZSxpLG4pO3JldHVybiB1fShlW3RdLG4sYSxvLGkpLGksbixvKSYmKGkuX3B0PWg9bmV3IF9lKGkuX3B0LGEsdCwwLDEsdS5yZW5kZXIsdSwwLHUucHJpb3JpdHkpLGkhPT1kKSlmb3IobD1pLl9wdExvb2t1cFtpLl90YXJnZXRzLmluZGV4T2YoYSldLGY9dS5fcHJvcHMubGVuZ3RoO2YtLTspbFt1Ll9wcm9wc1tmXV09aDtyZXR1cm4gdX1mdW5jdGlvbiBnYyh0LHIsZSxpKXt2YXIgbixhLHM9ci5lYXNlfHxpfHwicG93ZXIxLmluT3V0IjtpZihaKHIpKWE9ZVt0XXx8KGVbdF09W10pLHIuZm9yRWFjaChmdW5jdGlvbih0LGUpe3JldHVybiBhLnB1c2goe3Q6ZS8oci5sZW5ndGgtMSkqMTAwLHY6dCxlOnN9KX0pO2Vsc2UgZm9yKG4gaW4gcilhPWVbbl18fChlW25dPVtdKSwiZWFzZSI9PT1ufHxhLnB1c2goe3Q6cGFyc2VGbG9hdCh0KSx2OnJbbl0sZTpzfSl9dmFyIE50LEd0LFd0PWZ1bmN0aW9uIF9hZGRQcm9wVHdlZW4odCxlLGksbixhLG8sdSxoLGwsZil7cyhuKSYmKG49bihhfHwwLHQsbykpO3ZhciBkLGM9dFtlXSxwPSJnZXQiIT09aT9pOnMoYyk/bD90W2UuaW5kZXhPZigic2V0Iil8fCFzKHRbImdldCIrZS5zdWJzdHIoMyldKT9lOiJnZXQiK2Uuc3Vic3RyKDMpXShsKTp0W2VdKCk6YyxfPXMoYyk/bD9yZTp0ZTpadDtpZihyKG4pJiYofm4uaW5kZXhPZigicmFuZG9tKCIpJiYobj1vYihuKSksIj0iPT09bi5jaGFyQXQoMSkmJighKGQ9a2EocCxuKSsoWWEoLGEscz10LnZhcnMsbz1zW2VdLHU9bCxoPXQuX2N0eDtpZihvKXJldHVybiBpPXNbZSsiUGFyYW1zIl0sbj1zLmNhbGxiYWNrU2NvcGV8fHQsciYmZHQubGVuZ3RoJiZtYSgpLGgmJihsPWgpLGE9aT9vLmFwcGx5KG4saSk6by5jYWxsKG4pLGw9dSxhfSxBdD1bXSxTdD0yNTUsenQ9e2FxdWE6WzAsU3QsU3RdLGxpbWU6WzAsU3QsMF0sc2lsdmVyOlsxOTIsMTkyLDE5Ml0sYmxhY2s6WzAsMCwwXSxtYXJvb246WzEyOCwwLDBdLHRlYWw6WzAsMTI4LDEyOF0sYmx1ZTpbMCwwLFN0XSxuYXZ5OlswLDAsMTI4XSx3aGl0ZTpbU3QsU3QsU3RdLG9saXZlOlsxMjgsMTI4LDBdLHllbGxvdzpbU3QsU3QsMF0sb3JhbmdlOltTdCwxNjUsMF0sZ3JheTpbMTI4LDEyOCwxMjhdLHB1cnBsZTpbMTI4LDAsMTI4XSxncmVlbjpbMCwxMjgsMF0scmVkOltTdCwwLDBdLHBpbms6W1N0LDE5MiwyMDNdLGN5YW46WzAsU3QsU3RdLHRyYW5zcGFyZW50OltTdCxTdCxTdCwwXX0sRXQ9ZnVuY3Rpb24oKXt2YXIgdCxlPSIoPzpcXGIoPzooPzpyZ2J8cmdiYXxoc2x8aHNsYSlcXCguKz9cXCkpfFxcQiMoPzpbMC05YS1mXXszLDR9KXsxLDJ9XFxiIjtmb3IodCBpbiB6dCllKz0ifCIrdCsiXFxiIjtyZXR1cm4gbmV3IFJlZ0V4cChlKyIpIiwiZ2kiKX0oKSxEdD0vaHNsW2FdP1woLyxSdD0oaz1EYXRlLm5vdyxNPTUwMCxDPTMzLEE9aygpLHo9QSxEPUU9MWUzLzI0MCxnPXt0aW1lOjAsZnJhbWU6MCx0aWNrOmZ1bmN0aW9uIHRpY2soKXt5bCghMCl9LGRlbHRhUmF0aW86ZnVuY3Rpb24gZGVsdGFSYXRpbyh0KXtyZXR1cm4gYi8oMWUzLyh0fHw2MCkpfSx3YWtlOmZ1bmN0aW9uIHdha2UoKXtvJiYoIW4mJngoKSYmKGg9bj13aW5kb3csYT1oLmRvY3VtZW50fHx7fSxvdC5nc2FwPXplLChoLmdzYXBWZXJzaW9uc3x8KGguZ3NhcFZlcnNpb25zPVtdKSkucHVzaCh6ZS52ZXJzaW9uKSxQKGl8fGguR3JlZW5Tb2NrR2xvYmFsc3x8IWguZ3NhcCYmaHx8e30pLEF0LmZvckVhY2god2IpKSxtPSJ1bmRlZmluZWQiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUscCYmZy5zbGVlcCgpLF89bXx8ZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxELTFlMypnLnRpbWUrMXwwKX0sYz0xLHlsKDIpKX0sc2xlZXA6ZnVuY3Rpb24gc2xlZXAoKXsobT9jYW5jZWxBbmltYXRpb25GcmFtZTpjbGVhclRpbWVvdXQpKHApLGM9MCxfPVR9LGxhZ1Ntb290aGluZzpmdW5jdGlvbiBsYWdTbW9vdGhpbmcodCxlKXtNPXR8fDEvMCxDPU1hdGgubWluKGV8fDMzLE0pfSxmcHM6ZnVuY3Rpb24gZnBzKHQpe0U9MWUzLyh0fHwyNDApLEQ9MWUzKmcudGltZStFfSxhZGQ6ZnVuY3Rpb24gYWRkKG4sdCxlKXt2YXIgYT10P2Z1bmN0aW9uKHQsZSxyLGkpe24odCxlLHIsaSksZy5yZW1vdmUoYSl9Om47cmV0dXJuIGcucmVtb3ZlKG4pLEJbZT8idW5zaGlmdCI6InB1c2giXShhKSxGdCgpLGF9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUodCxlKXt+KGU9Qi5pbmRleE9mKHQpKSYmQi5zcGxpY2UoZSwxKSYmZTw9TyYmTy0tfSxfbGlzdGVuZXJzOkI9W119KSxGdD1mdW5jdGlvbiBfd2FrZSgpe3JldHVybiFjJiZSdC53YWtlKCl9LEx0PXt9LEl0PS9eW1xkLlwtTV1bXGQuXC0sXHNdLyxCdD0vWyInXS9nLFl0PWZ1bmN0aW9uIF9pbnZlcnRFYXNlKGUpe3JlKHQ9ZW4obix0KSxyKSxhPXJuLHJuKys7dmFyIGUsdCxyLGEsaz1EKGUse2lkOmEsY2hpbGRyZW46W10sYW5pbWF0YWJsZXM6bixhbmltYXRpb25zOnQsZHVyYXRpb246ci5kdXJhdGlvbixkZWxheTpyLmRlbGF5LGVuZERlbGF5OnIuZW5kRGVsYXl9KTtoKGspO2Z1bmN0aW9uIGcoKXt2YXIgbj1rLmRpcmVjdGlvbjsiYWx0ZXJuYXRlIiE9PW4mJihrLmRpcmVjdGlvbj0ibm9ybWFsIiE9PW4/Im5vcm1hbCI6InJldmVyc2UiKSxrLnJldmVyc2VkPSFrLnJldmVyc2VkLGMuZm9yRWFjaChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXZlcnNlZD1rLnJldmVyc2VkfSl9ZnVuY3Rpb24gbShuKXtyZXR1cm4gay5yZXZlcnNlZD9rLmR1cmF0aW9uLW46bn1mdW5jdGlvbiBvKCl7cz0wLGY9bShrLmN1cnJlbnRUaW1lKSooMS9MLnNwZWVkKX1mdW5jdGlvbiB2KG4sZSl7ZSYmZS5zZWVrKG4tZS50aW1lbGluZU9mZnNldCl9ZnVuY3Rpb24geShlKXtmb3IodmFyIG49MCx0PWsuYW5pbWF0aW9ucyxyPXQubGVuZ3RoO248cjspe2Zvcih2YXIgYT10W25dLG89YS5hbmltYXRhYmxlLHU9YS50d2VlbnMsaT11Lmxlbmd0aC0xLGM9dVtpXSxpPShpJiYoYz1JKHUsZnVuY3Rpb24obil7cmV0dXJuIGU8bi5lbmR9KVswXXx8YyksQyhlLWMuc3RhcnQtYy5kZWxheSwwLGMuZHVyYXRpb24pL2MuZHVyYXRpb24pLHM9aXNOYU4oaSk/MTpjLmVhc2luZyhpKSxmPWMudG8uc3RyaW5ncyxsPWMucm91bmQsZD1bXSxwPWMudG8ubnVtYmVycy5sZW5ndGgsaD12b2lkIDAsZz0wO2c8cDtnKyspe3ZhciBtPXZvaWQgMCx2PWMudG8ubnVtYmVyc1tnXSx5PWMuZnJvbS5udW1iZXJzW2ddfHwwLG09Yy5pc1BhdGg/ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIobil7cmV0dXJuIGUuZWwuZ2V0UG9pbnRBdExlbmd0aCgxPD10KyhuPXZvaWQgMD09PW4/MDpuKT90K246MCl9dmFyIGE9UShlLmVsLGUuc3ZnKSxvPXIoKSx1PXIoLTEpLGk9cigxKSxjPW4/MTphLncvYS52VyxzPW4/MTphLmgvYS52SDtzd2l0Y2goZS5wcm9wZXJ0eSl7Y2FzZSJ4IjpyZXR1cm4oby54LWEueCkqYztjYXNlInkiOnJldHVybihvLnktYS55KSpzO2Nhc2UiYW5nbGUiOnJldHVybiAxODAqTWF0aC5hdGFuMihpLnktdS55LGkueC11LngpL01hdGguUEl9fShjLnZhbHVlLHMqdixjLmlzUGF0aFRhcmdldEluc2lkZVNWRyk6eStzKih2LXkpOyFsfHxjLmlzQ29sb3ImJjI8Z3x8KG09TWF0aC5yb3VuZChtKmwpL2wpLGQucHVzaChtKX12YXIgYj1mLmxlbmd0aDtpZihiKWZvcih2YXIgaD1mWzBdLE09MDtNPGI7TSsrKXtmW01dO3ZhciB4PWZbTSsxXSx3PWRbTV07aXNOYU4odyl8fChoKz14P3creDp3KyIgIil9ZWxzZSBoPWRbMF07VVthLnR5cGVdKG8udGFyZ2V0LGEucHJvcGVydHksaCxvLnRyYW5zZm9ybXMpLGEuY3VycmVudFZhbHVlPWgsbisrfX1mdW5jdGlvbiBiKG4pe2tbbl0mJiFrLnBhc3NUaHJvdWdoJiZrW25dKGspfWZ1bmN0aW9uIHUobil7dmFyIGU9ay5kdXJhdGlvbix0PWsuZGVsYXkscj1lLWsuZW5kRGVsYXksYT1tKG4pO2lmKGsucHJvZ3Jlc3M9QyhhL2UqMTAwLDAsMTAwKSxrLnJldmVyc2VQbGF5YmFjaz1hPGsuY3VycmVudFRpbWUsYyl7dmFyIG89YTtpZihrLnJldmVyc2VQbGF5YmFjaylmb3IodmFyIHU9ZDt1LS07KXYobyxjW3VdKTtlbHNlIGZvcih2YXIgaT0wO2k8ZDtpKyspbnVsbD09PW59LGhleDpmdW5jdGlvbihuKXtyZXR1cm4vKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChuKX0scmdiOmZ1bmN0aW9uKG4pe3JldHVybi9ecmdiLy50ZXN0KG4pfSxoc2w6ZnVuY3Rpb24obil7cmV0dXJuL15oc2wvLnRlc3Qobil9LGNvbDpmdW5jdGlvbihuKXtyZXR1cm4gdy5oZXgobil8fHcucmdiKG4pfHx3LmhzbChuKX0sa2V5OmZ1bmN0aW9uKG4pe3JldHVybiFpLmhhc093blByb3BlcnR5KG4pJiYhTS5oYXNPd25Qcm9wZXJ0eShuKSYmInRhcmdldHMiIT09biYmImtleWZyYW1lcyIhPT1ufX07ZnVuY3Rpb24gZChuKXtuPS9cKChbXildKylcKS8uZXhlYyhuKTtyZXR1cm4gbj9uWzFdLnNwbGl0KCIsIikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBwYXJzZUZsb2F0KG4pfSk6W119ZnVuY3Rpb24gYyhyLHQpe3ZhciBuPWQociksZT1DKHcudW5kKG5bMF0pPzE6blswXSwuMSwxMDApLGE9Qyh3LnVuZChuWzFdKT8xMDA6blsxXSwuMSwxMDApLG89Qyh3LnVuZChuWzJdKT8xMDpuWzJdLC4xLDEwMCksbj1DKHcudW5kKG5bM10pPzA6blszXSwuMSwxMDApLHU9TWF0aC5zcXJ0KGEvZSksaT1vLygyKk1hdGguc3FydChhKmUpKSxjPWk8MT91Kk1hdGguc3FydCgxLWkqaSk6MCxzPWk8MT8oaSp1LW4pL2M6LW4rdTtmdW5jdGlvbiBmKG4pe3ZhciBlPXQ/dCpuLzFlMzpuLGU9aTwxP01hdGguZXhwKC1lKmkqdSkqKCtNYXRoLmNvcyhjKmUpK3MqTWF0aC5zaW4oYyplKSk6KDErcyplKSpNYXRoLmV4cCgtZSp1KTtyZXR1cm4gMD09PW58fDE9PT1uP246MS1lfXJldHVybiB0P2Y6ZnVuY3Rpb24oKXt2YXIgbj1sLnNwcmluZ3Nbcl07aWYobilyZXR1cm4gbjtmb3IodmFyIGU9MCx0PTA7OylpZigxPT09ZihlKz0xLzYpKXtpZigxNjw9Kyt0KWJyZWFrfWVsc2UgdD0wO3JldHVybiBuPWUqKDEvNikqMWUzLGwuc3ByaW5nc1tyXT1ufX1mdW5jdGlvbiBxKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xMCksZnVuY3Rpb24obil7cmV0dXJuIE1hdGguY2VpbChDKG4sMWUtNiwxKSplKSooMS9lKX19dmFyIEg9ZnVuY3Rpb24oYixlLE0sdCl7aWYoMDw9YiYmYjw9MSYmMDw9TSYmTTw9MSl7dmFyIHg9bmV3IEZsb2F0MzJBcnJheSgxMSk7aWYoYiE9PWV8fE0hPT10KWZvcih2YXIgbj0wO248MTE7KytuKXhbbl09ayguMSpuLGIsTSk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBiPT09ZSYmTT09PXR8fDA9PT1ufHwxPT09bj9uOmsocihuKSxlLHQpfX1mdW5jdGlvbiByKG4pe2Zvcih2YXIgZT0wLHQ9MTsxMCE9PXQmJnhbdF08PW47Kyt0KWUrPS4xO3ZhciByPWUrLjEqKChuLXhbLS10XSkvKHhbdCsxXS14W3RdKSksYT1PKHIsYixNKTtpZiguMDAxPD1hKXtmb3IodmFyIG89bix1PXIsaT1iLGM9TSxzPTA7czw0Oysrcyl7dmFyIGY9Tyh1LGksYyk7aWYoMD09PWYpcmV0dXJuIHU7dS09KGsodSxpLGMpLW8pL2Z9cmV0dXJuIHV9aWYoMD09PWEpcmV0dXJuIHI7Zm9yKHZhciBsLGQscD1uLGg9ZSxnPWUrLjEsbT1iLHY9TSx5PTA7MDwobD1rKGQ9aCsoZy1oKS8yLG0sdiktcCk/Zz1kOmg9ZCwxZS03PE1hdGguYWJzKGwpJiYrK3k8MTA7KTtyZXR1cm4gZH19O2Z1bmN0aW9uIHIobixlKXtyZXR1cm4gMS0zKmUrMypufWZ1bmN0aW9uIGsobixlLHQpe3JldHVybigocihlLHQpKm4rKDMqdC02KmUpKSpuKzMqZSkqIHsKCgkJY29uc3QgbmFtZSA9IHRoaXMubmFtZTsKCQljb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjsKCQljb25zdCBqc29uID0gcGFyc2VyLmpzb247CgoJCWNvbnN0IHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzWyB0ZXh0dXJlSW5kZXggXTsKCgkJaWYgKCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9uc1sgbmFtZSBdICkgewoKCQkJcmV0dXJuIG51bGw7CgoJCX0KCgkJY29uc3QgZXh0ZW5zaW9uID0gdGV4dHVyZURlZi5leHRlbnNpb25zWyBuYW1lIF07CgkJY29uc3Qgc291cmNlID0ganNvbi5pbWFnZXNbIGV4dGVuc2lvbi5zb3VyY2UgXTsKCgkJbGV0IGxvYWRlciA9IHBhcnNlci50ZXh0dXJlTG9hZGVyOwoJCWlmICggc291cmNlLnVyaSApIHsKCgkJCWNvbnN0IGhhbmRsZXIgPSBwYXJzZXIub3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoIHNvdXJjZS51cmkgKTsKCQkJaWYgKCBoYW5kbGVyICE9PSBudWxsICkgbG9hZGVyID0gaGFuZGxlcjsKCgkJfQoKCQlyZXR1cm4gdGhpcy5kZXRlY3RTdXBwb3J0KCkudGhlbiggZnVuY3Rpb24gKCBpc1N1cHBvcnRlZCApIHsKCgkJCWlmICggaXNTdXBwb3J0ZWQgKSByZXR1cm4gcGFyc2VyLmxvYWRUZXh0dXJlSW1hZ2UoIHRleHR1cmVJbmRleCwgZXh0ZW5zaW9uLnNvdXJjZSwgbG9hZGVyICk7CgoJCQlpZiAoIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkICYmIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIG5hbWUgKSA+PSAwICkgewoKCQkJCXRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IEFWSUYgcmVxdWlyZWQgYnkgYXNzZXQgYnV0IHVuc3VwcG9ydGVkLicgKTsKCgkJCX0KCgkJCS8vIEZhbGwgYmFjayB0byBQTkcgb3IgSlBFRy4KCQkJcmV0dXJuIHBhcnNlci5sb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICk7CgoJCX0gKTsKCgl9CgoJZGV0ZWN0U3VwcG9ydCgpIHsKCgkJaWYgKCAhIHRoaXMuaXNTdXBwb3J0ZWQgKSB7CgoJCQl0aGlzLmlzU3VwcG9ydGVkID0gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSApIHsKCgkJCQljb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpOwoKCQkJCS8vIExvc3N5IHRlc3QgaW1hZ2UuCgkJCQlpbWFnZS5zcmMgPSAnZGF0YTppbWFnZS9hdmlmO2Jhc2U2NCxBQUFBSUdaMGVYQmhkbWxtQUFBQUFHRjJhV1p0YVdZeGJXbGhaazFCTVVJQUFBRHliV1YwWVFBQUFBQUFBQUFvYUdSc2NnQUFBQUFBQUFBQWNHbGpkQUFBQUFBQUFBQUFBQUFBQUd4cFltRjJhV1lBQUFBQURuQnBkRzBBQUFBQUFBRUFBQUFlYVd4dll3QUFBQUJFQUFBQkFBRUFBQUFCQUFBQkdnQUFBQmNBQUFBb2FXbHVaZ0FBQUFBQUFRQUFBQnBwYm1abEFnQUFBQUFCQUFCaGRqQXhRMjlzYjNJQUFBQUFhbWx3Y25BQUFBQkxhWEJqYndBQUFCUnBjM0JsQUFBQUFBQUFBQUVBQUFBQkFBQUFFSEJwZUdrQUFBQUFBd2dJQ0FBQUFBeGhkakZEZ1FBTUFBQUFBQk5qYjJ4eWJtTnNlQUFDQUFJQUJvQUFBQUFYYVhCdFlRQUFBQUFBQUFBQkFBRUVBUUtEQkFBQUFCOXRaR0YwRWdBS0NCZ0FCb2dRRURRZ01na1FBQUFBQjhkU0xmST0nOwoJCQkJaW1hZ2Uub25sb2FkID0gaW1hZ2Uub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKCgkJCQkJcmVzb2x2ZSggaW1hZ2UuaGVpZ2h0ID09PSAxICk7CgoJCQkJfTsKCgkJCX0gKTsKb25lcnJvcj0oKT0+byhudWxsKSxhLmF1dG9wbGF5PSExLGEuY3Jvc3NPcmlnaW49ImFub255bW91cyIsYS5wcmVsb2FkPSJhdXRvIixhLnNyYz0iZGF0YTp2aWRlby93ZWJtO2Jhc2U2NCxHa1hmbzU5Q2hvRUJRdmVCQVVMeWdRUkM4NEVJUW9LRWQyVmliVUtIZ1FKQ2hZRUNHRk9BWndFQUFBQUFBQUhURVUyYmRMcE51NHRUcTRRVlNhbG1VNnlCb1UyN2kxT3JoQlpVcm10VHJJSEdUYnVNVTZ1RUVsVERaMU9zZ2dFWFRidU1VNnVFSEZPN2ExT3NnZ0c5N0FFQUFBQUFBQUJaQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFWU2FsbW9DclhzWU1QUWtCTmdJUk1ZWFptVjBHRVRHRjJaa1NKaUVCRUFBQUFBQUFBRmxTdWE4eXVBUUFBQUFBQUFFUFhnUUZ6eFlnQUFBQUFBQUFBQVp5QkFDSzFuSU4xYm1TSWdRQ0doVlpmVmxBNWc0RUJJK09EaEFKaVdnRGdsTENCQXJxQkFwcUJBbFBBZ1FGVnNJUlZ1WUVCRWxURFo5VnpjOUpqd0l0anhZZ0FBQUFBQUFBQUFXZkluRVdqaDBWT1EwOUVSVkpFaDQ5TVlYWmpJR3hwWW5ad2VDMTJjRGxueUtKRm80aEVWVkpCVkVsUFRrU0hsREF3T2pBd09qQXdMakEwTURBd01EQXdNQUFBSDBPMmRjZm5nUUNnd3FHZ2dRQUFBSUpKZzBJQUFCQUFGZ0E0SkJ3WVNnQUFJQ0FBRWIvLy80citBQUIxb1oybW0rNkJBYVdXZ2ttRFFnQUFFQUFXQURna0hCaEtBQUFnSUFCSVFCeFR1MnVSdTQremdRQzNpdmVCQWZHQ0FYSHdnUU09IixhLmxvYWQoKX0pO2lmKCFlKXJldHVybiJwcmVtdWx0aXBseS1hbHBoYS1vbi11cGxvYWQiO2NvbnN0IGk9dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsaSk7Y29uc3Qgcz10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixzKSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsaSwwKSx0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCExKSx0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0NPTE9SU1BBQ0VfaW1wb3J0IkBsaXQvcmVhY3RpdmUtZWxlbWVudCI7aW1wb3J0ImxpdC1odG1sIjtleHBvcnQqZnJvbSJsaXQtZWxlbWVudC9saXQtZWxlbWVudC5qcyI7ZXhwb3J0KmZyb20ibGl0LWh0bWwvaXMtc2VydmVyLmpzIjsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwCi8vIHRoaXMgZmlsZSBpcyBjb25kaXRpb25hbGx5IGFkZGVkL3JlbW92ZWQgdG8gbmV4dC1lbnYuZC50cwovLyBpZiB0aGUgc3RhdGljIGltYWdlIGltcG9ydCBoYW5kbGluZyBpcyBlbmFibGVkCgpkZWNsYXJlIG1vZHVsZSAnKi5wbmcnIHsKICBjb25zdCBjb250ZW50OiBpbXBvcnQoJy4uL2Rpc3Qvc2hhcmVkL2xpYi9pbWFnZS1leHRlcm5hbCcpLlN0YXRpY0ltYWdlRGF0YQoKICBleHBvcnQgZGVmYXVsdCBjb250ZW50Cn0KCmRlY2xhcmUgbW9kdWxlICcqLnN2ZycgewogIC8qKgogICAqIFVzZSBgYW55YCB0byBhdm9pZCBjb25mbGljdHMgd2l0aAogICAqIGBAc3Znci93ZWJwYWNrYCBwbHVnaW4gb3IKICAgKiBgYmFiZWwtcGx1Z2luLWlubGluZS1yZWFjdC1zOnIudXNlckFnZW50LHBsYXRmb3JtOnIucGxhdGZvcm0sbWF4VG91Y2hQb2ludHM6ci5tYXhUb3VjaFBvaW50c3x8MH0pO3ZhciBlPXQudXNlckFnZW50LGk9ZS5zcGxpdCgiW0ZCQU4iKTt0eXBlb2YgaVsxXSE9InVuZGVmaW5lZCImJihlPWlbMF0pLGk9ZS5zcGxpdCgiVHdpdHRlciIpLHR5cGVvZiBpWzFdIT0idW5kZWZpbmVkIiYmKGU9aVswXSk7dmFyIHM9YnYoZSksbj17YXBwbGU6e3Bob25lOnMoWnMpJiYhcyhYdCksaXBvZDpzKEJ1KSx0YWJsZXQ6IXMoWnMpJiYocyhJdSl8fFh1KHQpKSYmIXMoWHQpLHVuaXZlcnNhbDpzKEZ1KSxkZXZpY2U6KHMoWnMpfHxzKEJ1KXx8cyhJdSl8fHMoRnUpfHxYdSh0KSkmJiFzKFh0KX0sYW1hem9uOntwaG9uZTpzKHdlKSx0YWJsZXQ6IXMod2UpJiZzKGlpKSxkZXZpY2U6cyh3ZSl8fHMoaWkpfSxhbmRyb2lkOntwaG9uZTohcyhYdCkmJnMod2UpfHwhcyhYdCkmJnMoUXMpLHRhYmxldDohcyhYdCkmJiFzKHdlKSYmIXMoUXMpJiYocyhpaSl8fHMoRHUpKSxkZXZpY2U6IXMoWHQpJiYocyh3ZSl8fHMoaWkpfHxzKFFzKXx8cyhEdSkpfHxzKC9cYm9raHR0cFxiL2kpfSx3aW5kb3dzOntwaG9uZTpzKFh0KSx0YWJsZXQ6cyhVdSksZGV2aWNlOnMoWHQpfHxzKFV1KX0sb3RoZXI6e2JsYWNrYmVycnk6cyhrdSksYmxhY2tiZXJyeTEwOnMoTHUpLG9wZXJhOnMoJHUpLGZpcmVmb3g6cyhIdSksY2hyb21lOnMoTnUpLGRldmljZTpzKGt1KXx8cyhMdSl8fHMoJHUpfHxzKEh1KXx8cyhOdSl9LGFueTohMSxwaG9uZTohMSx0YWJsZXQ6ITF9O3JldHVybiBuLmFueT1uLmFwcGxlLmRldmljZXx8bi5hbmRyb2lkLmRldmljZXx8bi53aW5kb3dzLmRldmljZXx8bi5vdGhlci5kZXZpY2Usbi5waG9uZT1uLmFwcGxlLnBob25lfHxuLmFuZHJvaWQucGhvbmV8fG4ud2luZG93cy5waG9uZSxuLnRhYmxldD1uLmFwcGxlLnRhYmxldHx8bi5hbmRyb2lkLnRhYmxldHx8bi53aW5kb3dzLnRhYmxldCxufXZhciBqdTtjb25zdCBXdT0oKGp1PXp1LmRlZmF1bHQpIT1udWxsP2p1Onp1KShnbG9iYWxUaGlzLm5hdmlnYXRvciksdnY9OSxzaT0xMDAseXY9MCx4dj0wLFZ1PTIsWXU9MSxUdj0tMWUzLFN2PS0xZTMsRXY9MjtjbGFzcyBKc3tjb25zdHJ1Y3Rvcih0LGU9V3Upe3RoaXMuX21vYmlsZUluZm89ZSx0aGlzLmRlYnVnPSExLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eT0hMSx0aGlzLl9wb29sPVtdLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fY2hpbGRyZW49W10sdGhpcy5fYW5kcm9pZFVwZGF0ZUNvdW50PTAsdGhpcy5fYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeT01MDAsdGhpcy5faG9va0Rpdj1udWxsLChlLnRhYmxldHx8ZS5waG9uZSkmJnRoaXMuX2NyZWF0ZVRvdWNoSG9vaygpO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aS5zdHlsZS53aWR0aD1gJHtzaX1weGAsaS5zdHlsZS5oZWlnaHQ9YCR7c2l9cHhgLGkuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixpLnN0eWxlLnRvcD1gJHt5dn1weGAsaS5zdHlsZS5sZWZ0PWAke3h2fXB4YCxpLnN0eWxlLnpJbmRleD1WdS50b1N0cmluZygpLHRoaXMuX2Rpdj1pLHRoaXMuX3JlbmRlcmVyPXQsdGhpcy5fb25LZXlEb3duPXRoaXMuX29uS2V5RG93bi5iaW5kKHRoaXMpLHRoaXMuX29uTW91c2VNb3ZlPXRoaXMubGRsYWNlOiIjZmRmNWU2IixwYWxldHVycXVvaXNlOiIjYWZlZWVlIixtZWRpdW10dXJxdW9pc2U6IiM0OGQxY2MiLG1lZGl1bW9yY2hpZDoiI2JhNTVkMyIscmViZWNjYXB1cnBsZToiIzY2MzM5OSIsbGlnaHRzdGVlbGJsdWU6IiNiMGM0ZGUiLG1lZGl1bXNsYXRlYmx1ZToiIzdiNjhlZSIsdGhpc3RsZToiI2Q4YmZkOCIsdGFuOiIjZDJiNDhjIixvcmNoaWQ6IiNkYTcwZDYiLG1lZGl1bXB1cnBsZToiIzkzNzBkYiIscHVycGxlOiIjODAwMDgwIixwaW5rOiIjZmZjMGNiIixza3libHVlOiIjODdjZWViIixzcHJpbmdncmVlbjoiIzAwZmY3ZiIscGFsZWdyZWVuOiIjOThmYjk4IixyZWQ6IiNmZjAwMDAiLHllbGxvdzoiI2ZmZmYwMCIsc2xhdGVibHVlOiIjNmE1YWNkIixsYXZlbmRlcmJsdXNoOiIjZmZmMGY1IixwZXJ1OiIjY2Q4NTNmIixwYWxldmlvbGV0cmVkOiIjZGI3MDkzIix2aW9sZXQ6IiNlZTgyZWUiLHRlYWw6IiMwMDgwODAiLHNsYXRlZ3JheToiIzcwODA5MCIsc2xhdGVncmV5OiIjNzA4MDkwIixhbGljZWJsdWU6IiNmMGY4ZmYiLGRhcmtzZWFncmVlbjoiIzhmYmM4ZiIsZGFya29saXZlZ3JlZW46IiM1NTZiMmYiLGdyZWVueWVsbG93OiIjYWRmZjJmIixzZWFncmVlbjoiIzJlOGI1NyIsc2Vhc2hlbGw6IiNmZmY1ZWUiLHRvbWF0bzoiI2ZmNjM0NyIsc2lsdmVyOiIjYzBjMGMwIixzaWVubmE6IiNhMDUyMmQiLGxhdmVuZGVyOiIjZTZlNmZhIixsaWdodGdyZWVuOiIjOTBlZTkwIixvcmFuZ2U6IiNmZmE1MDAiLG9yYW5nZXJlZDoiI2ZmNDUwMCIsc3RlZWxibHVlOiIjNDY4MmI0Iixyb3lhbGJsdWU6IiM0MTY5ZTEiLHR1cnF1b2lzZToiIzQwZTBkMCIseWVsbG93Z3JlZW46IiM5YWNkMzIiLHNhbG1vbjoiI2ZhODA3MiIsc2FkZGxlYnJvd246IiM4YjQ1MTMiLHNhbmR5YnJvd246IiNmNGE0NjAiLHJvc3licm93bjoiI2JjOGY4ZiIsZGFya3NhbG1vbjoiI2U5OTY3YSIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IiNmYWZhZDIiLHNub3c6IiNmZmZhZmEiLGxpZ2h0Z3JleToiI2QzZDNkMyIsbGlnaHRncmF5OiIjZDNkM2QzIixkaW1ncmF5OiIjNjk2OTY5IixkaW1ncmV5OiIjNjk2OTY5IixvbGl2ZWRyYWI6IiM2YjhlMjMiLG9saXZlOiIjODA4MDAwIn0saT17fTtmb3IodmFyIHMgaW4gZSlpW2Vbc11dPXM7dmFyIG49e307ci5wcm90b3R5cGUudG9OYW1lPWZ1bmN0aW9uKG8pe2lmKCEodGhpcy5yZ2JhLmF8fHRoaXMucmdiYS5yfHx0aGlzLnJnYmEuZ3x8dGhpcy5yZ2JhLmIpKXJldHVybiJ0cmFuc3BhcmVudCI7dmFyIGEsbCx1PWlbdGhpcy50b0hleCgpXTtpZih1KXJldHVybiB1O2lmKG8hPW51bGwmJm8uY2xvc2VzdCl7dmFyIGM9dGhpcy50b1JnYigpLGg9MS8wLHA9ImJsYWNrIjtpZighbi5sZW5ndGgpZm9yKHZhciBtIGluIGUpblttXT1uZXcgcihlW21dKS50b1JnYigpO2Zvcih2YXIgZiBpbiBlKXt2YXIgXz0oYT1jLGw9bltmXSxNYXRoLnBvdyhhLnItbC5yLDIpK01hdGgucG93KGEuZy1sLmcsMikrTWF0aC5wb3coYS5iLWwuYiwyKSk7XzxoJiYoaD1fLHA9Zil9cmV0dXJuIHB9fSx0LnN0cmluZy5wdXNoKFtmdW5jdGlvbihvKXt2YXIgYT1vLnRvTG93ZXJDYXNlKCksbD1hPT09InRyYW5zcGFyZW50Ij8iIzAwMDAiOmVbYV07cmV0dXJuIGw/bmV3IHIobCkudG9SZ2IoKTpudWxsfSwibmFtZSJdKX12YXIgbHY9T2JqdWx0IGFzIEltcG9ydEljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW1wb3J0IH0gZnJvbSAnLi9pY29ucy9pbXBvcnQuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEluYm94LCBkZWZhdWx0IGFzIEluYm94SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbmJveCB9IGZyb20gJy4vaWNvbnMvaW5ib3guanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEluZGVudCwgZGVmYXVsdCBhcyBJbmRlbnRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluZGVudCB9IGZyb20gJy4vaWNvbnMvaW5kZW50LmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBJbmRpYW5SdXBlZSwgZGVmYXVsdCBhcyBJbmRpYW5SdXBlZUljb24sIGRlZmF1bHQgYXMgTHVjaWRlSW5kaWFuUnVwZWUgfSBmcm9tICcuL2ljb25zL2luZGlhbi1ydXBlZS5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgSW5maW5pdHksIGRlZmF1bHQgYXMgSW5maW5pdHlJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluZmluaXR5IH0gZnJvbSAnLi9pY29ucy9pbmZpbml0eS5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgSW5mbywgZGVmYXVsdCBhcyBJbmZvSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbmZvIH0gZnJvbSAnLi9pY29ucy9pbmZvLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnNwZWN0aW9uUGFuZWwsIGRlZmF1bHQgYXMgSW5zcGVjdGlvblBhbmVsSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJbnNwZWN0aW9uUGFuZWwgfSBmcm9tICcuL2ljb25zL2luc3BlY3Rpb24tcGFuZWwuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEluc3RhZ3JhbSwgZGVmYXVsdCBhcyBJbnN0YWdyYW1JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUluc3RhZ3JhbSB9IGZyb20gJy4vaWNvbnMvaW5zdGFncmFtLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBJdGFsaWMsIGRlZmF1bHQgYXMgSXRhbGljSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVJdGFsaWMgfSBmcm9tICcuL2ljb25zL2l0YWxpYy5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgSXRlcmF0aW9uQ2N3LCBkZWZhdWx0IGFzIEl0ZXJhdGlvbkNjd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlSXRlcmF0aW9uQ2N3IH0gZnJvbSAnLi9pY29ucy9pdGVyYXRpb24tY2N3LmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBJdGVyYXRpb25DdywgZGVmYXVsdCBhcyBJdGVyYXRpb25Dd0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlSXRlcmF0aW9uQ3cgfSBmcm9tICcuL2ljb25zL2l0ZXJhdGlvbi1jdy5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgSmFwYW5lc2VZZW4sIGRlZmF1bHQgYXMgSmFwYW5lc2VZZW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUphcGFuZXNlWWVuIH0gZnJvbSAnLi9pY29ucy9qYXBhbmVzZS15ZW4uanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEpveXN0aWNrLCBkZWZhdWx0IGFzIEpveXN0aWNrSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVKb3lzdGljayB9IGZyb20gJy4vaWNvbnMvam95c3RpY2suanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEthbmJhbiwgZGVmYXVsdCBhcyBLYW5iYW5JY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUthbmJhbiB9IGZyb20gJy4vaWNvbnMva2FuYmFuLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBLZXlSb3VuZCwgZGVmYXVsdCBhcyBLZXlSb3VuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlS2V5Um91bmQgfSBmcm9tICcuL2ljb25zL2tleS1yb3VuZC5qcyc7ICAgIC8vIHNhdmUgc3RvcmVzIGluIGluc3RhbmNlcyB0byBhY2Nlc3MgdGhlbSBkZXZ0b29scwogICAgICAgICAgICBpZiAoY3VycmVudEluc3RhbmNlICYmCiAgICAgICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UucHJveHkgJiYKICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudAogICAgICAgICAgICAgICAgIWhvdCkgewogICAgICAgICAgICAgICAgY29uc3Qgdm0gPSBjdXJyZW50SW5zdGFuY2UucHJveHk7CiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTsKICAgICAgICAgICAgICAgIGNhY2hlW2lkXSA9IHN0b3JlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmUKICAgICAgICByZXR1cm4gc3RvcmU7CiAgICB9CiAgICB1c2VTdG9yZS4kaWQgPSBpZDsKICAgIHJldHVybiB1c2VTdG9yZTsKfQoKbGV0IG1hcFN0b3JlU3VmZml4ID0gJ1N0b3JlJzsKLyoqCiAqIENoYW5nZXMgdGhlIHN1ZmZpeCBhZGRlZCBieSBgbWFwU3RvcmVzKClgLiBDYW4gYmUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZy4KICogRGVmYXVsdHMgdG8gYCJTdG9yZSJgLiBNYWtlIHN1cmUgdG8gZXh0ZW5kIHRoZSBNYXBTdG9yZXNDdXN0b21pemF0aW9uCiAqIGludGVyZmFjZSBpZiB5b3UgYXJlIHVzaW5nIFR5cGVTY3JpcHQuCiAqCiAqIEBwYXJhbSBzdWZmaXggLSBuZXcgc3VmZml4CiAqLwpmdW5jdGlvbiBzZXRNYXBTdG9yZVN1ZmZpeChzdWZmaXggLy8gY291bGQgYmUgJ1N0b3JlJyBidXQgdGhhdCB3b3VsZCBiZSBhbm5veWluZyBmb3IgSlMKKSB7CiAgICBtYXBTdG9yZVN1ZmZpeCA9IHN1ZmZpeDsKfQovKioKICogQWxsb3dzIHVzaW5nIHN0b3JlcyB3aXRob3V0IHRoZSBjb21wb3NpdGlvbiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbgogKiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkIG9mIGEgY29tcG9uZW50LiBJdCBhY2NlcHRzIGEgbGlzdAogKiBvZiBzdG9yZSBkZWZpbml0aW9ucy4KICoKICogQGV4YW1wbGUKICogYGBganMKICogZXhwb3J0IGRlZmF1bHQgewogKiAgIGNvbXB1dGVkOiB7CiAqICAgICAvLyBvdGhlciBjb21wdXRlZCBwcm9wZXJ0aWVzCiAqICAgICAuLi5tYXBTdG9yZXModXNlVXNlclN0b3JlLCB1c2VDYXJ0U3RvcmUpCiAqICAgfSwKICoKICogICBjcmVhdGVkKCkgewogKiAgICAgdGhpcy51c2VyU3RvcmUgLy8gc3RvcmUgd2l0aCBpZCAidXNlciIKICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgImNhcnQiCiAqICAgfQogKiB9CiAqIGBgYAogKgogKiBAcGFyYW0gc3RvcmVzIC0gbGlzdCBvZiBzdG9yZXMgdG8gbWFwIHRvIGFuIG9iamVjdAogKi8KZnVuY3Rpb24gbWFwU3RvcmVzKC4uLnN0b3JlcykgewogICAgaWYgKEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkgewogICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gIm1hcFN0b3JlcygpIiB3aXRob3V0IHB1dHRpbmcgdGhlbSBpbiBhbiBhcnJheTpcbmAgKwogc2VFdmVudHMnKTsKICAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgd2luZG93LCAwLCAwLCAwLCA4MCwgMjAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTsKICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTsKICAgIH0KfQpjb25zdCBfbmF2aWdhdG9yID0gCiB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyA/IG5hdmlnYXRvciA6IHsgdXNlckFnZW50OiAnJyB9OwovLyBEZXRlY3QgV2ViVmlldyBpbnNpZGUgYSBuYXRpdmUgbWFjT1MgYXBwIGJ5IHJ1bGluZyBvdXQgYWxsIGJyb3dzZXJzCi8vIFdlIGp1c3QgbmVlZCB0byBjaGVjayBmb3IgJ1NhZmFyaScgYmVjYXVzZSBhbGwgb3RoZXIgYnJvd3NlcnMgKGJlc2lkZXMgRmlyZWZveCkgaW5jbHVkZSB0aGF0IHRvbwovLyBodHRwczovL3d3dy53aGF0aXNteWJyb3dzZXIuY29tL2d1aWRlcy90aGUtbGF0ZXN0LXVzZXItYWdlbnQvbWFjb3MKY29uc3QgaXNNYWNPU1dlYlZpZXcgPSAvKiNfX1BVUkVfXyovICgoKSA9PiAvTWFjaW50b3NoLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSAmJgogICAgL0FwcGxlV2ViS2l0Ly50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSAmJgogICAgIS9TYWZhcmkvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpKSgpOwpjb25zdCBzYXZlQXMgPSAhSVNfQ0xJRU5UCiAgICA/ICgpID0+IHsgfSAvLyBub29wCiAgICA6IC8vIFVzZSBkb3dubG9hZCBhdHRyaWJ1dGUgZmlyc3QgaWYgcG9zc2libGUgKCMxOTMgTHVtaWEgbW9iaWxlKSB1bmxlc3MgdGhpcyBpcyBhIG1hY09TIFdlYlZpZXcgb3IgbWluaSBwcm9ncmFtCiAgICAgICAgdHlwZW9mIEhUTUxBbmNob3JFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJgogICAgICAgICAgICAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZSAmJgogICAgICAgICAgICAhaXNNYWNPU1dlYlZpZXcKICAgICAgICAgICAgPyBkb3dubG9hZFNhdmVBcwogICAgICAgICAgICA6IC8vIFVzZSBtc1NhdmVPck9wZW5CbG9iIGFzIGEgc2Vjb25kIGFwcHJvYWNoCiAgICAgICAgICAgICAgICAnbXNTYXZlT3JPcGVuQmxvYicgaW4gX25hdmlnYXRvcgogICAgICAgICAgICAgICAgICAgID8gbXNTYXZlQXMKICAgICAgICAgICAgICAgICAgICA6IC8vIEZhbGxiYWNrIHRvIHVzaW5nIEZpbGVSZWFkZXIgYW5kIGEgcG9wdXAKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNhdmVyU2F2ZUFzOwpmdW5jdGlvbiBkb3dubG9hZFNhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykgewogICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGEuZG93bmxvYWQgPSBuYW1lOwogICAgYS5yZWwgPSAnbm9vcGVuZXInOyAvLyB0YWJuYWJiaW5nCiAgICAvLyBUT0RPOiBkZXRlY3QgY2hyb21lIGV4dGVuc2lvbnMgJiBwYWNrYWdlZCBhcHBzCiAgICAvLyBhLnRhcmdldCA9ICdfYmxhbmsnCiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgLy8gU3VwcG9ydCByZWd1bGFyIGxpbmtzCiAgICAgICAgYS5ocmVmID0gYmxvYjsKICAgICAgICBpZiAoYS5vcmlnaW4gIT09IGxvY2F0aW9uLm9yaWdpbikgewogICAgICAgICAgICBpZiAoY29yc0VuYWJsZWQoYS5ocmVmKSkgewogeGxpbmsiXSksQj1hKC9ce1x7W1x3XFddKnxbXHdcV10qXH1cfS9nbSksRz1hKC88JVtcd1xXXSp8W1x3XFddKiU+L2dtKSxXPWEoL1wkXHtbXHdcV10qL2dtKSxZPWEoL15kYXRhLVtcLVx3Llx1MDBCNy1cdUZGRkZdKyQvKSxqPWEoL15hcmlhLVtcLVx3XSskLyksWD1hKC9eKD86KD86KD86ZnxodCl0cHM/fG1haWx0b3x0ZWx8Y2FsbHRvfHNtc3xjaWR8eG1wcHxtYXRyaXgpOnxbXmEtel18W2EteisuXC1dKyg/OlteYS16Ky5cLTpdfCQpKS9pKSxxPWEoL14oPzpcdytzY3JpcHR8ZGF0YSk6L2kpLCQ9YSgvW1x1MDAwMC1cdTAwMjBcdTAwQTBcdTE2ODBcdTE4MEVcdTIwMDAtXHUyMDI5XHUyMDVGXHUzMDAwXS9nKSxLPWEoL15odG1sJC9pKSxWPWEoL15bYS16XVsuXHddKigtWy5cd10rKSskL2kpO3ZhciBaPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLEFSSUFfQVRUUjpqLEFUVFJfV0hJVEVTUEFDRTokLENVU1RPTV9FTEVNRU5UOlYsREFUQV9BVFRSOlksRE9DVFlQRV9OQU1FOkssRVJCX0VYUFI6RyxJU19BTExPV0VEX1VSSTpYLElTX1NDUklQVF9PUl9EQVRBOnEsTVVTVEFDSEVfRVhQUjpCLFRNUExJVF9FWFBSOld9KTtjb25zdCBKPTEsUT0zLGVlPTcsdGU9OCxuZT05LG9lPWZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/bnVsbDp3aW5kb3d9O3ZhciByZT1mdW5jdGlvbiB0KCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm9lKCk7Y29uc3Qgbz1lPT50KGUpO2lmKG8udmVyc2lvbj0iMy4zLjEiLG8ucmVtb3ZlZD1bXSwhbnx8IW4uZG9jdW1lbnR8fG4uZG9jdW1lbnQubm9kZVR5cGUhPT1uZXx8IW4uRWxlbWVudClyZXR1cm4gby5pc1N1cHBvcnRlZD0hMSxvO2xldHtkb2N1bWVudDpyfT1uO2NvbnN0IGE9cixjPWEuY3VycmVudFNjcmlwdCx7RG9jdW1lbnRGcmFnbWVudDpzLEhUTUxUZW1wbGF0ZUVsZW1lbnQ6TixOb2RlOkQsRWxlbWVudDp3LE5vZGVGaWx0ZXI6QixOYW1lZE5vZGVNYXA6Rz1uLk5hbWVkTm9kZU1hcHx8bi5Nb3pOYW1lZEF0dHJNYXAsSFRNTEZvcm1FbGVtZW50OlcsRE9NUGFyc2VyOlksdHJ1c3RlZFR5cGVzOmp9PW4scT13LnByb3RvdHlwZSwkPU8ocSwiY2xvbmVOb2RlIiksVj1PKHEsInJlbW92ZSIpLHJlPU8ocSwibmV4dFNpYmxpbmciKSxpZT1PKHEsImNoaWxkTm9kZXMiKSxhZT1PKHEsInBhcmVudE5vZGUiKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgTil7Y29uc3QgZT1yLmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIik7ZS5jb250ZW50JiZlLmNvbnRlbnQub3duZXJEb2N1bWVudCYmKHI9ZS5jb250ZW50Lm93bmVyRG9jdW1lbnQpfWxldCBsZSxjZT0iIjtjb25zdHtpbXBsZW1lbnRhdGlvbjpzZSxjcmVhdGVOb2RlSXRlcmF0b3I6dWUsY3JlYXRlRG9jdW1lbnRGcmFnbWVudDptZSxnZXRFbGVtZW50c0J5VGFnTmFtZTpwZX09cix7aW1wb3J0Tm9kZTpmZX09YTtsZXQgZGU9e2FmdGVyU2FuaXRpemVBdHRyaWJ1dGVzOltdLGFmdGVyU2FuaXRpemVFbGVtZW50czpbXSxhZnRlclNhbml0aXplU2hhZG93RE9NOltdLGJlZm9yZVNhbml0aXplQXR0cmlidXRlczpbXSxiZWZvcmVTYW5pdGl6ZUVsZW1lbnRzOltdLGJlZm9yZVNhbml0aXplU2hhZG93RE9NOltdLHVwb25TYW5pdGl6ZUF0dHJpYnV0ZTpbSmxZV1I1Y2NsbFBBQUFBSjlKUkVGVWVOcTAxc3NPd3lBTVJGRzQ2di8vTXQxRVNtZ2grREZtRTJHUE9CQVJLYjJOVmpvKzE3UFhMRDhhMStwbDUrQSt3U2dGeWd5bVdZSEJiMEZ0c0toSkRkWmxuY0cySXpKNGF5b01EdjIwd1RtU016Q2xFZ2JXWU5UQWtRMForT0orQS9lV25BYVI5K294Q0Y0T3MwSDhodHNNVXArcHdjZ0JCaU1ObkF3RjhHcUlnTDJoQXphR0ZGZ1phdURQS0FCbW93WjRHTDM2OS8wcndBQ3AyeUEvdHRtdnNRQUFBQUJKUlU1RXJrSmdnZz09IiksdGhpcy53aGl0ZUltYWdlPWgodCwiaW1hZ2VzLndoaXRlIiwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBUUFBQUFFQ0FJQUFBQW1rd2twQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFCZEpSRUZVZU5waS9QLy9Qd01NTURFZ0Fkd2NnQUFEQUpadUF3WEpZWk96QUFBQUFFbEZUa1N1UW1DQyIpLHdpbmRvdyYmKHdpbmRvdy5GT1JDRV9XRUJHTD90aGlzLnJlbmRlclR5cGU9bi5XRUJHTDp3aW5kb3cuRk9SQ0VfQ0FOVkFTJiYodGhpcy5yZW5kZXJUeXBlPW4uQ0FOVkFTKSl9fSk7dC5leHBvcnRzPXB9LDg2MDU0Oih0LGUsaSk9Pnt2YXIgcz1pKDIwNjIzKSxuPWkoMjc5MTkpLHI9aSg4MDU0KSxvPWkoODkzNTcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT10LmNvbmZpZztpZigoZS5jdXN0b21FbnZpcm9ubWVudHx8ZS5jYW52YXMpJiZlLnJlbmRlclR5cGU9PT1yLkFVVE8pdGhyb3cgbmV3IEVycm9yKCJNdXN0IHNldCBleHBsaWNpdCByZW5kZXJUeXBlIGluIGN1c3RvbSBlbnZpcm9ubWVudCIpO2lmKCFlLmN1c3RvbUVudmlyb25tZW50JiYhZS5jYW52YXMmJmUucmVuZGVyVHlwZSE9PXIuSEVBRExFU1MpaWYoZS5yZW5kZXJUeXBlPT09ci5BVVRPJiYoZS5yZW5kZXJUeXBlPW8ud2ViR0w/ci5XRUJHTDpyLkNBTlZBUyksZS5yZW5kZXJUeXBlPT09ci5XRUJHTCl7aWYoIW8ud2ViR0wpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIFdlYkdMIGNvbnRleHQsIGFib3J0aW5nLiIpfWVsc2V7aWYoZS5yZW5kZXJUeXBlIT09ci5DQU5WQVMpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHZhbHVlIGZvciByZW5kZXJlciB0eXBlOiAiK2UucmVuZGVyVHlwZSk7aWYoIW8uY2FudmFzKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSBDYW52YXMgY29udGV4dCwgYWJvcnRpbmcuIil9ZS5hbnRpYWxpYXN8fG4uZGlzYWJsZVNtb290aGluZygpO3ZhciBhLGgsbD10LnNjYWxlLmJhc2VTaXplLHU9bC53aWR0aCxjPWwuaGVpZ2h0OyhlLmNhbnZhcz8odC5jYW52YXM9ZS5jYW52YXMsdC5jYW52YXMud2lkdGg9dSx0LmNhbnZhcy5oZWlnaHQ9Yyk6dC5jYW52YXM9bi5jcmVhdGUodCx1LGMsZS5yZW5kZXJUeXBlKSxlLmNhbnZhc1N0eWxlJiYodC5jYW52YXMuc3R5bGU9ZS5jYW52YXNTdHlsZSksZS5hbnRpYWxpYXN8fHMuc2V0Q3Jpc3AodC5jYW52YXMpLGUucmVuZGVyVHlwZSE9PXIuSEVBRExFU1MpJiYoYT1pKDY4NjI3KSxoPWkoNzQ3OTcpLGUucmVuZGVyVHlwZT09PXIuV0VCR0w/dC5yZW5kZXJlcj1uZXcgaCh0KToodC5yZW5kZXJlcj1uZXcgYSh0KSx0LmNvbnRleHQ9dC5yZW5kZXJlci5nYW1lQ29udGV4dCkpfX0sOTYzOTE6KHQsZSxpKT0+e3ZhciBzPWkoODA1NCk7dC5ldmFyIHI9dFtuXTtyLng9cyhyLngsZS5sZWZ0LWksZS5yaWdodCtpKSxyLnk9cyhyLnksZS50b3AtaSxlLmJvdHRvbStpKX1yZXR1cm4gdH19LDYxMDYxOih0LGUsaSk9Pnt0LmV4cG9ydHM9e0FsaWduVG86aSgxMTUxNyksQW5nbGU6aSg4MDMxOCksQ2FsbDppKDYwNzU3KSxHZXRGaXJzdDppKDY5OTI3KSxHZXRMYXN0OmkoMzIyNjUpLEdyaWRBbGlnbjppKDk0NDIwKSxJbmNBbHBoYTppKDQxNzIxKSxJbmNYOmkoNjcyODUpLEluY1hZOmkoOTA3NCksSW5jWTppKDc1MjIyKSxQbGFjZU9uQ2lyY2xlOmkoMjI5ODMpLFBsYWNlT25FbGxpcHNlOmkoOTUyNTMpLFBsYWNlT25MaW5lOmkoODg1MDUpLFBsYWNlT25SZWN0YW5nbGU6aSg0MTM0NiksUGxhY2VPblRyaWFuZ2xlOmkoMTE1NzUpLFBsYXlBbmltYXRpb246aSgyOTk1MyksUHJvcGVydHlWYWx1ZUluYzppKDY2OTc5KSxQcm9wZXJ0eVZhbHVlU2V0OmkoNDM5NjcpLFJhbmRvbUNpcmNsZTppKDg4OTI2KSxSYW5kb21FbGxpcHNlOmkoMzMyODYpLFJhbmRvbUxpbmU6aSg5NmUzKSxSYW5kb21SZWN0YW5nbGU6aSgyODc4OSksUmFuZG9tVHJpYW5nbGU6aSg5NzE1NCksUm90YXRlOmkoMjA1MTApLFJvdGF0ZUFyb3VuZDppKDkxMDUxKSxSb3RhdGVBcm91bmREaXN0YW5jZTppKDc2MzMyKSxTY2FsZVg6aSg2MTYxOSksU2NhbGVYWTppKDk0ODY4KSxTY2FsZVk6aSg5NTUzMiksU2V0QWxwaGE6aSg4Njg5KSxTZXRCbGVuZE1vZGU6aSgyNjQ1KSxTZXREZXB0aDppKDMyMzcyKSxTZXRIaXRBcmVhOmkoODUzNzMpLFNldE9yaWdpbjppKDgxNTgzKSxTZXRSb3RhdGlvbjppKDc5OTM5KSxTZXRTY2FsZTppKDI2OTkpLFNldFNjYWxlWDppKDk4NzM5KSxTZXRTY2FsZVk6aSg5ODQ3NiksU2V0U2Nyb2xsRmFjdG9yOmkoNjIwNyksU2V0U2Nyb2xsRmFjdG9yWDppKDY2MDcpLFNldFNjcm9sbEZhY3Rvclk6aSg3MjI0OCksU2V0VGludDppKDE0MDM2KSxTZXRWaXNpYmxlOmkoNTAxNTkpLFNldFg6aSg3NzU5NyksU2V0WFk6aSg4MzE5NCksU2V0WTppKDY3Njc4KSxTaGlmdFBvc2l0aW9uOmkoMzU4NTApLFNodWZmbGU6aSg4NjI4KSxTbW9vdGhlclN0ZXA6aSgyMTkxMCksU21vb3RoU3RlcDppKDIxODM3KSxTcHJlYWQ6aSg2MjA1NCksVG9nZ2xlVmlzaWJsZTppKDc5ODE1KSxXcmFwSW5SZWN0YW5nbGU6aSgzOTY2NSl9fSw0MjA5OToodCxlLGkpPT57dmFyIHM9aSg0NTMxOSksbj1pKDgzNDE5KSxyPWkoNzQ5NDMpLG89aSg4MTk1NyksYT1pKDQxMTM4KSxoPWkoMzUxNTQpLGw9aSg5MDEyNiksdT1uZXcgbih7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5tYW5hZ2VyPXQsdGhpcy5rZXk9ZSx0aGlzLnR5cGU9ImZyYW1lIix0aGlzLmZyYW1lcz10aGlzLmdldEZyYW1lcyh0LnRleHR1cmVNYW5hZ2VyLGgoaSwiZnJhbWVzIixbXSksaChpLCJkZWZhdWx0VGV4dHVyZUtleSIsbnVsbCksaChpLCJzb3J0RnJhbWVzIiwhMCkpLHRoaXMuZnJhbWVSYXRlPWgoaSwiZnJhbWVSYXRlIixudWxsKSx0aGlzLmR1cmF0aW9uPWgoaSwiZHVyYXRpb24iLG51bGwpLHRoaXMubXNQZXJGcmFtZSx0aGlzLnNraXBNaXNzZWRGcmFtZXM9aChpLCJza2lwTWlzc2VkRnJhbWVzIiwhMCksdGhpcy5kZWxheT1oKGksImRlbGF5IiwwKSx0aGlzLnJlcGVhdD1oKGksInJlcGVhdCIsMCksdGhpcy5yZXBlYXREZWxheT1oc3Msby5saW5rRXhhY3RBY3RpdmVDbGFzcywicm91dGVyLWxpbmstZXhhY3QtYWN0aXZlIildOnIuaXNFeGFjdEFjdGl2ZX0pKSk7cmV0dXJuKCk9Pntjb25zdCBvPW4uZGVmYXVsdCYmbi5kZWZhdWx0KHIpO3JldHVybiBlLmN1c3RvbT9vOnQuaCgiYSIseyJhcmlhLWN1cnJlbnQiOnIuaXNFeGFjdEFjdGl2ZT9lLmFyaWFDdXJyZW50VmFsdWU6bnVsbCxocmVmOnIuaHJlZixvbkNsaWNrOnIubmF2aWdhdGUsY2xhc3M6YS52YWx1ZX0sbyl9fX0pO2Z1bmN0aW9uICRlKGUpe3JldHVybiBlP2UuYWxpYXNPZj9lLmFsaWFzT2YucGF0aDplLnBhdGg6IiJ9Y29uc3QgU2U9KGUsdCxuKT0+bnVsbCE9ZT9lOm51bGwhPXQ/dDpuO2Z1bmN0aW9uIEFlKGUsdCl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1lKHQpO3JldHVybiAxPT09bi5sZW5ndGg/blswXTpufWNvbnN0IExlPXQuZGVmaW5lQ29tcG9uZW50KHtuYW1lOiJSb3V0ZXJWaWV3Iixpbmhlcml0QXR0cnM6ITEscHJvcHM6e25hbWU6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6ImRlZmF1bHQifSxyb3V0ZTpPYmplY3R9LGNvbXBhdENvbmZpZzp7TU9ERTozfSxzZXR1cChlLHthdHRyczpuLHNsb3RzOnJ9KXtjb25zdCBhPXQuaW5qZWN0KFJlKSxjPXQuY29tcHV0ZWQoKCgpPT5lLnJvdXRlfHxhLnZhbHVlKSkscz10LmluamVjdChiZSwwKSxpPXQuY29tcHV0ZWQoKCgpPT57bGV0IGU9dC51bnJlZihzKTtjb25zdHttYXRjaGVkOm59PWMudmFsdWU7bGV0IHI7Zm9yKDsocj1uW2VdKSYmIXIuY29tcG9uZW50czspZSsrO3JldHVybiBlfSkpLGw9dC5jb21wdXRlZCgoKCk9PmMudmFsdWUubWF0Y2hlZFtpLnZhbHVlXSkpO3QucHJvdmlkZShiZSx0LmNvbXB1dGVkKCgoKT0+aS52YWx1ZSsxKSkpLHQucHJvdmlkZSh5ZSxsKSx0LnByb3ZpZGUoUmUsYyk7Y29uc3QgdT10LnJlZigpO3JldHVybiB0LndhdGNoKCgoKT0+W3UudmFsdWUsbC52YWx1ZSxlLm5hbWVdKSwoKFtlLHQsbl0sW3IsbyxhXSk9Pnt0JiYodC5pbnN0YW5jZXNbbl09ZSxvJiZvIT09dCYmZSYmZT09PXImJih0LmxlYXZlR3VhcmRzLnNpemV8fCh0LmxlYXZlR3VhcmRzPW8ubGVhdmVHdWFyZHMpLHQudXBkYXRlR3VhcmRzLnNpemV8fCh0LnVwZGF0ZUd1YXJkcz1vLnVwZGF0ZUd1YXJkcykpKSwhZXx8IXR8fG8mJnAodCxvKSYmcnx8KHQuZW50ZXJDYWxsYmFja3Nbbl18fFtdKS5mb3JFYWNoKCh0PT50KGUpKSl9KSx7Zmx1c2g6InBvc3QifSksKCk9Pntjb25zdCBhPWMudmFsdWUscz1lLm5hbWUsaT1sLnZhbHVlLGY9aSYmaS5jb21wb25lbnRzW3NdO2lmKCFmKXJldHVybiBBZShyLmRlZmF1bHQse0NvbXBvbmVudDpmLHJvdXRlOmF9KTtjb25zdCBwPWkucHJvcHNbc10saD1wPyEwPT09cD9hLnBhcmFtczoiZnVuY3Rpb24iPT10eXBlb2YgcD9wKGEpOnA6bnVsbCxkPXQuaChmLG8oe30saCxuLHtvblZub2RlVW5tb3VudGVkOmU9PntlLmNvbXBvbmVudC5pc1VubW91bnRlZCYmKGkuaW5zdGFuY2VzW3NdPW51bGwpfSxyZWY6dX0pKTtyZXR1cm4gQWUoci5kZWZhdWx0LHtDb21wb25lbnQ6ZCxyb3V0ZTphfSl8fGR9fX0pO3JldHVybiBlLlJvdXRlckxpbms9eGUsZS5Sb3V0ZXJWaWV3PUxlLGUuU1RBUlRfTE9DQVRJT049UyxlLmNyZWF0ZU1lbW9yeUhpc3Rvcnk9ZnVuY3Rpb24oZT0iIil7bGV0IHQ9W10sbj1bIiJdLHI9MDtmdW5jKCl7aWYoIXIuYWN0aXZlKXJldHVybiB0KCk7aWYoIUF0LmluY2x1ZGVzKHIpKXtfbihyKTt0cnl7cmV0dXJuIE5pKCksQXQucHVzaChyKSxCPXIsdCgpfWZpbmFsbHl7QXQucG9wKCksZ24oKSxCPUF0W0F0Lmxlbmd0aC0xXX19fTtyZXR1cm4gci5pZD1UaSsrLHIuYWxsb3dSZWN1cnNlPSEhZS5hbGxvd1JlY3Vyc2Usci5faXNFZmZlY3Q9ITAsci5hY3RpdmU9ITAsci5yYXc9dCxyLmRlcHM9W10sci5vcHRpb25zPWUscn1mdW5jdGlvbiBfbih0KXtsZXR7ZGVwczplfT10O2lmKGUubGVuZ3RoKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyllW3JdLmRlbGV0ZSh0KTtlLmxlbmd0aD0wfX12YXIgZnQ9ITAsamU9W107ZnVuY3Rpb24gTWkoKXtqZS5wdXNoKGZ0KSxmdD0hMX1mdW5jdGlvbiBOaSgpe2plLnB1c2goZnQpLGZ0PSEwfWZ1bmN0aW9uIGduKCl7bGV0IHQ9amUucG9wKCk7ZnQ9dD09PXZvaWQgMD8hMDp0fWZ1bmN0aW9uIGsodCxlLHIpe2lmKCFmdHx8Qj09PXZvaWQgMClyZXR1cm47bGV0IG49SWUuZ2V0KHQpO258fEllLnNldCh0LG49bmV3IE1hcCk7bGV0IGk9bi5nZXQocik7aXx8bi5zZXQocixpPW5ldyBTZXQpLGkuaGFzKEIpfHwoaS5hZGQoQiksQi5kZXBzLnB1c2goaSksQi5vcHRpb25zLm9uVHJhY2smJkIub3B0aW9ucy5vblRyYWNrKHtlZmZlY3Q6Qix0YXJnZXQ6dCx0eXBlOmUsa2V5OnJ9KSl9ZnVuY3Rpb24gSih0LGUscixuLGksbyl7bGV0IHM9SWUuZ2V0KHQpO2lmKCFzKXJldHVybjtsZXQgYT1uZXcgU2V0LGM9dT0+e3UmJnUuZm9yRWFjaChwPT57KHAhPT1CfHxwLmFsbG93UmVjdXJzZSkmJmEuYWRkKHApfSl9O2lmKGU9PT0iY2xlYXIiKXMuZm9yRWFjaChjKTtlbHNlIGlmKHI9PT0ibGVuZ3RoIiYmVyh0KSlzLmZvckVhY2goKHUscCk9PnsocD09PSJsZW5ndGgifHxwPj1uKSYmYyh1KX0pO2Vsc2Ugc3dpdGNoKHIhPT12b2lkIDAmJmMocy5nZXQocikpLGUpe2Nhc2UiYWRkIjpXKHQpP1V0KHIpJiZjKHMuZ2V0KCJsZW5ndGgiKSk6KGMocy5nZXQocnQpKSx1dCh0KSYmYyhzLmdldCgkZSkpKTticmVhaztjYXNlImRlbGV0ZSI6Vyh0KXx8KGMocy5nZXQocnQpKSx1dCh0KSYmYyhzLmdldCgkZSkpKTticmVhaztjYXNlInNldCI6dXQodCkmJmMocy5nZXQocnQpKTticmVha31sZXQgbD11PT57dS5vcHRpb25zLm9uVHJpZ2dlciYmdS5vcHRpb25zLm9uVHJpZ2dlcih7ZWZmZWN0OnUsdGFyZ2V0OnQsa2V5OnIsdHlwZTplLG5ld1ZhbHVlOm4sb2xkVmFsdWU6aSxvbGRUYXJnZXQ6b30pLHUub3B0aW9ucy5zY2hlZHVsZXI/dS5vcHRpb25zLnNjaGVkdWxlcih1KTp1KCl9O2EuZm9yRWFjaChsKX12YXIga2k9TmUoIl9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZSIpLHhuPW5ldyBTZXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKS5tYXAodD0+U3ltYm9sW3RdKS5maWx0ZXIocXQpKSxEaT15bigpO3ZhciBQaT15bighMCk7dmFyIGxuPUlpKCk7ZnVuY3Rpb24gSWkoKXtsZXQgdD17fTtyZXR1cm5bImluY2x1ZGVzIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIl0uZm9yRWFjaChlPT57dFtlXT1mdW5jdGlvbiguLi5yKXtsZXQgbj1nKHRoaXMpO2ZvcihsZXQgbz0wLHM9dGhpcy5sZW5ndGg7bzxzO28rKylrKG4sImdldCIsbysiIik7bGV0IGk9bltlXSguLi5yKTtyZXR1cm4gaT09PS0xfHxpPT09OiAnaW5wdXRNb2RlJywKICBpbnRlZ3JpdHk6ICdpbnRlZ3JpdHknLAogIGlzOiAnaXMnLAogIGl0ZW1pZDogJ2l0ZW1JRCcsCiAgaXRlbXByb3A6ICdpdGVtUHJvcCcsCiAgaXRlbXJlZjogJ2l0ZW1SZWYnLAogIGl0ZW1zY29wZTogJ2l0ZW1TY29wZScsCiAgaXRlbXR5cGU6ICdpdGVtVHlwZScsCiAga2V5cGFyYW1zOiAna2V5UGFyYW1zJywKICBrZXl0eXBlOiAna2V5VHlwZScsCiAga2luZDogJ2tpbmQnLAogIGxhYmVsOiAnbGFiZWwnLAogIGxhbmc6ICdsYW5nJywKICBsaXN0OiAnbGlzdCcsCiAgbG9vcDogJ2xvb3AnLAogIGxvdzogJ2xvdycsCiAgbWFuaWZlc3Q6ICdtYW5pZmVzdCcsCiAgbWFyZ2lud2lkdGg6ICdtYXJnaW5XaWR0aCcsCiAgbWFyZ2luaGVpZ2h0OiAnbWFyZ2luSGVpZ2h0JywKICBtYXg6ICdtYXgnLAogIG1heGxlbmd0aDogJ21heExlbmd0aCcsCiAgbWVkaWE6ICdtZWRpYScsCiAgbWVkaWFncm91cDogJ21lZGlhR3JvdXAnLAogIG1ldGhvZDogJ21ldGhvZCcsCiAgbWluOiAnbWluJywKICBtaW5sZW5ndGg6ICdtaW5MZW5ndGgnLAogIG11bHRpcGxlOiAnbXVsdGlwbGUnLAogIG11dGVkOiAnbXV0ZWQnLAogIG5hbWU6ICduYW1lJywKICBub21vZHVsZTogJ25vTW9kdWxlJywKICBub25jZTogJ25vbmNlJywKICBub3ZhbGlkYXRlOiAnbm9WYWxpZGF0ZScsCiAgb3BlbjogJ29wZW4nLAogIG9wdGltdW06ICdvcHRpbXVtJywKICBwYXR0ZXJuOiAncGF0dGVybicsCiAgcGxhY2Vob2xkZXI6ICdwbGFjZWhvbGRlcicsCiAgcGxheXNpbmxpbmU6ICdwbGF5c0lubGluZScsCiAgcG9zdGVyOiAncG9zdGVyJywKICBwcmVsb2FkOiAncHJlbG9hZCcsCiAgcHJvZmlsZTogJ3Byb2ZpbGUnLAogIHJhZGlvZ3JvdXA6ICdyYWRpb0dyb3VwJywKICByZWFkb25seTogJ3JlYWRPbmx5JywKICByZWZlcnJlcnBvbGljeTogJ3JlZmVycmVyUG9saWN5JywKICByZWw6ICdyZWwnLAogIHJlcXVpcmVkOiAncmVxdWlyZWQnLAogIHJldmVyc2VkOiAncmV2ZXJzZWQnLAogIHJvbGU6ICdyb2xlJywKICByb3dzOiAncm93cycsCiAgcm93c3BhbjogJ3Jvd1NwYW4nLAogIHNhbmRib3g6ICdzYW5kYm94JywKICBzY29wZTogJ3Njb3BlJywKICBzY29wZWQ6ICdzY29wZWQnLAogIHNjcm9sbGluZzogJ3Njcm9sbGluZycsCiAgc2VhbWxlc3M6ICdzZWFtbGVzcycsCiAgc2VsZWN0ZWQ6ICdzZWxlY3RlZCcsCiAgc2hhcGU6ICdzaGFwZScsCiAgc2l6ZTogJ3NpemUnLAogIHNpemVzOiAnc2l6ZXMnLAogIHNwYW46ICdzcGFuJywKICBzcGVsbGNoZWNrOiAnc3BlbGxDaGVjaycsCiAgc3JjOiAnc3JjJywKICBzcmNkb2M6ICdzcmNEb2MnLAogIHNyY2xhbmc6ICdzcmNMYW5nJywKICBzcmNzZXQ6ICdzcmNTZXQnLAogIHN0YXJ0OiAnc3RhcnQnLAogIHN0ZXA6ICdzdGVwJywKICBzdHlsZTogJ3N0eWxlJywKICBzdW1tYXJ5OiAnc3VtbWFyeScsCiAgdGFiaW5kZXg6ICd0YWJJbmRleCcsCiAgdGFyZ2V0OiAndGFyZ2V0JywKICB0aXRsZTogJ3RpdGxlJywKICB0eXBlOiAndHlwZScsCiAgdXNlbWFwOiAndXNlTWFwJywKICB2YWx1ZTogJ3ZhbHVlJywKICB3aWR0aDogJ3dpZHRoJywKICB3bW9kZTogJ3dtb2RlJywKICB3cmFwOiAnd3JhcCcsCiAgLy8gU1ZHCiAgYWJvdXQ6ICdhYm91dCcsCiAgYWNjZW50aGVpZ2h0OiAnYWNjZW50SGVpZ2h0ZU5hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChhdHRyaWJ1dGVOYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHkKICBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCksIC8vIGF0dHJpYnV0ZU5hbWUKICBudWxsLCAvLyBhdHRyaWJ1dGVOYW1lc3BhY2UKICB0cnVlLCAvLyBzYW5pdGl6ZVVSTAogIHRydWUpOwp9KTsKCi8vIGFuZCBhbnkgbmV3bGluZSBvciB0YWIgYXJlIGZpbHRlcmVkIG91dCBhcyBpZiB0aGV5J3JlIG5vdCBwYXJ0IG9mIHRoZSBVUkwuCi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLXBhcnNpbmcKLy8gVGFiIG9yIG5ld2xpbmUgYXJlIGRlZmluZWQgYXMgXHJcblx0OgovLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jYXNjaWktdGFiLW9yLW5ld2xpbmUKLy8gQSBDMCBjb250cm9sIGlzIGEgY29kZSBwb2ludCBpbiB0aGUgcmFuZ2UgXHUwMDAwIE5VTEwgdG8gXHUwMDFGCi8vIElORk9STUFUSU9OIFNFUEFSQVRPUiBPTkUsIGluY2x1c2l2ZToKLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI2MwLWNvbnRyb2wtb3Itc3BhY2UKCi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi8KCnZhciBpc0phdmFTY3JpcHRQcm90b2NvbCA9IC9eW1x1MDAwMC1cdTAwMUYgXSpqW1xyXG5cdF0qYVtcclxuXHRdKnZbXHJcblx0XSphW1xyXG5cdF0qc1tcclxuXHRdKmNbXHJcblx0XSpyW1xyXG5cdF0qaVtcclxuXHRdKnBbXHJcblx0XSp0W1xyXG5cdF0qXDovaTsKdmFyIGRpZFdhcm4gPSBmYWxzZTsKCmZ1bmN0aW9uIHNhbml0aXplVVJMKHVybCkgewogIHsKICAgIGlmICghZGlkV2FybiAmJiBpc0phdmFTY3JpcHRQcm90b2NvbC50ZXN0KHVybCkpIHsKICAgICAgZGlkV2FybiA9IHRydWU7CgogICAgICBlcnJvcignQSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdCB3aWxsIGJsb2NrIGphdmFzY3JpcHQ6IFVSTHMgYXMgYSBzZWN1cml0eSBwcmVjYXV0aW9uLiAnICsgJ1VzZSBldmVudCBoYW5kbGVycyBpbnN0ZWFkIGlmIHlvdSBjYW4uIElmIHlvdSBuZWVkIHRvIGdlbmVyYXRlIHVuc2FmZSBIVE1MIHRyeSAnICsgJ3VzaW5nIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGluc3RlYWQuIFJlYWN0IHdhcyBwYXNzZWQgJXMuJywgSlNPTi5zdHJpbmdpZnkodXJsKSk7CiAgICB9CiAgfQp9CgovKioKICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuIE9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLgogKiBUaGUgImV4cGVjdGVkIiBhcmd1bWVudCBpcyB1c2VkIGFzIGEgaGludCBvZiB3aGF0IHRoZSBleHBlY3RlZCB2YWx1ZSBpcy4KICogU29tZSBwcm9wZXJ0aWVzIGhhdmUgbXVsdGlwbGUgZXF1aXZhbGVudCB2YWx1ZXMuCiAqLwpmdW5jdGlvbiBnZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIGV4cGVjdGVkLCBwcm9wZXJ0eUluZm8pIHsKICB7CiAgICBpZiAocHJvcGVydHlJbmZvLm11c3RVc2VQcm9wZXJ0eSkgewogICAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTsKICAgICAgcmV0dXJuIG5vZGVbcHJvcGVydHlOYW1lXTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFRoaXMgY2hlY2sgcHJvdGVjdHMgbXVsdGlwbGUgdXNlcyBvZiBgZXhwZWN0ZWRgLCB3aGljaCBpcyB3aHkgaDspci5sZW5ndGg+YSYmci5zb3J0KHUpLG49ci5zaGlmdCgpLGE9ci5sZW5ndGgsbi5fX2QmJihpPXZvaWQgMCxvPXZvaWQgMCxmPShvPShlPW4pLl9fdikuX19lLGM9W10scz1bXSxlLl9fUCYmKChpPWsoe30sbykpLl9fdj1vLl9fdisxLHQudm5vZGUmJnQudm5vZGUoaSkseihlLl9fUCxpLG8sZS5fX24sZS5fX1AubmFtZXNwYWNlVVJJLDMyJm8uX191P1tmXTpkLGMsZj09ZD9BKG8pOmYsISEoMzImby5fX3UpLHMpLGkuX192PW8uX192LGkuX18uX19rW2kuX19pXT1pLFIoYyxpLHMpLG8uX19lPW8uX189bnVsbCxpLl9fZSE9ZiYmSShpKSkpO0UuX19yPTB9ZnVuY3Rpb24gRihuLHQsZSxpLHIsbyxmLHUsYyxzLGEpe3ZhciBoLGwscCx5LHYsZyxiLGs9aSYmaS5fX2t8fG0sQz10Lmxlbmd0aDtmb3IoYz1IKGUsdCxrLGMsQyksaD0wO2g8QztoKyspKHA9ZS5fX2tbaF0pIT1kJiYobD0tMT09cC5fX2k/XzprW3AuX19pXXx8XyxwLl9faT1oLGc9eihuLHAsbCxyLG8sZix1LGMscyxhKSx5PXAuX19lLHAucmVmJiZsLnJlZiE9cC5yZWYmJihsLnJlZiYmRChsLnJlZixkLHApLGEucHVzaChwLnJlZixwLl9fY3x8eSxwKSksdj09ZCYmeSE9ZCYmKHY9eSksKGI9ISEoNCZwLl9fdSkpfHxsLl9faz09PXAuX19rP2M9TChwLGMsbixiKToiZnVuY3Rpb24iPT10eXBlb2YgcC50eXBlJiZnIT09dz9jPWc6eSYmKGM9eS5uZXh0U2libGluZykscC5fX3UmPS03KTtyZXR1cm4gZS5fX2U9dixjfWZ1bmN0aW9uIEgobix0LGUsaSxyKXt2YXIgbyxmLHUsYyxzLGE9ZS5sZW5ndGgsaD1hLGw9MDtmb3Iobi5fX2s9bmV3IEFycmF5KHIpLG89MDtvPHI7bysrKShmPXRbb10pIT1kJiYiYm9vbGVhbiIhPXR5cGVvZiBmJiYiZnVuY3Rpb24iIT10eXBlb2YgZj8oInN0cmluZyI9PXR5cGVvZiBmfHwibnVtYmVyIj09dHlwZW9mIGZ8fCJiaWdpbnQiPT10eXBlb2YgZnx8Zi5jb25zdHJ1Y3Rvcj09U3RyaW5nP2Y9bi5fX2tbb109UyhkLGYsZCxkLGQpOmIoZik/Zj1uLl9fa1tvXT1TKE0se2NoaWxkcmVuOmZ9LGQsZCxkKTpmLmNvbnN0cnVjdG9yPT09dyYmZi5fX2I+MD9mPW4uX19rW29dPVMoZi50eXBlLGYucHJvcHMsZi5rZXksZi5yZWY/Zi5yZWY6ZCxmLl9fdik6bi5fX2tbb109ZixjPW8rbCxmLl9fPW4sZi5fX2I9bi5fX2IrMSxzPWYuX19pPVQoZixlLGMsaCksdT1kLC0xIT1zJiYoaC0tLCh1PWVbc10pJiYodS5fX3V8PTIpKSx1PT1kfHx1Ll9fdj09ZD8oLTE9PXMmJihyPmE/bC0tOnI8YSYmbCsrKSwiZnVuY3Rpb24iIT10eXBlb2YgZi50eXBlJiYoZi5fX3V8PTQpKTpzIT1jJiYocz09Yy0xP2wtLTpzPT1jKzE/bCsrOihzPmM/bC0tOmwrKyxmLl9fdXw9NCkpKTpuLl9fa1tvXT1kO2lmKGgpZm9yKG89MDtvPGE7bysrKSh1PWVbb10pIT1kJiYwPT0oMiZ1Ll9fdSkmJih1Ll9fZT09aSYmKGk9QSh1KSksRyh1LHUpKTtyZXR1cm4gaX1mdW5jdGlvbiBMKG4sdCxlLGkpe3ZhciByLG87aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4udHlwZSl7Zm9yKHI9bi5fX2ssbz0wO3ImJm88ci5sZW5ndGg7bysrKXJbb10mJihyW29dLl9fPW4sdD1MKHJbb10sdCxlLGkpKTtyZXR1cm4gdH1uLl9fZSE9dCYmKGkmJih0JiZuLnR5cGUmJiF0LnBhcmVudE5vZGUmJih0PUEobikpLGUuaW5zZXJ0QmVmb3JlKG4uX19lLHR8fGQpKSx0PW4uX19lKTtkb3t0PXQmJnQubmV4dFNpOm4sYXR0clNjYWxlOmksb3JpZ2luWDpzLG9yaWdpblk6byxwYXRoTGVuZ3RoOnIscGF0aFNwYWNpbmc6YT0xLHBhdGhPZmZzZXQ6bD0wLC4uLnV9LGMsaCl7aWYoSHModCx1LGgpLGMpcmV0dXJuIHZvaWQodC5zdHlsZS52aWV3Qm94JiYodC5hdHRycy52aWV3Qm94PXQuc3R5bGUudmlld0JveCkpO3QuYXR0cnM9dC5zdHlsZSx0LnN0eWxlPXt9O2NvbnN0e2F0dHJzOmQsc3R5bGU6cCxkaW1lbnNpb25zOm19PXQ7ZC50cmFuc2Zvcm0mJihtJiYocC50cmFuc2Zvcm09ZC50cmFuc2Zvcm0pLGRlbGV0ZSBkLnRyYW5zZm9ybSksbSYmKHZvaWQgMCE9PXN8fHZvaWQgMCE9PW98fHAudHJhbnNmb3JtKSYmKHAudHJhbnNmb3JtT3JpZ2luPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm5gJHtLcyhlLHQueCx0LndpZHRoKX0gJHtLcyhuLHQueSx0LmhlaWdodCl9YH0obSx2b2lkIDAhPT1zP3M6LjUsdm9pZCAwIT09bz9vOi41KSksdm9pZCAwIT09ZSYmKGQueD1lKSx2b2lkIDAhPT1uJiYoZC55PW4pLHZvaWQgMCE9PWkmJihkLnNjYWxlPWkpLHZvaWQgMCE9PXImJmZ1bmN0aW9uKHQsZSxuPTEsaT0wLHM9ITApe3QucGF0aExlbmd0aD0xO2NvbnN0IG89cz9ZczpYczt0W28ub2Zmc2V0XT1yZS50cmFuc2Zvcm0oLWkpO2NvbnN0IHI9cmUudHJhbnNmb3JtKGUpLGE9cmUudHJhbnNmb3JtKG4pO3Rbby5hcnJheV09YCR7cn0gJHthfWB9KGQscixhLGwsITEpfWNvbnN0IF9zPW5ldyBTZXQoWyJiYXNlRnJlcXVlbmN5IiwiZGlmZnVzZUNvbnN0YW50Iiwia2VybmVsTWF0cml4Iiwia2VybmVsVW5pdExlbmd0aCIsImtleVNwbGluZXMiLCJrZXlUaW1lcyIsImxpbWl0aW5nQ29uZUFuZ2xlIiwibWFya2VySGVpZ2h0IiwibWFya2VyV2lkdGgiLCJudW1PY3RhdmVzIiwidGFyZ2V0WCIsInRhcmdldFkiLCJzdXJmYWNlU2NhbGUiLCJzcGVjdWxhckNvbnN0YW50Iiwic3BlY3VsYXJFeHBvbmVudCIsInN0ZERldmlhdGlvbiIsInRhYmxlVmFsdWVzIiwidmlld0JveCIsImdyYWRpZW50VHJhbnNmb3JtIiwicGF0aExlbmd0aCIsInN0YXJ0T2Zmc2V0IiwidGV4dExlbmd0aCIsImxlbmd0aEFkanVzdCJdKSxxcz10PT4ic3RyaW5nIj09dHlwZW9mIHQmJiJzdmciPT09dC50b0xvd2VyQ2FzZSgpO2Z1bmN0aW9uIFpzKHQse3N0eWxlOmUsdmFyczpufSxpLHMpe09iamVjdC5hc3NpZ24odC5zdHlsZSxlLHMmJnMuZ2V0UHJvamVjdGlvblN0eWxlcyhpKSk7Zm9yKGNvbnN0IGUgaW4gbil0LnN0eWxlLnNldFByb3BlcnR5KGUsbltlXSl9ZnVuY3Rpb24gSnModCxlLG4saSl7WnModCxlLHZvaWQgMCxpKTtmb3IoY29uc3QgbiBpbiBlLmF0dHJzKXQuc2V0QXR0cmlidXRlKF9zLmhhcyhuKT9uOlZ0KG4pLGUuYXR0cnNbbl0pfWNvbnN0IFFzPXt9O2Z1bmN0aW9uIHRvKHQpe09iamVjdC5hc3NpZ24oUXMsdCl9ZnVuY3Rpb24gZW8odCx7bGF5b3V0OmUsbGF5b3V0SWQ6bn0pe3JldHVybiBwdC5oYXModCl8fHQuc3RhcnRzV2l0aCgib3JpZ2luIil8fChlfHx2b2lkIDAhPT1uKSYmKCEhUXNbdF18fCJvcGFjaXR5Ij09PXQpfWZ1bmN0aW9uIG5vKHQsZSxuKXt2YXIgaTtjb25zdHtzdHlsZTpzfT10LG89e307Zm9yKGNvbnN0IHIgaW4gcykoTXQoc1tyXSl8fGUuc3R5bGUmJk10KGUuc3R5bGVbcl0pfHxlbyhyLHQpfHx2b2lkIDAhPT0obnVsbD09PShpPW51bGw9PW4/dm9pZCAwZXR1cm4gci1uKigobStmKnkqZykqTWF0aC5zaW5oKGkpK3QqZypNYXRoLmNvc2goaSkpL3R9fWNvbnN0IHc9e2NhbGN1bGF0ZWREdXJhdGlvbjpwJiZofHxudWxsLG5leHQ6dD0+e2NvbnN0IGU9eCh0KTtpZihwKWEuZG9uZT10Pj1oO2Vsc2V7bGV0IG49MDtmPDEmJihuPTA9PT10P1YobSk6U24oeCx0LGUpKTtjb25zdCBvPU1hdGguYWJzKG4pPD1pLGw9TWF0aC5hYnMoci1lKTw9czthLmRvbmU9byYmbH1yZXR1cm4gYS52YWx1ZT1hLmRvbmU/cjplLGF9LHRvU3RyaW5nOigpPT57Y29uc3QgdD1NYXRoLm1pbihCKHcpLDJlNCksZT16KGU9PncubmV4dCh0KmUpLnZhbHVlLHQsMzApO3JldHVybiB0KyJtcyAiK2V9fTtyZXR1cm4gd31mdW5jdGlvbiAkbih7a2V5ZnJhbWVzOnQsdmVsb2NpdHk6ZT0wLHBvd2VyOm49LjgsdGltZUNvbnN0YW50Omk9MzI1LGJvdW5jZURhbXBpbmc6cz0xMCxib3VuY2VTdGlmZm5lc3M6bz01MDAsbW9kaWZ5VGFyZ2V0OnIsbWluOmEsbWF4OmwscmVzdERlbHRhOnU9LjUscmVzdFNwZWVkOmN9KXtjb25zdCBoPXRbMF0sZD17ZG9uZTohMSx2YWx1ZTpofSxwPXQ9PnZvaWQgMD09PWE/bDp2b2lkIDA9PT1sfHxNYXRoLmFicyhhLXQpPE1hdGguYWJzKGwtdCk/YTpsO2xldCBtPW4qZTtjb25zdCBmPWgrbSxnPXZvaWQgMD09PXI/ZjpyKGYpO2chPT1mJiYobT1nLWgpO2NvbnN0IHk9dD0+LW0qTWF0aC5leHAoLXQvaSksdj10PT5nK3kodCkseD10PT57Y29uc3QgZT15KHQpLG49dih0KTtkLmRvbmU9TWF0aC5hYnMoZSk8PXUsZC52YWx1ZT1kLmRvbmU/ZzpufTtsZXQgdyxQO2NvbnN0IFQ9dD0+e3ZhciBlOyhlPWQudmFsdWUsdm9pZCAwIT09YSYmZTxhfHx2b2lkIDAhPT1sJiZlPmwpJiYodz10LFA9em4oe2tleWZyYW1lczpbZC52YWx1ZSxwKGQudmFsdWUpXSx2ZWxvY2l0eTpTbih2LHQsZC52YWx1ZSksZGFtcGluZzpzLHN0aWZmbmVzczpvLHJlc3REZWx0YTp1LHJlc3RTcGVlZDpjfSkpfTtyZXR1cm4gVCgwKSx7Y2FsY3VsYXRlZER1cmF0aW9uOm51bGwsbmV4dDp0PT57bGV0IGU9ITE7cmV0dXJuIFB8fHZvaWQgMCE9PXd8fChlPSEwLHgodCksVCh0KSksdm9pZCAwIT09dyYmdD49dz9QLm5leHQodC13KTooIWUmJngodCksZCl9fX1jb25zdCBIbj1CdCguNDIsMCwxLDEpLFluPUJ0KDAsMCwuNTgsMSksWG49QnQoLjQyLDAsLjU4LDEpLEtuPXQ9PkFycmF5LmlzQXJyYXkodCkmJiJudW1iZXIiIT10eXBlb2YgdFswXSxHbj17bGluZWFyOmIsZWFzZUluOkhuLGVhc2VJbk91dDpYbixlYXNlT3V0OlluLGNpcmNJbjpOdCxjaXJjSW5PdXQ6JHQsY2lyY091dDp6dCxiYWNrSW46SXQsYmFja0luT3V0OlV0LGJhY2tPdXQ6T3QsYW50aWNpcGF0ZTpXdH0sX249dD0+e2lmKEkodCkpe0UoND09PXQubGVuZ3RoKTtjb25zdFtlLG4saSxzXT10O3JldHVybiBCdChlLG4saSxzKX1yZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/R25bdF06dH07ZnVuY3Rpb24gcW4odCxlLHtjbGFtcDpuPSEwLGVhc2U6aSxtaXhlcjpzfT17fSl7Y29uc3Qgbz10Lmxlbmd0aDtpZihFKG89PT1lLmxlbmd0aCksMT09PW8pcmV0dXJuKCk9PmVbMF07aWYoMj09PW8mJmVbMF09PT1lWzFdKXJldHVybigpPT5lWzFdO2NvbnN0IHI9dFswXT09PXRbMV07dFswXT50W28tMV0mJih0PVsuLi50XS5yZXZlcnNlKCksZT1bLi4uZV0ucmV2ZXJzZSgpKTtjZSgpfX0pfTtnLnppcD1qYjtnLnNjaGVkdWxlZD1WYjtnLkVNUFRZPUw7Zy5ORVZFUj1WZDtnLmNvbmZpZz1TO2cuYXVkaXQ9a2I7Zy5hdWRpdFRpbWU9aWM7Zy5idWZmZXI9amM7Zy5idWZmZXJDb3VudD1rYztnLmJ1ZmZlclRpbWU9bGM7Zy5idWZmZXJUb2dnbGU9bWM7Zy5idWZmZXJXaGVuPW5jO2cuY2F0Y2hFcnJvcj1sYjtnLmNvbWJpbmVBbGw9SmE7Zy5jb21iaW5lTGF0ZXN0QWxsPUphO2cuY29tYmluZUxhdGVzdFdpdGg9CnFjO2cuY29uY2F0QWxsPUhhO2cuY29uY2F0TWFwPUthO2cuY29uY2F0TWFwVG89cmM7Zy5jb25jYXRXaXRoPXRjO2cuY29ubmVjdD1MYTtnLmNvdW50PXVjO2cuZGVib3VuY2U9dmM7Zy5kZWJvdW5jZVRpbWU9d2M7Zy5kZWZhdWx0SWZFbXB0eT11YTtnLmRlbGF5PXhjO2cuZGVsYXlXaGVuPU1hO2cuZGVtYXRlcmlhbGl6ZT15YztnLmRpc3RpbmN0PXpjO2cuZGlzdGluY3RVbnRpbENoYW5nZWQ9cWI7Zy5kaXN0aW5jdFVudGlsS2V5Q2hhbmdlZD1BYztnLmVsZW1lbnRBdD1CYztnLmVuZFdpdGg9Q2M7Zy5ldmVyeT1EYztnLmV4aGF1c3Q9T2E7Zy5leGhhdXN0QWxsPU9hO2cuZXhoYXVzdE1hcD1OYTtnLmV4cGFuZD1FYztnLmZpbHRlcj1LO2cuZmluYWxpemU9RmM7Zy5maW5kPUdjO2cuZmluZEluZGV4PUljO2cuZmlyc3Q9SmM7Zy5ncm91cEJ5PUtjO2cuaWdub3JlRWxlbWVudHM9b2I7Zy5pc0VtcHR5PUxjO2cubGFzdD1NYztnLm1hcD1RO2cubWFwVG89cGI7Zy5tYXRlcmlhbGl6ZT0KTmM7Zy5tYXg9T2M7Zy5tZXJnZUFsbD1zYTtnLmZsYXRNYXA9SDtnLm1lcmdlTWFwPUg7Zy5tZXJnZU1hcFRvPVBjO2cubWVyZ2VTY2FuPVFjO2cubWVyZ2VXaXRoPVNjO2cubWluPVRjO2cubXVsdGljYXN0PVFhO2cub2JzZXJ2ZU9uPXFhO2cub25FcnJvclJlc3VtZU5leHRXaXRoPVVjO2cucGFpcndpc2U9VmM7Zy5wbHVjaz1XYztnLnB1Ymxpc2g9WGM7Zy5wdWJsaXNoQmVoYXZpb3I9WWM7Zy5wdWJsaXNoTGFzdD0kYztnLnB1Ymxpc2hSZXBsYXk9YWQ7Zy5yYWNlV2l0aD10YjtnLnJlZHVjZT1mYTtnLnJlcGVhdD1iZDtnLnJlcGVhdFdoZW49Y2Q7Zy5yZXRyeT1kZDtnLnJldHJ5V2hlbj1lZDtnLnJlZkNvdW50PVphO2cuc2FtcGxlPXViO2cuc2FtcGxlVGltZT1mZDtnLnNjYW49Z2Q7Zy5zZXF1ZW5jZUVxdWFsPWhkO2cuc2hhcmU9dmI7Zy5zaGFyZVJlcGxheT1pZDtnLnNpbmdsZT1qZDtnLnNraXA9bWQ7Zy5za2lwTGFzdD1uZDtnLnNraXBVbnRpbD1vZDtnLnNraXBXaGlsZT1wZDsKZy5zdGFydFdpdGg9cWQ7Zy5zdWJzY3JpYmVPbj1yYTtnLnN3aXRjaEFsbD1yZDtnLnN3aXRjaE1hcD1qYTtnLnN3aXRjaE1hcFRvPXNkO2cuc3dpdGNoU2Nhbj10ZDtnLnRha2U9Z2E7Zy50YWtlTGFzdD1zYjtnLnRha2VVbnRpbD11ZDtnLnRha2VXaGlsZT12ZDtnLnRhcD13ZDtnLnRocm90dGxlPXhiO2cudGhyb3R0bGVUaW1lPXhkO2cudGhyb3dJZkVtcHR5PXZhO2cudGltZUludGVydmFsPXlkO2cudGltZW91dD1lYjtnLnRpbWVvdXRXaXRoPXpkO2cudGltZXN0YW1wPUFkO2cudG9BcnJheT1tYjtnLndpbmRvdz1CZDtnLndpbmRvd0NvdW50PUNkO2cud2luZG93VGltZT1EZDtnLndpbmRvd1RvZ2dsZT1FZDtnLndpbmRvd1doZW49RmQ7Zy53aXRoTGF0ZXN0RnJvbT1HZDtnLnppcEFsbD1IZDtnLnppcFdpdGg9SmQ7T2JqZWN0Y3Rpb24gS2UoYixhLGMpe3JldHVybiBiYSh7bWV0aG9kOiJQQVRDSCIsdXJsOmIsYm9keTphLGhlYWRlcnM6Y30pfWZ1bmN0aW9uIExlKGIsYSl7cmV0dXJuIE1lKGJhKHttZXRob2Q6IkdFVCIsdXJsOmIsaGVhZGVyczphfSkpfWZ1bmN0aW9uIE5lKGIpe3JldHVybiBuZXcgcihmdW5jdGlvbihhKXt2YXIgYyxkLGU9VCh7YXN5bmM6ITAsY3Jvc3NEb21haW46ITEsd2l0aENyZWRlbnRpYWxzOiExLG1ldGhvZDoiR0VUIix0aW1lb3V0OjAscmVzcG9uc2VUeXBlOiJqc29uIn0sYiksZj1lLnF1ZXJ5UGFyYW1zLGg9ZS5ib2R5LGc9ZS5oZWFkZXJzLGs9ZS51cmw7aWYoIWspdGhyb3cgbmV3IFR5cGVFcnJvcigidXJsIGlzIHJlcXVpcmVkIik7aWYoZil7dmFyIG07aWYoay5pbmNsdWRlcygiPyIpKXtrPQprLnNwbGl0KCI/Iik7aWYoMjxrLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHVybCIpO209bmV3IFVSTFNlYXJjaFBhcmFtcyhrWzFdKTsobmV3IFVSTFNlYXJjaFBhcmFtcyhmKSkuZm9yRWFjaChmdW5jdGlvbihhLGMpe3JldHVybiBtLnNldChjLGEpfSk7az1rWzBdKyI/IittfWVsc2UgbT1uZXcgVVJMU2VhcmNoUGFyYW1zKGYpLGs9aysiPyIrbX1mPXt9O2lmKGcpZm9yKHZhciBwIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShwKSYmKGZbcC50b0xvd2VyQ2FzZSgpXT1nW3BdKTt2YXIgbj1lLmNyb3NzRG9tYWluO258fCJ4LXJlcXVlc3RlZC13aXRoImluIGZ8fChmWyJ4LXJlcXVlc3RlZC13aXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7dmFyIHQ9ZS54c3JmQ29va2llTmFtZSxnPWUueHNyZkhlYWRlck5hbWU7KGUud2l0aENyZWRlbnRpYWxzfHwhbikmJnQmJmcmJihuPW51bGwhPT0oZD1udWxsPT09KGM9bnVsbD09PWRvY3VtZW50fHx2b2lkIDA9PT1kb2N1bWVudD8Kdm9pZCAwOmRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCIoXnw7XFxzKikoIit0KyIpXHgzZChbXjtdKikiKSkpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnBvcCgpKSYmdm9pZCAwIT09ZD9kOiIiKSYmKGZbZ109bik7Yz1PZShoLGYpO3ZhciBxPVQoVCh7fSxlKSx7dXJsOmssaGVhZGVyczpmLGJvZHk6Y30pLHU7dT1iLmNyZWF0ZVhIUj9iLmNyZWF0ZVhIUigpOm5ldyBYTUxIdHRwUmVxdWVzdDt2YXIgcj1iLnByb2dyZXNzU3Vic2NyaWJlcixlPWIuaW5jbHVkZURvd25sb2FkUHJvZ3Jlc3MsZT12b2lkIDA9PT1lPyExOmU7ZD1iLmluY2x1ZGVVcGxvYWRQcm9ncmVzcztkPXZvaWQgMD09PWQ/ITE6ZDtoPWZ1bmN0aW9uKGMsYil7dS5hZGRFdmVudExpc3RlbmVyKGMsZnVuY3Rpb24oKXt2YXIgYyxkPWIoKTtudWxsPT09KGM9bnVsbD09PXJ8fHZvaWQgMD09PXI/dm9pZCAwOnIuZXJyb3IpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmNhbGwocixkKTthLmVycm9yKGQpfSl9O2goInRpbWVvdXQiLApmdW5jdGlvbigpe3JldHVybiBuZXcgTWQodSxxKX0pO2goImFib3J0IixmdW5jdGlvbigpe3JldHVybiBuZXcgd2EoImFib3J0ZWQiLHUscSl9KTt2YXIgdz1mdW5jdGlvbihjLGIsZCl7Yy5hZGRFdmVudExpc3RlbmVyKGIsZnVuY3Rpb24oYyl7YS5uZXh0KG5ldyB5YihjLHUscSxkKyJfIitjLnR5cGUpKX0pfTtkJiZbemIsQWIsTmRdLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIHcodS51cGxvYWQsYSxQZSl9KTtyJiZbemIsQWJdLmZvckVhb250ZXh0KGUub3duZWRbcl0sbix0KSl9ZnVuY3Rpb24gb2JzZXJ2YWJsZShlKXtyZXR1cm57c3Vic2NyaWJlKG4pe2lmKCEobiBpbnN0YW5jZW9mIE9iamVjdCl8fG51bGw9PW4pdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4iKTtjb25zdCB0PSJmdW5jdGlvbiI9PXR5cGVvZiBuP246bi5uZXh0JiZuLm5leHQuYmluZChuKTtpZighdClyZXR1cm57dW5zdWJzY3JpYmUoKXt9fTtjb25zdCByPWNyZWF0ZVJvb3QoKG49PihjcmVhdGVFZmZlY3QoKCgpPT57Y29uc3Qgbj1lKCk7dW50cmFjaygoKCk9PnQobikpKX0pKSxuKSkpO3JldHVybiBnZXRPd25lcigpJiZvbkNsZWFudXAocikse3Vuc3Vic2NyaWJlKCl7cigpfX19LFtTeW1ib2wub2JzZXJ2YWJsZXx8IkBAb2JzZXJ2YWJsZSJdKCl7cmV0dXJuIHRoaXN9fX1mdW5jdGlvbiBmcm9tKGUsbj12b2lkIDApe2NvbnN0W3Qscl09Y3JlYXRlU2lnbmFsKG4se2VxdWFsczohMX0pO2lmKCJzdWJzY3JpYmUiaW4gZSl7Y29uc3Qgbj1lLnN1YnNjcmliZSgoZT0+cigoKCk9PmUpKSkpO29uQ2xlYW51cCgoKCk9PiJ1bnN1YnNjcmliZSJpbiBuP24udW5zdWJzY3JpYmUoKTpuKCkpKX1lbHNle29uQ2xlYW51cChlKHIpKX1yZXR1cm4gdH1jb25zdCBGQUxMQkFDSz1TeW1ib2woImZhbGxiYWNrIik7ZnVuY3Rpb24gZGlzcG9zZShlKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyllW25dKCl9ZnVuY3Rpb24gbWFwQXJyYXkoZSxuLHQ9e30pe2xldCByPVtdLG89W10scz1bXSxpPTAsYT1uLmxlbmd0aD4xP1tdOm51bGw7cmV0dXJuIG9uQ2xlYW51cCgoKCk9PmRpc3Bvc2UocykpKSwoKT0+e2xldCB1LGMsbD1lKCl8fFtdLGQ9bC5sZW5ndGg7cmV0dXJuIGxbJFRSQUNLXSx1bnRyYWNrKCgoKT0+e2xldCBlLG4scCxoLGcsQyx3LHYsVDtpZigwPT09ZCkwIT09aSYmKGRpc3Bvc2Uocykscz1bXSxyPVtdLG89W10saT0wLGEmJihhPVtdKSksdC5mYWxsYmFjayYmKHI9W0ZBTExCQUNLXSxvWzBdPWNyZWF0ZVJvb3QoKGU9PihzWzBdPWUsdC5mYWxsYmFjaygpKSkpLGk9MSk7ZWxzZSBpZigwPT09aSl7Zm9yKG89bmV3IEFycmF5KGQpLGM9MDtjPGQ7YysrKXJbY109bFtjXSxvW2NdPWNyZWF0ZVJvb3QoZik7aT1kfWVsc2V7Zm9yKHA9bmV3IEFycmF5KGQpLGg9bmV3IEFycmF5KGQpLGEmJihnPW5ldyBBcnJheShkKSksQz0wLHc9TWF0aC5taW4oaSxkKTtDPHcmJnJbQ109PT1sW0NdO0MrKyk7Zm9yKHc9aS0xLHY9ZC0xO3c+PUMmJnY+PUMmJnJbd109PT1sW3ZdO3ctLSx2LS0pcFt2XT1vW3ddLGhbdl09c1t3XSxhJiYoZ1t2XT1hW3ddKTtmb3IoZT1uZXcgTWFwLG49bmV3IEFycmF5KHYrMSksYz12O2M+PUM7Yy0tKVQ9bFtjXSx1PWUuZ2V0KFQpLG5bY109dm9pZCAwPT09dT8tMTp1LGUuc2V0KFQsYyk7Zm9yKHU9Qzt1PD13O3UrKylUPXJbdV0sYz1lLmdldChUKSx2b2lkIDAhPT1jJiYtMSE9PWM/KHBbY109b1t1XSxoW2NdPXNbdV0sYSYmKGdbY109YVt1XSksYz1uW2NdLGUuc2V0KFQsYykpOnNbdV0oKTtmb3IoYz1DO2M8ZDtjKyspYyBpbiBwPyhvW2NdPXBbY10sc1tjXT1oW2NdLGEmJihhW2NdPWdbY10sYVtjXShjKSkpOm9bY109Y3JlYXRlUm9vdChmKTtvPW8uc2xpY2UoMCxpPWQpLHI9bC5zbGljZSgwKX1yZXR1cm4gb30pKTtmdW5jLmV4dGVuZD1FaCxaLmV4dGVuZFdpdGg9U2gsVGEoWixaKSxaLmFkZD1scCxaLmF0dGVtcHQ9WGgsWi5jYW1lbENhc2U9WmgsWi5jYXBpdGFsaXplPWZhLFouY2VpbD1zcCxaLmNsYW1wPXVhLFouY2xvbmU9UGYsWi5jbG9uZURlZXA9WmYsWi5jbG9uZURlZXBXaXRoPUtmLFouY2xvbmVXaXRoPXFmLFouY29uZm9ybXNUbz1WZixaLmRlYnVycj1jYSxaLmRlZmF1bHRUbz1XYSxaLmRpdmlkZT1ocCxaLmVuZHNXaXRoPWFhLFouZXE9R2YsWi5lc2NhcGU9bGEsWi5lc2NhcGVSZWdFeHA9c2EsWi5ldmVyeT1hZixaLmZpbmQ9bmgsWi5maW5kSW5kZXg9aG8sWi5maW5kS2V5PVdjLFouZmluZExhc3Q9dGgsWi5maW5kTGFzdEluZGV4PXBvLApaLmZpbmRMYXN0S2V5PUxjLFouZmxvb3I9cHAsWi5mb3JFYWNoPV9mLFouZm9yRWFjaFJpZ2h0PXZmLFouZm9ySW49Q2MsWi5mb3JJblJpZ2h0PVVjLFouZm9yT3duPUJjLFouZm9yT3duUmlnaHQ9VGMsWi5nZXQ9TWMsWi5ndD1naCxaLmd0ZT15aCxaLmhhcz1GYyxaLmhhc0luPU5jLFouaGVhZD1ibyxaLmlkZW50aXR5PUxhLFouaW5jbHVkZXM9Z2YsWi5pbmRleE9mPXdvLFouaW5SYW5nZT1pYSxaLmludm9rZT0kaCxaLmlzQXJndW1lbnRzPWRoLFouaXNBcnJheT1iaCxaLmlzQXJyYXlCdWZmZXI9d2gsWi5pc0FycmF5TGlrZT1IZixaLmlzQXJyYXlMaWtlT2JqZWN0PUpmLFouaXNCb29sZWFuPVlmLFouaXNCdWZmZXI9bWgsWi5pc0RhdGU9eGgsWi5pc0VsZW1lbnQ9UWYsWi5pc0VtcHR5PVhmLFouaXNFcXVhbD1uYyxaLmlzRXF1YWxXaXRoPXRjLFouaXNFcnJvcj1yYyxaLmlzRmluaXRlPWVjLFouaXNGdW5jdGlvbj11YyxaLmlzSW50ZWdlcj1pYyxaLmlzTGVuZ3RoPW9jLFouaXNNYXA9amgsClouaXNNYXRjaD1hYyxaLmlzTWF0Y2hXaXRoPWxjLFouaXNOYU49c2MsWi5pc05hdGl2ZT1oYyxaLmlzTmlsPV9jLFouaXNOdWxsPXBjLFouaXNOdW1iZXI9dmMsWi5pc09iamVjdD1mYyxaLmlzT2JqZWN0TGlrZT1jYyxaLmlzUGxhaW5PYmplY3Q9Z2MsWi5pc1JlZ0V4cD1BaCxaLmlzU2FmZUludGVnZXI9eWMsWi5pc1NldD1raCxaLmlzU3RyaW5nPWRjLFouaXNTeW1ib2w9YmMsWi5pc1R5cGVkQXJyYXk9T2gsWi5pc1VuZGVmaW5lZD13YyxaLmlzV2Vha01hcD1tYyxaLmlzV2Vha1NldD14YyxaLmpvaW49eG8sWi5rZWJhYkNhc2U9S2gsWi5sYXN0PWpvLFoubGFzdEluZGV4T2Y9QW8sWi5sb3dlckNhc2U9VmgsWi5sb3dlckZpcnN0PUdoLFoubHQ9SWgsWi5sdGU9UmgsWi5tYXg9WWEsWi5tYXhCeT1RYSxaLm1lYW49WGEsWi5tZWFuQnk9bmwsWi5taW49dGwsWi5taW5CeT1ybCxaLnN0dWJBcnJheT1QYSxaLnN0dWJGYWxzZT1xYSxaLnN0dWJPYmplY3Q9WmEsWi5zdHViU3RyaW5nPUthLApaLnN0dWJUcnVlPVZhLFoubXVsdGlwbHk9X3AsWi5udGg9a28sWi5ub0NvbmZsaWN0PSRhLFoubm9vcD1EYSxaLm5vdz1maCxaLnBhZD1oYSxaLnBhZEVuZD1wYSxaLnBhZFN0YXJ0PV9hLFoucGFyc2VJbnQ9dmEsWi5yYW5kb209b2EsWi5yZWR1Y2U9YmYsWi5yZWR1Y2VSaWdodD13ZixaLnJlcGVhdD1nYSxaLnJlcGxhY2U9eWEsWi5yZXN1bHQ9SGMsWi5yb3VuZD12cCxaLnJ1bkluQ29udGV4dD1wLFouc2FtcGxlPXhmLFouc2l6ZT1rZixaLnNuYWtlQ2FzZT1IaCxaLnNvbWU9T2YsWi5zb3J0ZWRJbmRleD1Xbyxab3IoIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogIisKKCJbb2JqZWN0IE9iamVjdF0iPT09Yj8ib2JqZWN0IHdpdGgga2V5cyB7IitPYmplY3Qua2V5cyhhKS5qb2luKCIsICIpKyJ9IjpiKSsiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLiIpO3JldHVybiBofWZ1bmN0aW9uIEMoYSxiLGUpe2lmKG51bGw9PWEpcmV0dXJuIGE7dmFyIGM9W10sZD0wO0IoYSxjLCIiLCIiLGZ1bmN0aW9uKGEpe3JldHVybiBiLmNhbGwoZSxhLGQrKyl9KTtyZXR1cm4gY31mdW5jdGlvbiBxYShhKXtpZigtMT09PWEuX3N0YXR1cyl7dmFyIGI9YS5fcmVzdWx0O2I9YigpO2IudGhlbihmdW5jdGlvbihiKXtpZigwPT09YS5fc3RhdHVzfHwtMT09PWEuX3N0YXR1cylhLl9zdGF0dXM9MSxhLl9yZXN1bHQ9Yn0sZnVuY3Rpb24oYil7aWYoMD09PWEuX3N0YXR1c3x8LTE9PT1hLl9zdGF0dXMpYS5fc3RhdHVzPTIsYS5fcmVzdWx0PWJ9KTstMT09PWEuX3N0YXR1cyYmKGEuX3N0YXR1cz0KMCxhLl9yZXN1bHQ9Yil9aWYoMT09PWEuX3N0YXR1cylyZXR1cm4gYS5fcmVzdWx0LmRlZmF1bHQ7dGhyb3cgYS5fcmVzdWx0O31mdW5jdGlvbiBPKGEsYil7dmFyIGU9YS5sZW5ndGg7YS5wdXNoKGIpO2E6Zm9yKDswPGU7KXt2YXIgYz1lLTE+Pj4xLGQ9YVtjXTtpZigwPEQoZCxiKSlhW2NdPWIsYVtlXT1kLGU9YztlbHNlIGJyZWFrIGF9fWZ1bmN0aW9uIHAoYSl7cmV0dXJuIDA9PT1hLmxlbmd0aD9udWxsOmFbMF19ZnVuY3Rpb24gRShhKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGI9YVswXSxlPWEucG9wKCk7aWYoZSE9PWIpe2FbMF09ZTthOmZvcih2YXIgYz0wLGQ9YS5sZW5ndGgsaz1kPj4+MTtjPGs7KXt2YXIgaD0yKihjKzEpLTEsbD1hW2hdLGY9aCsxLGc9YVtmXTtpZigwPkQobCxlKSlmPGQmJjA+RChnLGwpPyhhW2NdPWcsYVtmXT1lLGM9Zik6KGFbY109bCxhW2hdPWUsYz1oKTtlbHNlIGlmKGY8ZCYmMD5EKGcsZSkpYVtjXT1nLGFbZl09ZSxjPWY7ZWxzZSBicmVhayBhfX1yZXR1cm4gYn0KZnVuY3Rpb24gRChhLGIpe3ZhciBjPWEuc29ydEluZGV4LWIuc29ydEluZGV4O3JldHVybiAwIT09Yz9jOmEuaWQtYi5pZH1mdW5jdGlvbiBQKGEpe2Zvcih2YXIgYj1wKHIpO251bGwhPT1iOyl7aWYobnVsbD09PWIuY2FsbGJhY2spRShyKTtlbHNlIGlmKGIuc3RhcnRUaW1lPD1hKUUociksYi5zb3J0SW5kZXg9Yi5leHBpcmF0aW9uVGltZSxPKHEsYik7ZWxzZSBicmVhaztiPXAocil9fWZ1bmN0aW9uIFEoYSl7ej0hMTtQKGEpO2lmKCF1KWlmKG51bGwhPT1wKHEpKXU9ITAsUihTKTtlbHNle3ZhciBiPXAocik7bnVsbCE9PWImJlQoUSxiLnN0YXJ0VGltZS1hKX19ZnVuY3Rpb24gUyhhLGIpe3U9ITE7eiYmKHo9ITEsZWEoQSksQT0tMSk7Rj0hMDt2YXIgYz1rO3RyeXtQKGIpO2ZvcihuPXAocSk7bnVsbCE9PW4mJighKG4uZXhwaXJhdGlvblRpbWU+Yil8fGEmJiFmYSgpKTspe3ZhciBtPW4uY2FsbGJhY2s7aWYoImZ1bmN0aW9uIj09PXR5cGVvZiBtKXtuLmNhbGxiYWNrPW51bGw7Cms9bi5wcmlvcml0eUxldmVsO3ZhciBkPW0obi5leHBpcmF0aW9uVGltZTw9Yik7Yj12KCk7ImZ1bmN0aW9uIj09PXR5cGVvZiBkP24uY2FsbGJyYXkoZVtzXSk/U2UoZVtzXSxbXSk6ey4uLlNlKGVbc10pfTp3ZShlW3NdLGEodCk/e306dFtzXSxyW3NdKTpyW3NdPSFiZShlW3NdLHRbc10pO3JldHVybiByfXZhciBEZT0oZSx0KT0+d2UoZSx0LFNlKHQpKSxrZT0oZSx7dmFsdWVBc051bWJlcjp0LHZhbHVlQXNEYXRlOnIsc2V0VmFsdWVBczpzfSk9Pm0oZSk/ZTp0PyIiPT09ZT9OYU46ZT8rZTplOnImJlUoZSk/bmV3IERhdGUoZSk6cz9zKGUpOmU7ZnVuY3Rpb24gQ2UoZSl7Y29uc3QgdD1lLnJlZjtpZighKGUucmVmcz9lLnJlZnMuZXZlcnkoKGU9PmUuZGlzYWJsZWQpKTp0LmRpc2FibGVkKSlyZXR1cm4gSyh0KT90LmZpbGVzOloodCk/bmUoZS5yZWZzKS52YWx1ZTp4ZSh0KT9bLi4udC5zZWxlY3RlZE9wdGlvbnNdLm1hcCgoKHt2YWx1ZTplfSk9PmUpKTpyKHQpP3NlKGUucmVmcykudmFsdWU6a2UobSh0LnZhbHVlKT9lLnJlZi52YWx1ZTp0LnZhbHVlLGUpfXZhciBFZT0oZSx0LHIscyk9Pntjb25zdCBhPXt9O2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9eSh0LHIpO2UmJlIoYSxyLGUuX2YpfXJldHVybntjcml0ZXJpYU1vZGU6cixuYW1lczpbLi4uZV0sZmllbGRzOmEsc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbjpzfX0sT2U9ZT0+bShlKT9lOmVlKGUpP2Uuc291cmNlOmkoZSk/ZWUoZS52YWx1ZSk/ZS52YWx1ZS5zb3VyY2U6ZS52YWx1ZTplLGplPWU9PmUubW91bnQmJihlLnJlcXVpcmVkfHxlLm1pbnx8ZS5tYXh8fGUubWF4TGVuZ3RofHxlLm1pbkxlbmd0aHx8ZS5wYXR0ZXJufHxlLnZhbGlkYXRlKTtmdW5jdGlvbiBUZShlLHQscil7Y29uc3Qgcz15KGUscik7aWYoc3x8TChyKSlyZXR1cm57ZXJyb3I6cyxuYW1lOnJ9O2NvbnN0IGE9ci5zcGxpdCgiLiIpO2Zvcig7YS5sZW5ndGg7KXtjb25zdCBzPWEuam9pbigiLiIpLG49eSh0LHMpLGk9eShlLHMpO2lmKG4mJiFBcnJheS5pc0FycmF5KG4pJiZyIT09cylyZXR1cm57bmFtZTpyfTtpZihpJiZpLnR5cGUpcmV0dXJue25hbWU6cyxlcnJvcjppfTthLnBvcCgpfXJldHVybntuYW1lOnJ9fXZhciBVZT0oZSx0LHIscyxhKT0+IWEuaXNPbkFsbCYmKCFyJiZhLmlzT25Ub3VjaD8hKHR8fGUpOihyP3MuaXNPbkJsdXI6YS5pc09uQmx1cik/IWU6IShyP3MuaXNPbkNoYW5nZTphLmlzT25DaGFuZ2UpfHxlKSxCZT0oZSx0KT0+IWYoeShlLHQpKS5sZW5ndGgmJl9lKGUsdCk7Y29uc3QgTmU9e21vZGU6aC5vblN1Ym1pdCxyZVZhbGlkYXRlTW9kZTpoLm9uQ2hhbmdlLHNob3VsZEZvY3VzRXJyb3I6ITB9O2Z1bmN0aW9uIExlKGU9e30sdCl7bGV0IG4sbD17Li4uTmUsLi4uZX0sZz17c3VibWl0Q291bnQ6MCxpc0RpcnR5OiExLGlzTG9hZGluZzpRKGwuZGVmYXVsdFZhbHVlcyksaXNWYWxpZGF0aW5nOiExLGlzU3VibWl0dGVkOiExLGlzU3VibWl0dGluZzohMSxpc1N1Ym1pdFN1Y2Nlc3NmdWw6ITEsaXNWYWxpZDohMSx0b3VjaGVkRmllbGRzOnt9LGRpcnR5RmllbGRzOnt9LGVycm9yczpsLmVycm9yc3x8e30sZGlzYWJsZWQ6bC5kaXNhYmxlZHx8ITF9LHY9e30sYj0oaShsLmRlZmF1bHRWYWx1ZXMpfHxpKGwudmFsdWVzKSkmJmMobC5kZWZhdWx0VmFsdWVzfHxsLnZhbHVlcyl8fHt9LHg9bC5zaG91bGRVbnJlZ2lzdGVyP3t9OmMoYiksQT17YWN0aW9uOiExLG1vdW50OiExLHdhdGNoOiExfSxWPXttb3VudDpuZXcgU2V0LHUucmFkaXVzPU1hdGguc3FydChpKSxpc05hTih0aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cykmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpOiBDb21wdXRlZCByYWRpdXMgaXMgTmFOLiBUaGUgInBvc2l0aW9uIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpfX1jb21wdXRlVGFuZ2VudHMoKXtjb25zdCB0PXRoaXMuaW5kZXgsZT10aGlzLmF0dHJpYnV0ZXM7aWYobnVsbD09PXR8fHZvaWQgMD09PWUucG9zaXRpb258fHZvaWQgMD09PWUubm9ybWFsfHx2b2lkIDA9PT1lLnV2KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZVRhbmdlbnRzKCkgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIGF0dHJpYnV0ZXMgKGluZGV4LCBwb3NpdGlvbiwgbm9ybWFsIG9yIHV2KSIpO2NvbnN0IG49dC5hcnJheSxpPWUucG9zaXRpb24uYXJyYXkscj1lLm5vcm1hbC5hcnJheSxzPWUudXYuYXJyYXksYT1pLmxlbmd0aC8zOyExPT09dGhpcy5oYXNBdHRyaWJ1dGUoInRhbmdlbnQiKSYmdGhpcy5zZXRBdHRyaWJ1dGUoInRhbmdlbnQiLG5ldyBNaShuZXcgRmxvYXQzMkFycmF5KDQqYSksNCkpO2NvbnN0IG89dGhpcy5nZXRBdHRyaWJ1dGUoInRhbmdlbnQiKS5hcnJheSxsPVtdLGM9W107Zm9yKGxldCB0PTA7dDxhO3QrKylsW3RdPW5ldyBXZSxjW3RdPW5ldyBXZTtjb25zdCBoPW5ldyBXZSx1PW5ldyBXZSxkPW5ldyBXZSxwPW5ldyBtZSxtPW5ldyBtZSxmPW5ldyBtZSxnPW5ldyBXZSxfPW5ldyBXZTtmdW5jdGlvbiB2KHQsZSxuKXtoLmZyb21BcnJheShpLDMqdCksdS5mcm9tQXJyYXkoaSwzKmUpLGQuZnJvbUFycmF5KGksMypuKSxwLmZyb21BcnJheShzLDIqdCksbS5mcm9tQXJyYXkocywyKmUpLGYuZnJvbUFycmF5KHMsMipuKSx1LnN1YihoKSxkLnN1YihoKSxtLnN1YihwKSxmLnN1YihwKTtjb25zdCByPTEvKG0ueCpmLnktZi54Km0ueSk7aXNGaW5pdGUocikmJihnLmNvcHkodSkubXVsdGlwbHlTY2FsYXIoZi55KS5hZGRTY2FsZWRWZWN0b3IoZCwtbS55KS5tdWx0aXBseVNjYWxhcihyKSxfLmNvcHkoZCkubXVsdGlwbHlTY2FsYXIobS54KS5hZGRTY2FsZWRWZWN0b3IodSwtZi54KS5tdWx0aXBseVNjYWxhcihyKSxsW3RdLmFkZChnKSxsW2VdLmFkZChnKSxsW25dLmFkZChnKSxjW3RdLmFkZChfKSxjW2VdLmFkZChfKSxjW25dLmFkZChfKSl9bGV0IHg9dGhpcy5ncm91cHM7MD09PXgubGVuZ3RoJiYoeD1be3N0YXJ0OjAsY291bnQ6bi5sZW5ndGh9XSk7Zm9yKGxldCB0PTAsZT14Lmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXhbdF0saT1lLnN0YXJ0O2ZvcihsZXQgdD1pLHI9aStlLmNvdW50O3Q8cjt0Kz0zKXYoblt0KzBdLG5bdCsxXSxuW3QrMl0pfWNvbnN0IHk9bmV3IFdlLE09bmV3IFdlLFM9bmV3IFdlLGI9bmV3IFdlO2Z1bmN0aW9uIFQodCl7Uy5mcm9tQXJyYXkociwzKnQpLGIuY29weShTKTtjb25zdCBlPWxbdF07eS5jb3B5KGUpLHkuc3ViKFMubXVsdGlwbHlTY2FsYXIoUy5kb3QoZSkpKS5ub3JtYWxpemUoKSxNLmNyb3NzVmVjdG9ycyhiLGUpO2NvbnN0IG49TS5kb3QoY1t0XSk8MD8tMToxO29bNCp0XT15Lngsb1s0KnQrMV09eS55LG9bNCp0KzJdPXkueixvWzQqdCszXT1ufWZ0dXJuIHRbM10qKCtyKm8qaC1pKmwqaC1yKmEqdStuKmwqdStpKmEqZC1uKm8qZCkrdFs3XSooK2UqbypkLWUqbCp1K3Iqcyp1LWkqcypkK2kqbCpjLXIqbypjKSt0WzExXSooK2UqbCpoLWUqYSpkLXIqcypoK24qcypkK3IqYSpjLW4qbCpjKSt0WzE1XSooLWkqYSpjLWUqbypoK2UqYSp1K2kqcypoLW4qcyp1K24qbypjKX10cmFuc3Bvc2UoKXtjb25zdCB0PXRoaXMuZWxlbWVudHM7bGV0IGU7cmV0dXJuIGU9dFsxXSx0WzFdPXRbNF0sdFs0XT1lLGU9dFsyXSx0WzJdPXRbOF0sdFs4XT1lLGU9dFs2XSx0WzZdPXRbOV0sdFs5XT1lLGU9dFszXSx0WzNdPXRbMTJdLHRbMTJdPWUsZT10WzddLHRbN109dFsxM10sdFsxM109ZSxlPXRbMTFdLHRbMTFdPXRbMTRdLHRbMTRdPWUsdGhpc31zZXRQb3NpdGlvbih0LGUsbil7Y29uc3QgaT10aGlzLmVsZW1lbnRzO3JldHVybiB0LmlzVmVjdG9yMz8oaVsxMl09dC54LGlbMTNdPXQueSxpWzE0XT10LnopOihpWzEyXT10LGlbMTNdPWUsaVsxNF09biksdGhpc31pbnZlcnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsZT10WzBdLG49dFsxXSxpPXRbMl0scj10WzNdLHM9dFs0XSxhPXRbNV0sbz10WzZdLGw9dFs3XSxjPXRbOF0saD10WzldLHU9dFsxMF0sZD10WzExXSxwPXRbMTJdLG09dFsxM10sZj10WzE0XSxnPXRbMTVdLF89aCpmKmwtbSp1KmwrbSpvKmQtYSpmKmQtaCpvKmcrYSp1Kmcsdj1wKnUqbC1jKmYqbC1wKm8qZCtzKmYqZCtjKm8qZy1zKnUqZyx4PWMqbSpsLXAqaCpsK3AqYSpkLXMqbSpkLWMqYSpnK3MqaCpnLHk9cCpoKm8tYyptKm8tcCphKnUrcyptKnUrYyphKmYtcypoKmYsTT1lKl8rbip2K2kqeCtyKnk7aWYoMD09PU0pcmV0dXJuIHRoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO2NvbnN0IFM9MS9NO3JldHVybiB0WzBdPV8qUyx0WzFdPShtKnUqci1oKmYqci1tKmkqZCtuKmYqZCtoKmkqZy1uKnUqZykqUyx0WzJdPShhKmYqci1tKm8qcittKmkqbC1uKmYqbC1hKmkqZytuKm8qZykqUyx0WzNdPShoKm8qci1hKnUqci1oKmkqbCtuKnUqbCthKmkqZC1uKm8qZCkqUyx0WzRdPXYqUyx0WzVdPShjKmYqci1wKnUqcitwKmkqZC1lKmYqZC1jKmkqZytlKnUqZykqUyx0WzZdPShwKm8qci1zKmYqci1wKmkqbCtlKmYqbCtzKmkqZy1lKm8qZykqUyx0WzddPShzKnUqci1jKm8qcitjKmkqbC1lKnUqbC1zKmkqZCtlKm8qZCkqUyx0WzhdPXgqUyx0WzldPShwKmgqci1jKm0qci1wKm4qZCtlKm0qZCtjKm4qZy1lKmgqZykqUyx0WzEwXT0ocyptKnItcCphKnIrcCpuKmwtZSptKmwtcypuKmcrZSphKmcpKlMsdFsxMV09KGMqYSpyLXMqaCpyLWMqbipsK2UqaCpsK3MqbipkLWUqYSpkKSpTLHRbMTJdPXkqUyx0WzEzXT0oYyptKmktcCpoKmkrcCpuKnUtZSptKnUtYypuKmYrZSpoKmYpKlMsdFsxNF09KHAqYSppLXMqbSppLXAqbipvK2UqbSpvK3MqbipmLWUqYSpmKSpTLHRbMTVdPShzKmgqaS1jKmEqaStjKm4qby1lKmgqby1zKm4qdStlKmEqdSkqUyx0aGlzfXNjYWxlKHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxuPXQueCxpPXQueSxyPXQuejtyZXR1cm4gZVswXSo9bixlWzRdKj1pLGVbOF0qPXIsZVsxXSo9bixlWzVdKj1pLGVbOV0qPXIsZVsyXSo9bixlWzZdKj1pLGVbMTBdKj1yLGVbM10qPW4sZVs3XSo9aSxlWzExXSo9cix0aGlzfWdldE1heFNjYWxlT25TcGFjZT1jOihiZSgiVEhSRUUuVGV4dHVyZTogUHJvcGVydHkgLmVuY29kaW5nIGhhcyBiZWVuIHJlcGxhY2VkIGJ5IC5jb2xvclNwYWNlLiIpLHRoaXMuY29sb3JTcGFjZT1jPT09QnQ/R3Q6enQpLHRoaXMudXNlckRhdGE9e30sdGhpcy52ZXJzaW9uPTAsdGhpcy5vblVwZGF0ZT1udWxsLHRoaXMuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPSExLHRoaXMubmVlZHNQTVJFTVVwZGF0ZT0hMX1nZXQgaW1hZ2UoKXtyZXR1cm4gdGhpcy5zb3VyY2UuZGF0YX1zZXQgaW1hZ2UodD1udWxsKXt0aGlzLnNvdXJjZS5kYXRhPXR9dXBkYXRlTWF0cml4KCl7dGhpcy5tYXRyaXguc2V0VXZUcmFuc2Zvcm0odGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55LHRoaXMucmVwZWF0LngsdGhpcy5yZXBlYXQueSx0aGlzLnJvdGF0aW9uLHRoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueSl9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5uYW1lPXQubmFtZSx0aGlzLnNvdXJjZT10LnNvdXJjZSx0aGlzLm1pcG1hcHM9dC5taXBtYXBzLnNsaWNlKDApLHRoaXMubWFwcGluZz10Lm1hcHBpbmcsdGhpcy5jaGFubmVsPXQuY2hhbm5lbCx0aGlzLndyYXBTPXQud3JhcFMsdGhpcy53cmFwVD10LndyYXBULHRoaXMubWFnRmlsdGVyPXQubWFnRmlsdGVyLHRoaXMubWluRmlsdGVyPXQubWluRmlsdGVyLHRoaXMuYW5pc290cm9weT10LmFuaXNvdHJvcHksdGhpcy5mb3JtYXQ9dC5mb3JtYXQsdGhpcy5pbnRlcm5hbEZvcm1hdD10LmludGVybmFsRm9ybWF0LHRoaXMudHlwZT10LnR5cGUsdGhpcy5vZmZzZXQuY29weSh0Lm9mZnNldCksdGhpcy5yZXBlYXQuY29weSh0LnJlcGVhdCksdGhpcy5jZW50ZXIuY29weSh0LmNlbnRlciksdGhpcy5yb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMubWF0cml4QXV0b1VwZGF0ZT10Lm1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXguY29weSh0Lm1hdHJpeCksdGhpcy5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMsdGhpcy5wcmVtdWx0aXBseUFscGhhPXQucHJlbXVsdGlwbHlBbHBoYSx0aGlzLmZsaXBZPXQuZmxpcFksdGhpcy51bnBhY2tBbGlnbm1lbnQ9dC51bnBhY2tBbGlnbm1lbnQsdGhpcy5jb2xvclNwYWNlPXQuY29sb3JTcGFjZSx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodC51c2VyRGF0YSkpLHRoaXMubmVlZHNVcGRhdGU9ITAsdGhpc310b0pTT04odCl7Y29uc3QgZT12b2lkIDA9PT10fHwic3RyaW5nIj09dHlwZW9mIHQ7aWYoIWUmJnZvaWQgMCE9PXQudGV4dHVyZXNbdGhpcy51dWlkXSlyZXR1cm4gdC50ZXh0dXJlc1t0aGlzLnV1aWRdO2NvbnN0IG49e21ldGFkYXRhOnt2ZXJzaW9uOjQuNix0eXBlOiJUZXh0dXJlIixnZW5lcmF0b3I6IlRleHR1cmUudG9KU09OIn0sdXVpZDp0aGlzLnV1aWQsbmFtZTp0aGlzLm5hbWUsaW1hZ2U6dGhpcy5zb3VyY2UudG9KU09OKHQpLnV1aWQsbWFwcGluZzp0aGlzLm1hcHBpbmcsY2hhbm5lbDp0aGlzLmNoYW5uZWwscmVwZWF0Olt0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnldLG9mZnNldDpbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSxjZW50ZXI6W3RoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueV0scm90YXRpb246dGhpcy5yb3RhdGlvbix3cmFwOlt0aGlydC50eXBlLGE9dGhpcy5leHRlbmRZQXhpcyhhKSxhPXRoaXMuZXh0ZW5kQW5ub3RhdGlvbnMoYSk7dmFyIG89cy5pbml0KCksbj17fTtpZihhJiYib2JqZWN0Ij09PWkoYSkpe3ZhciBsLGgsYyxkLGcsdSxwLGYsYj17fTtiPS0xIT09WyJsaW5lIiwiYXJlYSIsImJhciIsImNhbmRsZXN0aWNrIiwiYm94UGxvdCIsInJhbmdlQmFyIiwicmFuZ2VBcmVhIiwiYnViYmxlIiwic2NhdHRlciIsImhlYXRtYXAiLCJ0cmVlbWFwIiwicGllIiwicG9sYXJBcmVhIiwiZG9udXQiLCJyYWRhciIsInJhZGlhbEJhciJdLmluZGV4T2YoYS5jaGFydC50eXBlKT9yW2EuY2hhcnQudHlwZV0oKTpyLmxpbmUoKSxudWxsIT09KGw9YS5wbG90T3B0aW9ucykmJnZvaWQgMCE9PWwmJm51bGwhPT0oaD1sLmJhcikmJnZvaWQgMCE9PWgmJmguaXNGdW5uZWwmJihiPXIuZnVubmVsKCkpLGEuY2hhcnQuc3RhY2tlZCYmImJhciI9PT1hLmNoYXJ0LnR5cGUmJihiPXIuc3RhY2tlZEJhcnMoKSksbnVsbCE9PShjPWEuY2hhcnQuYnJ1c2gpJiZ2b2lkIDAhPT1jJiZjLmVuYWJsZWQmJihiPXIuYnJ1c2goYikpLGEuY2hhcnQuc3RhY2tlZCYmIjEwMCUiPT09YS5jaGFydC5zdGFja1R5cGUmJihhPXIuc3RhY2tlZDEwMChhKSksbnVsbCE9PShkPWEucGxvdE9wdGlvbnMpJiZ2b2lkIDAhPT1kJiZudWxsIT09KGc9ZC5iYXIpJiZ2b2lkIDAhPT1nJiZnLmlzRHVtYmJlbGwmJihhPXIuZHVtYmJlbGwoYSkpLHRoaXMuY2hlY2tGb3JEYXJrVGhlbWUod2luZG93LkFwZXgpLHRoaXMuY2hlY2tGb3JEYXJrVGhlbWUoYSksYS54YXhpcz1hLnhheGlzfHx3aW5kb3cuQXBleC54YXhpc3x8e30sZXx8KGEueGF4aXMuY29udmVydGVkQ2F0VG9OdW1lcmljPSExKSwobnVsbCE9PSh1PShhPXRoaXMuY2hlY2tGb3JDYXRUb051bWVyaWNYQXhpcyh0aGlzLmNoYXJ0VHlwZSxiLGEpKS5jaGFydC5zcGFya2xpbmUpJiZ2b2lkIDAhPT11JiZ1LmVuYWJsZWR8fG51bGwhPT0ocD13aW5kb3cuQXBleC5jaGFydCkmJnZvaWQgMCE9PXAmJm51bGwhPT0oZj1wLnNwYXJrbGluZSkmJnZvaWQgMCE9PWYmJmYuZW5hYmxlZCkmJihiPXIuc3BhcmtsaW5lKGIpKSxuPXguZXh0ZW5kKG8sYil9dmFyIHY9eC5leHRlbmQobix3aW5kb3cuQXBleCk7cmV0dXJuIG89eC5leHRlbmQodixhKSxvPXRoaXMuaGFuZGxlVXNlcklucHV0RXJyb3JzKG8pfX0se2tleToiY2hlY2tGb3JDYXRUb051bWVyaWNYQXhpcyIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBhLHMscj1uZXcgWChpKSxvPSgiYmFyIj09PXR8fCJib3hQbG90Ij09PXQpJiYobnVsbD09PShhPWkucGxvdE9wdGlvbnMpfHx2b2lkIDA9PT1hfHxudWxsPT09KHM9YS5iYXIpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmhvcml6b250YWwpLG49InBpZSI9PT10fHwicG9sYXJBcmVhIj09PXR8fCJkb251dCI9PT10fHwicmFkYXIiPT09dHx8InJhZGlhbEJhciI9PT10fHwiaGVhdG1hcCI9PT10LGw9ImRhdGV0aW1lIiE9PWkueGF4aXMudHlwZSYmIm51bWVyaWMiIT09aS54YXhpcy50eXBlLGg9aS54YXhpcy50aWNrUGxhY2VtZW50P2kueGF4aXMudGlja1BsYWNlbWVudDplLnhheGlzJiZlLnhheGlzLnRpY2tQbGFjZW1lbnQ7cmV0dXJuIG98fG58fCFsfHwiYmV0d2VlbiI9PT1ofHwoaT1yLmNvbnZlcnRDYXRUb051bWVyaWMoaSkpLGl9fSx7a2V5OiJleHRlbmRpbHRlclNpemUodC5maWx0ZXJlci5ub2RlKSx0fX0se2tleToic2V0U2VsZWN0aW9uRmlsdGVyIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9dGhpcy53O2lmKHZvaWQgMCE9PWEuZ2xvYmFscy5zZWxlY3RlZERhdGFQb2ludHNbZV0mJmEuZ2xvYmFscy5zZWxlY3RlZERhdGFQb2ludHNbZV0uaW5kZXhPZihpKT4tMSl7dC5ub2RlLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLCEwKTt2YXIgcz1hLmNvbmZpZy5zdGF0ZXMuYWN0aXZlLmZpbHRlcjsibm9uZSIhPT1zJiZ0aGlzLmFwcGx5RmlsdGVyKHQsZSxzLnR5cGUscy52YWx1ZSl9fX0se2tleToiX3NjYWxlRmlsdGVyU2l6ZSIsdmFsdWU6ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJnQuc2V0QXR0cmlidXRlKGksZVtpXSl9KHt3aWR0aDoiMjAwJSIsaGVpZ2h0OiIyMDAlIix4OiItNTAlIix5OiItNTAlIn0pfX1dKSx0fSgpLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2EodGhpcyx0KSx0aGlzLmN0eD1lLHRoaXMudz1lLnd9cmV0dXJuIHIodCxbe2tleToicm91bmRQYXRoQ29ybmVycyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSxpKXt2YXIgcz1lLngtdC54LHI9ZS55LXQueSxvPU1hdGguc3FydChzKnMrcipyKTtyZXR1cm4gYSh0LGUsTWF0aC5taW4oMSxpL28pKX1mdW5jdGlvbiBhKHQsZSxpKXtyZXR1cm57eDp0LngrKGUueC10LngpKmkseTp0LnkrKGUueS10LnkpKml9fWZ1bmN0aW9uIHModCxlKXt0Lmxlbmd0aD4yJiYodFt0Lmxlbmd0aC0yXT1lLngsdFt0Lmxlbmd0aC0xXT1lLnkpfWZ1bmN0aW9uIHIodCl7cmV0dXJue3g6cGFyc2VGbG9hdCh0W3QubGVuZ3RoLTJdKSx5OnBhcnNlRmxvYXQodFt0Lmxlbmd0aC0xXSl9fXQuaW5kZXhPZigiTmFOIik+LTEmJih0PSIiKTt2YXIgbz10LnNwbGl0KC9bLFxzXS8pLnJlZHVjZSgoZnVuY3Rpb24odCxlKXt2YXIgaT1lLm1hdGNoKCIoW2EtekEtWl0pKC4rKSIpO3JldHVybiBpPyh0LnB1c2goaVsxXSksdC5wdXNoKGlbMl0pKTp0LnB1c2goZSksdH0pLFtdKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSk9PWUmJnQubGVuZ3RoP3RbdC5sZW5ndGgtMV0ucHVzaChlKTp0LnB1c2goW2VdKSx0fSksW10pLG49W107aWYoby5sZW5ndGg+MSl7dmFyIGw9cihvWzBdKSxoPW51bGw7IloiPT1vW28ubGVuZ3RoLTFdWzBdJiZvWzBdLmxlbmd0aD4yJiYoaD1bIkwiLGwueCxsLnldLG9bby5sZW5ndGgtMV09aCksbi5wdXNoKG9bMF0pO2Zvcih2YXIgYz0xO2M8by5sZW5ndGg7YysrKXt2YXIgZD1uW24ubGVuZ3RoLTFdLGc9b1tjXSx1PWc9PWg/b1sxXTpvW2MrMV07aWYodSYmZCYmZC5sZW5ndGg+MiYmIkwiPT1nWzBdJiZ1Lmxlbmd0aD4yJiYiTCI9PXVbMF0pe3ZhciBwLGYseD1yKGQpLGI9cihnKSx2PXIodSk7cD1pKGIseCxlKSxmPWkoYix2LGUpLHMoZyxwKSxnLm9yaWdQb2ludD1iLG4ucHVzaChnKTt2YXIgbT1hKHAsYiwuNSkseT1hKGIsZiwuNSksdz1bIkMiLG0ueCxtLnkseS54LHkueSxmLngsZi55XTt3Lm9yaWdQb2ludD1iLG4ucHVzaCh3KX1lbHNlIG4ucHVzaChnKX1pZihoKXt2YXIgaz1yKG5bbi5sZW5ndGgtMV0pO24ucHVzaChbIloiXSkscyhuWzBdLGspfX1lbHNlIG49bztyZXR1cm4gbi5yZWR1Y2VldHVybiBzdHIgKyAnXSc7CgkJCQl9IGVsc2UgaWYgKHRvU3RyID09PSAiW29iamVjdCBPYmplY3RdIikgewoJCQkJCS8vIG9ubHkgb2JqZWN0IGlzIGxlZnQKCQkJCQlrZXlzID0gb2JqS2V5cyh2YWwpLnNvcnQoKTsKCQkJCQltYXggPSBrZXlzLmxlbmd0aDsKCQkJCQlzdHIgPSAiIjsKCQkJCQlpID0gMDsKCQkJCQl3aGlsZSAoaSA8IG1heCkgewoJCQkJCQlrZXkgPSBrZXlzW2ldOwoJCQkJCQlwcm9wVmFsID0gc3RyaW5naWZ5KHZhbFtrZXldLCBmYWxzZSk7CgkJCQkJCWlmIChwcm9wVmFsICE9PSB1bmRlZmluZWQpIHsKCQkJCQkJCWlmIChzdHIpIHsKCQkJCQkJCQlzdHIgKz0gJywnOwoJCQkJCQkJfQoJCQkJCQkJc3RyICs9IEpTT04uc3RyaW5naWZ5KGtleSkgKyAnOicgKyBwcm9wVmFsOwoJCQkJCQl9CgkJCQkJCWkrKzsKCQkJCQl9CgkJCQkJcmV0dXJuICd7JyArIHN0ciArICd9JzsKCQkJCX0gZWxzZSB7CgkJCQkJcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbCk7CgkJCQl9CgkJCX0KCQljYXNlICJmdW5jdGlvbiI6CgkJY2FzZSAidW5kZWZpbmVkIjoKCQkJcmV0dXJuIGlzQXJyYXlQcm9wID8gbnVsbCA6IHVuZGVmaW5lZDsKCQljYXNlICJzdHJpbmciOgoJCQlyZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsKTsKCQlkZWZhdWx0OgoJCQlyZXR1cm4gaXNGaW5pdGUodmFsKSA/IHZhbCA6IG51bGw7Cgl9Cn0KCnZhciBmYXN0U3RhYmxlU3RyaW5naWZ5ID0gZnVuY3Rpb24odmFsKSB7Cgl2YXIgcmV0dXJuVmFsID0gc3RyaW5naWZ5KHZhbCwgZmFsc2UpOwoJaWYgKHJldHVyblZhbCAhPT0gdW5kZWZpbmVkKSB7CgkJcmV0dXJuICcnKyByZXR1cm5WYWw7Cgl9Cn07Cgp2YXIgZmFzdFN0YWJsZVN0cmluZ2lmeSQxID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGZhc3RTdGFibGVTdHJpbmdpZnkpOwoKY29uc3QgTUlOSU1VTV9TTE9UX1BFUl9FUE9DSCA9IDMyOwoKLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIGluIHRoZSBiaW5hcnkgcmVwcmVzZW50YXRpb24gb2Ygc2VsZi4KZnVuY3Rpb24gdHJhaWxpbmdaZXJvcyhuKSB7CiAgbGV0IHRyYWlsaW5nWmVyb3MgPSAwOwogIHdoaWxlIChuID4gMSkgewogICAgbiAvPSAyOwogICAgdHJhaWxpbmdaZXJvcysrOwogIH0KICByZXR1cm4gdHJhaWxpbmdaZXJvczsKfQoKLy8gUmV0dXJucyB0aGUgc21hbGxlc3QgcG93ZXIgb2YgdHdvIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBuCmZ1bmN0aW9uIG5leHRQb3dlck9mVHdvKG4pIHsKICBpZiAobiA9PT0gMCkgcmV0dXJuIDE7CiAgbi0tOwogIG4gfD0gbiA+PiAxOwogIG4gfD0gbiA+PiAyOwogIG4gfD0gbiA+PiA0OwogIG4gfD0gbiA+PiA4OwogIG4gfD0gbiA+PiAxNjsKICBuIHw9IG4gPj4gMzI7CiAgcmV0dXJuIG4gKyAxOwp9CgovKioKICogRXBvY2ggc2NoZWR1bGUKICogKHNlZSBodHRwczovL2RvY3Muc29sYW5hLmNvbS90ZXJtaW5vbG9neSNlcG9jaCkKICogQ2FuIGJlIHJldHJpZXZlZCB3aXRoIHRoZSB7QGxpbmsgQ29ubmVjdGlvbi5nZXRFcG9jaFNjaGVkdWxlfSBtZXRob2QKICovCmNsYXNzIEVwb2NoU2NoZWR1bGUgewogIGNvbnN0cnVjdG9yKHNsb3RzUGVyRXBvY2gsIGxlYWRlclNjaGVkdWxlU2xvdE9mZnNldCwgd2FybXVwLCBmaXJzdE5vcm1hbEVwb2NoLCBmaXJwbGllZCBhbG9uZyB3aXRoIGFuIGBhYm9ydFNpZ25hbGAuIE9ubHkgdHJhbnNhY3Rpb25zIGhhdmluZyBgbGFzdFZhbGlkQmxvY2tIZWlnaHRgICcgKyAnb3IgYSBjb21iaW5hdGlvbiBvZiBgbm9uY2VJbmZvYCBhbmQgYG1pbk5vbmNlQ29udGV4dFNsb3RgIGFyZSBhYm9ydGFibGUuJyk7CiAgICB9CiAgICBzdGF0dXMgPSAoYXdhaXQgY29ubmVjdGlvbi5jb25maXJtVHJhbnNhY3Rpb24oc2lnbmF0dXJlLCBvcHRpb25zICYmIG9wdGlvbnMuY29tbWl0bWVudCkpLnZhbHVlOwogIH0KICBpZiAoc3RhdHVzLmVycikgewogICAgdGhyb3cgbmV3IEVycm9yKGBUcmFuc2FjdGlvbiAke3NpZ25hdHVyZX0gZmFpbGVkICgke0pTT04uc3RyaW5naWZ5KHN0YXR1cyl9KWApOwogIH0KICByZXR1cm4gc2lnbmF0dXJlOwp9CgovLyB6enoKZnVuY3Rpb24gc2xlZXAobXMpIHsKICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7Cn0KCi8qKgogKiBAaW50ZXJuYWwKICovCgovKioKICogUG9wdWxhdGUgYSBidWZmZXIgb2YgaW5zdHJ1Y3Rpb24gZGF0YSB1c2luZyBhbiBJbnN0cnVjdGlvblR5cGUKICogQGludGVybmFsCiAqLwpmdW5jdGlvbiBlbmNvZGVEYXRhKHR5cGUsIGZpZWxkcykgewogIGNvbnN0IGFsbG9jTGVuZ3RoID0gdHlwZS5sYXlvdXQuc3BhbiA+PSAwID8gdHlwZS5sYXlvdXQuc3BhbiA6IGdldEFsbG9jKHR5cGUsIGZpZWxkcyk7CiAgY29uc3QgZGF0YSA9IGJ1ZmZlci5CdWZmZXIuYWxsb2MoYWxsb2NMZW5ndGgpOwogIGNvbnN0IGxheW91dEZpZWxkcyA9IE9iamVjdC5hc3NpZ24oewogICAgaW5zdHJ1Y3Rpb246IHR5cGUuaW5kZXgKICB9LCBmaWVsZHMpOwogIHR5cGUubGF5b3V0LmVuY29kZShsYXlvdXRGaWVsZHMsIGRhdGEpOwogIHJldHVybiBkYXRhOwp9CgovKioKICogRGVjb2RlIGluc3RydWN0aW9uIGRhdGEgYnVmZmVyIHVzaW5nIGFuIEluc3RydWN0aW9uVHlwZQogKiBAaW50ZXJuYWwKICovCmZ1bmN0aW9uIGRlY29kZURhdGEkMSh0eXBlLCBidWZmZXIpIHsKICBsZXQgZGF0YTsKICB0cnkgewogICAgZGF0YSA9IHR5cGUubGF5b3V0LmRlY29kZShidWZmZXIpOwogIH0gY2F0Y2ggKGVycikgewogICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluc3RydWN0aW9uOyAnICsgZXJyKTsKICB9CiAgaWYgKGRhdGEuaW5zdHJ1Y3Rpb24gIT09IHR5cGUuaW5kZXgpIHsKICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbnN0cnVjdGlvbjsgaW5zdHJ1Y3Rpb24gaW5kZXggbWlzbWF0Y2ggJHtkYXRhLmluc3RydWN0aW9ufSAhPSAke3R5cGUuaW5kZXh9YCk7CiAgfQogIHJldHVybiBkYXRhOwp9CgovKioKICogaHR0cHM6Ly9naXRodWIuY29tL3NvbGFuYS1sYWJzL3NvbGFuYS9ibG9iLzkwYmVkZDdlMDY3YjViOGYzZGRiYjQ1ZGEwMGE0ZTljYWJiMjJjNjIvc2RrL3NyYy9mZWVfY2FsY3VsYXRvci5ycyNMNy1MMTEKICoKICogQGludGVybmFsCiAqLwpjb25zdCBGZWVDYWxjdWxhdG9yTGF5b3V0ID0gQnVmZmVyTGF5b3V0X19uYW1lc3BhY2UubnU2NCgnbGFtcG9ydHNQZXJTaWduYXR1cmUnKTsKCi8qKgogKiBDYWxjdWxhdG9yIGZvciB0cmFuc2FjdGlvbiBmZWVzLgogKgogKiBAZGVwcmVjYXRlZCBEZXByZWNhdGVkIHNpbmNlIFNvbGFuYSB2MS44LjAuCiAqLwoKL2RsZXJzLmluZGV4T2YodCk7bj49MCYmZ2kuZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzLnNwbGljZShuLDEpfX0sdC5vdmVycmlkZT1Vbix0Lm93bktleXM9RnQsdC5yZWFjdGlvbj1mdW5jdGlvbih0LG4saSl7ZnVuY3Rpb24gcigpe2lmKHA9ITEsIXcubnQpe3ZhciBuPSExO3cudHJhY2soKGZ1bmN0aW9uKCl7dmFyIGk9dXQoITEsKGZ1bmN0aW9uKCl7cmV0dXJuIHQodyl9KSk7bj15fHwhbShhLGkpLGg9YSxhPWl9KSksKHkmJmkuZmlyZUltbWVkaWF0ZWx5fHwheSYmbikmJmwoYSxoLHcpLHk9ITF9fXZhciBlLHUsbyxzO3ZvaWQgMD09PWkmJihpPUxuKTt2YXIgZixjLGEsaCx2PW51bGwhPShlPWkubmFtZSk/ZToiUmVhY3Rpb24iLGw9UmkodixpLm9uRXJyb3I/KGY9aS5vbkVycm9yLGM9bixmdW5jdGlvbigpe3RyeXtyZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2godCl7Zi5jYWxsKHRoaXMsdCl9fSk6biksZD0haS5zY2hlZHVsZXImJiFpLmRlbGF5LGI9VHQoaSkseT0hMCxwPSExLG09aS5jb21wYXJlU3RydWN0dXJhbD9Ybi5zdHJ1Y3R1cmFsOmkuZXF1YWxzfHxYbi5kZWZhdWx0LHc9bmV3IEFpKHYsKGZ1bmN0aW9uKCl7eXx8ZD9yKCk6cHx8KHA9ITAsYihyKSl9KSxpLm9uRXJyb3IsaS5yZXF1aXJlc09ic2VydmFibGUpO3JldHVybiBudWxsIT0odT1pKSYmbnVsbCE9KG89dS5zaWduYWwpJiZvLmFib3J0ZWR8fHcuaXQoKSx3LnJ0KG51bGw9PShzPWkpP3ZvaWQgMDpzLnNpZ25hbCl9LHQucmVtb3ZlPWZ1bmN0aW9uKHQsaSl7ZG4odCk/dFtxbl0uR3QoaSk6UWkodCl8fHJyKHQpP3QuZGVsZXRlKGkpOmhuKHQpPygibnVtYmVyIiE9dHlwZW9mIGkmJihpPXBhcnNlSW50KGksMTApKSx0LnNwbGljZShpLDEpKTpuKDkpfSx0LnJ1bkluQWN0aW9uPU50LHQuc2V0PWZ1bmN0aW9uIHQoaSxyLGUpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RofHxycihpKSlkbihpKT9pW3FuXS5kdChyLGUpOlFpKGkpP2kuc2V0KHIsZSk6cnIoaSk/aS5hZGQocik6aG4oaSk/KCJudW1iZXIiIT10eXBlb2YgciYmKHI9cGFyc2VJbnQociwxMCkpLHI8MCYmbigiSW52YWxpZCBpbmRleDogJyIrcisiJyIpLE90KCkscj49aS5sZW5ndGgmJihpLmxlbmd0aD1yKzEpLGlbcl09ZSxfdCgpKTpuKDgpO2Vsc2V7T3QoKTt2YXIgdT1yO3RyeXtmb3IodmFyIG8gaW4gdSl0KGksbyx1W29dKX1maW5hbGx5e190KCl9fX0sdC5zcHk9TXQsdC50b0pTPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbiB0KG4saSl7aWYobnVsbD09bnx8Im9iamVjdCIhPXR5cGVvZiBufHxuIGluc3RhbmNlb2YgRGF0ZXx8IUh0KG4pKXJldHVybiBuO2lmKGxpKG4pfHxwaShuKSlyZXR1cm4gdChuLmdldCgpLGkpO2lmKGkuaGFzKG4pKXJldHVybiBpLmdldChuKTtpZihobihuKSl7dmFyIHI9enQoaSxuLG5ldyBBcnJheShuLmxlbmd0aCkpO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKG4sZSl7cltlXT10KG4saSl9KSkscn1pZihycihuKSl7dmFyIGU9enQoaSxuLG5ldyBTZXQpO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuYWRkKHQobixpKSl9KSksZX1pZihRaShuKSl7dmFyIHU9enQoaSxuLG5ldyBNYXApO3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dS5zZXQocix0KG4saSkpfSkpLHV9dmFyIG89enQoaSxuLHt9KTtyZXR1cm4gRnhQaXhlbHMoZixjKSxwPShlLl9zdGFja3N8fHt9KVtyLmF4aXNdLG09e2hvcml6b250YWw6aCxiYXNlOmkuYmFzZSxlbmFibGVCb3JkZXJSYWRpdXM6IXB8fFZuKGUuX2N1c3RvbSl8fGE9PT1wLl90b3B8fGE9PT1wLl9ib3R0b20seDpoP2kuaGVhZDpnLmNlbnRlcix5Omg/Zy5jZW50ZXI6aS5oZWFkLGhlaWdodDpoP2cuc2l6ZTpNYXRoLmFicyhpLnNpemUpLHdpZHRoOmg/TWF0aC5hYnMoaS5zaXplKTpnLnNpemV9O3UmJihtLm9wdGlvbnM9ZHx8dGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGYsdFtmXS5hY3RpdmU/ImFjdGl2ZSI6bikpO2NvbnN0IGI9bS5vcHRpb25zfHx0W2ZdLm9wdGlvbnM7Qm4obSxiLHAsYSksSG4obSxiLGMucmF0aW8pLHRoaXMudXBkYXRlRWxlbWVudCh0W2ZdLGYsbSxuKX19X2dldFN0YWNrcyh0LGUpe2NvbnN0e2lTY2FsZTppfT10aGlzLl9jYWNoZWRNZXRhLG49aS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0aGlzLl90eXBlKS5maWx0ZXIoKHQ9PnQuY29udHJvbGxlci5vcHRpb25zLmdyb3VwZWQpKSxvPWkub3B0aW9ucy5zdGFja2VkLGE9W10scj10PT57Y29uc3QgaT10LmNvbnRyb2xsZXIuZ2V0UGFyc2VkKGUpLG49aSYmaVt0LnZTY2FsZS5heGlzXTtpZihzKG4pfHxpc05hTihuKSlyZXR1cm4hMH07Zm9yKGNvbnN0IGkgb2YgbilpZigodm9pZCAwPT09ZXx8IXIoaSkpJiYoKCExPT09b3x8LTE9PT1hLmluZGV4T2YoaS5zdGFjayl8fHZvaWQgMD09PW8mJnZvaWQgMD09PWkuc3RhY2spJiZhLnB1c2goaS5zdGFjayksaS5pbmRleD09PXQpKWJyZWFrO3JldHVybiBhLmxlbmd0aHx8YS5wdXNoKHZvaWQgMCksYX1fZ2V0U3RhY2tDb3VudCh0KXtyZXR1cm4gdGhpcy5fZ2V0U3RhY2tzKHZvaWQgMCx0KS5sZW5ndGh9X2dldFN0YWNrSW5kZXgodCxlLGkpe2NvbnN0IHM9dGhpcy5fZ2V0U3RhY2tzKHQsaSksbj12b2lkIDAhPT1lP3MuaW5kZXhPZihlKTotMTtyZXR1cm4tMT09PW4/cy5sZW5ndGgtMTpufV9nZXRSdWxlcigpe2NvbnN0IHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fY2FjaGVkTWV0YSxpPWUuaVNjYWxlLHM9W107bGV0IG4sbztmb3Iobj0wLG89ZS5kYXRhLmxlbmd0aDtuPG87KytuKXMucHVzaChpLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQobilbaS5heGlzXSxuKSk7Y29uc3QgYT10LmJhclRoaWNrbmVzcztyZXR1cm57bWluOmF8fEluKGUpLHBpeGVsczpzLHN0YXJ0OmkuX3N0YXJ0UGl4ZWwsZW5kOmkuX2VuZFBpeGVsLHN0YWNrQ291bnQ6dGhpcy5fZ2V0U3RhY2tDb3VudCgpLHNjYWxlOmksZ3JvdXBlZDp0Lmdyb3VwZWQscmF0aW86YT8xOnQuY2F0ZWdvcnlQZXJjZW50YWdlKnQuYmFyUGVyY2VudGFnZX19X2NhbGN1bGF0ZUJhclZhbHVlUGl4ZWxzKHQpe2NvbnN0e19jYWNoZWRNZXRhOnt2U2NhbGU6ZSxfc3RhY2tlZDppLGluZGV4Om59LG9wdGlvbnM6e2Jhc2U6byxtaW5CYXJMZW5ndGg6YX19PXRoaXMscj1vfHwwLGw9dGhpcy5nZXRQYXJzZWQodCksaD1sLl9jdXN0b20sYz1WbihoKTtsZXQgZCx1LGY9bFtlLmF4aXNdLGc9MCxwPWk/dGhpcy5hcHBseVN0YWNrKGUsbCxpKTpmO3AhPT1mJiYoZz1wLWYscD1mKSxjJiYoZj1oLmJhclN0YXJ0LHA9aC5iYXJFbmQtaC5iYXJTdGFydCwwIT09ZiYmRihmKSE9PUYoaC5iYXJFbmQpJiYoZz0wKSxnKz1mKTtjb25zdCx0b3A6MCxyaWdodDowLGJvdHRvbTowfTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57c1t0XT1NYXRoLm1heChlW3RdLGlbdF0pfSkpLHN9cmV0dXJuIHModD9bImxlZnQiLCJyaWdodCJdOlsidG9wIiwiYm90dG9tIl0pfWZ1bmN0aW9uIHNzKHQsZSxpLHMpe2NvbnN0IG49W107bGV0IG8sYSxyLGwsaCxjO2ZvcihvPTAsYT10Lmxlbmd0aCxoPTA7bzxhOysrbyl7cj10W29dLGw9ci5ib3gsbC51cGRhdGUoci53aWR0aHx8ZS53LHIuaGVpZ2h0fHxlLmgsaXMoci5ob3Jpem9udGFsLGUpKTtjb25zdHtzYW1lOmEsb3RoZXI6ZH09ZXMoZSxpLHIscyk7aHw9YSYmbi5sZW5ndGgsYz1jfHxkLGwuZnVsbFNpemV8fG4ucHVzaChyKX1yZXR1cm4gaCYmc3MobixlLGkscyl8fGN9ZnVuY3Rpb24gbnModCxlLGkscyxuKXt0LnRvcD1pLHQubGVmdD1lLHQucmlnaHQ9ZStzLHQuYm90dG9tPWkrbix0LndpZHRoPXMsdC5oZWlnaHQ9bn1mdW5jdGlvbiBvcyh0LGUsaSxzKXtjb25zdCBuPWkucGFkZGluZztsZXR7eDpvLHk6YX09ZTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PXIuYm94LGw9c1tyLnN0YWNrXXx8e2NvdW50OjEscGxhY2VkOjAsd2VpZ2h0OjF9LGg9ci5zdGFja1dlaWdodC9sLndlaWdodHx8MTtpZihyLmhvcml6b250YWwpe2NvbnN0IHM9ZS53Kmgsbz1sLnNpemV8fHQuaGVpZ2h0O2sobC5zdGFydCkmJihhPWwuc3RhcnQpLHQuZnVsbFNpemU/bnModCxuLmxlZnQsYSxpLm91dGVyV2lkdGgtbi5yaWdodC1uLmxlZnQsbyk6bnModCxlLmxlZnQrbC5wbGFjZWQsYSxzLG8pLGwuc3RhcnQ9YSxsLnBsYWNlZCs9cyxhPXQuYm90dG9tfWVsc2V7Y29uc3Qgcz1lLmgqaCxhPWwuc2l6ZXx8dC53aWR0aDtrKGwuc3RhcnQpJiYobz1sLnN0YXJ0KSx0LmZ1bGxTaXplP25zKHQsbyxuLnRvcCxhLGkub3V0ZXJIZWlnaHQtbi5ib3R0b20tbi50b3ApOm5zKHQsbyxlLnRvcCtsLnBsYWNlZCxhLHMpLGwuc3RhcnQ9byxsLnBsYWNlZCs9cyxvPXQucmlnaHR9fWUueD1vLGUueT1hfXZhciBhcz17YWRkQm94KHQsZSl7dC5ib3hlc3x8KHQuYm94ZXM9W10pLGUuZnVsbFNpemU9ZS5mdWxsU2l6ZXx8ITEsZS5wb3NpdGlvbj1lLnBvc2l0aW9ufHwidG9wIixlLndlaWdodD1lLndlaWdodHx8MCxlLl9sYXllcnM9ZS5fbGF5ZXJzfHxmdW5jdGlvbigpe3JldHVyblt7ejowLGRyYXcodCl7ZS5kcmF3KHQpfX1dfSx0LmJveGVzLnB1c2goZSl9LHJlbW92ZUJveCh0LGUpe2NvbnN0IGk9dC5ib3hlcz90LmJveGVzLmluZGV4T2YoZSk6LTE7LTEhPT1pJiZ0LmJveGVzLnNwbGljZShpLDEpfSxjb25maWd1cmUodCxlLGkpe2UuZnVsbFNpemU9aS5mdWxsU2l6ZSxlLnBvc2l0aW9uPWkucG9zaXRpb24sZS53ZWlnaHQ9aS53ZWlnaHR9LHVwZGF0ZSh0LGUsaSxzKXtpZighdClyZXR1cm47Y29uc3Qgbj1raSh0Lm9wdGlvbnMubGF5b3V0LnBhZGRpbmcpLG89TWF0aC5tYXgoZS1uLndpZHRoLDApLGE9TWF0aC5tYXgoaS1uLmhlaWdodCwwKSxyPWZ1bmN0aW9uKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtsZXQgaSxzLG4sbyxhLHI7Zm9yKGk9MCxzPSh0fHxbXSkubGVuZ3RoO2k8czsrK2kpbj10W2ldLCh7cG9zaXRpb246byxvcHRpb25zOntzdGFjazphLHN0YWNrV2VpZ2h0OnI9MX19PW4pLGUucHVzaCh7aW5kZXg6aSxib3g6bixwb3M6byxob3Jpem9ubWFyUmU6IjdmZmZkNCIsYXp1WToiZjBmZmZmIixiZWlnZToiZjVmNWRjIixiaXNxdWU6ImZmZTRjNCIsYmxhY2s6IjAiLGJsYW5LZWRPbW9uZDoiZmZlYmNkIixYZToiZmYiLFhldmlUZXQ6IjhhMmJlMiIsYlB3bjoiYTUyYTJhIixidXJseXdvb2Q6ImRlYjg4NyIsY2FNdFhlOiI1ZjllYTAiLEthcnRZdXNlOiI3ZmZmMDAiLEtvY1RhdGU6ImQyNjkxZSIsY1NPOiJmZjdmNTAiLGNTbmZsb3dlclhlOiI2NDk1ZWQiLGNTbnNpbGs6ImZmZjhkYyIsY3JpbXNvbjoiZGMxNDNjIixjeWFuOiJmZmZmIix4WGU6IjhiIix4Y3lhbjoiOGI4YiIseGdUTW5QZDoiYjg4NjBiIix4V2F5OiJhOWE5YTkiLHhnWUY6IjY0MDAiLHhnWXk6ImE5YTlhOSIseGtoYWtpOiJiZGI3NmIiLHhtYWdGdGE6IjhiMDA4YiIseFRpdmVnWUY6IjU1NmIyZiIseFNhbmdlOiJmZjhjMDAiLHhTY0VkOiI5OTMyY2MiLHhZZDoiOGIwMDAwIix4c09tb246ImU5OTY3YSIseHNIZ1lGOiI4ZmJjOGYiLHhVWGU6IjQ4M2Q4YiIseFVXYXk6IjJmNGY0ZiIseFVnWXk6IjJmNGY0ZiIseFFlOiJjZWQxIix4dmlUZXQ6Ijk0MDBkMyIsZEFwcFJrOiJmZjE0OTMiLGRBcHNreVhlOiJiZmZmIixkaW1XYXk6IjY5Njk2OSIsZGltZ1l5OiI2OTY5NjkiLGRvZGdlclhlOiIxZTkwZmYiLGZpWWJyaWNrOiJiMjIyMjIiLGZsU093RXRlOiJmZmZhZjAiLGZvWXN0V0FuOiIyMjhiMjIiLGZ1S3NpYToiZmYwMGZmIixnYVJzYlNvOiJkY2RjZGMiLGdob3N0d0V0ZToiZjhmOGZmIixnVGQ6ImZmZDcwMCIsZ1RNblBkOiJkYWE1MjAiLFdheToiODA4MDgwIixnWUY6IjgwMDAiLGdZRkx3OiJhZGZmMmYiLGdZeToiODA4MDgwIixob25leU13OiJmMGZmZjAiLGhvdHBSazoiZmY2OWI0IixSZGlhbllkOiJjZDVjNWMiLFJkaWdvOiI0YjAwODIiLGl2U3k6ImZmZmZmMCIsa2hha2k6ImYwZTY4YyIsbGF2Rk1yOiJlNmU2ZmEiLGxhdkZNclhzaDoiZmZmMGY1IixsYXduZ1lGOiI3Y2ZjMDAiLE5tb25jRWZmb246ImZmZmFjZCIsWlhlOiJhZGQ4ZTYiLFpjU086ImYwODA4MCIsWmN5YW46ImUwZmZmZiIsWmdUTW5QZEx3OiJmYWZhZDIiLFpXYXk6ImQzZDNkMyIsWmdZRjoiOTBlZTkwIixaZ1l5OiJkM2QzZDMiLFpwUms6ImZmYjZjMSIsWnNPbW9uOiJmZmEwN2EiLFpzSGdZRjoiMjBiMmFhIixac2t5WGU6Ijg3Y2VmYSIsWlVXYXk6Ijc3ODg5OSIsWlVnWXk6Ijc3ODg5OSIsWnN0QWxYZToiYjBjNGRlIixaTHc6ImZmZmZlMCIsbGltZToiZmYwMCIsbGltZWdZRjoiMzJjZDMyIixsUkY6ImZhZjBlNiIsbWFnRnRhOiJmZjAwZmYiLG1hUG9uOiI4MDAwMDAiLFZhcXVhbWFyUmU6IjY2Y2RhYSIsVlhlOiJjZCIsVlNjRWQ6ImJhNTVkMyIsVnB1cnBOOiI5MzcwZGIiLFZzSGdZRjoiM2NiMzcxIixWVVhlOiI3YjY4ZWUiLFZzcHJSZ2dZRjoiZmE5YSIsVlFlOiI0OGQxY2MiLFZ2aVRldFlkOiJjNzE1ODUiLG1pZG5pZ2h0WGU6IjE5MTk3MCIsbVJ0Y1lhbToiZjVmZmZhIixtaXN0eVBzZToiZmZlNGUxIixtb2NjYXNSOiJmZmU0YjUiLG5hdmFqb3dFdGU6ImZmZGVhZCIsbmF2eToiODAiLFRkbGFjZToiZmRmNWU2IixUaXZlOiI4MDgwMDAiLFRpdmVkQmI6IjZiOGUyMyIsU2FuZ2U6ImZmYTUwMCIsU2FuZ2VZZDoiZmY0NTAwIixTY0VkOiJkYTcwZDYiLHBPZWdUTW5QZDoiZWVlOGFhIixwT2VnWUY6Ijk4ZmI5OCIscE9lUWU6Lm5hbWUmJm94JiYiaHRtbCIhPT1veCYmb0UuZW50ZXJSQ0RBVEEoc1goIjwvdGVtcGxhdGUiKSwwKSk6KG9TLmV4cD1vcShveCwhMSxvVShvQyxvayksMCwwKSwiZm9yIj09PW9TLm5hbWUmJihvUy5mb3JQYXJzZVJlc3VsdD1mdW5jdGlvbihlKXtsZXQgdD1lLmxvYyxuPWUuY29udGVudCxyPW4ubWF0Y2gob3ApO2lmKCFyKXJldHVybjtsZXRbLGksbF09cixzPShlLG4scj0hMSk9PntsZXQgaT10LnN0YXJ0Lm9mZnNldCtuLGw9aStlLmxlbmd0aDtyZXR1cm4gb3EoZSwhMSxvVShpLGwpLDAsKyEhcil9LG89e3NvdXJjZTpzKGwudHJpbSgpLG4uaW5kZXhPZihsLGkubGVuZ3RoKSksdmFsdWU6dm9pZCAwLGtleTp2b2lkIDAsaW5kZXg6dm9pZCAwLGZpbmFsaXplZDohMX0sYT1pLnRyaW0oKS5yZXBsYWNlKG9PLCIiKS50cmltKCksYz1pLmluZGV4T2YoYSksdT1hLm1hdGNoKG9JKTtpZih1KXtsZXQgZTthPWEucmVwbGFjZShvSSwiIikudHJpbSgpO2xldCB0PXVbMV0udHJpbSgpO2lmKHQmJihlPW4uaW5kZXhPZih0LGMrYS5sZW5ndGgpLG8ua2V5PXModCxlLCEwKSksdVsyXSl7bGV0IHI9dVsyXS50cmltKCk7ciYmKG8uaW5kZXg9cyhyLG4uaW5kZXhPZihyLG8ua2V5P2UrdC5sZW5ndGg6YythLmxlbmd0aCksITApKX19cmV0dXJuIGEmJihvLnZhbHVlPXMoYSxjLCEwKSksb30ob1MuZXhwKSkpKSwoNyE9PW9TLnR5cGV8fCJwcmUiIT09b1MubmFtZSkmJm9fLnByb3BzLnB1c2gob1MpKSxveD0iIixvQz1vaz0tMX0sb25jb21tZW50KGUsdCl7b3YuY29tbWVudHMmJm9CKHt0eXBlOjMsY29udGVudDpvUihlLHQpLGxvYzpvVShlLTQsdCszKX0pfSxvbmVuZCgpe2xldCBlPW9iLmxlbmd0aDtmb3IobGV0IHQ9MDt0PG9BLmxlbmd0aDt0Kyspb0wob0FbdF0sZS0xKSxvQVt0XS5sb2Muc3RhcnQub2Zmc2V0fSxvbmNkYXRhKGUsdCl7MCE9PW9BWzBdLm5zJiZvUChvUihlLHQpLGUsdCl9LG9ucHJvY2Vzc2luZ2luc3RydWN0aW9uKGUpeyhvQVswXT9vQVswXS5uczpvdi5ucyk9PT0wJiZvVygyMSxlLTEpfX0pLG9JPS8sKFteLFx9XF1dKikoPzosKFteLFx9XF1dKikpPyQvLG9PPS9eXCh8XCkkL2c7ZnVuY3Rpb24gb1IoZSx0KXtyZXR1cm4gb2Iuc2xpY2UoZSx0KX1mdW5jdGlvbiBvTShlKXtvRS5pblNGQ1Jvb3QmJihvXy5pbm5lckxvYz1vVShlKzEsZSsxKSksb0Iob18pO2xldHt0YWc6dCxuczpufT1vXzswPT09biYmb3YuaXNQcmVUYWcodCkmJm9UKyssb3YuaXNWb2lkVGFnKHQpP29MKG9fLGUpOihvQS51bnNoaWZ0KG9fKSwoMT09PW58fDI9PT1uKSYmKG9FLmluWE1MPSEwKSksb189bnVsbH1mdW5jdGlvbiBvUChlLHQsbil7e2xldCB0PW9BWzBdJiZvQVswXS50YWc7InNjcmlwdCIhPT10JiYic3R5bGUiIT09dCYmZS5pbmNsdWRlcygiJiIpJiYoZT1vdi5kZWNvZGVFbnRpdGllcyhlLCExKSl9bGV0IHI9b0FbMF18fG95LGk9ci5jaGlsZHJlbltyLmNoaWxkcmVuLmxlbmd0aC0xXTtpJiYyPT09aS50eXBlPyhpLmNvbnRlbnQrPWUsb0goaS5sb2MsbikpOnIuY2hpbGRyZW4ucHVzaCh7dHlwZToyLGNvbnRlbnQ6ZSxsb2M6b1UodCxuKX0pfWZ1bmN0aW9uIG9MKGUsdCxuPSExKXtuP29IKGUubG9jLG8kKHQsNjApKTpvSChlLmxvYyxmdW5jdGlvbihlLHQpe2xldCBuPWU7Zm9yKDs2MiE9PW9iLmNoYXJDb2RlQXQobikmJm48b2IubGVudWJUcmVlPXAseChoLHAsZihoLmVsKSxlcyhoKSxlLGwscyksbi5lbD1wLmVsLG51bGw9PT1kJiZySShlLHAuZWwpLGkmJnJIKGksbCksKHQ9bi5wcm9wcyYmbi5wcm9wcy5vblZub2RlVXBkYXRlZCkmJnJIKCgpPT5pUyh0LGMsbix1KSxsKX1lbHNle2xldCBvLHtlbDphLHByb3BzOmN9PXQse2JtOnUsbTpkLHBhcmVudDpwLHJvb3Q6aCx0eXBlOmZ9PWUsbT1uQih0KTtpZihyeihlLCExKSx1JiZ6KHUpLCFtJiYobz1jJiZjLm9uVm5vZGVCZWZvcmVNb3VudCkmJmlTKG8scCx0KSxyeihlLCEwKSxhJiZpKXtsZXQgdD0oKT0+e2Uuc3ViVHJlZT1ydyhlKSxpKGEsZS5zdWJUcmVlLGUsbCxudWxsKX07bSYmZi5fX2FzeW5jSHlkcmF0ZT9mLl9fYXN5bmNIeWRyYXRlKGEsZSx0KTp0KCl9ZWxzZXtoLmNlJiYhMSE9PWguY2UuX2RlZi5zaGFkb3dSb290JiZoLmNlLl9pbmplY3RDaGlsZFN0eWxlKGYpO2xldCBpPWUuc3ViVHJlZT1ydyhlKTt4KG51bGwsaSxuLHIsZSxsLHMpLHQuZWw9aS5lbH1pZihkJiZySChkLGwpLCFtJiYobz1jJiZjLm9uVm5vZGVNb3VudGVkKSl7bGV0IGU9dDtySCgoKT0+aVMobyxwLGUpLGwpfSgyNTYmdC5zaGFwZUZsYWd8fHAmJm5CKHAudm5vZGUpJiYyNTYmcC52bm9kZS5zaGFwZUZsYWcpJiZlLmEmJnJIKGUuYSxsKSxlLmlzTW91bnRlZD0hMCx0PW49cj1udWxsfX07ZS5zY29wZS5vbigpO2xldCBjPWUuZWZmZWN0PW5ldyBleShhKTtlLnNjb3BlLm9mZigpO2xldCB1PWUudXBkYXRlPWMucnVuLmJpbmQoYyksZD1lLmpvYj1jLnJ1bklmRGlydHkuYmluZChjKTtkLmk9ZSxkLmlkPWUudWlkLGMuc2NoZWR1bGVyPSgpPT50SihkKSxyeihlLCEwKSx1KCl9LEc9KGUsdCxuKT0+e3QuY29tcG9uZW50PWU7bGV0IHI9ZS52bm9kZS5wcm9wcztlLnZub2RlPXQsZS5uZXh0PW51bGwsZnVuY3Rpb24oZSx0LG4scil7bGV0e3Byb3BzOmksYXR0cnM6bCx2bm9kZTp7cGF0Y2hGbGFnOnN9fT1lLG89dGcoaSksW2FdPWUucHJvcHNPcHRpb25zLGM9ITE7aWYoKHJ8fHM+MCkmJiEoMTYmcykpe2lmKDgmcyl7bGV0IG49ZS52bm9kZS5keW5hbWljUHJvcHM7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2xldCBzPW5bcl07aWYoclQoZS5lbWl0c09wdGlvbnMscykpY29udGludWU7bGV0IHU9dFtzXTtpZihhKWlmKEEobCxzKSl1IT09bFtzXSYmKGxbc109dSxjPSEwKTtlbHNle2xldCB0PUIocyk7aVt0XT1yUChhLG8sdCx1LGUsITEpfWVsc2UgdSE9PWxbc10mJihsW3NdPXUsYz0hMCl9fX1lbHNle2xldCByO2ZvcihsZXQgcyBpbiByTShlLHQsaSxsKSYmKGM9ITApLG8pdCYmKEEodCxzKXx8KHI9SChzKSkhPT1zJiZBKHQscikpfHwoYT9uJiYodm9pZCAwIT09bltzXXx8dm9pZCAwIT09bltyXSkmJihpW3NdPXJQKGEsbyxzLHZvaWQgMCxlLCEwKSk6ZGVsZXRlIGlbc10pO2lmKGwhPT1vKWZvcihsZXQgZSBpbiBsKXQmJkEodCxlKXx8KGRlbGV0ZSBsW2VdLGM9ITApfWMmJmVqKGUuYXR0cnMsInNldCIsIiIpfShlLHQucHJvcHMscixuKSwoKGUsdCxuKT0+e2xldHt2bm9kZTpyLHNsb3RzOml9PWUsbD0hMCxzPWI7aWYoMzImci5zaGFwZUZsYWcpe2xldCBlPXQuXztlP24mJjE9PT1lP2w9ITE6clUoaSx0LG4pOihsPSF0LiRzdGFibGUscmoodCxpKSkscz10fWVsc2UgdCYmKHJCKGUsdCkscz17ZGVmYXVsdDoxfSk7aWYobClmbnVwc1t0XSgpO2lmKHRoaXMuY2xlYW51cHMubGVuZ3RoPTAsdGhpcy5zY29wZXMpe2Zvcih0PTAsbj10aGlzLnNjb3Blcy5sZW5ndGg7dDxuO3QrKyl0aGlzLnNjb3Blc1t0XS5zdG9wKCEwKTt0aGlzLnNjb3Blcy5sZW5ndGg9MH1pZighdGhpcy5kZXRhY2hlZCYmdGhpcy5wYXJlbnQmJiFlKXtsZXQgZT10aGlzLnBhcmVudC5zY29wZXMucG9wKCk7ZSYmZSE9PXRoaXMmJih0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF09ZSxlLmluZGV4PXRoaXMuaW5kZXgpfXRoaXMucGFyZW50PXZvaWQgMH19fWxldCBldj1uZXcgV2Vha1NldDtjbGFzcyBleXtjb25zdHJ1Y3RvcihlKXt0aGlzLmZuPWUsdGhpcy5kZXBzPXZvaWQgMCx0aGlzLmRlcHNUYWlsPXZvaWQgMCx0aGlzLmZsYWdzPTUsdGhpcy5uZXh0PXZvaWQgMCx0aGlzLmNsZWFudXA9dm9pZCAwLHRoaXMuc2NoZWR1bGVyPXZvaWQgMCxsJiZsLmFjdGl2ZSYmbC5lZmZlY3RzLnB1c2godGhpcyl9cGF1c2UoKXt0aGlzLmZsYWdzfD02NH1yZXN1bWUoKXs2NCZ0aGlzLmZsYWdzJiYodGhpcy5mbGFncyY9LTY1LGV2Lmhhcyh0aGlzKSYmKGV2LmRlbGV0ZSh0aGlzKSx0aGlzLnRyaWdnZXIoKSkpfW5vdGlmeSgpeyghKDImdGhpcy5mbGFncyl8fDMyJnRoaXMuZmxhZ3MpJiYoOCZ0aGlzLmZsYWdzfHxlXyh0aGlzKSl9cnVuKCl7aWYoISgxJnRoaXMuZmxhZ3MpKXJldHVybiB0aGlzLmZuKCk7dGhpcy5mbGFnc3w9MixlTyh0aGlzKSxleCh0aGlzKTtsZXQgZT1zLHQ9ZU47cz10aGlzLGVOPSEwO3RyeXtyZXR1cm4gdGhpcy5mbigpfWZpbmFsbHl7ZUModGhpcykscz1lLGVOPXQsdGhpcy5mbGFncyY9LTN9fXN0b3AoKXtpZigxJnRoaXMuZmxhZ3Mpe2ZvcihsZXQgZT10aGlzLmRlcHM7ZTtlPWUubmV4dERlcClldyhlKTt0aGlzLmRlcHM9dGhpcy5kZXBzVGFpbD12b2lkIDAsZU8odGhpcyksdGhpcy5vblN0b3AmJnRoaXMub25TdG9wKCksdGhpcy5mbGFncyY9LTJ9fXRyaWdnZXIoKXs2NCZ0aGlzLmZsYWdzP2V2LmFkZCh0aGlzKTp0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlcigpOnRoaXMucnVuSWZEaXJ0eSgpfXJ1bklmRGlydHkoKXtlayh0aGlzKSYmdGhpcy5ydW4oKX1nZXQgZGlydHkoKXtyZXR1cm4gZWsodGhpcyl9fWxldCBlYj0wO2Z1bmN0aW9uIGVfKGUsdD0hMSl7aWYoZS5mbGFnc3w9OCx0KXtlLm5leHQ9YSxhPWU7cmV0dXJufWUubmV4dD1vLG89ZX1mdW5jdGlvbiBlUygpe2xldCBlO2lmKCEoLS1lYj4wKSl7aWYoYSl7bGV0IGU9YTtmb3IoYT12b2lkIDA7ZTspe2xldCB0PWUubmV4dDtlLm5leHQ9dm9pZCAwLGUuZmxhZ3MmPS05LGU9dH19Zm9yKDtvOyl7bGV0IHQ9bztmb3Iobz12b2lkIDA7dDspe2xldCBuPXQubmV4dDtpZih0Lm5leHQ9dm9pZCAwLHQuZmxhZ3MmPS05LDEmdC5mbGFncyl0cnl7dC50cmlnZ2VyKCl9Y2F0Y2godCl7ZXx8KGU9dCl9dD1ufX1pZihlKXRocm93IGV9fWZ1bmN0aW9uIGV4KGUpe2ZvcihsZXQgdD1lLmRlcHM7dDt0PXQubmV4dERlcCl0LnZlcnNpb249LTEsdC5wcmV2QWN0aXZlTGluaz10LmRlcC5hY3RpdmVMaW5rLHQuZGVwLmFjdGl2ZUxpbms9dH1mdW5jdGlvbiBlQyhlKXtsZXQgdCxuPWUuZGVwc1RhaWwscj1uO2Zvcig7cjspe2xldCBlPXIucHJldkRlcDstMT09PXIudmVyc2lvbj8ocj09PW4mJihuPWUpLGV3KHIpLGZ1bmN0cmNhbmNlbCBwb2ludGVyZG93biBwb2ludGVydXAgZHJhZ2VuZCBkcmFnc3RhcnQgZHJvcCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgaW5wdXQgdGV4dElucHV0IGNvcHkgY3V0IHBhc3RlIGNsaWNrIGNoYW5nZSBjb250ZXh0bWVudSByZXNldCBzdWJtaXQiLnNwbGl0KCIgIiksCkdiPVNhLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLFpjPSEwLCRjPW51bGwsWmE9bnVsbCxFZT1udWxsLGJkPW51bGwsWWI9e2V2ZW50UGhhc2U6MCxidWJibGVzOjAsY2FuY2VsYWJsZTowLHRpbWVTdGFtcDpmdW5jdGlvbihhKXtyZXR1cm4gYS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6MCxpc1RydXN0ZWQ6MH0sSGU9a2EoWWIpLE1jPUUoe30sWWIse3ZpZXc6MCxkZXRhaWw6MH0pLGJrPWthKE1jKSxhZyxiZyxOYyxZZD1FKHt9LE1jLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAscGFnZVg6MCxwYWdlWTowLGN0cmxLZXk6MCxzaGlmdEtleTowLGFsdEtleTowLG1ldGFLZXk6MCxnZXRNb2RpZmllclN0YXRlOkZlLGJ1dHRvbjowLGJ1dHRvbnM6MCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hLnJlbGF0ZWRUYXJnZXQ/YS5mcm9tRWxlbWVudD09PWEuc3JjRWxlbWVudD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50OgphLnJlbGF0ZWRUYXJnZXR9LG1vdmVtZW50WDpmdW5jdGlvbihhKXtpZigibW92ZW1lbnRYImluIGEpcmV0dXJuIGEubW92ZW1lbnRYO2EhPT1OYyYmKE5jJiYibW91c2Vtb3ZlIj09PWEudHlwZT8oYWc9YS5zY3JlZW5YLU5jLnNjcmVlblgsYmc9YS5zY3JlZW5ZLU5jLnNjcmVlblkpOmJnPWFnPTAsTmM9YSk7cmV0dXJuIGFnfSxtb3ZlbWVudFk6ZnVuY3Rpb24oYSl7cmV0dXJuIm1vdmVtZW50WSJpbiBhP2EubW92ZW1lbnRZOmJnfX0pLGloPWthKFlkKSxibD1FKHt9LFlkLHtkYXRhVHJhbnNmZXI6MH0pLFhqPWthKGJsKSxjbD1FKHt9LE1jLHtyZWxhdGVkVGFyZ2V0OjB9KSxQZT1rYShjbCksZGw9RSh7fSxZYix7YW5pbWF0aW9uTmFtZTowLGVsYXBzZWRUaW1lOjAscHNldWRvRWxlbWVudDowfSksWmo9a2EoZGwpLGVsPUUoe30sWWIse2NsaXBib2FyZERhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuImNsaXBib2FyZERhdGEiaW4gYT9hLmNsaXBib2FyZERhdGE6d2luZG93LmNsaXBib2FyZERhdGF9fSksCmRrPWthKGVsKSxmbD1FKHt9LFliLHtkYXRhOjB9KSxxaD1rYShmbCksZ2s9cWgsZ2w9e0VzYzoiRXNjYXBlIixTcGFjZWJhcjoiICIsTGVmdDoiQXJyb3dMZWZ0IixVcDoiQXJyb3dVcCIsUmlnaHQ6IkFycm93UmlnaHQiLERvd246IkFycm93RG93biIsRGVsOiJEZWxldGUiLFdpbjoiT1MiLE1lbnU6IkNvbnRleHRNZW51IixBcHBzOiJDb250ZXh0TWVudSIsU2Nyb2xsOiJTY3JvbGxMb2NrIixNb3pQcmludGFibGVLZXk6IlVuaWRlbnRpZmllZCJ9LGhsPXs4OiJCYWNrc3BhY2UiLDk6IlRhYiIsMTI6IkNsZWFyIiwxMzoiRW50ZXIiLDE2OiJTaGlmdCIsMTc6IkNvbnRyb2wiLDE4OiJBbHQiLDE5OiJQYXVzZSIsMjA6IkNhcHNMb2NrIiwyNzoiRXNjYXBlIiwzMjoiICIsMzM6IlBhZ2VVcCIsMzQ6IlBhZ2VEb3duIiwzNToiRW5kIiwzNjoiSG9tZSIsMzc6IkFycm93TGVmdCIsMzg6IkFycm93c3w9MTI4LG51bGw7Zj1kLmZhbGxiYWNrO2U9Yi5tb2RlO2Q9R2Qoe21vZGU6InZpc2libGUiLGNoaWxkcmVuOmQuY2hpbGRyZW59LGUsMCxudWxsKTtmPXViKGYsZSxnLG51bGwpO2YuZmxhZ3N8PTI7ZC5yZXR1cm49CmI7Zi5yZXR1cm49YjtkLnNpYmxpbmc9ZjtiLmNoaWxkPWQ7MCE9PShiLm1vZGUmMSkmJlZiKGIsYS5jaGlsZCxudWxsLGcpO2IuY2hpbGQubWVtb2l6ZWRTdGF0ZT1CZihnKTtiLm1lbW9pemVkU3RhdGU9Q2Y7cmV0dXJuIGZ9aWYoMD09PShiLm1vZGUmMSkpcmV0dXJuIEhkKGEsYixnLG51bGwpO2lmKCIkISI9PT1lLmRhdGEpe2Q9ZS5uZXh0U2libGluZyYmZS5uZXh0U2libGluZy5kYXRhc2V0O2lmKGQpdmFyIGg9ZC5kZ3N0O2Q9aDtmPUVycm9yKG4oNDE5KSk7ZD12ZihmLGQsdm9pZCAwKTtyZXR1cm4gSGQoYSxiLGcsZCl9aD0wIT09KGcmYS5jaGlsZExhbmVzKTtpZihoYXx8aCl7ZD1PO2lmKG51bGwhPT1kKXtzd2l0Y2goZyYtZyl7Y2FzZSA0OmU9MjticmVhaztjYXNlIDE2OmU9ODticmVhaztjYXNlIDY0OmNhc2UgMTI4OmNhc2UgMjU2OmNhc2UgNTEyOmNhc2UgMTAyNDpjYXNlIDIwNDg6Y2FzZSA0MDk2OmNhc2UgODE5MjpjYXNlIDE2Mzg0OmNhc2UgMzI3Njg6Y2FzZSA2NTUzNjpjYXNlIDEzMTA3MjpjYXNlIDI2MjE0NDpjYXNlIDUyNDI4ODpjYXNlIDEwNDg1NzY6Y2FzZSAyMDk3MTUyOmNhc2UgNDE5NDMwNDpjYXNlIDgzODg2MDg6Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOmNhc2UgNjcxMDg4NjQ6ZT0KMzI7YnJlYWs7Y2FzZSA1MzY4NzA5MTI6ZT0yNjg0MzU0NTY7YnJlYWs7ZGVmYXVsdDplPTB9ZT0wIT09KGUmKGQuc3VzcGVuZGVkTGFuZXN8ZykpPzA6ZTswIT09ZSYmZSE9PWYucmV0cnlMYW5lJiYoZi5yZXRyeUxhbmU9ZSxPYShhLGUpLHlhKGQsYSxlLC0xKSl9RWYoKTtkPXZmKEVycm9yKG4oNDIxKSkpO3JldHVybiBIZChhLGIsZyxkKX1pZigiJD8iPT09ZS5kYXRhKXJldHVybiBiLmZsYWdzfD0xMjgsYi5jaGlsZD1hLmNoaWxkLGI9d2suYmluZChudWxsLGEpLGUuX3JlYWN0UmV0cnk9YixudWxsO2E9Zi50cmVlQ29udGV4dDtmYT1LYShlLm5leHRTaWJsaW5nKTtsYT1iO0Q9ITA7d2E9bnVsbDtudWxsIT09YSYmKG5hW29hKytdPU1hLG5hW29hKytdPU5hLG5hW29hKytdPXNiLE1hPWEuaWQsTmE9YS5vdmVyZmxvdyxzYj1iKTtiPURmKGIsZC5jaGlsZHJlbik7Yi5mbGFnc3w9NDA5NjtyZXR1cm4gYn1mdW5jdGlvbiB3aShhLGIsYyl7YS5sYW5lc3w9Yjt2YXIgZD1hLmFsdGVybmF0ZTsKbnVsbCE9PWQmJihkLmxhbmVzfD1iKTtiZihhLnJldHVybixiLGMpfWZ1bmN0aW9uIEZmKGEsYixjLGQsZSl7dmFyIGY9YS5tZW1vaXplZFN0YXRlO251bGw9PT1mP2EubWVtb2l6ZWRTdGF0ZT17aXNCYWNrd2FyZHM6YixyZW5kZXJpbmc6bnVsbCxyZW5kZXJpbmdTdGFydFRpbWU6MCxsYXN0OmQsdGFpbDpjLHRhaWxNb2RlOmV9OihmLmlzQmFja3dhcmRzPWIsZi5yZW5kZXJpbmc9bnVsbCxmLnJlbmRlcmluZ1N0YXJ0VGltZT0wLGYubGFzdD1kLGYudGFpbD1jLGYudGFpbE1vZGU9ZSl9ZnVuY3Rpb24geGkoYSxiLGMpe3ZhciBkPWIucGVuZGluZ1Byb3BzLGU9ZC5yZXZlYWxPcmRlcixmPWQudGFpbDthYShhLGIsZC5jaGlsZHJlbixjKTtkPUcuY3VycmVudDtpZigwIT09KGQmMikpZD1kJjF8Mixicm92ZXIiOmNhc2UgInBvaW50ZXJ1cCI6az1uaH12YXIgbD0wIT09KGImNCkscD0hbCYmInNjcm9sbCI9PT1hLEE9bD9udWxsIT09aD9oKyJDYXB0dXJlIjpudWxsOmg7bD1bXTtmb3IodmFyIHY9ZCxxO251bGwhPT12Oyl7cT12O3ZhciBNPXEuc3RhdGVOb2RlOzU9PT1xLnRhZyYmbnVsbCE9PU0mJihxPU0sbnVsbCE9PUEmJihNPWZjKHYsQSksbnVsbCE9TSYmbC5wdXNoKHRjKHYsTSxxKSkpKTtpZihwKWJyZWFrO3Y9di5yZXR1cm59MDxsLmxlbmd0aCYmKGg9bmV3IGsoaCxuLG51bGwsYyxlKSxnLnB1c2goe2V2ZW50OmgsbGlzdGVuZXJzOmx9KSl9fWlmKDA9PT0oYiY3KSl7YTp7aD0ibW91c2VvdmVyIj09PWF8fCJwb2ludGVyb3ZlciI9PT0KYTtrPSJtb3VzZW91dCI9PT1hfHwicG9pbnRlcm91dCI9PT1hO2lmKGgmJmMhPT16ZSYmKG49Yy5yZWxhdGVkVGFyZ2V0fHxjLmZyb21FbGVtZW50KSYmKHBiKG4pfHxuW0phXSkpYnJlYWsgYTtpZihrfHxoKXtoPWUud2luZG93PT09ZT9lOihoPWUub3duZXJEb2N1bWVudCk/aC5kZWZhdWx0Vmlld3x8aC5wYXJlbnRXaW5kb3c6d2luZG93O2lmKGspe2lmKG49Yy5yZWxhdGVkVGFyZ2V0fHxjLnRvRWxlbWVudCxrPWQsbj1uP3BiKG4pOm51bGwsbnVsbCE9PW4mJihwPW9iKG4pLG4hPT1wfHw1IT09bi50YWcmJjYhPT1uLnRhZykpbj1udWxsfWVsc2Ugaz1udWxsLG49ZDtpZihrIT09bil7bD1paDtNPSJvbk1vdXNlTGVhdmUiO0E9Im9uTW91c2VFbnRlciI7dj0ibW91c2UiO2lmKCJwb2ludGVyb3V0Ij09PWF8fCJwb2ludGVyb3ZlciI9PT1hKWw9bmgsTT0ib25Qb2ludGVyTGVhdmUiLEE9Im9uUG9pbnRlckVudGVyIix2PSJwb2ludGVyIjtwPW51bGw9PWs/aDpJYihrKTtxPW51bGw9PQpuP2g6SWIobik7aD1uZXcgbChNLHYrImxlYXZlIixrLGMsZSk7aC50YXJnZXQ9cDtoLnJlbGF0ZWRUYXJnZXQ9cTtNPW51bGw7cGIoZSk9PT1kJiYobD1uZXcgbChBLHYrImVudGVyIixuLGMsZSksbC50YXJnZXQ9cSxsLnJlbGF0ZWRUYXJnZXQ9cCxNPWwpO3A9TTtpZihrJiZuKWI6e2w9aztBPW47dj0wO2ZvcihxPWw7cTtxPUxiKHEpKXYrKztxPTA7Zm9yKE09QTtNO009TGIoTSkpcSsrO2Zvcig7MDx2LXE7KWw9TGIobCksdi0tO2Zvcig7MDxxLXY7KUE9TGIoQSkscS0tO2Zvcig7di0tOyl7aWYobD09PUF8fG51bGwhPT1BJiZsPT09QS5hbHRlcm5hdGUpYnJlYWsgYjtsPUxiKGwpO0E9TGIoQSl9bD1udWxsfWVsc2UgbD1udWxsO251bGwhPT1rJiZvaChnLGgsayxsLCExKTtudWxsIT09biYmbnVsbCE9PXAmJm9oKGcscCxuLGwsITApfX19YTp7aD1kP0liKGQpOndpbmRvdztrPWgubm9kZU5hbWUmJmgubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZigic2VsZWN0Ij09PWt8fCJpbnB1dCI9PT0KayYmImZpbGUiPT09aC50eXBlKXZhciBtYT1PajtlbHNlIGlmKFZnKGgpKWlmKHBoKW1hPVNqO2Vsc2V7bWE9UWo7dmFyIHZhPVBqfWVsc2Uoaz1oLm5vZGVOYW1lKSYmImlucHV0Ij09PWsudG9Mb3dlckNhc2UoKSYmKCJjaGVja2JveCI9PT1oLnR5cGV8fCJyYWRpbyI9PT1oLnR5cGUpJiYobWE9UmopO2lmKG1hJiYobWE9bWEoYSxkKSkpe1dnKGcsbWEsYyxlKTticmVhayBhfXZhJiZ2YShhLGgsZCk7ImZvY3Vzb3V0Ij09PWEmJih2YT1oLl93cmFwcGVyU3RhdGUpJiZ2YS5jb250cm9sbGVkJiYibnVtYmVyY29uc3QgYWRkNUg9KGxvdyxBaCxCaCxDaCxEaCxFaCk9PkFoK0JoK0NoK0RoK0VoKyhsb3cvMioqMzJ8MCl8MDtjb25zdCB1NjQ9e2Zyb21CaWc6ZnJvbUJpZyxzcGxpdDpzcGxpdCQxLHRvQmlnOnRvQmlnLHNoclNIOnNoclNILHNoclNMOnNoclNMLHJvdHJTSDpyb3RyU0gscm90clNMOnJvdHJTTCxyb3RyQkg6cm90ckJILHJvdHJCTDpyb3RyQkwscm90cjMySDpyb3RyMzJILHJvdHIzMkw6cm90cjMyTCxyb3RsU0g6cm90bFNILHJvdGxTTDpyb3RsU0wscm90bEJIOnJvdGxCSCxyb3RsQkw6cm90bEJMLGFkZDphZGQsYWRkM0w6YWRkM0wsYWRkM0g6YWRkM0gsYWRkNEw6YWRkNEwsYWRkNEg6YWRkNEgsYWRkNUg6YWRkNUgsYWRkNUw6YWRkNUx9O2NvbnN0W1NIQTUxMl9LaCxTSEE1MTJfS2xdPSgoKT0+dTY0LnNwbGl0KFsiMHg0MjhhMmY5OGQ3MjhhZTIyIiwiMHg3MTM3NDQ5MTIzZWY2NWNkIiwiMHhiNWMwZmJjZmVjNGQzYjJmIiwiMHhlOWI1ZGJhNTgxODlkYmJjIiwiMHgzOTU2YzI1YmYzNDhiNTM4IiwiMHg1OWYxMTFmMWI2MDVkMDE5IiwiMHg5MjNmODJhNGFmMTk0ZjliIiwiMHhhYjFjNWVkNWRhNmQ4MTE4IiwiMHhkODA3YWE5OGEzMDMwMjQyIiwiMHgxMjgzNWIwMTQ1NzA2ZmJlIiwiMHgyNDMxODViZTRlZTRiMjhjIiwiMHg1NTBjN2RjM2Q1ZmZiNGUyIiwiMHg3MmJlNWQ3NGYyN2I4OTZmIiwiMHg4MGRlYjFmZTNiMTY5NmIxIiwiMHg5YmRjMDZhNzI1YzcxMjM1IiwiMHhjMTliZjE3NGNmNjkyNjk0IiwiMHhlNDliNjljMTllZjE0YWQyIiwiMHhlZmJlNDc4NjM4NGYyNWUzIiwiMHgwZmMxOWRjNjhiOGNkNWI1IiwiMHgyNDBjYTFjYzc3YWM5YzY1IiwiMHgyZGU5MmM2ZjU5MmIwMjc1IiwiMHg0YTc0ODRhYTZlYTZlNDgzIiwiMHg1Y2IwYTlkY2JkNDFmYmQ0IiwiMHg3NmY5ODhkYTgzMTE1M2I1IiwiMHg5ODNlNTE1MmVlNjZkZmFiIiwiMHhhODMxYzY2ZDJkYjQzMjEwIiwiMHhiMDAzMjdjODk4ZmIyMTNmIiwiMHhiZjU5N2ZjN2JlZWYwZWU0IiwiMHhjNmUwMGJmMzNkYTg4ZmMyIiwiMHhkNWE3OTE0NzkzMGFhNzI1IiwiMHgwNmNhNjM1MWUwMDM4MjZmIiwiMHgxNDI5Mjk2NzBhMGU2ZTcwIiwiMHgyN2I3MGE4NTQ2ZDIyZmZjIiwiMHgyZTFiMjEzODVjMjZjOTI2IiwiMHg0ZDJjNmRmYzVhYzQyYWVkIiwiMHg1MzM4MGQxMzlkOTViM2RmIiwiMHg2NTBhNzM1NDhiYWY2M2RlIiwiMHg3NjZhMGFiYjNjNzdiMmE4IiwiMHg4MWMyYzkyZTQ3ZWRhZWU2IiwiMHg5MjcyMmM4NTE0ODIzNTNiIiwiMHhhMmJmZThhMTRjZjEwMzY0IiwiMHhhODFhNjY0YmJjNDIzMDAxIiwiMHhjMjRiOGI3MGQwZjg5NzkxIiwiMHhjNzZjNTFhMzA2NTRiZTMwIiwiMHhkMTkyZTgxOWQ2ZWY1MjE4IiwiMHhkNjk5MDYyNDU1NjVhOTEwIiwiMHhmNDBlMzU4NTU3NzEyMDJhIiwiMHgxMDZhYTA3MDMyYmJkMWI4IiwiMHgxOWE0YzExNmI4ZDJkMGM4IiwiMHgxZTM3NmMwODUxNDFhYjUzIiwiMHgyNzQ4Nzc0Y2RmOGVlYjk5IiwiMHgzNGIwYmNiNWUxOWI0OGE4IiwiMHgzOTFjMGNiM2M1Yzk1YTYzIiwiMHg0ZWQ4YWE0YWUzNDE4YWNiIiwiMHg1YjljY2E0Zjc3NjNlMzczIiwiMHg2ODJlNmZmM2Q2YjJiOGEzIiwiMHg3NDhmODJlZTVkZWZiMmZjIiwiMHg3OGE1NjM2ZjQzMTcyZjYwIiwiMHg4NGM4NzgxNGExZjBhYjcyIiwiMHg4Y2M3MDIwODFhNjQzc3QgaXRlbT10aGlzW2ldO2lmKGl0ZW0gaW5zdGFuY2VvZiBFcnJvcil7dGhyb3dFcnJvcihgaW5kZXggJHtpfWAsaXRlbSl9cmVzdWx0LnB1c2goY2FsbGJhY2suY2FsbCh0aGlzQXJnLGl0ZW0saSx0aGlzKSl9cmV0dXJuIHJlc3VsdH1nZXRWYWx1ZShuYW1lKXtjb25zdCBpbmRleD1nZXROYW1lcyh0aGlzKS5pbmRleE9mKG5hbWUpO2lmKGluZGV4PT09LTEpe3JldHVybiB1bmRlZmluZWR9Y29uc3QgdmFsdWU9dGhpc1tpbmRleF07aWYodmFsdWUgaW5zdGFuY2VvZiBFcnJvcil7dGhyb3dFcnJvcihgcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShuYW1lKX1gLHZhbHVlLmVycm9yKX1yZXR1cm4gdmFsdWV9c3RhdGljIGZyb21JdGVtcyhpdGVtcyxrZXlzKXtyZXR1cm4gbmV3IFJlc3VsdChfZ3VhcmQkNCxpdGVtcyxrZXlzKX19ZnVuY3Rpb24gY2hlY2tSZXN1bHRFcnJvcnMocmVzdWx0KXtjb25zdCBlcnJvcnM9W107Y29uc3QgY2hlY2tFcnJvcnM9ZnVuY3Rpb24ocGF0aCxvYmplY3Qpe2lmKCFBcnJheS5pc0FycmF5KG9iamVjdCkpe3JldHVybn1mb3IobGV0IGtleSBpbiBvYmplY3Qpe2NvbnN0IGNoaWxkUGF0aD1wYXRoLnNsaWNlKCk7Y2hpbGRQYXRoLnB1c2goa2V5KTt0cnl7Y2hlY2tFcnJvcnMoY2hpbGRQYXRoLG9iamVjdFtrZXldKX1jYXRjaChlcnJvcil7ZXJyb3JzLnB1c2goe3BhdGg6Y2hpbGRQYXRoLGVycm9yOmVycm9yfSl9fX07Y2hlY2tFcnJvcnMoW10scmVzdWx0KTtyZXR1cm4gZXJyb3JzfWZ1bmN0aW9uIGdldFZhbHVlJDEodmFsdWUpe2xldCBieXRlcz10b0JlQXJyYXkodmFsdWUpO2Fzc2VydChieXRlcy5sZW5ndGg8PVdvcmRTaXplLCJ2YWx1ZSBvdXQtb2YtYm91bmRzIiwiQlVGRkVSX09WRVJSVU4iLHtidWZmZXI6Ynl0ZXMsbGVuZ3RoOldvcmRTaXplLG9mZnNldDpieXRlcy5sZW5ndGh9KTtpZihieXRlcy5sZW5ndGghPT1Xb3JkU2l6ZSl7Ynl0ZXM9Z2V0Qnl0ZXNDb3B5KGNvbmNhdChbUGFkZGluZy5zbGljZShieXRlcy5sZW5ndGglV29yZFNpemUpLGJ5dGVzXSkpfXJldHVybiBieXRlc31jbGFzcyBDb2RlcntuYW1lO3R5cGU7bG9jYWxOYW1lO2R5bmFtaWM7Y29uc3RydWN0b3IobmFtZSx0eXBlLGxvY2FsTmFtZSxkeW5hbWljKXtkZWZpbmVQcm9wZXJ0aWVzKHRoaXMse25hbWU6bmFtZSx0eXBlOnR5cGUsbG9jYWxOYW1lOmxvY2FsTmFtZSxkeW5hbWljOmR5bmFtaWN9LHtuYW1lOiJzdHJpbmciLHR5cGU6InN0cmluZyIsbG9jYWxOYW1lOiJzdHJpbmciLGR5bmFtaWM6ImJvb2xlYW4ifSl9X3Rocm93RXJyb3IobWVzc2FnZSx2YWx1ZSl7YXNzZXJ0QXJndW1lbnQoZmFsc2UsbWVzc2FnZSx0aGlzLmxvY2FsTmFtZSx2YWx1ZSl9fWNsYXNzIFdyaXRlcnsjZGF0YTsjZGF0YUxlbmd0aDtjb25zdHJ1Y3Rvcigpe3RoaXMuI2RhdGE9W107dGhpcy4jZGF0YUxlbmd0aD0wfWdldCBkYXRhKCl7cmV0dXJuIGNvbmNhdCh0aGlzLiNkYXRhKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuI2RhdGFMZW5ndGh9I3dyaXRlRGF0YShkYXRhKXt0aGlzLiNkYXRhLnB1c2goZGF0YSk7dGhpcy4jZGF0YUxlbmd0aCs9ZGF0YS5sZW5ndGg7cmV0dXJuIGRhdGEubGVuZ3RofWFwcGVuZFdyaXRlcih3cml0ZXIpe3JldHVybiB0aGlzLiN3cml0ZURhdGEoZ2V0Qnl0ZXNDb3B5KHdyaXRlci5kYXRhKSl9d3JpdGVCeXRlcyh2dDhBcnJheT9VaW50OEFycmF5OkFycmF5LG1uPSExO2Z1bmN0aW9uIGduKCl7bW49ITA7Zm9yKHZhciBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIix0PTA7dDw2NDsrK3QpZm5bdF09ZVt0XSxobltlLmNoYXJDb2RlQXQodCldPXQ7aG5bIi0iLmNoYXJDb2RlQXQoMCldPTYyLGhuWyJfIi5jaGFyQ29kZUF0KDApXT02M31mdW5jdGlvbiB2bihlLHQsbil7Zm9yKHZhciByLGksbz1bXSxhPXQ7YTxuO2ErPTMpcj0oZVthXTw8MTYpKyhlW2ErMV08PDgpK2VbYSsyXSxvLnB1c2goZm5bKGk9cik+PjE4JjYzXStmbltpPj4xMiY2M10rZm5baT4+NiY2M10rZm5bNjMmaV0pO3JldHVybiBvLmpvaW4oIiIpfWZ1bmN0aW9uIHluKGUpe3ZhciB0O21ufHxnbigpO2Zvcih2YXIgbj1lLmxlbmd0aCxyPW4lMyxpPSIiLG89W10sYT0xNjM4MyxzPTAsdT1uLXI7czx1O3MrPWEpby5wdXNoKHZuKGUscyxzK2E+dT91OnMrYSkpO3JldHVybiAxPT09cj8odD1lW24tMV0saSs9Zm5bdD4+Ml0saSs9Zm5bdDw8NCY2M10saSs9Ij09Iik6Mj09PXImJih0PShlW24tMl08PDgpK2Vbbi0xXSxpKz1mblt0Pj4xMF0saSs9Zm5bdD4+NCY2M10saSs9Zm5bdDw8MiY2M10saSs9Ij0iKSxvLnB1c2goaSksby5qb2luKCIiKX1mdW5jdGlvbiBibihlLHQsbixyLGkpe3ZhciBvLGEscz04Kmktci0xLHU9KDE8PHMpLTEsbD11Pj4xLGM9LTcsZD1uP2ktMTowLGY9bj8tMToxLGg9ZVt0K2RdO2ZvcihkKz1mLG89aCYoMTw8LWMpLTEsaD4+PS1jLGMrPXM7Yz4wO289MjU2Km8rZVt0K2RdLGQrPWYsYy09OCk7Zm9yKGE9byYoMTw8LWMpLTEsbz4+PS1jLGMrPXI7Yz4wO2E9MjU2KmErZVt0K2RdLGQrPWYsYy09OCk7aWYoMD09PW8pbz0xLWw7ZWxzZXtpZihvPT09dSlyZXR1cm4gYT9OYU46MS8wKihoPy0xOjEpO2ErPU1hdGgucG93KDIsciksby09bH1yZXR1cm4oaD8tMToxKSphKk1hdGgucG93KDIsby1yKX1mdW5jdGlvbiB3bihlLHQsbixyLGksbyl7dmFyIGEscyx1LGw9OCpvLWktMSxjPSgxPDxsKS0xLGQ9Yz4+MSxmPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaD1yPzA6by0xLHA9cj8xOi0xLG09dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhzPWlzTmFOKHQpPzE6MCxhPWMpOihhPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKHU9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sdSo9MiksKHQrPWErZD49MT9mL3U6ZipNYXRoLnBvdygyLDEtZCkpKnU+PTImJihhKyssdS89MiksYStkPj1jPyhzPTAsYT1jKTphK2Q+PTE/KHM9KHQqdS0xKSpNYXRoLnBvdygyLGkpLGErPWQpOihzPXQqTWF0aC5wb3coMixkLTEpKk1hdGgucG93KDIsaSksYT0wKSk7aT49ODtlW24raF09MjU1JnMsaCs9cCxzLz0yNTYsaS09OCk7Zm9yKGE9YTw8aXxzLGwrPWk7bD4wO2VbbitoXT0yNTUmYSxoKz1wLGEvPTI1NixsLT04KTtlW24raC1wXXw9MTI4Km19dmFyIEFuPXt9LnRvU3RyaW5nLF9uPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PUFuLmNhbGwoZSl9O01uLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwPT09ZG4uVFlQRURfQVJSQVlfU1VQUE9SVHx8ZG4uVFlQc3RyaW5nKG4scikucmVwbGFjZSgvOi9nLCI7IikrZS5zdWJzdHJpbmcocixlLmxlbmd0aCkpO2xldCBpPUl0LmV4ZWMoZXx8IiIpLG89e30sYT0xNDtmb3IoO2EtLTspb1tOdFthXV09aVthXXx8IiI7cmV0dXJuLTEhPW4mJi0xIT1yJiYoby5zb3VyY2U9dCxvLmhvc3Q9by5ob3N0LnN1YnN0cmluZygxLG8uaG9zdC5sZW5ndGgtMSkucmVwbGFjZSgvOy9nLCI6Iiksby5hdXRob3JpdHk9by5hdXRob3JpdHkucmVwbGFjZSgiWyIsIiIpLnJlcGxhY2UoIl0iLCIiKS5yZXBsYWNlKC87L2csIjoiKSxvLmlwdjZ1cmk9ITApLG8ucGF0aE5hbWVzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj0vXC97Miw5fS9nLHI9dC5yZXBsYWNlKG4sIi8iKS5zcGxpdCgiLyIpOyIvIiE9dC5zbGljZSgwLDEpJiYwIT09dC5sZW5ndGh8fHIuc3BsaWNlKDAsMSk7Ii8iPT10LnNsaWNlKC0xKSYmci5zcGxpY2Uoci5sZW5ndGgtMSwxKTtyZXR1cm4gcn0oMCxvLnBhdGgpLG8ucXVlcnlLZXk9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXt9O3JldHVybiB0LnJlcGxhY2UoLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLChmdW5jdGlvbihlLHQscil7dCYmKG5bdF09cil9KSksbn0oMCxvLnF1ZXJ5KSxvfWxldCBCdD1jbGFzcyBlIGV4dGVuZHMgYWV7Y29uc3RydWN0b3IoZSx0PXt9KXtzdXBlcigpLHRoaXMud3JpdGVCdWZmZXI9W10sZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9bnVsbCksZT8oZT1EdChlKSx0Lmhvc3RuYW1lPWUuaG9zdCx0LnNlY3VyZT0iaHR0cHMiPT09ZS5wcm90b2NvbHx8IndzcyI9PT1lLnByb3RvY29sLHQucG9ydD1lLnBvcnQsZS5xdWVyeSYmKHQucXVlcnk9ZS5xdWVyeSkpOnQuaG9zdCYmKHQuaG9zdG5hbWU9RHQodC5ob3N0KS5ob3N0KSxkZSh0aGlzLHQpLHRoaXMuc2VjdXJlPW51bGwhPXQuc2VjdXJlP3Quc2VjdXJlOiJ1bmRlZmluZWQiIT10eXBlb2YgbG9jYXRpb24mJiJodHRwczoiPT09bG9jYXRpb24ucHJvdG9jb2wsdC5ob3N0bmFtZSYmIXQucG9ydCYmKHQucG9ydD10aGlzLnNlY3VyZT8iNDQzIjoiODAiKSx0aGlzLmhvc3RuYW1lPXQuaG9zdG5hbWV8fCgidW5kZWZpbmVkIiE9dHlwZW9mIGxvY2F0aW9uP2xvY2F0aW9uLmhvc3RuYW1lOiJsb2NhbGhvc3QiKSx0aGlzLnBvcnQ9dC5wb3J0fHwoInVuZGVmaW5lZCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24ucG9ydD9sb2NhdGlvbi5wb3J0OnRoaXMuc2VjdXJlPyI0NDMiOiI4MCIpLHRoaXMudHJhbnNwb3J0cz10LnRyYW5zcG9ydHN8fFsicG9sbGluZyIsIndlYnNvY2tldCIsIndlYnRyYW5zcG9ydCJdLHRoaXMud3JpdGVCdWZmZXI9W10sdGhpcy5wcmV2QnVmZmVyTGVuPTAsdGhpcy5vcHRzPU9iamVjdC5hc3NpZ24oe3BhdGg6Ii9lbmdpbmUuaW8iLGFnZW50OiExLHdpdGhDcmVkZW50aWFsczohMSx1cGdyYWRlOiEwLHRpbWVzdGFtcFBhcmFtOiJ0IixyZW1lbWJlclVwZ3JhZGU6ITEsYWRkVHJhaWxpbmdTbGFzaDohMCxyZWplY3RVbmF1dGhvcml6ZWQ6ITAscGVyTWVzc2FnZURlZmxhdGU6e3RocmVzaG9sZDoxMDI0fSx0cmFuc3BvcnRPcHRpb25zOnt9LGNsb3NlT25CZWZvcmV1bmxvYWQ6ITF9LHQpLHRoaXMub3B0cy5wYXRoPXRoaXMub3B0cy5wYXRoLnJlcGxhY2UoL1wvJC8sIiIpKyh0aGlzLm9wdHMuYWRkVHJhaWxpbmdTbGFzaD8iLyI6IiIpLCJzdHJpaW9uIjogIkEgU2FhcyBjb21wYW55IGEgcGF5bWVudCBwcm9jZXNzaW5nIHNvZnR3YXJlLCBhbmQgYXBwbGljYXRpb24gcHJvZ3JhbW1pbmcgaW50ZXJmYWNlcyBmb3IgZS1jb21tZXJjZSB3ZWJzaXRlcyBhbmQgbW9iaWxlIGFwcGxpY2F0aW9ucy4iLAogICJzY3JpcHRzIjogewogICAgImRvd25ncmFkZSI6ICJ0cy1ub2RlIC4vZG93bmdyYWRlLnRzIgogIH0sCiAgImRlcGVuZGVuY2llcyI6IHsKICAgICJAY2FsY29tL2FwcC1zdG9yZSI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiQGNhbGNvbS9kYXlqcyI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiQGNhbGNvbS9lbWFpbHMiOiAid29ya3NwYWNlOioiLAogICAgIkBjYWxjb20vZmVhdHVyZXMiOiAid29ya3NwYWNlOioiLAogICAgIkBjYWxjb20vbGliIjogIndvcmtzcGFjZToqIiwKICAgICJAY2FsY29tL3ByaXNtYSI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiQGNhbGNvbS90eXBlcyI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiQHN0cmlwZS9yZWFjdC1zdHJpcGUtanMiOiAiMS4xMC4wIiwKICAgICJAc3RyaXBlL3N0cmlwZS1qcyI6ICIxLjM1LjAiLAogICAgInN0cmlwZSI6ICI5LjE2LjAiLAogICAgInV1aWQiOiAiOC4zLjIiLAogICAgInpvZCI6ICIzLjI1Ljc2IgogIH0sCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJAY2FsY29tL3R5cGVzIjogIndvcmtzcGFjZToqIiwKICAgICJ0cy1ub2RlIjogIjEwLjkuMiIKICB9Cn0KZXhwb3J0IHsgdW5zdGFibGVfY2FjaGUgfSBmcm9tICduZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi91bnN0YWJsZS1jYWNoZScKCmV4cG9ydCB7CiAgcmV2YWxpZGF0ZVBhdGgsCiAgcmV2YWxpZGF0ZVRhZywKICB1cGRhdGVUYWcsCiAgcmVmcmVzaCwKfSBmcm9tICduZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9yZXZhbGlkYXRlJwoKZXhwb3J0IHsgdW5zdGFibGVfbm9TdG9yZSB9IGZyb20gJ25leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL3Vuc3RhYmxlLW5vLXN0b3JlJwoKaW1wb3J0IHsgY2FjaGVUYWcgfSBmcm9tICduZXh0L2Rpc3Qvc2VydmVyL3VzZS1jYWNoZS9jYWNoZS10YWcnCgpleHBvcnQgeyBjYWNoZVRhZyB9CgovKioKICogQ2FjaGUgdGhpcyBgInVzZSBjYWNoZSJgIGZvciBhIHRpbWVzcGFuIGRlZmluZWQgYnkgdGhlIGAiZGVmYXVsdCJgIHByb2ZpbGUuCiAqIGBgYAogKiAgIHN0YWxlOiAgICAgIDMwMCBzZWNvbmRzICg1IG1pbnV0ZXMpCiAqICAgcmV2YWxpZGF0ZTogOTAwIHNlY29uZHMgKDE1IG1pbnV0ZXMpCiAqICAgZXhwaXJlOiAgICAgbmV2ZXIKICogYGBgCiAqCiAqIFRoaXMgY2FjaGUgbWF5IGJlIHN0YWxlIG9uIGNsaWVudHMgZm9yIDUgbWludXRlcyBiZWZvcmUgY2hlY2tpbmcgd2l0aCB0aGUgc2VydmVyLgogKiBJZiB0aGUgc2VydmVyIHJlY2VpdmVzIGEgbmV3IHJlcXVlc3QgYWZ0ZXIgMTUgbWludXRlcywgc3RhcnQgcmV2YWxpZGF0aW5nIG5ldyB2YWx1ZXMgaW4gdGhlIGJhY2tncm91bmQuCiAqIEl0IGxpdmVzIGZvciB0aGUgbWF4aW11bSBhZ2Ugb2YgdGhlIHNlcnZlciBjYWNoZS4gSWYgdGhpcyBlbnRyeSBoYXMgbm8gdHJhZmZpYyBmb3IgYSB3aGlsZSwgaXQgbWF5IHNlcnZlIGFuIG9sZCB2YWx1ZSB0aGUgbmV4dCByZXF1ZXN0LgogKi8KZT0+IGhhc1Bvc3NpYmxlRXh0ZXJuYWxNb2R1bGVSZWZlcmVuY2UsCiAgaGFzUHJvcGVydHk6ICgpID0+IGhhc1Byb3BlcnR5LAogIGhhc1Byb3BlcnR5QWNjZXNzRXhwcmVzc2lvbldpdGhOYW1lOiAoKSA9PiBoYXNQcm9wZXJ0eUFjY2Vzc0V4cHJlc3Npb25XaXRoTmFtZSwKICBoYXNRdWVzdGlvblRva2VuOiAoKSA9PiBoYXNRdWVzdGlvblRva2VuLAogIGhhc1JlY29yZGVkRXh0ZXJuYWxIZWxwZXJzOiAoKSA9PiBoYXNSZWNvcmRlZEV4dGVybmFsSGVscGVycywKICBoYXNSZXNvbHV0aW9uTW9kZU92ZXJyaWRlOiAoKSA9PiBoYXNSZXNvbHV0aW9uTW9kZU92ZXJyaWRlLAogIGhhc1Jlc3RQYXJhbWV0ZXI6ICgpID0+IGhhc1Jlc3RQYXJhbWV0ZXIsCiAgaGFzU2NvcGVNYXJrZXI6ICgpID0+IGhhc1Njb3BlTWFya2VyLAogIGhhc1N0YXRpY01vZGlmaWVyOiAoKSA9PiBoYXNTdGF0aWNNb2RpZmllciwKICBoYXNTeW50YWN0aWNNb2RpZmllcjogKCkgPT4gaGFzU3ludGFjdGljTW9kaWZpZXIsCiAgaGFzU3ludGFjdGljTW9kaWZpZXJzOiAoKSA9PiBoYXNTeW50YWN0aWNNb2RpZmllcnMsCiAgaGFzVFNGaWxlRXh0ZW5zaW9uOiAoKSA9PiBoYXNUU0ZpbGVFeHRlbnNpb24sCiAgaGFzVGFic3RvcDogKCkgPT4gaGFzVGFic3RvcCwKICBoYXNUcmFpbGluZ0RpcmVjdG9yeVNlcGFyYXRvcjogKCkgPT4gaGFzVHJhaWxpbmdEaXJlY3RvcnlTZXBhcmF0b3IsCiAgaGFzVHlwZTogKCkgPT4gaGFzVHlwZSwKICBoYXNUeXBlQXJndW1lbnRzOiAoKSA9PiBoYXNUeXBlQXJndW1lbnRzLAogIGhhc1plcm9Pck9uZUFzdGVyaXNrQ2hhcmFjdGVyOiAoKSA9PiBoYXNaZXJvT3JPbmVBc3Rlcmlza0NoYXJhY3RlciwKICBob3N0R2V0Q2Fub25pY2FsRmlsZU5hbWU6ICgpID0+IGhvc3RHZXRDYW5vbmljYWxGaWxlTmFtZSwKICBob3N0VXNlc0Nhc2VTZW5zaXRpdmVGaWxlTmFtZXM6ICgpID0+IGhvc3RVc2VzQ2FzZVNlbnNpdGl2ZUZpbGVOYW1lcywKICBpZFRleHQ6ICgpID0+IGlkVGV4dCwKICBpZGVudGlmaWVySXNUaGlzS2V5d29yZDogKCkgPT4gaWRlbnRpZmllcklzVGhpc0tleXdvcmQsCiAgaWRlbnRpZmllclRvS2V5d29yZEtpbmQ6ICgpID0+IGlkZW50aWZpZXJUb0tleXdvcmRLaW5kLAogIGlkZW50aXR5OiAoKSA9PiBpZGVudGl0eSwKICBpZGVudGl0eVNvdXJjZU1hcENvbnN1bWVyOiAoKSA9PiBpZGVudGl0eVNvdXJjZU1hcENvbnN1bWVyLAogIGlnbm9yZVNvdXJjZU5ld2xpbmVzOiAoKSA9PiBpZ25vcmVTb3VyY2VOZXdsaW5lcywKICBpZ25vcmVkUGF0aHM6ICgpID0+IGlnbm9yZWRQYXRocywKICBpbXBvcnRGcm9tTW9kdWxlU3BlY2lmaWVyOiAoKSA9PiBpbXBvcnRGcm9tTW9kdWxlU3BlY2lmaWVyLAogIGltcG9ydFN5bnRheEFmZmVjdHNNb2R1bGVSZXNvbHV0aW9uOiAoKSA9PiBpbXBvcnRTeW50YXhBZmZlY3RzTW9kdWxlUmVzb2x1dGlvbiwKICBpbmRleE9mQW55Q2hhckNvZGU6ICgpID0+IGluZGV4T2ZBbnlDaGFyQ29kZSwKICBpbmRleE9mTm9kZTogKCkgPT4gaW5kZXhPZk5vZGUsCiAgaW5kaWNlc09mOiAoKSA9PiBpbmRpY2VzT2YsCiAgaW5mZXJyZWRUeXBlc0NvbnRhaW5pbmdGaWxlOiAoKSA9PiBpbmZlcnJlZFR5cGVzQ29udGFpbmluZ0ZpbGUsCiAgaW5qZWN0Q2xhc3NOYW1lZEV2YWx1YXRpb25IZWxwZXJCbG9ja0lmTWh0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KCnZhciB0cyA9IHt9OyAoKG1vZHVsZSkgPT4gewoidXNlIHN0cmljdCI7CnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsKdmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7CnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5Owp2YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHsKICBmb3IgKHZhciBuYW1lIGluIGFsbCkKICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7Cn07CnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7CiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09ICJvYmplY3QiIHx8IHR5cGVvZiBmcm9tID09PSAiZnVuY3Rpb24iKSB7CiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpCiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpCiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pOwogIH0KICByZXR1cm4gdG87Cn07CnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKSA9PiAoX19jb3B5UHJvcHMsIG1vZCk7IC8vIE1vZGlmaWVkIGhlbHBlciB0byBza2lwIHNldHRpbmcgX19lc01vZHVsZS4KCi8vIHNyYy90eXBlc2NyaXB0L3R5cGVzY3JpcHQudHMKdmFyIHR5cGVzY3JpcHRfZXhwb3J0cyA9IHt9OwpfX2V4cG9ydCh0eXBlc2NyaXB0X2V4cG9ydHMsIHsKICBBTk9OWU1PVVM6ICgpID0+aXhUb1NWRyhyKToiIn0pfX0pLmpvaW4oIiIpfSxjcmVhdGVTVkdGb250RmFjZXNNYXJrdXA6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixuLHMsbyxhLGM9IiIsaD17fSxsPWZhYnJpYy5mb250UGF0aHMsdT1bXTtmb3IodGhpcy5fb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIHQoZSl7dS5wdXNoKGUpLGUuX29iamVjdHMmJmUuX29iamVjdHMuZm9yRWFjaCh0KX0pLG89MCxhPXUubGVuZ3RoO288YTtvKyspaWYoZT0odD11W29dKS5mb250RmFtaWx5LC0xIT09dC50eXBlLmluZGV4T2YoInRleHQiKSYmIWhbZV0mJmxbZV0mJihoW2VdPSEwLHQuc3R5bGVzKSlmb3IobiBpbiBpPXQuc3R5bGVzKWZvcihzIGluIHI9aVtuXSkhaFtlPXJbc10uZm9udEZhbWlseV0mJmxbZV0mJihoW2VdPSEwKTtmb3IodmFyIGYgaW4gaCljKz1bIlx0XHRAZm9udC1mYWNlIHtcbiIsIlx0XHRcdGZvbnQtZmFtaWx5OiAnIixmLCInO1xuIiwiXHRcdFx0c3JjOiB1cmwoJyIsbFtmXSwiJyk7XG4iLCJcdFx0fVxuIl0uam9pbigiIik7cmV0dXJuIGMmJihjPVsnXHQ8c3R5bGUgdHlwZT0idGV4dC9jc3MiPicsIjwhW0NEQVRBW1xuIixjLCJdXT4iLCI8L3N0eWxlPlxuIl0uam9pbigiIikpLGN9LF9zZXRTVkdPYmplY3RzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixuLHM9dGhpcy5fb2JqZWN0cztmb3Iocj0wLG49cy5sZW5ndGg7cjxuO3IrKykoaT1zW3JdKS5leGNsdWRlRnJvbUV4cG9ydHx8dGhpcy5fc2V0U1ZHT2JqZWN0KHQsaSxlKX0sX3NldFNWR09iamVjdDpmdW5jdGlvbih0LGUsaSl7dC5wdXNoKGUudG9TVkcoaSkpfSxfc2V0U1ZHQmdPdmVybGF5SW1hZ2U6ZnVuY3Rpb24odCxlLGkpe3RoaXNbZV0mJiF0aGlzW2VdLmV4Y2x1ZGVGcm9tRXhwb3J0JiZ0aGlzW2VdLnRvU1ZHJiZ0LnB1c2godGhpc1tlXS50b1NWRyhpKSl9LF9zZXRTVkdCZ092ZXJsYXlDb2xvcjpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbZSsiQ29sb3IiXSxyPXRoaXMudmlld3BvcnRUcmFuc2Zvcm0sbj10aGlzLndpZHRoLHM9dGhpcy5oZWlnaHQ7aWYoaSlpZihpLnRvTGl2ZSl7dmFyIG89aS5yZXBlYXQsYT1mYWJyaWMudXRpbC5pbnZlcnRUcmFuc2Zvcm0ociksYz10aGlzW2UrIlZwdCJdP2ZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKGEpOiIiO3QucHVzaCgnPHJlY3QgdHJhbnNmb3JtPSInK2MrIiB0cmFuc2xhdGUoIixuLzIsIiwiLHMvMiwnKSInLCcgeD0iJyxpLm9mZnNldFgtbi8yLCciIHk9IicsaS5vZmZzZXRZLXMvMiwnIiAnLCd3aWR0aD0iJywicmVwZWF0LXkiPT09b3x8Im5vLXJlcGVhdCI9PT1vP2kuc291cmNlLndpZHRoOm4sJyIgaGVpZ2h0PSInLCJyZXBlYXQteCI9PT1vfHwibm8tcmVwZWF0Ij09PW8/aS5zb3VyY2UuaGVpZ2h0OnMsJyIgZmlsbD0idXJsKCNTVkdJRF8nK2kuaWQrJykiJywiPjwvcmVjdD5cbiIpfWVsc2UgdC5wdXNoKCc8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiAnLCdmaWxsPSInLGksJyInLCI+PC9yZWN0PlxuIil9LHNlbmRUb0JhY2s6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHRoaXM7dmFyIGUsaSxyLG49dGhpcy5fYWN0aXZlT2JqZWN0O2lmKHQ9PT1uJiYiYWN0aXZlU2VsZWN0aW9uIj09PXQudHlwZSlmb3IoZT0ocj1uLl9vYmplY3RzKS5sZW5ndGg7ZS0tOylpPXJbZV0saCh0aGlzLl9vYmplY3RzLGkpLHRocnNlSW50KGEsMTYpLzI1NSkudG9GaXhlZCgyKSldfX0saC5Db2xvci5mcm9tU291cmNlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBsO3JldHVybiBlLnNldFNvdXJjZSh0KSxlfSl9KCJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOnRoaXMpLGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgbD10LmZhYnJpY3x8KHQuZmFicmljPXt9KSxvPVsiZSIsInNlIiwicyIsInN3IiwidyIsIm53IiwibiIsIm5lIiwiZSJdLHM9WyJucyIsIm5lc3ciLCJldyIsIm53c2UiXSxuPXt9LGY9ImxlZnQiLGQ9InRvcCIsZz0icmlnaHQiLHA9ImJvdHRvbSIsYz0iY2VudGVyIixTPXt0b3A6cCxib3R0b206ZCxsZWZ0OmcscmlnaHQ6ZixjZW50ZXI6Y30sdj1sLnV0aWwucmFkaWFuc1RvRGVncmVlcyxUPU1hdGguc2lnbnx8ZnVuY3Rpb24odCl7cmV0dXJuKDA8dCktKHQ8MCl8fCt0fTtmdW5jdGlvbiBhKHQsZSl7dmFyIGk9dC5hbmdsZSt2KE1hdGguYXRhbjIoZS55LGUueCkpKzM2MDtyZXR1cm4gTWF0aC5yb3VuZChpJTM2MC80NSl9ZnVuY3Rpb24gaCh0LGUpe3ZhciBpPWUudHJhbnNmb3JtLnRhcmdldCxyPWkuY2FudmFzLG49bC51dGlsLm9iamVjdC5jbG9uZShlKTtuLnRhcmdldD1pLHImJnIuZmlyZSgib2JqZWN0OiIrdCxuKSxpLmZpcmUodCxlKX1mdW5jdGlvbiB3KHQsZSl7dmFyIGk9ZS5jYW52YXMscj10W2kudW5pU2NhbGVLZXldO3JldHVybiBpLnVuaWZvcm1TY2FsaW5nJiYhcnx8IWkudW5pZm9ybVNjYWxpbmcmJnJ9ZnVuY3Rpb24gTyh0KXtyZXR1cm4gdC5vcmlnaW5YPT09YyYmdC5vcmlnaW5ZPT09Y31mdW5jdGlvbiBrKHQsZSxpKXt2YXIgcj10LmxvY2tTY2FsaW5nWCxuPXQubG9ja1NjYWxpbmdZO3JldHVybiEoIXJ8fCFuKXx8KCEoZXx8IXImJiFufHwhaSl8fCghKCFyfHwieCIhPT1lKXx8ISghbnx8InkiIT09ZSkpKX1mdW5jdGlvbiB1KHQsZSxpLHIpe3JldHVybntlOnQsdHJhbnNmb3JtOmUscG9pbnRlcjp7eDppLHk6cn19fWZ1bmN0aW9uIG0oYyl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPWUudGFyZ2V0LHM9bi5nZXRDZW50ZXJQb2ludCgpLG89bi50cmFuc2xhdGVUb09yaWdpblBvaW50KHMsZS5vcmlnaW5YLGUub3JpZ2luWSksYT1jKHQsZSxpLHIpO3JldHVybiBuLnNldFBvc2l0aW9uQnlPcmlnaW4obyxlLm9yaWdpblgsZS5vcmlnaW5ZKSxhfX1mdW5jdGlvbiBiKHMsbyl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPW8odCxlLGkscik7cmV0dXJuIG4mJmgocyx1KHQsZSxpLHIpKSxufX1mdW5jdGlvbiBQKHQsZSxpLHIsbil7dmFyIHM9dC50YXJnZXQsbz1zLmNvbnRyb2xzW3QuY29ybmVyXSxhPXMuY2FudmFzLmdldFpvb20oKSxjPXMucGFkZGluZy9hLGg9cy50b0xvY2FsUG9pbnQobmV3IGwuUG9pbnQocixuKSxlLGkpO3JldHVybiBoLng+PWMmJihoLngtPWMpLGgueDw9LWMmJihoLngrPWMpLGgueT49YyYmKGgueS09YyksaC55PD1jJiYoaC55Kz1jKSxoLngtPW8ub2Zmc2V0WCxoLnktPW8ub2Zmc2V0WSxofWZ1bmN0aW9uIHkodCl7cmV0dXJuIHQuZmxpcFghPT10LmZsaXBZfWZ1bmN0aW9uIF8odCxlLGkscixuKXtpZigwIT09dFtlXSl7dmFyIHM9bi90Ll9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKVtyXSp0W2ldO3Quc2V0KGkscyl9fWZ1bmN0aW9uIHgodCxlLGksdXJuIHQudGVzdChlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX1mdW5jdGlvbiBOcihlLHQscil7ZT1lLnRvTG93ZXJDYXNlKCk7aWYocil7aWYociBpbnN0YW5jZW9mIEVsZW1lbnR8fEkociwiU3RyaW5nIikpe3JldHVybiBoZShlLHQsbnVsbCxudWxsLHt0YXJnZXRPdmVycmlkZTpwKHIpLHJldHVyblByb21pc2U6dHJ1ZX0pfWVsc2V7cmV0dXJuIGhlKGUsdCxwKHIuc291cmNlKSxyLmV2ZW50LHtoYW5kbGVyOnIuaGFuZGxlcixoZWFkZXJzOnIuaGVhZGVycyx2YWx1ZXM6ci52YWx1ZXMsdGFyZ2V0T3ZlcnJpZGU6cChyLnRhcmdldCksc3dhcE92ZXJyaWRlOnIuc3dhcCxzZWxlY3Q6ci5zZWxlY3QscmV0dXJuUHJvbWlzZTp0cnVlfSl9fWVsc2V7cmV0dXJuIGhlKGUsdCxudWxsLG51bGwse3JldHVyblByb21pc2U6dHJ1ZX0pfX1mdW5jdGlvbiBJcihlKXt2YXIgdD1bXTt3aGlsZShlKXt0LnB1c2goZSk7ZT1lLnBhcmVudEVsZW1lbnR9cmV0dXJuIHR9ZnVuY3Rpb24ga3IoZSx0LHIpe3ZhciBuO3ZhciBpO2lmKHR5cGVvZiBVUkw9PT0iZnVuY3Rpb24iKXtpPW5ldyBVUkwodCxkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTt2YXIgYT1kb2N1bWVudC5sb2NhdGlvbi5vcmlnaW47bj1hPT09aS5vcmlnaW59ZWxzZXtpPXQ7bj1nKHQsZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luKX1pZihRLmNvbmZpZy5zZWxmUmVxdWVzdHNPbmx5KXtpZighbil7cmV0dXJuIGZhbHNlfX1yZXR1cm4gY2UoZSwiaHRteDp2YWxpZGF0ZVVybCIsbGUoe3VybDppLHNhbWVIb3N0Om59LHIpKX1mdW5jdGlvbiBoZSh0LHIsbixpLGEsZSl7dmFyIG89bnVsbDt2YXIgcz1udWxsO2E9YSE9bnVsbD9hOnt9O2lmKGEucmV0dXJuUHJvbWlzZSYmdHlwZW9mIFByb21pc2UhPT0idW5kZWZpbmVkIil7dmFyIGw9bmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXtvPWU7cz10fSl9aWYobj09bnVsbCl7bj1yZSgpLmJvZHl9dmFyIE09YS5oYW5kbGVyfHxNcjt2YXIgWD1hLnNlbGVjdHx8bnVsbDtpZighc2Uobikpe2llKG8pO3JldHVybiBsfXZhciB1PWEudGFyZ2V0T3ZlcnJpZGV8fHllKG4pO2lmKHU9PW51bGx8fHU9PXBlKXtmZShuLCJodG14OnRhcmdldEVycm9yIix7dGFyZ2V0OnRlKG4sImh4LXRhcmdldCIpfSk7aWUocyk7cmV0dXJuIGx9dmFyIGY9YWUobik7dmFyIGM9Zi5sYXN0QnV0dG9uQ2xpY2tlZDtpZihjKXt2YXIgaD1lZShjLCJmb3JtYWN0aW9uIik7aWYoaCE9bnVsbCl7cj1ofXZhciB2PWVlKGMsImZvcm1tZXRob2QiKTtpZih2IT1udWxsKXtpZih2LnRvTG93ZXJDYXNlKCkhPT0iZGlhbG9nIil7dD12fX19dmFyIGQ9bmUobiwiaHgtY29uZmlybSIpO2lmKGU9PT11bmRlZmluZWQpe3ZhciBEPWZ1bmN0aW9uKGUpe3JldHVybiBoZSh0LHIsbixpLGEsISFlKX07dmFyIFU9e3RhcmdldDp1LGVsdDpuLHBhdGg6cix2ZXJiOnQsdHJpZ2dlcmluZ0V2ZW50OmksZXRjOmEsaXNzdWVSZXF1ZXN0OkQscXVlc3Rpb246ZH07aWYoY2UobiwiaHRteDpjb25maXJtIixVKT09PWZhbHNlKXtpZShvKTtyZXR1cm4gbH19dmFyIGc9bjt2YXIgcD1uZShuLCJoeC1zeW5jIik7dmFyIG09bnVsbDt2YXIgeD1mYWxzZTtpZihwKXt2YXIgQj1wLnNwbGl0KCI6Iik7dmFyIEY9QlswXS50cmltKCk7aWYoRj09PSJ0aGlzIil7Zz14ZShuLCJoeC1zeW5jIil9ZWxzZXtnPXVlKG4sRil9e3ZhciByPWRyKGUsdHx8InBvc3QiKTtyZXR1cm4gci52YWx1ZXN9LHJlbW92ZTpfLGFkZENsYXNzOnoscmVtb3ZlQ2xhc3M6bix0b2dnbGVDbGFzczokLHRha2VDbGFzczpXLGRlZmluZUV4dGVuc2lvbjpVcixyZW1vdmVFeHRlbnNpb246QnIsbG9nQWxsOlYsbG9nTm9uZTpqLGxvZ2dlcjpudWxsLGNvbmZpZzp7aGlzdG9yeUVuYWJsZWQ6dHJ1ZSxoaXN0b3J5Q2FjaGVTaXplOjEwLHJlZnJlc2hPbkhpc3RvcnlNaXNzOmZhbHNlLGRlZmF1bHRTd2FwU3R5bGU6ImlubmVySFRNTCIsZGVmYXVsdFN3YXBEZWxheTowLGRlZmF1bHRTZXR0bGVEZWxheToyMCxpbmNsdWRlSW5kaWNhdG9yU3R5bGVzOnRydWUsaW5kaWNhdG9yQ2xhc3M6Imh0bXgtaW5kaWNhdG9yIixyZXF1ZXN0Q2xhc3M6Imh0bXgtcmVxdWVzdCIsYWRkZWRDbGFzczoiaHRteC1hZGRlZCIsc2V0dGxpbmdDbGFzczoiaHRteC1zZXR0bGluZyIsc3dhcHBpbmdDbGFzczoiaHRteC1zd2FwcGluZyIsYWxsb3dFdmFsOnRydWUsYWxsb3dTY3JpcHRUYWdzOnRydWUsaW5saW5lU2NyaXB0Tm9uY2U6IiIsYXR0cmlidXRlc1RvU2V0dGxlOlsiY2xhc3MiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0Il0sd2l0aENyZWRlbnRpYWxzOmZhbHNlLHRpbWVvdXQ6MCx3c1JlY29ubmVjdERlbGF5OiJmdWxsLWppdHRlciIsd3NCaW5hcnlUeXBlOiJibG9iIixkaXNhYmxlU2VsZWN0b3I6IltoeC1kaXNhYmxlXSwgW2RhdGEtaHgtZGlzYWJsZV0iLHVzZVRlbXBsYXRlRnJhZ21lbnRzOmZhbHNlLHNjcm9sbEJlaGF2aW9yOiJzbW9vdGgiLGRlZmF1bHRGb2N1c1Njcm9sbDpmYWxzZSxnZXRDYWNoZUJ1c3RlclBhcmFtOmZhbHNlLGdsb2JhbFZpZXdUcmFuc2l0aW9uczpmYWxzZSxtZXRob2RzVGhhdFVzZVVybFBhcmFtczpbImdldCJdLHNlbGZSZXF1ZXN0c09ubHk6ZmFsc2UsaWdub3JlVGl0bGU6ZmFsc2Usc2Nyb2xsSW50b1ZpZXdPbkJvb3N0OnRydWUsdHJpZ2dlclNwZWNzQ2FjaGU6bnVsbH0scGFyc2VJbnRlcnZhbDpkLF86dCxjcmVhdGVFdmVudFNvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEV2ZW50U291cmNlKGUse3dpdGhDcmVkZW50aWFsczp0cnVlfSl9LGNyZWF0ZVdlYlNvY2tldDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgV2ViU29ja2V0KGUsW10pO3QuYmluYXJ5VHlwZT1RLmNvbmZpZy53c0JpbmFyeVR5cGU7cmV0dXJuIHR9LHZlcnNpb246IjEuOS4xMiJ9O3ZhciByPXthZGRUcmlnZ2VySGFuZGxlcjpMdCxib2R5Q29udGFpbnM6c2UsY2FuQWNjZXNzTG9jYWxTdG9yYWdlOlUsZmluZFRoaXNFbGVtZW50OnhlLGZpbHRlclZhbHVlczp5cixoYXNBdHRyaWJ1dGU6byxnZXRBdHRyaWJ1dGVWYWx1ZTp0ZSxnZXRDbG9zZXN0QXR0cmlidXRlVmFsdWU6bmUsZ2V0Q2xvc2VzdE1hdGNoOmMsZ2V0RXhwcmVzc2lvblZhcnM6SHIsZ2V0SGVhZGVyczp4cixnZXRJbnB1dFZhbHVlczpkcixnZXRJbnRlcm5hbERhdGE6YWUsZ2V0U3dhcFNwZWNpZmljYXRpb246d3IsZ2V0VHJpZ2dlclNwZWNzOml0LGdldFRhcmdldDp5ZSxtYWtlRnJhZ21lbnQ6bCxtZXJnZU9iamVjdHM6bGUsbWFrZVNldHRsZUluZm86VCxvb2JTd2FwOkVlLHF1ZXJ5U2VsZWN0b3JFeHQ6dWUsc2VsZWN0QW5kU3dhcDpqZSxzZXR0bGVJbW1lZGlhdGVseTpucixzaG91bGRDYW5jZWw6dXQsdHJpZ2dlckV2ZW50OmNlLHRyIG49MDtuPGkubGVuZ3RoOysrbil7dT1jLGM9aVtuXTtjb25zdCBlPTIqTWF0aC5mbG9vcihyW2NdLzMpLGY9b1tlXSxzPW9bZSsxXSxsPTQqdSxoPXRoaXMuX3Byb2plY3QoZixzLGFbbCsyXSxhW2wrM10pO2gmJnRoaXMuX3JlbmRlclNlZ21lbnQoZixzLGhbMF0saFsxXSx0KX1yZXR1cm4gbiYmbi52YWx1ZSgpfXJlbmRlckJvdW5kcyh0KXtjb25zdCBuPW51bGw9PXQ/dD1uZXcgUnU6dm9pZCAwO3JldHVybiB0LnJlY3QodGhpcy54bWluLHRoaXMueW1pbix0aGlzLnhtYXgtdGhpcy54bWluLHRoaXMueW1heC10aGlzLnltaW4pLG4mJm4udmFsdWUoKX1yZW5kZXJDZWxsKHQsbil7Y29uc3QgZT1udWxsPT1uP249bmV3IFJ1OnZvaWQgMCxyPXRoaXMuX2NsaXAodCk7aWYobnVsbD09PXJ8fCFyLmxlbmd0aClyZXR1cm47bi5tb3ZlVG8oclswXSxyWzFdKTtsZXQgaT1yLmxlbmd0aDtmb3IoO3JbMF09PT1yW2ktMl0mJnJbMV09PT1yW2ktMV0mJmk+MTspaS09Mjtmb3IobGV0IHQ9Mjt0PGk7dCs9MilyW3RdPT09clt0LTJdJiZyW3QrMV09PT1yW3QtMV18fG4ubGluZVRvKHJbdF0sclt0KzFdKTtyZXR1cm4gbi5jbG9zZVBhdGgoKSxlJiZlLnZhbHVlKCl9KmNlbGxQb2x5Z29ucygpe2NvbnN0e2RlbGF1bmF5Ontwb2ludHM6dH19PXRoaXM7Zm9yKGxldCBuPTAsZT10Lmxlbmd0aC8yO248ZTsrK24pe2NvbnN0IHQ9dGhpcy5jZWxsUG9seWdvbihuKTt0JiYodC5pbmRleD1uLHlpZWxkIHQpfX1jZWxsUG9seWdvbih0KXtjb25zdCBuPW5ldyBGdTtyZXR1cm4gdGhpcy5yZW5kZXJDZWxsKHQsbiksbi52YWx1ZSgpfV9yZW5kZXJTZWdtZW50KHQsbixlLHIsaSl7bGV0IG87Y29uc3QgYT10aGlzLl9yZWdpb25jb2RlKHQsbiksdT10aGlzLl9yZWdpb25jb2RlKGUscik7MD09PWEmJjA9PT11PyhpLm1vdmVUbyh0LG4pLGkubGluZVRvKGUscikpOihvPXRoaXMuX2NsaXBTZWdtZW50KHQsbixlLHIsYSx1KSkmJihpLm1vdmVUbyhvWzBdLG9bMV0pLGkubGluZVRvKG9bMl0sb1szXSkpfWNvbnRhaW5zKHQsbixlKXtyZXR1cm4obj0rbik9PW4mJihlPStlKT09ZSYmdGhpcy5kZWxhdW5heS5fc3RlcCh0LG4sZSk9PT10fSpuZWlnaGJvcnModCl7Y29uc3Qgbj10aGlzLl9jbGlwKHQpO2lmKG4pZm9yKGNvbnN0IGUgb2YgdGhpcy5kZWxhdW5heS5uZWlnaGJvcnModCkpe2NvbnN0IHQ9dGhpcy5fY2xpcChlKTtpZih0KXQ6Zm9yKGxldCByPTAsaT1uLmxlbmd0aDtyPGk7cis9Milmb3IobGV0IG89MCxhPXQubGVuZ3RoO288YTtvKz0yKWlmKG5bcl09PT10W29dJiZuW3IrMV09PT10W28rMV0mJm5bKHIrMiklaV09PT10WyhvK2EtMiklYV0mJm5bKHIrMyklaV09PT10WyhvK2EtMSklYV0pe3lpZWxkIGU7YnJlYWsgdH19fV9jZWxsKHQpe2NvbnN0e2NpcmN1bWNlbnRlcnM6bixkZWxhdW5heTp7aW5lZGdlczplLGhhbGZlZGdlczpyLHRyaWFuZ2xlczppfX09dGhpcyxvPWVbdF07aWYoLTE9PT1vKXJldHVybiBudWxsO2NvbnN0IGE9W107bGV0IHU9bztkb3tjb25zdCBlPU1hdGguZmxvb3IodS8zKTtpZihhLnB1c2goblsyKmVdLG5bMiplKzFdKSx1PXUlMz09Mj91LTI6dSsxLGlbdV0hPT10KWJyZWFrO3U9clt1XX13aGlsZSh1IT09byYmLTEhPT11KTtyZXR1cm4gYX1fY2xpcCh0KXtpZigwPT09dCYmMT09PXRoaXMuZGVsYXVuYXkuaHVsbC5sZW5ndG1lbnRzKX1mdW5jdGlvbiBpaShlLHQsdSl7cmV0dXJuIHZ0KGUsdSh0KSl9ZnVuY3Rpb24gc2koZSx0LHUpe2xldCByPXQ9PT0nIic/IiciOiciJyxuPW9lKDAsZSwvXFwoLil8KFsiJ10pL2dzdSwoYSxzLGkpPT5zPT09cj9zOmk9PT10PyJcXCIraTppfHwodSYmL15bXlxuXHIiJzAtN1xcYmZucnQtdnhcdTIwMjhcdTIwMjldJC91LnRlc3Qocyk/czoiXFwiK3MpKTtyZXR1cm4gdCtuK3R9ZnVuY3Rpb24gRGkoZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTJ8fHR5cGVvZiB0PT0ibnVtYmVyIj92dChlLHQpOmlpKC4uLmFyZ3VtZW50cyl9ZnVuY3Rpb24gbWUoZSx0PTEpe3JldHVybiBhc3luYyguLi51KT0+e2xldCByPXVbdF0/P3t9LG89ci5wbHVnaW5zPz9bXTtyZXR1cm4gdVt0XT17Li4ucixwbHVnaW5zOkFycmF5LmlzQXJyYXkobyk/bzpPYmplY3QudmFsdWVzKG8pfSxlKC4uLnUpfX12YXIgSm49bWUoU3UpO2FzeW5jIGZ1bmN0aW9uIEhuKGUsdCl7bGV0e2Zvcm1hdHRlZDp1fT1hd2FpdCBKbihlLHsuLi50LGN1cnNvck9mZnNldDotMX0pO3JldHVybiB1fWFzeW5jIGZ1bmN0aW9uIGNpKGUsdCl7cmV0dXJuIGF3YWl0IEhuKGUsdCk9PT1lfXZhciBmaT1tZShzdCwwKSxsaT17cGFyc2U6bWUoa24pLGZvcm1hdEFTVDptZSh2biksZm9ybWF0RG9jOm1lKFJuKSxwcmludFRvRG9jOm1lKExuKSxwcmludERvY1RvU3RyaW5nOm1lKE1uKX07cmV0dXJuIGFvKGRpKTt9KTsvKiBlc2xpbnQtZGlzYWJsZSAqLwovKioKICogR2VuZXJhdGVkIHV0aWxpdGllcyBmb3IgaW1wbGVtZW50aW5nIHNlcnZlci1zaWRlIENvbnZleCBxdWVyeSBhbmQgbXV0YXRpb24gZnVuY3Rpb25zLgogKgogKiBUSElTIENPREUgSVMgQVVUT01BVElDQUxMWSBHRU5FUkFURUQuCiAqCiAqIEdlbmVyYXRlZCBieSBjb252ZXhAMS4xMi4wLgogKiBUbyByZWdlbmVyYXRlLCBydW4gYG5weCBjb252ZXggZGV2YC4KICogQG1vZHVsZQogKi8KCmltcG9ydCB7CiAgQWN0aW9uQnVpbGRlciwKICBIdHRwQWN0aW9uQnVpbGRlciwKICBNdXRhdGlvbkJ1aWxkZXIsCiAgUXVlcnlCdWlsZGVyLAogIEdlbmVyaWNBY3Rpb25DdHgsCiAgR2VuZXJpY011dGF0aW9uQ3R4LAogIEdlbmVyaWNRdWVyeUN0eCwKICBHZW5lcmljRGF0YWJhc2VSZWFkZXIsCiAgR2VuZXJpY0RhdGFiYXNlV3JpdGVyLAp9IGZyb20gImNvbnZleC9zZXJ2ZXIiOwppbXBvcnQgdHlwZSB7IERhdGFNb2RlbCB9IGZyb20gIi4vZGF0YU1vZGVsLmpzIjsKCi8qKgogKiBEZWZpbmUgYSBxdWVyeSBpbiB0aGlzIENvbnZleCBhcHAncyBwdWJsaWMgQVBJLgogKgogKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgYWxsb3dlZCB0byByZWFkIHlvdXIgQ29udmV4IGRhdGFiYXNlIGFuZCB3aWxsIGJlIGFjY2Vzc2libGUgZnJvbSB0aGUgY2xpZW50LgogKgogKiBAcGFyYW0gZnVuYyAtIFRoZSBxdWVyeSBmdW5jdGlvbi4gSXQgcmVjZWl2ZXMgYSB7QGxpbmsgUXVlcnlDdHh9IGFzIGl0cyBmaXJzdCBhcmd1bWVudC4KICogQHJldHVybnMgVGhlIHdyYXBwZWQgcXVlcnkuIEluY2x1ZGUgdGhpcyBhcyBhbiBgZXhwb3J0YCB0byBuYW1lIGl0IGFuZCBtYWtlIGl0IGFjY2Vzc2libGUuCiAqLwpleHBvcnQgZGVjbGFyZSBjb25zdCBxdWVyeTogUXVlcnlCdWlsZGVyPERhdGFNb2RlbCwgInB1YmxpYyI+OwoKLyoqCk9iamVjdC5lbnRyaWVzKGYpKSh1W2xdPT09bnVsbHx8dVtsXT09PXZvaWQgMCkmJih1W2xdPWQpO3JldHVybiB1LnBhcnNlcj09PSJqc29uIiYmKHUudHJhaWxpbmdDb21tYT0ibm9uZSIpLHJuKHUscix7cGFzc1Rocm91Z2g6T2JqZWN0LmtleXMoY24pLC4uLnR9KX12YXIgc2U9YmE7dmFyIEZmPW9vKHBuKCksMSk7dmFyIEF1PSJceEFBXHhCNVx4QkFceEMwLVx4RDZceEQ4LVx4RjZceEY4LVx1MDJDMVx1MDJDNi1cdTAyRDFcdTAyRTAtXHUwMkU0XHUwMkVDXHUwMkVFXHUwMzcwLVx1MDM3NFx1MDM3Nlx1MDM3N1x1MDM3QS1cdTAzN0RcdTAzN0ZcdTAzODZcdTAzODgtXHUwMzhBXHUwMzhDXHUwMzhFLVx1MDNBMVx1MDNBMy1cdTAzRjVcdTAzRjctXHUwNDgxXHUwNDhBLVx1MDUyRlx1MDUzMS1cdTA1NTZcdTA1NTlcdTA1NjAtXHUwNTg4XHUwNUQwLVx1MDVFQVx1MDVFRi1cdTA1RjJcdTA2MjAtXHUwNjRBXHUwNjZFXHUwNjZGXHUwNjcxLVx1MDZEM1x1MDZENVx1MDZFNVx1MDZFNlx1MDZFRVx1MDZFRlx1MDZGQS1cdTA2RkNcdTA2RkZcdTA3MTBcdTA3MTItXHUwNzJGXHUwNzRELVx1MDdBNVx1MDdCMVx1MDdDQS1cdTA3RUFcdTA3RjRcdTA3RjVcdTA3RkFcdTA4MDAtXHUwODE1XHUwODFBXHUwODI0XHUwODI4XHUwODQwLVx1MDg1OFx1MDg2MC1cdTA4NkFcdTA4NzAtXHUwODg3XHUwODg5LVx1MDg4Rlx1MDhBMC1cdTA4QzlcdTA5MDQtXHUwOTM5XHUwOTNEXHUwOTUwXHUwOTU4LVx1MDk2MVx1MDk3MS1cdTA5ODBcdTA5ODUtXHUwOThDXHUwOThGXHUwOTkwXHUwOTkzLVx1MDlBOFx1MDlBQS1cdTA5QjBcdTA5QjJcdTA5QjYtXHUwOUI5XHUwOUJEXHUwOUNFXHUwOURDXHUwOUREXHUwOURGLVx1MDlFMVx1MDlGMFx1MDlGMVx1MDlGQ1x1MEEwNS1cdTBBMEFcdTBBMEZcdTBBMTBcdTBBMTMtXHUwQTI4XHUwQTJBLVx1MEEzMFx1MEEzMlx1MEEzM1x1MEEzNVx1MEEzNlx1MEEzOFx1MEEzOVx1MEE1OS1cdTBBNUNcdTBBNUVcdTBBNzItXHUwQTc0XHUwQTg1LVx1MEE4RFx1MEE4Ri1cdTBBOTFcdTBBOTMtXHUwQUE4XHUwQUFBLVx1MEFCMFx1MEFCMlx1MEFCM1x1MEFCNS1cdTBBQjlcdTBBQkRcdTBBRDBcdTBBRTBcdTBBRTFcdTBBRjlcdTBCMDUtXHUwQjBDXHUwQjBGXHUwQjEwXHUwQjEzLVx1MEIyOFx1MEIyQS1cdTBCMzBcdTBCMzJcdTBCMzNcdTBCMzUtXHUwQjM5XHUwQjNEXHUwQjVDXHUwQjVEXHUwQjVGLVx1MEI2MVx1MEI3MVx1MEI4M1x1MEI4NS1cdTBCOEFcdTBCOEUtXHUwQjkwXHUwQjkyLVx1MEI5NVx1MEI5OVx1MEI5QVx1MEI5Q1x1MEI5RVx1MEI5Rlx1MEJBM1x1MEJBNFx1MEJBOC1cdTBCQUFcdTBCQUUtXHUwQkI5XHUwQkQwXHUwQzA1LVx1MEMwQ1x1MEMwRS1cdTBDMTBcdTBDMTItXHUwQzI4XHUwQzJBLVx1MEMzOVx1MEMzRFx1MEM1OC1cdTBDNUFcdTBDNUNcdTBDNURcdTBDNjBcdTBDNjFcdTBDODBcdTBDODUtXHUwQzhDXHUwQzhFLVx1MEM5MFx1MEM5Mi1cdTBDQThcdTBDQUEtXHUwQ0IzXHUwQ0I1LVx1MENCOVx1MENCRFx1MENEQy1cdTBDREVcdTBDRTBcdTBDRTFcdTBDRjFcdTBDRjJcdTBEMDQtXHUwRDBDXHUwRDBFLVx1MEQxMFx1MEQxMi1cdTBEM0FcdTBEM0RcdTBENEVcdTBENTQtXHUwRDU2XHUwRDVGLVx1MEQ2MVx1MEQ3QS1cdTBEN0ZcdTBEODUtXHUwRDk2XHUwRDlBLVx1MERCMVx1MERCMy1cdXR5cGU9PT1NKXJldHVybiJsaW5lU3VmZml4Qm91bmRhcnkiO2lmKG4udHlwZT09PU8pcmV0dXJuYGxhYmVsKCR7SlNPTi5zdHJpbmdpZnkobi5sYWJlbCl9LCAke3Iobi5jb250ZW50cyl9KWA7aWYobi50eXBlPT09VSlyZXR1cm4iY3Vyc29yIjt0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZG9jIHR5cGUgIituLnR5cGUpfWZ1bmN0aW9uIG8obil7aWYodHlwZW9mIG4hPSJzeW1ib2wiKXJldHVybiBKU09OLnN0cmluZ2lmeShTdHJpbmcobikpO2lmKG4gaW4gdClyZXR1cm4gdFtuXTtsZXQgYT1uLmRlc2NyaXB0aW9ufHwic3ltYm9sIjtmb3IobGV0IHM9MDs7cysrKXtsZXQgaT1hKyhzPjA/YCAjJHtzfWA6IiIpO2lmKCF1LmhhcyhpKSlyZXR1cm4gdS5hZGQoaSksdFtuXT1gU3ltYm9sLmZvcigke0pTT04uc3RyaW5naWZ5KGkpfSlgfX19dmFyIGNyPSgpPT4vWyMqMC05XVx1RkUwRj9cdTIwRTN8W1x4QTlceEFFXHUyMDNDXHUyMDQ5XHUyMTIyXHUyMTM5XHUyMTk0LVx1MjE5OVx1MjFBOVx1MjFBQVx1MjMxQVx1MjMxQlx1MjMyOFx1MjNDRlx1MjNFRC1cdTIzRUZcdTIzRjFcdTIzRjJcdTIzRjgtXHUyM0ZBXHUyNEMyXHUyNUFBXHUyNUFCXHUyNUI2XHUyNUMwXHUyNUZCXHUyNUZDXHUyNUZFXHUyNjAwLVx1MjYwNFx1MjYwRVx1MjYxMVx1MjYxNFx1MjYxNVx1MjYxOFx1MjYyMFx1MjYyMlx1MjYyM1x1MjYyNlx1MjYyQVx1MjYyRVx1MjYyRlx1MjYzOC1cdTI2M0FcdTI2NDBcdTI2NDJcdTI2NDgtXHUyNjUzXHUyNjVGXHUyNjYwXHUyNjYzXHUyNjY1XHUyNjY2XHUyNjY4XHUyNjdCXHUyNjdFXHUyNjdGXHUyNjkyXHUyNjk0LVx1MjY5N1x1MjY5OVx1MjY5Qlx1MjY5Q1x1MjZBMFx1MjZBN1x1MjZBQVx1MjZCMFx1MjZCMVx1MjZCRFx1MjZCRVx1MjZDNFx1MjZDOFx1MjZDRlx1MjZEMVx1MjZFOVx1MjZGMC1cdTI2RjVcdTI2RjdcdTI2RjhcdTI2RkFcdTI3MDJcdTI3MDhcdTI3MDlcdTI3MEZcdTI3MTJcdTI3MTRcdTI3MTZcdTI3MURcdTI3MjFcdTI3MzNcdTI3MzRcdTI3NDRcdTI3NDdcdTI3NTdcdTI3NjNcdTI3QTFcdTI5MzRcdTI5MzVcdTJCMDUtXHUyQjA3XHUyQjFCXHUyQjFDXHUyQjU1XHUzMDMwXHUzMDNEXHUzMjk3XHUzMjk5XVx1RkUwRj98W1x1MjYxRFx1MjcwQ1x1MjcwRF0oPzpcdUQ4M0NbXHVERkZCLVx1REZGRl18XHVGRTBGKT98W1x1MjcwQVx1MjcwQl0oPzpcdUQ4M0NbXHVERkZCLVx1REZGRl0pP3xbXHUyM0U5LVx1MjNFQ1x1MjNGMFx1MjNGM1x1MjVGRFx1MjY5M1x1MjZBMVx1MjZBQlx1MjZDNVx1MjZDRVx1MjZENFx1MjZFQVx1MjZGRFx1MjcwNVx1MjcyOFx1Mjc0Q1x1Mjc0RVx1Mjc1My1cdTI3NTVcdTI3OTUtXHUyNzk3XHUyN0IwXHUyN0JGXHUyQjUwXXxcdTI2RDNcdUZFMEY/KD86XHUyMDBEXHVEODNEXHVEQ0E1KT98XHUyNkY5KD86XHVEODNDW1x1REZGQi1cdURGRkZdfFx1RkUwRik/KD86XHUyMDBEW1x1MjY0MFx1MjY0Ml1cdUZFMEY/KT98XHUyNzY0XHVGRTBGPyg/Olx1MjAwRCg/Olx1RDgzRFx1REQyNXxcdUQ4M0VcdURFNzkpKT98XHVEODNDKD86W1x1REMwNFx1REQ3MFx1REQ3MVx1REQ3RVx1REQ3Rlx1REUwMlx1REUzN1x1REYyMVx1REYyNC1cdURGMkNcdURGMzZcdURGN0RcdURGOTZcdURGOTdcdURGOTktXHVERjlCXHVERjlFXHVERjlGXHVERkNEXHVERkNFXHVERkQ0LVx1REZERlx1RGN0aW9uIFN0KGUsdCxuLHMsaSxyKXtlPVtmdW5jdGlvbihlKXtlPXBhcnNlSW50KGUsMTApO3tpZihlPD00OSlyZXR1cm4gMmUzK2U7aWYoZTw9OTk5KXJldHVybiAxOTAwK2V9cmV0dXJuIGV9KGUpLExlLmluZGV4T2YodCkscGFyc2VJbnQobiwxMCkscGFyc2VJbnQocywxMCkscGFyc2VJbnQoaSwxMCldO3JldHVybiByJiZlLnB1c2gocGFyc2VJbnQociwxMCkpLGV9ZnVuY3Rpb24gT3QoZSl7dmFyIHQsbixzPXZ0LmV4ZWMoZS5faS5yZXBsYWNlKC9cKFteKCldKlwpfFtcblx0XS9nLCIgIikucmVwbGFjZSgvKFxzXHMrKS9nLCIgIikucmVwbGFjZSgvXlxzXHMqLywiIikucmVwbGFjZSgvXHNccyokLywiIikpO3M/KHQ9U3Qoc1s0XSxzWzNdLHNbMl0sc1s1XSxzWzZdLHNbN10pLGZ1bmN0aW9uKGUsdCxuKXtpZighZXx8WGUuaW5kZXhPZihlKT09PW5ldyBEYXRlKHRbMF0sdFsxXSx0WzJdKS5nZXREYXkoKSlyZXR1cm4gMTtwKG4pLndlZWtkYXlNaXNtYXRjaD0hMCxuLl9pc1ZhbGlkPSExfShzWzFdLHQsZSkmJihlLl9hPXQsZS5fdHptPSh0PXNbOF0sbj1zWzldLHM9c1sxMF0sdD9EdFt0XTpuPzA6NjAqKCgodD1wYXJzZUludChzLDEwKSktKG49dCUxMDApKS8xMDApK24pLGUuX2Q9emUuYXBwbHkobnVsbCxlLl9hKSxlLl9kLnNldFVUQ01pbnV0ZXMoZS5fZC5nZXRVVENNaW51dGVzKCktZS5fdHptKSxwKGUpLnJmYzI4MjI9ITApKTplLl9pc1ZhbGlkPSExfWZ1bmN0aW9uIGJ0KGUsdCxuKXtyZXR1cm4gbnVsbCE9ZT9lOm51bGwhPXQ/dDpufWZ1bmN0aW9uIFR0KGUpe3ZhciB0LG4scyxpLHIsYSxvLHUsbCxkLGgsYz1bXTtpZighZS5fZCl7Zm9yKHM9ZSxpPW5ldyBEYXRlKF8ubm93KCkpLG49cy5fdXNlVVRDP1tpLmdldFVUQ0Z1bGxZZWFyKCksaS5nZXRVVENNb250aCgpLGkuZ2V0VVRDRGF0ZSgpXTpbaS5nZXRGdWxsWWVhcigpLGkuZ2V0TW9udGgoKSxpLmdldERhdGUoKV0sZS5fdyYmbnVsbD09ZS5fYVtTXSYmbnVsbD09ZS5fYVtZXSYmKG51bGwhPShpPShzPWUpLl93KS5HR3x8bnVsbCE9aS5XfHxudWxsIT1pLkU/KHU9MSxsPTQscj1idChpLkdHLHMuX2FbRF0sQmUoUigpLDEsNCkueWVhciksYT1idChpLlcsMSksKChvPWJ0KGkuRSwxKSk8MXx8NzxvKSYmKGQ9ITApKToodT1zLl9sb2NhbGUuX3dlZWsuZG93LGw9cy5fbG9jYWxlLl93ZWVrLmRveSxoPUJlKFIoKSx1LGwpLHI9YnQoaS5nZyxzLl9hW0RdLGgueWVhciksYT1idChpLncsaC53ZWVrKSxudWxsIT1pLmQ/KChvPWkuZCk8MHx8NjxvKSYmKGQ9ITApOm51bGwhPWkuZT8obz1pLmUrdSwoaS5lPDB8fDY8aS5lKSYmKGQ9ITApKTpvPXUpLGE8MXx8YT5OKHIsdSxsKT9wKHMpLl9vdmVyZmxvd1dlZWtzPSEwOm51bGwhPWQ/cChzKS5fb3ZlcmZsb3dXZWVrZGF5PSEwOihoPSRlKHIsYSxvLHUsbCkscy5fYVtEXT1oLnllYXIscy5fZGF5T2ZZZWFyPWguZGF5T2ZZZWFyKSksbnVsbCE9ZS5fZGF5T2ZZZWFyJiYoaT1idChlLl9hW0RdLG5bRF0pLChlLl9kYXlPZlllYXI+V2UoaSl8fDA9PT1lLl9kYXlPZlllYXIpJiYocChlKS5fb3ZlcmZsb3dEYXlPZlllYXI9ITApLGQ9emUoaSwwLGUuX2RheU9mWWVhciksZS5fYVtZXT1kLmdldFVUQ01vbnRoKCksZS5fYVtTXT1kLmdldFVUQ0RhdGUoKSksdD0wO3Q8MyYmbnVsbD09ZS5fYVt0XTsrK3QpZS5fYVt0XT1jW3RdPW5bdGF5d3JpZ2h0IjogInlhcm4gcGxheXdyaWdodCB0ZXN0IC0tY29uZmlnPXBsYXl3cmlnaHQuY29uZmlnLnRzIiwKICAgICJ0ZXN0IjogIlRaPVVUQyB2aXRlc3QgcnVuIiwKICAgICJ0ZXN0OnVpIjogIlRaPVVUQyB2aXRlc3QgLS11aSIsCiAgICAidHlwZS1jaGVjayI6ICJ0dXJibyBydW4gdHlwZS1jaGVjayIsCiAgICAidHlwZS1jaGVjazpjaSI6ICJ0dXJibyBydW4gdHlwZS1jaGVjazpjaSAtLWxvZy1wcmVmaXg9bm9uZSIsCiAgICAid2ViIjogInlhcm4gd29ya3NwYWNlIEBjYWxjb20vd2ViIiwKICAgICJjaGFuZ2VzZXRzLWFkZCI6ICJ5YXJuIGNoYW5nZXNldCBhZGQiLAogICAgImNoYW5nZXNldHMtdmVyc2lvbiI6ICJ5YXJuIGNoYW5nZXNldCB2ZXJzaW9uIiwKICAgICJjaGFuZ2VzZXRzLXJlbGVhc2UiOiAiTk9ERV9PUFRJT05TPSctLW1heF9vbGRfc3BhY2Vfc2l6ZT0xMjI4OCcgdHVyYm8gcnVuIGJ1aWxkLW5wbSAtLWZpbHRlcj1AY2FsY29tL2F0b21zICYmIHlhcm4gY2hhbmdlc2V0IHB1Ymxpc2giLAogICAgImxpbnQtc3RhZ2VkIjogImxpbnQtc3RhZ2VkIgogIH0sCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJAYmlvbWVqcy9iaW9tZSI6ICIyLjMuMTAiLAogICAgIkBjaGFuZ2VzZXRzL2NoYW5nZWxvZy1naXRodWIiOiAiMC41LjEiLAogICAgIkBjaGFuZ2VzZXRzL2NsaSI6ICIyLjI5LjQiLAogICAgIkBmYWtlci1qcy9mYWtlciI6ICI5LjIuMCIsCiAgICAiQGpldHN0cmVhbWFwcC9zb3FsLXBhcnNlci1qcyI6ICI2LjEuMCIsCiAgICAiQHBsYXl3cmlnaHQvdGVzdCI6ICIxLjU3LjAiLAogICAgIkBwcmlzbWEvaW50ZXJuYWxzIjogIjYuMTYuMiIsCiAgICAiQHNuYXBsZXQvY29weWNhdCI6ICI0LjEuMCIsCiAgICAiQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSI6ICI1LjE3LjAiLAogICAgIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3QiOiAiMTYuMC4xIiwKICAgICJAdml0ZXN0L3VpIjogIjQuMC4xNiIsCiAgICAiYzgiOiAiNy4xMy4wIiwKICAgICJjaGVja2x5IjogImxhdGVzdCIsCiAgICAiZG90ZW52LWNoZWNrZXIiOiAiMS4xLjUiLAogICAgImh1c2t5IjogIjkuMS43IiwKICAgICJpMThuLXVudXNlZCI6ICIwLjEzLjAiLAogICAgImplc3QtZGlmZiI6ICIyOS43LjAiLAogICAgImplc3Qtc3VtbWFyaXppbmctcmVwb3J0ZXIiOiAiMS4xLjQiLAogICAgImxpbnQtc3RhZ2VkIjogIjEyLjUuMCIsCiAgICAibWFpbGhvZyI6ICI0LjE2LjAiLAogICAgIm5leHQtcm91dGVyLW1vY2siOiAiMC45LjEyIiwKICAgICJub2RlLWd5cCI6ICIxMC4yLjAiLAogICAgIm5vZGUtaWNhbCI6ICIwLjE2LjEiLAogICAgInByaXNtb2NrIjogIjEuMzUuMyIsCiAgICAicmVzaXplLW9ic2VydmVyLXBvbHlmaWxsIjogIjEuNS4xIiwKICAgICJ0c2MtYWJzb2x1dGUiOiAiMS4wLjAiLAogICAgInR1cmJvIjogIjIuNy4xIiwKICAgICJ0eXBlc2NyaXB0IjogIjUuOS4zIiwKICAgICJ2aXRlc3QiOiAiNC4wLjE2IiwKICAgICJ2aXRlc3QtZmV0Y2gtbW9jayI6ICIwLjQuNSIsCiAgICAidml0ZXN0LW1vY2stZXh0ZW5kZWQiOiAiMy4xLjAiCiAgfSwKICAicmVzb2x1dGlvbnMiOiB7CiAgICAidHlwZXMtcmFtZGEiOiAiMC4yOS40IiwKICAgICJAYXBpZGV2dG9vbHMvanNvbi1zY2hlbWEtcmVmLXBhcnNlciI6ICI5LjAuOSIsCiAgICAgIC8vIEV4dHJhY3QgdGhlIFZNIHNwZWNpZmljIHByZWZpeCB1c2VkIGJ5IGVhY2ggbGluZS4KICAgICAgdHJ5IHsKICAgICAgICB0aHJvdyBFcnJvcigpOwogICAgICB9IGNhdGNoICh4KSB7CiAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xuKCAqKGF0ICk/KS8pOwogICAgICAgIHByZWZpeCA9IG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnOwogICAgICB9CiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLgoKCiAgICByZXR1cm4gJ1xuJyArIHByZWZpeCArIG5hbWU7CiAgfQp9CnZhciByZWVudHJ5ID0gZmFsc2U7CnZhciBjb21wb25lbnRGcmFtZUNhY2hlOwoKewogIHZhciBQb3NzaWJseVdlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyA/IFdlYWtNYXAgOiBNYXA7CiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTsKfQoKZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7CiAgLy8gSWYgc29tZXRoaW5nIGFza2VkIGZvciBhIHN0YWNrIGluc2lkZSBhIGZha2UgcmVuZGVyLCBpdCBzaG91bGQgZ2V0IGlnbm9yZWQuCiAgaWYgKCAhZm4gfHwgcmVlbnRyeSkgewogICAgcmV0dXJuICcnOwogIH0KCiAgewogICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pOwoKICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBmcmFtZTsKICAgIH0KICB9CgogIHZhciBjb250cm9sOwogIHJlZW50cnkgPSB0cnVlOwogIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWUgSXQgZG9lcyBhY2NlcHQgdW5kZWZpbmVkLgoKICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDsKICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyOwoKICB7CiAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudDsgLy8gU2V0IHRoZSBkaXNwYXRjaGVyIGluIERFViBiZWNhdXNlIHRoaXMgbWlnaHQgYmUgY2FsbCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uCiAgICAvLyBmb3Igd2FybmluZ3MuCgogICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQgPSBudWxsOwogICAgZGlzYWJsZUxvZ3MoKTsKICB9CgogIHRyeSB7CiAgICAvLyBUaGlzIHNob3VsZCB0aHJvdy4KICAgIGlmIChjb25zdHJ1Y3QpIHsKICAgICAgLy8gU29tZXRoaW5nIHNob3VsZCBiZSBzZXR0aW5nIHRoZSBwcm9wcyBpbiB0aGUgY29uc3RydWN0b3IuCiAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRocm93IEVycm9yKCk7CiAgICAgIH07IC8vICRGbG93Rml4TWUKCgogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsICdwcm9wcycsIHsKICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHMKICAgICAgICAgIC8vIGJlY2F1c2UgdGhhdCB3b24ndCB0aHJvdyBpbiBhIG5vbi1zdHJpY3QgbW9kZSBmdW5jdG9kdWxlU3RhcnQgPT09CiAgICAnZnVuY3Rpb24nCikgewogIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQobmV3IEVycm9yKCkpOwp9CiAgICAgICAgICB2YXIgUmVhY3RWZXJzaW9uID0gJzE4LjIuMCc7CgovLyBBVFRFTlRJT04KLy8gV2hlbiBhZGRpbmcgbmV3IHN5bWJvbHMgdG8gdGhpcyBmaWxlLAovLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnCi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLgp2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpOwp2YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTsKdmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpOwp2YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJyk7CnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTsKdmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpOwp2YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpOwp2YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJyk7CnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTsKdmFyIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlX2xpc3QnKTsKdmFyIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKTsKdmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTsKdmFyIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Qub2Zmc2NyZWVuJyk7CnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3I7CnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJzsKZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7CiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgIT09ICdvYmplY3QnKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTsKCiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7CiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjsKICB9CgogIHJldHVybiBudWxsOwp9CgovKioKICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgZGlzcGF0Y2hlci4KICovCnZhciBSZWFjdEN1cnJlbnREaXNwYXRjaGVyID0gewogIC8qKgogICAqIEBpbnRlcm5hbAogICAqIEB0eXBlIHtSZWFjdENvbXBvbmVudH0KICAgKi8KICBjdXJyZW50OiBudWxsCn07CgovKiAgICAgIHRyYW5zaXRpb25EZWxheTogbG9hZGluZyA/IHZvaWQgMCA6ICIuMXMiLAogICAgICAgICAgd2lkdGg6IGAke3NpemV9cHhgLAogICAgICAgICAgd2lsbENoYW5nZTogInRyYW5zZm9ybSIKICAgICAgICB9LAogICAgICAgIHVzZXJTZWxlY3Q6ICJub25lIgogICAgICB9LAogICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoQXZhdGFyQ29tcG9uZW50LCB7IGFkZHJlc3MsIGVuc0ltYWdlOiBpbWFnZVVybCwgc2l6ZSB9KQogICAgKSwKICAgIGxvYWRpbmcgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KAogICAgICBCb3gsCiAgICAgIHsKICAgICAgICBjb2xvcjogImFjY2VudENvbG9yIiwKICAgICAgICBkaXNwbGF5OiAiZmxleCIsCiAgICAgICAgaGVpZ2h0OiAiZnVsbCIsCiAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICAgICAgd2lkdGg6ICJmdWxsIgogICAgICB9LAogICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoU3Bpbm5lckljb24sIHsgaGVpZ2h0OiAiMTAwJSIsIHdpZHRoOiAiMTAwJSIgfSkKICAgICkKICApOwp9CgovLyBzcmMvY29tcG9uZW50cy9JY29ucy9Ecm9wZG93bi50c3gKaW1wb3J0IFJlYWN0NyBmcm9tICJyZWFjdCI7CnZhciBEcm9wZG93bkljb24gPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoInN2ZyIsIHsgZmlsbDogIm5vbmUiLCBoZWlnaHQ6ICI3Iiwgd2lkdGg6ICIxNCIsIHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudCgidGl0bGUiLCBudWxsLCAiRHJvcGRvd24iKSwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KAogICJwYXRoIiwKICB7CiAgICBkOiAiTTEyLjc1IDEuNTQwMDFMOC41MTY0NyA1LjAwMzhDNy43Nzk3NCA1LjYwNjU4IDYuNzIwMjYgNS42MDY1OCA1Ljk4MzUyIDUuMDAzOEwxLjc1IDEuNTQwMDEiLAogICAgc3Ryb2tlOiAiY3VycmVudENvbG9yIiwKICAgIHN0cm9rZUxpbmVjYXA6ICJyb3VuZCIsCiAgICBzdHJva2VMaW5lam9pbjogInJvdW5kIiwKICAgIHN0cm9rZVdpZHRoOiAiMi41IiwKICAgIHhtbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgfQopKTsKCi8vIHNyYy9jb21wb25lbnRzL1JhaW5ib3dLaXRQcm92aWRlci9JMThuQ29udGV4dC50c3gKaW1wb3J0IFJlYWN0OCwgewogIGNyZWF0ZUNvbnRleHQgYXMgY3JlYXRlQ29udGV4dDMsCiAgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDQsCiAgdXNlTWVtbyBhcyB1c2VNZW1vNCwKICB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTMKfSBmcm9tICJyZWFjdCI7CgovLyBzcmMvbG9jYWxlcy9JMThuLnRzCnZhciBkZWZhdWx0T3B0aW9ucyA9IHsKICBkZWZhdWx0TG9jYWxlOiAiZW4iLAogIGxvY2FsZTogImVuIgp9Owp2YXIgSTE4biA9IGNsYXNzIHsKICBjb25zdHJ1Y3Rvcihsb2NhbGVUcmFuc2xhdGlvbnMpIHsKICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTsKICAgIHRoaXMuZGVmYXVsdExvY2FsZSA9IGRlZmF1bHRPcHRpb25zLmRlZmF1bHRMb2NhbGU7CiAgICB0aGlzLmVuYWJsZUZhbGxiYWNrID0gZmFsc2U7CiAgICB0aGlzLmxvY2FsZSA9biB0aGlzO2ZvcihhPSEwO3Q8bjt0KyspbC50d2VlbnNbdF0ucnVuKDEpO3JldHVybiBlPyhzLm5vdGlmeVdpdGgobyxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKG8sW2wsZV0pKTpzLnJlamVjdFdpdGgobyxbbCxlXSksdGhpc319KSxjPWwucHJvcHM7Zm9yKCFmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxvLGE7Zm9yKG4gaW4gZSlpZihpPXRbcj1GKG4pXSxvPWVbbl0sQXJyYXkuaXNBcnJheShvKSYmKGk9b1sxXSxvPWVbbl09b1swXSksbiE9PXImJihlW3JdPW8sZGVsZXRlIGVbbl0pLChhPWNlLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPXl0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiB2KG4uc3RvcCkmJihjZS5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPW4uc3RvcC5iaW5kKG4pKSxuO3JldHVybiBjZS5tYXAoYyx2dCxsKSx2KGwub3B0cy5zdGFydCkmJmwub3B0cy5zdGFydC5jYWxsKG8sbCksbC5wcm9ncmVzcyhsLm9wdHMucHJvZ3Jlc3MpLmRvbmUobC5vcHRzLmRvbmUsbC5vcHRzLmNvbXBsZXRlKS5mYWlsKGwub3B0cy5mYWlsKS5hbHdheXMobC5vcHRzLmFsd2F5cyksY2UuZngudGltZXIoY2UuZXh0ZW5kKHUse2VsZW06byxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9Y2UuQW5pbWF0aW9uPWNlLmV4dGVuZCh5dCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHRlKG4uZWxlbSxlLFkuZXhlYyh0KSxuKSxufV19LHR3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt2KGUpPyh0PWUsZT1bIioiXSk6ZT1lLm1hdGNoKEQpO2Zvcih2YXIgbixyPTAsaT1lLmxlbmd0aDtyPGk7cisrKW49ZVtyXSx5dC50d2VlbmVyc1tuXT15dC50d2VlbmVyc1tuXXx8W10seXQudHdlZW5lcnNbbl0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGMsZj0id2lkdGgiaW4gdHx8ImhlaWdodCJpbiB0LHA9dGhpcyxkPXt9LGg9ZS5zdHlsZSxnPWUubm9kZVR5cGUmJmVlKGUpLHY9Xy5nZXQoZSwiZnhzaG93Iik7Zm9yKHIgaW4gbi5xdWV1ZXx8KG51bGw9PShhPWNlLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLGNlLnF1ZXVlKGUsImZ4IikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoaT10W3JdLGZ0LnRlc3QoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8InRvZ2dsZSI9PT1pLGk9PT0oZz8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09aXx8IXZ8fHZvaWQgMD09PXZbcl0pY29udGludWU7Zz0hMH1kW3JdPXYmJnZbcl18fGNlLnN0eWxlKGUscil9aWYoKHU9IWNlLmlzRW1wdHlPYmplY3QodCkpfHwhY2UuaXNFbXB0eU9iamVjdChkKSlmb3IociBpbiBmJiYxPT09ZS5ub2RlVHlwZSYmKG4ub3ZlcmZsb3c9LG4pOmwoZSx0LG4pKTtyZXR1cm4gaT1udWxsLHJ9XTtzPHI7cysrKWlmKHQ9Yi5yZWxhdGl2ZVtlW3NdLnR5cGVdKWM9W0ooSyhjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gZWUoMTxzJiZLKGMpLDE8cyYmUShlLnNsaWNlKDAscy0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbcy0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKHZlLCIkMSIpLHQsczxuJiZ0ZShlLnNsaWNlKHMsbikpLG48ciYmdGUoZT1lLnNsaWNlKG4pKSxuPHImJlEoZSkpfWMucHVzaCh0KX1yZXR1cm4gSyhjKX1mdW5jdGlvbiBuZShlLHQpe3ZhciBuLHYseSxtLHgscixpPVtdLG89W10sYT11W2UrIiAiXTtpZighYSl7dHx8KHQ9WShlKSksbj10Lmxlbmd0aDt3aGlsZShuLS0pKGE9dGUodFtuXSkpW1NdP2kucHVzaChhKTpvLnB1c2goYSk7KGE9dShlLCh2PW8sbT0wPCh5PWkpLmxlbmd0aCx4PTA8di5sZW5ndGgscj1mdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEscyx1PTAsbD0iMCIsYz1lJiZbXSxmPVtdLHA9dyxkPWV8fHgmJmIuZmluZC5UQUcoIioiLGkpLGg9RSs9bnVsbD09cD8xOk1hdGgucmFuZG9tKCl8fC4xLGc9ZC5sZW5ndGg7Zm9yKGkmJih3PXQ9PVR8fHR8fGkpO2whPT1nJiZudWxsIT0obz1kW2xdKTtsKyspe2lmKHgmJm8pe2E9MCx0fHxvLm93bmVyRG9jdW1lbnQ9PVR8fChWKG8pLG49IUMpO3doaWxlKHM9dlthKytdKWlmKHMobyx0fHxULG4pKXtrLmNhbGwocixvKTticmVha31pJiYoRT1oKX1tJiYoKG89IXMmJm8pJiZ1LS0sZSYmYy5wdXNoKG8pKX1pZih1Kz1sLG0mJmwhPT11KXthPTA7d2hpbGUocz15W2ErK10pcyhjLGYsdCxuKTtpZihlKXtpZigwPHUpd2hpbGUobC0tKWNbbF18fGZbbF18fChmW2xdPXBlLmNhbGwocikpO2Y9WihmKX1rLmFwcGx5KHIsZiksaSYmIWUmJjA8Zi5sZW5ndGgmJjE8dSt5Lmxlbmd0aCYmY2UudW5pcXVlU29ydChyKX1yZXR1cm4gaSYmKEU9aCx3PXApLGN9LG0/RihyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9ZnVuY3Rpb24gcmUoZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGM9IXImJlkoZT1sLnNlbGVjdG9yfHxlKTtpZihuPW58fFtdLDE9PT1jLmxlbmd0aCl7aWYoMjwobz1jWzBdPWNbMF0uc2xpY2UoMCkpLmxlbmd0aCYmIklEIj09PShhPW9bMF0pLnR5cGUmJjk9PT10Lm5vZGVUeXBlJiZDJiZiLnJlbGF0aXZlW29bMV0udHlwZV0pe2lmKCEodD0oYi5maW5kLklEKGEubWF0Y2hlc1swXS5yZXBsYWNlKE8sUCksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1ELm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZShPLFApLEgudGVzdChvWzBdLnR5cGUpJiZVKHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoby5zcGxpY2UoaSwxKSwhKGU9ci5sZW5ndGgmJlEobykpKXJldHVybiBrLmFwcGx5KG4sciksbjticmVha319fXJldHVybihsbnNlVHlwZXx8cikpe3ZhciBvPSEodCYmdC5zaWxlbnRKU09OUGFyc2luZykmJnI7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe2lmKG8pe2lmKCJTeW50YXhFcnJvciI9PT1lLm5hbWUpdGhyb3cgWC5mcm9tKGUsWC5FUlJfQkFEX1JFU1BPTlNFLHRoaXMsbnVsbCx0aGlzLnJlc3BvbnNlKTt0aHJvdyBlfX19cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6IlhTUkYtVE9LRU4iLHhzcmZIZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4iLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSxlbnY6e0Zvcm1EYXRhOm1lLmNsYXNzZXMuRm9ybURhdGEsQmxvYjptZS5jbGFzc2VzLkJsb2J9LHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0yMDAmJmU8MzAwfSxoZWFkZXJzOntjb21tb246e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIiwiQ29udGVudC1UeXBlIjp2b2lkIDB9fX07Ry5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsInBvc3QiLCJwdXQiLCJwYXRjaCJdLChmdW5jdGlvbihlKXt2ZS5oZWFkZXJzW2VdPXt9fSkpO3ZhciBiZT12ZSxnZT1HLnRvT2JqZWN0U2V0KFsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il0pLHdlPVN5bWJvbCgiaW50ZXJuYWxzIik7ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIGUmJlN0cmluZyhlKS50cmltKCkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBFZShlKXtyZXR1cm4hMT09PWV8fG51bGw9PWU/ZTpHLmlzQXJyYXkoZSk/ZS5tYXAoRWUpOlN0cmluZyhlKX1mdW5jdGlvbiBTZShlLHQsbixyLG8pe3JldHVybiBHLmlzRnVuY3Rpb24ocik/ci5jYWxsKHRoaXMsdCxuKToobyYmKHQ9biksRy5pc1N0cmluZyh0KT9HLmlzU3RyaW5nKHIpPy0xIT09dC5pbmRleE9mKHIpOkcuaXNSZWdFeHAocik/ci50ZXN0KHQpOnZvaWQgMDp2b2lkIDApfXZhciBSZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7cih0aGlzLG4pLGUmJnRoaXMuc2V0KGUpfXJldHVybiBpKG4sW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89T2UodCk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyIpO3ZhciBpPUcuZmluZEtleShyLG8pOyghaXx8dm9pZCAwPT09cltpXXx8ITA9PT1ufHx2b2lkIDA9PT1uJiYhMSE9PXJbaV0pJiYocltpfHx0XT1FZShlKSl9dmFyIGksYSxzLHUsYyxmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEcuZm9yRWFjaChlLChmdW5jdGlvbihlLG4pe3JldHVybiBvKGUsbix0KX0pKX07cmV0dXJuIEcuaXNQbGFpbk9iamVjdChlKXx8ZSBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/ZihlLHQpOkcuaXNTdHJpbmcoZSkmJihlPWUudHJpbSgpKSYmIS9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3QoZS50cmltXVtcdyRdKig/OlwuW0EtWmEtel8kXVtcdyRdKnxcWydbXiddKj8nXXxcWyJbXiJdKj8iXXxcW1xkK118XFtbQS1aYS16XyRdW1x3JF0qXSkqJC8sa2U9WyJjdHJsIiwic2hpZnQiLCJhbHQiLCJtZXRhIl0sT2U9e3N0b3A6ZT0+ZS5zdG9wUHJvcGFnYXRpb24oKSxwcmV2ZW50OmU9PmUucHJldmVudERlZmF1bHQoKSxzZWxmOmU9PmUudGFyZ2V0IT09ZS5jdXJyZW50VGFyZ2V0LGN0cmw6ZT0+IWUuY3RybEtleSxzaGlmdDplPT4hZS5zaGlmdEtleSxhbHQ6ZT0+IWUuYWx0S2V5LG1ldGE6ZT0+IWUubWV0YUtleSxsZWZ0OmU9PiJidXR0b24iaW4gZSYmMCE9PWUuYnV0dG9uLG1pZGRsZTplPT4iYnV0dG9uImluIGUmJjEhPT1lLmJ1dHRvbixyaWdodDplPT4iYnV0dG9uImluIGUmJjIhPT1lLmJ1dHRvbixleGFjdDooZSx0KT0+a2Uuc29tZSgobj0+ZVtgJHtufUtleWBdJiYhdFtuXSkpfSxTZT0oe2VsOmUsZ2V0OnQsZXhwOm4sYXJnOnMsbW9kaWZpZXJzOnJ9KT0+e2lmKCFzKXJldHVybjtsZXQgaT0kZS50ZXN0KG4pP3QoYChlID0+ICR7bn0oZSkpYCk6dChgKCRldmVudCA9PiB7ICR7bn0gfSlgKTtpZigidnVlOm1vdW50ZWQiIT09cyl7aWYoInZ1ZTp1bm1vdW50ZWQiPT09cylyZXR1cm4oKT0+aSgpO2lmKHIpeyJjbGljayI9PT1zJiYoci5yaWdodCYmKHM9ImNvbnRleHRtZW51Iiksci5taWRkbGUmJihzPSJtb3VzZXVwIikpO2NvbnN0IGU9aTtpPXQ9PntpZighKCJrZXkiaW4gdCl8fGsodC5rZXkpaW4gcil7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3Qgbj1PZVtlXTtpZihuJiZuKHQscikpcmV0dXJufXJldHVybiBlKHQpfX19d2UoZSxzLGkscil9ZWxzZSBoZShpKX0sRWU9KHtlbDplLGdldDp0LGVmZmVjdDpufSk9PntuKCgoKT0+e2UudGV4dENvbnRlbnQ9Q2UodCgpKX0pKX0sQ2U9ZT0+bnVsbD09ZT8iIjpnKGUpP0pTT04uc3RyaW5naWZ5KGUsbnVsbCwyKTpTdHJpbmcoZSksamU9ZT0+Il92YWx1ZSJpbiBlP2UuX3ZhbHVlOmUudmFsdWUsQWU9KGUsdCk9Pntjb25zdCBuPXQ/Il90cnVlVmFsdWUiOiJfZmFsc2VWYWx1ZSI7cmV0dXJuIG4gaW4gZT9lW25dOnR9LFBlPWU9PntlLnRhcmdldC5jb21wb3Npbmc9ITB9LFJlPWU9Pntjb25zdCB0PWUudGFyZ2V0O3QuY29tcG9zaW5nJiYodC5jb21wb3Npbmc9ITEsTmUodCwiaW5wdXQiKSl9LE5lPShlLHQpPT57Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO24uaW5pdEV2ZW50KHQsITAsITApLGUuZGlzcGF0Y2hFdmVudChuKX0sVGU9T2JqZWN0LmNyZWF0ZShudWxsKSxNZT0oZSx0LG4pPT5CZShlLGByZXR1cm4oJHt0fSlgLG4pLEJlPShlLHQsbik9Pntjb25zdCBzPVRlW3RdfHwoVGVbdF09TGUodCkpO3RyeXtyZXR1cm4gcyhlLG4pfWNhdGNoKHIpe2NvbnNvbGUuZXJyb3Iocil9fSxMZT1lPT57dHJ5e3JldHVybiBuZXcgRnVuY3Rpb24oIiRkYXRhIiwiJGVsIixgd2l0aCgkZGF0YSl7JHtlfX1gKX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcihgJHt0Lm1lc3NhZ2V9IGluIGV4cHJlc3Npb246ICR7ZX1gKSwoKT0+e319fSxXZT17YmluZDp2ZSxvbjpTZSxzaG93Oih7ZWw6ZSxnZXQ6dCxlZmZlY3Q6bn0pPT57Y29uc3Qgcz1lLnN0eWxlLmRpc3BsYXk7bigoKCk9PntlLnN0eWxlLmRpc3BsYXk9dCgpP3M6Im5vbmUifSkpfSx0ZXh0OkVlLGh0e2NvbnN0IF89TChFKTtfIT09RSYmKFl0KGUpfHwoZVt5XT1fKSxFPV8pfVFbRV09ITB9cmV0dXJuIFF9ZnVuY3Rpb24gTHQoUSl7Y29uc3QgZT1KdChudWxsKTtmb3IoY29uc3RbTCxrXW9mIFd0KFEpKWVbTF09aztyZXR1cm4gZX1mdW5jdGlvbiBNdChRLGUpe2Zvcig7USE9PW51bGw7KXtjb25zdCBrPVh0KFEsZSk7aWYoayl7aWYoay5nZXQpcmV0dXJuIGJ0KGsuZ2V0KTtpZih0eXBlb2Ygay52YWx1ZT09ImZ1bmN0aW9uIilyZXR1cm4gYnQoay52YWx1ZSl9UT1RdChRKX1mdW5jdGlvbiBMKGspe3JldHVybiBjb25zb2xlLndhcm4oImZhbGxiYWNrIHZhbHVlIGZvciIsayksbnVsbH1yZXR1cm4gTH1jb25zdCBIdD12dChbImEiLCJhYmJyIiwiYWNyb255bSIsImFkZHJlc3MiLCJhcmVhIiwiYXJ0aWNsZSIsImFzaWRlIiwiYXVkaW8iLCJiIiwiYmRpIiwiYmRvIiwiYmlnIiwiYmxpbmsiLCJibG9ja3F1b3RlIiwiYm9keSIsImJyIiwiYnV0dG9uIiwiY2FudmFzIiwiY2FwdGlvbiIsImNlbnRlciIsImNpdGUiLCJjb2RlIiwiY29sIiwiY29sZ3JvdXAiLCJjb250ZW50IiwiZGF0YSIsImRhdGFsaXN0IiwiZGQiLCJkZWNvcmF0b3IiLCJkZWwiLCJkZXRhaWxzIiwiZGZuIiwiZGlhbG9nIiwiZGlyIiwiZGl2IiwiZGwiLCJkdCIsImVsZW1lbnQiLCJlbSIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvbnQiLCJmb290ZXIiLCJmb3JtIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwiaGVhZCIsImhlYWRlciIsImhncm91cCIsImhyIiwiaHRtbCIsImkiLCJpbWciLCJpbnB1dCIsImlucyIsImtiZCIsImxhYmVsIiwibGVnZW5kIiwibGkiLCJtYWluIiwibWFwIiwibWFyayIsIm1hcnF1ZWUiLCJtZW51IiwibWVudWl0ZW0iLCJtZXRlciIsIm5hdiIsIm5vYnIiLCJvbCIsIm9wdGdyb3VwIiwib3B0aW9uIiwib3V0cHV0IiwicCIsInBpY3R1cmUiLCJwcmUiLCJwcm9ncmVzcyIsInEiLCJycCIsInJ0IiwicnVieSIsInMiLCJzYW1wIiwic2VjdGlvbiIsInNlbGVjdCIsInNoYWRvdyIsInNtYWxsIiwic291cmNlIiwic3BhY2VyIiwic3BhbiIsInN0cmlrZSIsInN0cm9uZyIsInN0eWxlIiwic3ViIiwic3VtbWFyeSIsInN1cCIsInRhYmxlIiwidGJvZHkiLCJ0ZCIsInRlbXBsYXRlIiwidGV4dGFyZWEiLCJ0Zm9vdCIsInRoIiwidGhlYWQiLCJ0aW1lIiwidHIiLCJ0cmFjayIsInR0IiwidSIsInVsIiwidmFyIiwidmlkZW8iLCJ3YnIiXSksT3Q9dnQoWyJzdmciLCJhIiwiYWx0Z2x5cGgiLCJhbHRnbHlwaGRlZiIsImFsdGdseXBoaXRlbSIsImFuaW1hdGVjb2xvciIsImFuaW1hdGVtb3Rpb24iLCJhbmltYXRldHJhbnNmb3JtIiwiY2lyY2xlIiwiY2xpcHBhdGgiLCJkZWZzIiwiZGVzYyIsImVsbGlwc2UiLCJmaWx0ZXIiLCJmb250IiwiZyIsImdseXBoIiwiZ2x5cGhyZWYiLCJoa2VybiIsImltYWdlIiwibGluZSIsImxpbmVhcmdyYWRpZW50IiwibWFya2VyIiwibWFzayIsIm1ldGFkYXRhIiwibXBhdGgiLCJwYXRoIiwicGF0dGVybiIsInBvbHlnb24iLCJwb2x5bGluZSIsInJhZGlhbGdyYWRpZW50IiwicmVjdCIsInN0b3AiLCJzdHlsZSIsInN3aXRjaCIsInN5bWJvbCIsInRleHQiLCJ0ZXh0cGF0aCIsInRpdGxlIiwidHJlZiIsInRzcGFuIiwidmlldyIsInZrZXJuIl0pLEZ0PXZ0KFsiZmVCbGVuZCIsImZlQ29sY3VycmVudFF1ZXJ5SW5kZXggPSB2YWx1ZTsKfQovKioKICogUmV0dXJucyBhIGBUTm9kZWAgb2YgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBjdXJyZW50IGBMVmlld2AgaXMgZGVjbGFyZWQgYXQuCiAqCiAqIEBwYXJhbSBsVmlldyBhbiBgTFZpZXdgIHRoYXQgd2Ugd2FudCB0byBmaW5kIHBhcmVudCBgVE5vZGVgIGZvci4KICovCmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uVE5vZGUobFZpZXcpIHsKICAgIGNvbnN0IHRWaWV3ID0gbFZpZXdbVFZJRVddOwogICAgLy8gUmV0dXJuIHRoZSBkZWNsYXJhdGlvbiBwYXJlbnQgZm9yIGVtYmVkZGVkIHZpZXdzCiAgICBpZiAodFZpZXcudHlwZSA9PT0gMiAvKiBUVmlld1R5cGUuRW1iZWRkZWQgKi8pIHsKICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0Vmlldy5kZWNsVE5vZGUsICdFbWJlZGRlZCBUTm9kZXMgc2hvdWxkIGhhdmUgZGVjbGFyYXRpb24gcGFyZW50cy4nKTsKICAgICAgICByZXR1cm4gdFZpZXcuZGVjbFROb2RlOwogICAgfQogICAgLy8gQ29tcG9uZW50cyBkb24ndCBoYXZlIGBUVmlldy5kZWNsVE5vZGVgIGJlY2F1c2UgZWFjaCBpbnN0YW5jZSBvZiBjb21wb25lbnQgY291bGQgYmUKICAgIC8vIGluc2VydGVkIGluIGRpZmZlcmVudCBsb2NhdGlvbiwgaGVuY2UgYFRWaWV3LmRlY2xUTm9kZWAgaXMgbWVhbmluZ2xlc3MuCiAgICAvLyBGYWxsaW5nIGJhY2sgdG8gYFRfSE9TVGAgaW4gY2FzZSB3ZSBjcm9zcyBjb21wb25lbnQgYm91bmRhcnkuCiAgICBpZiAodFZpZXcudHlwZSA9PT0gMSAvKiBUVmlld1R5cGUuQ29tcG9uZW50ICovKSB7CiAgICAgICAgcmV0dXJuIGxWaWV3W1RfSE9TVF07CiAgICB9CiAgICAvLyBSZW1haW5pbmcgVE5vZGUgdHlwZSBpcyBgVFZpZXdUeXBlLlJvb3RgIHdoaWNoIGRvZXNuJ3QgaGF2ZSBhIHBhcmVudCBUTm9kZS4KICAgIHJldHVybiBudWxsOwp9Ci8qKgogKiBUaGlzIGlzIGEgbGlnaHQgd2VpZ2h0IHZlcnNpb24gb2YgdGhlIGBlbnRlclZpZXdgIHdoaWNoIGlzIG5lZWRlZCBieSB0aGUgREkgc3lzdGVtLgogKgogKiBAcGFyYW0gbFZpZXcgYExWaWV3YCBsb2NhdGlvbiBvZiB0aGUgREkgY29udGV4dC4KICogQHBhcmFtIHROb2RlIGBUTm9kZWAgZm9yIERJIGNvbnRleHQKICogQHBhcmFtIGZsYWdzIERJIGNvbnRleHQgZmxhZ3MuIGlmIGBTa2lwU2VsZmAgZmxhZyBpcyBzZXQgdGhhbiB3ZSB3YWxrIHVwIHRoZSBkZWNsYXJhdGlvbgogKiAgICAgdHJlZSBmcm9tIGB0Tm9kZWAgIHVudGlsIHdlIGZpbmQgcGFyZW50IGRlY2xhcmVkIGBURWxlbWVudE5vZGVgLgogKiBAcmV0dXJucyBgdHJ1ZWAgaWYgd2UgaGF2ZSBzdWNjZXNzZnVsbHkgZW50ZXJlZCBESSBhc3NvY2lhdGVkIHdpdGggYHROb2RlYCAob3Igd2l0aCBkZWNsYXJlZAogKiAgICAgYFROb2RlYCBpZiBgZmxhZ3NgIGhhcyAgYFNraXBTZWxmYCkuIEZhaWxpbmcgdG8gZW50ZXIgREkgaW1wbGllcyB0aGF0IG5vIGFzc29jaWF0ZWQKICogICAgIGBOb2RlSW5qZWN0b3JgIGNhbiBiZSBmb3VuZCBhbmQgd2Ugc2hvdWxkIGluc3RlYWQgdXNlIGBNb2R1bGVJbmplY3RvcmAuCiAqICAgICAtIElmIGB0cnVlYCB0aGFuIHRoaXMgY2FsbCBtdXN0IGJlIGZhbGxvd2VkIGJ5IGBsZWF2ZURJYAogKiAgICAgLSBJZiBgZmFsc2VgIHRoYW4gdGhpcyBjYWxsIGZhaWxlZCBhbmQgUkFUSU9OX0xDT05UQUlORVIgPSAxNjsKY29uc3QgUFJFT1JERVJfSE9PS19GTEFHUyA9IDE3Owpjb25zdCBRVUVSSUVTID0gMTg7CmNvbnN0IElEID0gMTk7CmNvbnN0IEVNQkVEREVEX1ZJRVdfSU5KRUNUT1IgPSAyMDsKY29uc3QgT05fREVTVFJPWV9IT09LUyA9IDIxOwpjb25zdCBFRkZFQ1RTX1RPX1NDSEVEVUxFID0gMjI7CmNvbnN0IFJFQUNUSVZFX1RFTVBMQVRFX0NPTlNVTUVSID0gMjM7Ci8qKgogKiBTaXplIG9mIExWaWV3J3MgaGVhZGVyLiBOZWNlc3NhcnkgdG8gYWRqdXN0IGZvciBpdCB3aGVuIHNldHRpbmcgc2xvdHMuCiAqCiAqIElNUE9SVEFOVDogYEhFQURFUl9PRkZTRVRgIHNob3VsZCBvbmx5IGJlIHJlZmVycmVkIHRvIHRoZSBpbiB0aGUgYMm1ybUqYCBpbnN0cnVjdGlvbnMgdG8gdHJhbnNsYXRlCiAqIGluc3RydWN0aW9uIGluZGV4IGludG8gYExWaWV3YCBpbmRleC4gQWxsIG90aGVyIGluZGV4ZXMgc2hvdWxkIGJlIGluIHRoZSBgTFZpZXdgIGluZGV4IHNwYWNlIGFuZAogKiB0aGVyZSBzaG91bGQgYmUgbm8gbmVlZCB0byByZWZlciB0byBgSEVBREVSX09GRlNFVGAgYW55d2hlcmUgZWxzZS4KICovCmNvbnN0IEhFQURFUl9PRkZTRVQgPSAyNTsKCi8qKgogKiBTcGVjaWFsIGxvY2F0aW9uIHdoaWNoIGFsbG93cyBlYXN5IGlkZW50aWZpY2F0aW9uIG9mIHR5cGUuIElmIHdlIGhhdmUgYW4gYXJyYXkgd2hpY2ggd2FzCiAqIHJldHJpZXZlZCBmcm9tIHRoZSBgTFZpZXdgIGFuZCB0aGF0IGFycmF5IGhhcyBgdHJ1ZWAgYXQgYFRZUEVgIGxvY2F0aW9uLCB3ZSBrbm93IGl0IGlzCiAqIGBMQ29udGFpbmVyYC4KICovCmNvbnN0IFRZUEUgPSAxOwovKioKICogQmVsb3cgYXJlIGNvbnN0YW50cyBmb3IgTENvbnRhaW5lciBpbmRpY2VzIHRvIGhlbHAgdXMgbG9vayB1cCBMQ29udGFpbmVyIG1lbWJlcnMKICogd2l0aG91dCBoYXZpbmcgdG8gcmVtZW1iZXIgdGhlIHNwZWNpZmljIGluZGljZXMuCiAqIFVnbGlmeSB3aWxsIGlubGluZSB0aGVzZSB3aGVuIG1pbmlmeWluZyBzbyB0aGVyZSBzaG91bGRuJ3QgYmUgYSBjb3N0LgogKi8KLy8gRkxBR1MsIFBBUkVOVCwgTkVYVCwgYW5kIFRfSE9TVCBhcmUgaW5kaWNlcyAyLCAzLCA0LCBhbmQgNQovLyBBcyB3ZSBhbHJlYWR5IGhhdmUgdGhlc2UgY29uc3RhbnRzIGluIExWaWV3LCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNyZWF0ZSB0aGVtLgpjb25zdCBERUhZRFJBVEVEX1ZJRVdTID0gNjsKY29uc3QgTkFUSVZFID0gNzsKY29uc3QgVklFV19SRUZTID0gODsKY29uc3QgTU9WRURfVklFV1MgPSA5OwovKioKICogU2l6ZSBvZiBMQ29udGFpbmVyJ3MgaGVhZGVyLiBSZXByZXNlbnRzIHRoZSBpbmRleCBhZnRlciB3aGljaCBhbGwgdmlld3MgaW4gdGhlCiAqIGNvbnRhaW5lciB3aWxsIGJlIGluc2VydGVkLiBXZSBuZWVkIHRvIGtlZXAgYSByZWNvcmQgb2YgY3VycmVudCB2aWV3cyBzbyB3ZSBrbm93CiAqIHdoaWNoIHZpZXdzIGFyZSBhbHJlYWR5IGluIHRoZSBET00gKGFuZCBkb24ndCBuZWVkIHRvIGJlIHJlLWFkZGVkKSBhbmQgc28gd2UgY2FuCiAqIHJlbW92ZSB2aWV3cyBmcm9tIHRoZSBET00gd2hlbiB0aGV5IGFyZSBubyBsb25nZXIgcmVxdWlyZWQuCiAqLwpjb25zdCBDT05UQUlORVJfSEVBREVSX09GRlNFVCA9IDEwOwovKiogRmxhZ3MgYXNzb2NpYXRlZCB3aXRocnJvcigyMDIgLyogUnVudGltZUVycm9yQ29kZS5JTlZBTElEX0ZBQ1RPUllfREVQRU5ERU5DWSAqLywgbmdEZXZNb2RlICYmCiAgICAgICAgYFRoaXMgY29uc3RydWN0b3IgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBBbmd1bGFyIERlcGVuZGVuY3kgSW5qZWN0aW9uIGJlY2F1c2UgaXRzIGRlcGVuZGVuY3kgYXQgaW5kZXggJHtpbmRleH0gb2YgdGhlIHBhcmFtZXRlciBsaXN0IGlzIGludmFsaWQuClRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgZGVwZW5kZW5jeSB0eXBlIGlzIGEgcHJpbWl0aXZlIGxpa2UgYSBzdHJpbmcgb3IgaWYgYW4gYW5jZXN0b3Igb2YgdGhpcyBjbGFzcyBpcyBtaXNzaW5nIGFuIEFuZ3VsYXIgZGVjb3JhdG9yLgoKUGxlYXNlIGNoZWNrIHRoYXQgMSkgdGhlIHR5cGUgZm9yIHRoZSBwYXJhbWV0ZXIgYXQgaW5kZXggJHtpbmRleH0gaXMgY29ycmVjdCBhbmQgMikgdGhlIGNvcnJlY3QgQW5ndWxhciBkZWNvcmF0b3JzIGFyZSBkZWZpbmVkIGZvciB0aGlzIGNsYXNzIGFuZCBpdHMgYW5jZXN0b3JzLmApOwp9Ci8qKgogKiBJbmplY3RzIGEgdG9rZW4gZnJvbSB0aGUgY3VycmVudGx5IGFjdGl2ZSBpbmplY3Rvci4KICogYGluamVjdGAgaXMgb25seSBzdXBwb3J0ZWQgaW4gYW4gW2luamVjdGlvbiBjb250ZXh0XSgvZ3VpZGUvZGVwZW5kZW5jeS1pbmplY3Rpb24tY29udGV4dCkuIEl0IGNhbgogKiBiZSB1c2VkIGR1cmluZzoKICogLSBDb25zdHJ1Y3Rpb24gKHZpYSB0aGUgYGNvbnN0cnVjdG9yYCkgb2YgYSBjbGFzcyBiZWluZyBpbnN0YW50aWF0ZWQgYnkgdGhlIERJIHN5c3RlbSwgc3VjaAogKiBhcyBhbiBgQEluamVjdGFibGVgIG9yIGBAQ29tcG9uZW50YC4KICogLSBJbiB0aGUgaW5pdGlhbGl6ZXIgZm9yIGZpZWxkcyBvZiBzdWNoIGNsYXNzZXMuCiAqIC0gSW4gdGhlIGZhY3RvcnkgZnVuY3Rpb24gc3BlY2lmaWVkIGZvciBgdXNlRmFjdG9yeWAgb2YgYSBgUHJvdmlkZXJgIG9yIGFuIGBASW5qZWN0YWJsZWAuCiAqIC0gSW4gdGhlIGBmYWN0b3J5YCBmdW5jdGlvbiBzcGVjaWZpZWQgZm9yIGFuIGBJbmplY3Rpb25Ub2tlbmAuCiAqIC0gSW4gYSBzdGFja2ZyYW1lIG9mIGEgZnVuY3Rpb24gY2FsbCBpbiBhIERJIGNvbnRleHQKICoKICogQHBhcmFtIHRva2VuIEEgdG9rZW4gdGhhdCByZXByZXNlbnRzIGEgZGVwZW5kZW5jeSB0aGF0IHNob3VsZCBiZSBpbmplY3RlZC4KICogQHBhcmFtIGZsYWdzIE9wdGlvbmFsIGZsYWdzIHRoYXQgY29udHJvbCBob3cgaW5qZWN0aW9uIGlzIGV4ZWN1dGVkLgogKiBUaGUgZmxhZ3MgY29ycmVzcG9uZCB0byBpbmplY3Rpb24gc3RyYXRlZ2llcyB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgd2l0aAogKiBwYXJhbWV0ZXIgZGVjb3JhdG9ycyBgQEhvc3RgLCBgQFNlbGZgLCBgQFNraXBTZWxmYCwgYW5kIGBAT3B0aW9uYWxgLgogKiBAcmV0dXJucyB0aGUgaW5qZWN0ZWQgdmFsdWUgaWYgb3BlcmF0aW9uIGlzIHN1Y2Nlc3NmdWwsIGBudWxsYCBvdGhlcndpc2UuCiAqIEB0aHJvd3MgaWYgY2FsbGVkIG91dHNpZGUgb2YgYSBzdXBwb3J0ZWQgY29udGV4dC4KICoKICogQHVzYWdlTm90ZXMKICogSW4gcHJhY3RpY2UgdGhlIGBpbmplY3QoKWAgY2FsbHMgYXJlIGFsbG93ZWQgaW4gYSBjb25zdHJ1Y3RvciwgYSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXIgYW5kIGEKICogZmllbGQgaW5pdGlhb2JzZXJ2ZXIpe2lmKHQucGFyYW1zLm9ic2VydmVQYXJlbnRzKXtjb25zdCBlPUUodC5ob3N0RWwpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSlvKGVbdF0pfW8odC5ob3N0RWwse2NoaWxkTGlzdDp0LnBhcmFtcy5vYnNlcnZlU2xpZGVDaGlsZHJlbn0pLG8odC53cmFwcGVyRWwse2F0dHJpYnV0ZXM6ITF9KX19KSksYSgiZGVzdHJveSIsKCgpPT57bi5mb3JFYWNoKChlPT57ZS5kaXNjb25uZWN0KCl9KSksbi5zcGxpY2UoMCxuLmxlbmd0aCl9KSl9XSk7Y29uc3QgdWU9W2Z1bmN0aW9uKGUpe2xldCB0LHtzd2lwZXI6cyxleHRlbmRQYXJhbXM6aSxvbjpyLGVtaXQ6bn09ZTtpKHt2aXJ0dWFsOntlbmFibGVkOiExLHNsaWRlczpbXSxjYWNoZTohMCxyZW5kZXJTbGlkZTpudWxsLHJlbmRlckV4dGVybmFsOm51bGwscmVuZGVyRXh0ZXJuYWxVcGRhdGU6ITAsYWRkU2xpZGVzQmVmb3JlOjAsYWRkU2xpZGVzQWZ0ZXI6MH19KTtjb25zdCBsPWEoKTtzLnZpcnR1YWw9e2NhY2hlOnt9LGZyb206dm9pZCAwLHRvOnZvaWQgMCxzbGlkZXM6W10sb2Zmc2V0OjAsc2xpZGVzR3JpZDpbXX07Y29uc3Qgbz1sLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Z1bmN0aW9uIGQoZSx0KXtjb25zdCBhPXMucGFyYW1zLnZpcnR1YWw7aWYoYS5jYWNoZSYmcy52aXJ0dWFsLmNhY2hlW3RdKXJldHVybiBzLnZpcnR1YWwuY2FjaGVbdF07bGV0IGk7cmV0dXJuIGEucmVuZGVyU2xpZGU/KGk9YS5yZW5kZXJTbGlkZS5jYWxsKHMsZSx0KSwic3RyaW5nIj09dHlwZW9mIGkmJihvLmlubmVySFRNTD1pLGk9by5jaGlsZHJlblswXSkpOmk9cy5pc0VsZW1lbnQ/digic3dpcGVyLXNsaWRlIik6digiZGl2IixzLnBhcmFtcy5zbGlkZUNsYXNzKSxpLnNldEF0dHJpYnV0ZSgiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiLHQpLGEucmVuZGVyU2xpZGV8fChpLmlubmVySFRNTD1lKSxhLmNhY2hlJiYocy52aXJ0dWFsLmNhY2hlW3RdPWkpLGl9ZnVuY3Rpb24gYyhlKXtjb25zdHtzbGlkZXNQZXJWaWV3OnQsc2xpZGVzUGVyR3JvdXA6YSxjZW50ZXJlZFNsaWRlczppLGxvb3A6cn09cy5wYXJhbXMse2FkZFNsaWRlc0JlZm9yZTpsLGFkZFNsaWRlc0FmdGVyOm99PXMucGFyYW1zLnZpcnR1YWwse2Zyb206Yyx0bzpwLHNsaWRlczp1LHNsaWRlc0dyaWQ6bSxvZmZzZXQ6aH09cy52aXJ0dWFsO3MucGFyYW1zLmNzc01vZGV8fHMudXBkYXRlQWN0aXZlSW5kZXgoKTtjb25zdCBnPXMuYWN0aXZlSW5kZXh8fDA7bGV0IHYsdyxiO3Y9cy5ydGxUcmFuc2xhdGU/InJpZ2h0IjpzLmlzSG9yaXpvbnRhbCgpPyJsZWZ0IjoidG9wIixpPyh3PU1hdGguZmxvb3IodC8yKSthK28sYj1NYXRoLmZsb29yKHQvMikrYStsKToodz10KyhhLTEpK28sYj0ocj90OmEpK2wpO2xldCB5PWctYixFPWcrdztyfHwoeT1NYXRoLm1heCh5LDApLEU9TWF0aC5taW4oRSx1Lmxlbmd0aC0xKSk7bGV0IHg9KHMuc2xpZGVzR3JpZFt5XXx8MCktKHMuc2xpZGVzR3JpZFswXXx8MCk7ZnVuY3Rpb24gUygpe3MudXBkYXRlU2xpZGVzKCkscy51cGRhdGVQcm9ncmVzcygpLHMudXBkYXRlU2xpZGVzQ2xhc3NlcygpLG4oInZpcnR1YWxVcGRhdGUiKX1pZihyJiZnPj1iPyh5LT1iLGl8fCh4Kz1zLnNsaWRlc0dyaWRbMF0pKTpyJiZnPGImJih5PS1iLGkmJih4Kz1zLnNsaWRlc0dyaWRbMF0pKSxPYmplY3QuYXNzaWduKHMudXJyZW50WD1pLnBhZ2VYLGQuY3VycmVudFk9aS5wYWdlWTtjb25zdCBnPWQuY3VycmVudFgsdj1kLmN1cnJlbnRZO2lmKCFOKHQsaSxnKSlyZXR1cm47T2JqZWN0LmFzc2lnbihuLHtpc1RvdWNoZWQ6ITAsaXNNb3ZlZDohMSxhbGxvd1RvdWNoQ2FsbGJhY2tzOiEwLGlzU2Nyb2xsaW5nOnZvaWQgMCxzdGFydE1vdmluZzp2b2lkIDB9KSxkLnN0YXJ0WD1nLGQuc3RhcnRZPXYsbi50b3VjaFN0YXJ0VGltZT1vKCksdC5hbGxvd0NsaWNrPSEwLHQudXBkYXRlU2l6ZSgpLHQuc3dpcGVEaXJlY3Rpb249dm9pZCAwLGwudGhyZXNob2xkPjAmJihuLmFsbG93VGhyZXNob2xkTW92ZT0hMSk7bGV0IHc9ITA7cC5tYXRjaGVzKG4uZm9jdXNhYmxlRWxlbWVudHMpJiYodz0hMSwiU0VMRUNUIj09PXAubm9kZU5hbWUmJihuLmlzVG91Y2hlZD0hMSkpLHMuYWN0aXZlRWxlbWVudCYmcy5hY3RpdmVFbGVtZW50Lm1hdGNoZXMobi5mb2N1c2FibGVFbGVtZW50cykmJnMuYWN0aXZlRWxlbWVudCE9PXAmJnMuYWN0aXZlRWxlbWVudC5ibHVyKCk7Y29uc3QgYj13JiZ0LmFsbG93VG91Y2hNb3ZlJiZsLnRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDshbC50b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdCYmIWJ8fHAuaXNDb250ZW50RWRpdGFibGV8fGkucHJldmVudERlZmF1bHQoKSxsLmZyZWVNb2RlJiZsLmZyZWVNb2RlLmVuYWJsZWQmJnQuZnJlZU1vZGUmJnQuYW5pbWF0aW5nJiYhbC5jc3NNb2RlJiZ0LmZyZWVNb2RlLm9uVG91Y2hTdGFydCgpLHQuZW1pdCgidG91Y2hTdGFydCIsaSl9ZnVuY3Rpb24gQihlKXtjb25zdCB0PWEoKSxzPXRoaXMsaT1zLnRvdWNoRXZlbnRzRGF0YSx7cGFyYW1zOnIsdG91Y2hlczpuLHJ0bFRyYW5zbGF0ZTpsLGVuYWJsZWQ6ZH09cztpZighZClyZXR1cm47aWYoIXIuc2ltdWxhdGVUb3VjaCYmIm1vdXNlIj09PWUucG9pbnRlclR5cGUpcmV0dXJuO2xldCBjLHA9ZTtpZihwLm9yaWdpbmFsRXZlbnQmJihwPXAub3JpZ2luYWxFdmVudCksInBvaW50ZXJtb3ZlIj09PXAudHlwZSl7aWYobnVsbCE9PWkudG91Y2hJZClyZXR1cm47aWYocC5wb2ludGVySWQhPT1pLnBvaW50ZXJJZClyZXR1cm59aWYoInRvdWNobW92ZSI9PT1wLnR5cGUpe2lmKGM9Wy4uLnAuY2hhbmdlZFRvdWNoZXNdLmZpbHRlcigoZT0+ZS5pZGVudGlmaWVyPT09aS50b3VjaElkKSlbMF0sIWN8fGMuaWRlbnRpZmllciE9PWkudG91Y2hJZClyZXR1cm59ZWxzZSBjPXA7aWYoIWkuaXNUb3VjaGVkKXJldHVybiB2b2lkKGkuc3RhcnRNb3ZpbmcmJmkuaXNTY3JvbGxpbmcmJnMuZW1pdCgidG91Y2hNb3ZlT3Bwb3NpdGUiLHApKTtjb25zdCB1PWMucGFnZVgsbT1jLnBhZ2VZO2lmKHAucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpcmV0dXJuIG4uc3RhcnRYPXUsdm9pZChuLnN0YXJ0WT1tKTtpZighcy5hbGxvd1RvdWNoTW92ZSlyZXR1cm4gcC50YXJnZXQubWF0Y2hlcyhpLmZvY3VzYWJsZUVsZW1lbnRzKXx8KHMuYWxsb3dDbGljaz0hMSksdm9pZChpLmlzVG91Y2hlZCYmKE9iamVjdC5hc3NpZ24obix7c3RhcnRYOnUsc3RhcnRZOm0sY3VycmVudFg6dSxjdXJyZW50WTptfSksaS50b3VjaFN0YXJ0VGltZT1vKCkpKTtpZihyLnRvdWNoUmVsZWFzZU9uRWRnZXMmJiFyLmxvb3ApaWYocy5pc1ZlcnRpY2FsKCkpe2lmKG08bi5zdGFydFkmJnMudHJhbnNsYXRlPD1zdXRTZWdtZW50cygpOiBzdHJpbmdbXSB8IG51bGwKCiAgLyoqCiAgICogQSBbQ2xpZW50IENvbXBvbmVudF0oaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2J1aWxkaW5nLXlvdXItYXBwbGljYXRpb24vcmVuZGVyaW5nL2NsaWVudC1jb21wb25lbnRzKSBob29rCiAgICogdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBhY3RpdmUgcm91dGUgc2VnbWVudCAqKm9uZSBsZXZlbCBiZWxvdyoqIHRoZSBMYXlvdXQgaXQgaXMgY2FsbGVkIGZyb20uCiAgICoKICAgKiBJZiB1c2VkIGZyb20gYHBhZ2VzL2AsIHRoZSBob29rIHdpbGwgcmV0dXJuIGBudWxsYC4KICAgKi8KICBleHBvcnQgZnVuY3Rpb24gdXNlU2VsZWN0ZWRMYXlvdXRTZWdtZW50KCk6IHN0cmluZyB8IG51bGwKfQovKioKICogU3dpcGVyIDExLjAuNQogKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9ucwogKiBodHRwczovL3N3aXBlcmpzLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNC0yMDIzIFZsYWRpbWlyIEtoYXJsYW1waWRpCiAqCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZQogKgogKiBSZWxlYXNlZCBvbjogTm92ZW1iZXIgMjIsIDIwMjMKICovCgp2YXIgU3dpcGVyPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIG51bGwhPT1lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiJjb25zdHJ1Y3RvciJpbiBlJiZlLmNvbnN0cnVjdG9yPT09T2JqZWN0fWZ1bmN0aW9uIHQocyxhKXt2b2lkIDA9PT1zJiYocz17fSksdm9pZCAwPT09YSYmKGE9e30pLE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGk9Pnt2b2lkIDA9PT1zW2ldP3NbaV09YVtpXTplKGFbaV0pJiZlKHNbaV0pJiZPYmplY3Qua2V5cyhhW2ldKS5sZW5ndGg+MCYmdChzW2ldLGFbaV0pfSkpfWNvbnN0IHM9e2JvZHk6e30sYWRkRXZlbnRMaXN0ZW5lcigpe30scmVtb3ZlRXZlbnRMaXN0ZW5lcigpe30sYWN0aXZlRWxlbWVudDp7Ymx1cigpe30sbm9kZU5hbWU6IiJ9LHF1ZXJ5U2VsZWN0b3I6KCk9Pm51bGwscXVlcnlTZWxlY3RvckFsbDooKT0+W10sZ2V0RWxlbWVudEJ5SWQ6KCk9Pm51bGwsY3JlYXRlRXZlbnQ6KCk9Pih7aW5pdEV2ZW50KCl7fX0pLGNyZWF0ZUVsZW1lbnQ6KCk9Pih7Y2hpbGRyZW46W10sY2hpbGROb2RlczpbXSxzdHlsZTp7fSxzZXRBdHRyaWJ1dGUoKXt9LGdldEVsZW1lbnRzQnlUYWdOYW1lOigpPT5bXX0pLGNyZWF0ZUVsZW1lbnROUzooKT0+KHt9KSxpbXBvcnROb2RlOigpPT5udWxsLGxvY2F0aW9uOntoYXNoOiIiLGhvc3Q6IiIsaG9zdG5hbWU6IiIsaHJlZjoiIixvcmlnaW46IiIscGF0aG5hbWU6IiIscHJvdG9jb2w6IiIsc2VhcmNoOiIifX07ZnVuY3Rpb24gYSgpe2NvbnN0IGU9InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp7fTtyZXR1cm4gdChlLHMpLGV9Y29uc3QgaT17ZG9jdW1lbnQ6cyxuYXZpZ2F0b3I6e3VzZXJBZ2VudDoiIn0sbG9jYXRpb246e2hhc2g6IiIsaG9zdDoiIixob3N0bmFtZToiIixocmVmOiIiLG9yaWdpbjoiIixwYXRobmFtZToiIixwcm90b2NvbDoiIixzZWFyY2g6IiJ9LGhpc3Rvcnk6e3JlcGxhY2VTdGF0ZSgpe30scHVzaFN0YXRlKCl7fSxnbygpe30sYmFjaygpe319LEN1c3RvbUV2ZW50OmZ1bmN0OlxufCQpKXx+ezMsfSkoW15cbl0qKSg/OlxufCQpKD86fChbXHNcU10qPykoPzpcbnwkKSkoPzogezAsM31cMVt+YF0qICooPz1cbnwkKXwkKS87CiAgICBjb25zdCBociA9IC9eIHswLDN9KCg/Oi1bXHQgXSopezMsfXwoPzpfWyBcdF0qKXszLH18KD86XCpbIFx0XSopezMsfSkoPzpcbit8JCkvOwogICAgY29uc3QgaGVhZGluZyA9IC9eIHswLDN9KCN7MSw2fSkoPz1cc3wkKSguKikoPzpcbit8JCkvOwogICAgY29uc3QgYnVsbGV0ID0gLyg/OlsqKy1dfFxkezEsOX1bLildKS87CiAgICBjb25zdCBsaGVhZGluZyA9IGVkaXQoL14oPyFidWxsICkoKD86Lnxcbig/IVxzKj9cbnxidWxsICkpKz8pXG4gezAsM30oPSt8LSspICooPzpcbit8JCkvKQogICAgICAgIC5yZXBsYWNlKC9idWxsL2csIGJ1bGxldCkgLy8gbGlzdHMgY2FuIGludGVycnVwdAogICAgICAgIC5nZXRSZWdleCgpOwogICAgY29uc3QgX3BhcmFncmFwaCA9IC9eKFteXG5dKyg/OlxuKD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfGZlbmNlc3xsaXN0fGh0bWx8dGFibGV8ICtcbilbXlxuXSspKikvOwogICAgY29uc3QgYmxvY2tUZXh0ID0gL15bXlxuXSsvOwogICAgY29uc3QgX2Jsb2NrTGFiZWwgPSAvKD8hXHMqXF0pKD86XFwufFteXFtcXVxcXSkrLzsKICAgIGNvbnN0IGRlZiA9IGVkaXQoL14gezAsM31cWyhsYWJlbClcXTogKig/OlxuICopPyhbXjxcc11bXlxzXSp8PC4qPz4pKD86KD86ICsoPzpcbiAqKT98ICpcbiAqKSh0aXRsZSkpPyAqKD86XG4rfCQpLykKICAgICAgICAucmVwbGFjZSgnbGFiZWwnLCBfYmxvY2tMYWJlbCkKICAgICAgICAucmVwbGFjZSgndGl0bGUnLCAvKD86Iig/OlxcIj98W14iXFxdKSoifCdbXidcbl0qKD86XG5bXidcbl0rKSpcbj8nfFwoW14oKV0qXCkpLykKICAgICAgICAuZ2V0UmVnZXgoKTsKICAgIGNvbnN0IGxpc3QgPSBlZGl0KC9eKCB7MCwzfWJ1bGwpKFsgXHRdW15cbl0rPyk/KD86XG58JCkvKQogICAgICAgIC5yZXBsYWNlKC9idWxsL2csIGJ1bGxldCkKICAgICAgICAuZ2V0UmVnZXgoKTsKICAgIGNvbnN0IF90YWcgPSAnYWRkcmVzc3xhcnRpY2xlfGFzaWRlfGJhc2V8YmFzZWZvbnR8YmxvY2txdW90ZXxib2R5fGNhcHRpb24nCiAgICAgICAgKyAnfGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9uJwogICAgICAgICsgJ3xmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lJwogICAgICAgICsgJ3xsZWdlbmR8bGl8bGlua3xtYWlufG1lbnV8bWVudWl0ZW18bWV0YXxuYXZ8bm9mcmFtZXN8b2x8b3B0Z3JvdXB8b3B0aW9uJwogICAgICAgICsgJ3xwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHInCiAgICAgICAgKyAnfHRyYWNrfHVsJzsKICAgIGNvbnN0IF9jb21tZW50ID0gLzwhLS0oPyEtPz4pW1xzXFNdKj8oPzotLT58JCkvOwogICAgY29uc3QgaHRtbCA9IGVkaXQoJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uCiAgICAgICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVtcXHM+XVtcXHNcXFNdKj8oPzo8L1xcMT5bXlxcbl0qXFxuK3wkKScgLy8gKDEpdHVybiBmKHYsbil9KSksbih0KSl9fSkpO3JldHVybiB2Lm9yaWc9cix2LnN0YXR1cz0icGVuZGluZyIsZnVuY3Rpb24obix0KXtvLnNldChuLHQpLG4uY2F0Y2goKGZ1bmN0aW9uKCl7fSkpLmZpbmFsbHkoKGZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVsZXRlKG4pfSkpfSh2LChmdW5jdGlvbihuKXtuJiZ1KG4pLG51bGw9PWl8fGkoKX0pKSxwKG4sdixlKX12YXIgZDtyZXR1cm4gcChuLHIsZSl9LHk9ZnVuY3Rpb24gbihyLG8pe3ZhciB1PXMocik7aWYoIW8mJnUpe2lmKHQuaGFzKHIpKXJldHVybiB1O2lmKEFycmF5LmZyb20odS5kKS5ldmVyeSgoZnVuY3Rpb24odCl7dmFyIGU9dFswXSxpPXRbMV07aWYoZT09PXIpcmV0dXJuITA7dmFyIG89bihlKTtyZXR1cm4gbz09PWl8fGMobyxpKX0pKSlyZXR1cm4gdX12YXIgYSxmLGw9bmV3IE1hcCxwPSEwLHk9e2dldCBzaWduYWwoKXtyZXR1cm4gYXx8KGE9bmV3IEFib3J0Q29udHJvbGxlciksYS5zaWduYWx9LGdldCBzZXRTZWxmKCl7cmV0dXJuIWYmJmkocikmJihmPWZ1bmN0aW9uKCl7aWYoIXApe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KG4pLGU9MDtlPG47ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBNLmFwcGx5KHZvaWQgMCxbcl0uY29uY2F0KHQpKX19KSxmfX07dHJ5e3ZhciBFPXIucmVhZCgoZnVuY3Rpb24odCl7aWYodD09PXIpe3ZhciBpPXModCk7aWYoaSlyZXR1cm4gbC5zZXQodCxpKSxkKGkpO2lmKGUodCkpcmV0dXJuIGwuc2V0KHQsdm9pZCAwKSx0LmluaXQ7dGhyb3cgbmV3IEVycm9yKCJubyBhdG9tIGluaXQiKX12YXIgbz1uKHQpO3JldHVybiBsLnNldCh0LG8pLGQobyl9KSx5KTtyZXR1cm4gdyhyLEUsbCwoZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gbnVsbD09KG49YSk/dm9pZCAwOm4uYWJvcnQoKX0pKX1jYXRjaChuKXtyZXR1cm4gZnVuY3Rpb24obix0LHIpe3ZhciBlPXMobiksaT17ZDoobnVsbD09ZT92b2lkIDA6ZS5kKXx8bmV3IE1hcCxlOnR9O3JldHVybiByJiZnKG4saSxyKSx2KGUsaSkmJmUuZD09PWkuZD9lOihoKG4saSksaSl9KHIsbixsKX1maW5hbGx5e3A9ITF9fSxFPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIXQubC5zaXplJiYoIXQudC5zaXplfHwxPT09dC50LnNpemUmJnQudC5oYXMobikpfSxtPWZ1bmN0aW9uIG4oaSl7Zm9yKHZhciBvPSEwLHU9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheSh1PjE/dS0xOjApLGY9MTtmPHU7ZisrKWFbZi0xXT1hcmd1bWVudHNbZl07dmFyIHY9aS53cml0ZS5hcHBseShpLFtmdW5jdGlvbihuKXtyZXR1cm4gZCh5KG4pKX0sZnVuY3Rpb24odSl7Zm9yKHZhciBhLGY9YXJndW1lbnRzLmxlbmd0aCx2PW5ldyBBcnJheShmPjE/Zi0xOjApLGw9MTtsPGY7bCsrKXZbbC0xXT1hcmd1bWVudHNbbF07aWYodT09PWkpe2lmKCFlKHUpKXRocm93IG5ldyBFcnJvcigiYXRvbSBub3Qgd3JpdGFibGUiKTt2YXIgZD1zKHUpLGg9dyh1LHZbMF0pO2MoZCxoKXx8ZnVuY3Rpb24obil7dmFyIGU9bmV3IE1hcCxpPW5ldyBXZWFrTWFwLG89ZnVuY3Rpb24obil7dmFyIGUsaT1uZXcgU2V0KG51bGw9PShlPXQuZ2V0KG4pKT92b2lkIDA6ZS50KTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBlO251bGwhPShlPXMocikpJiZlLmQuaGFzKG4pJiZpLmFkZChyKX0pKSxpfTshZnVuY3RpdGlvbiByZW1vdmVSYW5nZShsaXN0LCBub2RlLCBjb3VudCkgewoJCXZhciBuZXh0ID0gbm9kZS5uZXh0OwoJCWZvciAodmFyIGkgPSAwOyBpIDwgY291bnQgJiYgbmV4dCAhPT0gbGlzdC50YWlsOyBpKyspIHsKCQkJbmV4dCA9IG5leHQubmV4dDsKCQl9CgkJbm9kZS5uZXh0ID0gbmV4dDsKCQluZXh0LnByZXYgPSBub2RlOwoJCWxpc3QubGVuZ3RoIC09IGk7Cgl9CgkvKioKCSAqIEBwYXJhbSB7TGlua2VkTGlzdDxUPn0gbGlzdAoJICogQHJldHVybnMge1RbXX0KCSAqIEB0ZW1wbGF0ZSBUCgkgKi8KCWZ1bmN0aW9uIHRvQXJyYXkobGlzdCkgewoJCXZhciBhcnJheSA9IFtdOwoJCXZhciBub2RlID0gbGlzdC5oZWFkLm5leHQ7CgkJd2hpbGUgKG5vZGUgIT09IGxpc3QudGFpbCkgewoJCQlhcnJheS5wdXNoKG5vZGUudmFsdWUpOwoJCQlub2RlID0gbm9kZS5uZXh0OwoJCX0KCQlyZXR1cm4gYXJyYXk7Cgl9CgoKCWlmICghX3NlbGYuZG9jdW1lbnQpIHsKCQlpZiAoIV9zZWxmLmFkZEV2ZW50TGlzdGVuZXIpIHsKCQkJLy8gaW4gTm9kZS5qcwoJCQlyZXR1cm4gXzsKCQl9CgoJCWlmICghXy5kaXNhYmxlV29ya2VyTWVzc2FnZUhhbmRsZXIpIHsKCQkJLy8gSW4gd29ya2VyCgkJCV9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7CgkJCQl2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpOwoJCQkJdmFyIGxhbmcgPSBtZXNzYWdlLmxhbmd1YWdlOwoJCQkJdmFyIGNvZGUgPSBtZXNzYWdlLmNvZGU7CgkJCQl2YXIgaW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlOwoKCQkJCV9zZWxmLnBvc3RNZXNzYWdlKF8uaGlnaGxpZ2h0KGNvZGUsIF8ubGFuZ3VhZ2VzW2xhbmddLCBsYW5nKSk7CgkJCQlpZiAoaW1tZWRpYXRlQ2xvc2UpIHsKCQkJCQlfc2VsZi5jbG9zZSgpOwoJCQkJfQoJCQl9LCBmYWxzZSk7CgkJfQoKCQlyZXR1cm4gXzsKCX0KCgkvLyBHZXQgY3VycmVudCBzY3JpcHQgYW5kIGhpZ2hsaWdodAoJdmFyIHNjcmlwdCA9IF8udXRpbC5jdXJyZW50U2NyaXB0KCk7CgoJaWYgKHNjcmlwdCkgewoJCV8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjOwoKCQlpZiAoc2NyaXB0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1tYW51YWwnKSkgewoJCQlfLm1hbnVhbCA9IHRydWU7CgkJfQoJfQoKCWZ1bmN0aW9uIGhpZ2hsaWdodEF1dG9tYXRpY2FsbHlDYWxsYmFjaygpIHsKCQlpZiAoIV8ubWFudWFsKSB7CgkJCV8uaGlnaGxpZ2h0QWxsKCk7CgkJfQoJfQoKCWlmICghXy5tYW51YWwpIHsKCQkvLyBJZiB0aGUgZG9jdW1lbnQgc3RhdGUgaXMgImxvYWRpbmciLCB0aGVuIHdlJ2xsIHVzZSBET01Db250ZW50TG9hZGVkLgoJCS8vIElmIHRoZSBkb2N1bWVudCBzdGF0ZSBpcyAiaW50ZXJhY3RpdmUiIGFuZCB0aGUgcHJpc20uanMgc2NyaXB0IGlzIGRlZmVycmVkLCB0aGVuIHdlJ2xsIGFsc28gdXNlIHRoZQoJCS8vIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQgYmVjYXVzZSB0aGVyZSBtaWdodCBiZSBzb21lIHBsdWdpbnMgb3IgbGFuZ3VhZ2VzIHdoaWNoIGhhdmUgYWxzbyBiZWVuIGRlZmVycmVkIGFuZCB0aGV5CgkJLy8gbWlnaHQgdGFrZSBsb25nZXIgb25lIGFuaW1hdGlvbiBmcmFtZSB0byBleGVjdXRlIHdoaWNoIGNhbiBjcmVhdGUgYSByYWNlIGNvbmRpdGlvbiB3aGVyZSBvbmx5ZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkKCQkJPyBzZWxmIC8vIGlmIGluIHdvcmtlcgoJCQk6IHt9ICAgLy8gaWYgaW4gbm9kZSBqcwoJKTsKCi8qKgogKiBQcmlzbTogTGlnaHR3ZWlnaHQsIHJvYnVzdCwgZWxlZ2FudCBzeW50YXggaGlnaGxpZ2h0aW5nCiAqCiAqIEBsaWNlbnNlIE1JVCA8aHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQ+CiAqIEBhdXRob3IgTGVhIFZlcm91IDxodHRwczovL2xlYS52ZXJvdS5tZT4KICogQG5hbWVzcGFjZQogKiBAcHVibGljCiAqLwp2YXIgUHJpc20gPSAoZnVuY3Rpb24gKF9zZWxmKSB7CgoJLy8gUHJpdmF0ZSBoZWxwZXIgdmFycwoJdmFyIGxhbmcgPSAvKD86XnxccylsYW5nKD86dWFnZSk/LShbXHctXSspKD89XHN8JCkvaTsKCXZhciB1bmlxdWVJZCA9IDA7CgoJLy8gVGhlIGdyYW1tYXIgb2JqZWN0IGZvciBwbGFpbnRleHQKCXZhciBwbGFpblRleHRHcmFtbWFyID0ge307CgoKCXZhciBfID0gewoJCS8qKgoJCSAqIEJ5IGRlZmF1bHQsIFByaXNtIHdpbGwgYXR0ZW1wdCB0byBoaWdobGlnaHQgYWxsIGNvZGUgZWxlbWVudHMgKGJ5IGNhbGxpbmcge0BsaW5rIFByaXNtLmhpZ2hsaWdodEFsbH0pIG9uIHRoZQoJCSAqIGN1cnJlbnQgcGFnZSBhZnRlciB0aGUgcGFnZSBmaW5pc2hlZCBsb2FkaW5nLiBUaGlzIG1pZ2h0IGJlIGEgcHJvYmxlbSBpZiBlLmcuIHlvdSB3YW50ZWQgdG8gYXN5bmNocm9ub3VzbHkgbG9hZAoJCSAqIGFkZGl0aW9uYWwgbGFuZ3VhZ2VzIG9yIHBsdWdpbnMgeW91cnNlbGYuCgkJICoKCQkgKiBCeSBzZXR0aW5nIHRoaXMgdmFsdWUgdG8gYHRydWVgLCBQcmlzbSB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IGhpZ2hsaWdodCBhbGwgY29kZSBlbGVtZW50cyBvbiB0aGUgcGFnZS4KCQkgKgoJCSAqIFlvdSBvYnZpb3VzbHkgaGF2ZSB0byBjaGFuZ2UgdGhpcyB2YWx1ZSBiZWZvcmUgdGhlIGF1dG9tYXRpYyBoaWdobGlnaHRpbmcgc3RhcnRlZC4gVG8gZG8gdGhpcywgeW91IGNhbiBhZGQgYW4KCQkgKiBlbXB0eSBQcmlzbSBvYmplY3QgaW50byB0aGUgZ2xvYmFsIHNjb3BlIGJlZm9yZSBsb2FkaW5nIHRoZSBQcmlzbSBzY3JpcHQgbGlrZSB0aGlzOgoJCSAqCgkJICogYGBganMKCQkgKiB3aW5kb3cuUHJpc20gPSB3aW5kb3cuUHJpc20gfHwge307CgkJICogUHJpc20ubWFudWFsID0gdHJ1ZTsKCQkgKiAvLyBhZGQgYSBuZXcgPHNjcmlwdD4gdG8gbG9hZCBQcmlzbSdzIHNjcmlwdAoJCSAqIGBgYAoJCSAqCgkJICogQGRlZmF1bHQgZmFsc2UKCQkgKiBAdHlwZSB7Ym9vbGVhbn0KCQkgKiBAbWVtYmVyb2YgUHJpc20KCQkgKiBAcHVibGljCgkJICovCgkJbWFudWFsOiBfc2VsZi5QcmlzbSAmJiBfc2VsZi5QcmlzbS5tYW51YWwsCgkJLyoqCgkJICogQnkgZGVmYXVsdCwgaWYgUHJpc20gaXMgaW4gYSB3ZWIgd29ya2VyLCBpdCBhc3N1bWVzIHRoYXQgaXQgaXMgaW4gYSB3b3JrZXIgaXQgY3JlYXRlZCBpdHNlbGYsIHNvIGl0IHVzZXMKCQkgKiBgYWRkRXZlbnRMaXN0ZW5lcmAgdG8gY29tbXVuaWNhdGUgd2l0aCBpdHMgcGFyZW50IGluc3RhbmNlLiBIb3dldmVyLCBpZiB5b3UncmUgdXNpbmcgUHJpc20gbWFudWFsbHkgaW4geW91cgoJCSAqIG93biB3b3JrZXIsIHlvdSBkb24ndCB3YW50IGl0IHRvIGRvIHRoaXMuCgkJICoKcm4gVmIoZSx0KX0sdH12YXIgRixMLGwsSSxoLG4sYSxpLG8sZixkLGMscCxfLG0sZyxiLE8sayxNLEMsQSx6LEUsRCxCLFksaixxPXthdXRvU2xlZXA6MTIwLGZvcmNlM0Q6ImF1dG8iLG51bGxUYXJnZXRXYXJuOjEsdW5pdHM6e2xpbmVIZWlnaHQ6IiJ9fSxWPXtkdXJhdGlvbjouNSxvdmVyd3JpdGU6ITEsZGVsYXk6MH0sVT0xZTgsWD0xL1UsTj0yKk1hdGguUEksRz1OLzQsVz0wLEs9TWF0aC5zcXJ0LEo9TWF0aC5jb3MsSD1NYXRoLnNpbiwkPSJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3fHxmdW5jdGlvbigpe30sWj1BcnJheS5pc0FycmF5LHR0PS8oPzotP1wuP1xkfFwuKSsvZ2ksZXQ9L1stKz0uXSpcZCtbLmVcLStdKlxkKltlXC0rXSpcZCovZyxydD0vWy0rPS5dKlxkK1suZS1dKlxkKlthLXolXSovZyxpdD0vWy0rPS5dKlxkK1wuP1xkKig/OmUtfGVcKyk/XGQqL2dpLG50PS9bKy1dPS0/Wy5cZF0rLyxhdD0vW14sJyJcW1xdXHNdKy9naSxzdD0vXlsrXC09ZVxzXGRdKlxkK1suXGRdKihbYS16XSp8JSlccyokL2ksb3Q9e30sdXQ9e3N1cHByZXNzRXZlbnRzOiEwLGlzU3RhcnQ6ITAsa2lsbDohMX0saHQ9e3N1cHByZXNzRXZlbnRzOiEwLGtpbGw6ITF9LGx0PXtzdXBwcmVzc0V2ZW50czohMH0sZnQ9e30sZHQ9W10sY3Q9e30scHQ9e30sX3Q9e30sbXQ9MzAsZ3Q9W10sdnQ9IiIseXQ9ZnVuY3Rpb24gX21lcmdlKHQsZSl7Zm9yKHZhciByIGluIGUpdFtyXT1lW3JdO3JldHVybiB0fSxUdD1mdW5jdGlvbiBfYW5pbWF0aW9uQ3ljbGUodCxlKXt2YXIgcj1NYXRoLmZsb29yKHQvPWUpO3JldHVybiB0JiZyPT09dD9yLTE6cn0sYnQ9ZnVuY3Rpb24gX2lzRnJvbU9yRnJvbVN0YXJ0KHQpe3ZhciBlPXQuZGF0YTtyZXR1cm4iaXNGcm9tU3RhcnQiPT09ZXx8ImlzU3RhcnQiPT09ZX0sd3Q9e19zdGFydDowLGVuZFRpbWU6VCx0b3RhbER1cmF0aW9uOlR9LHh0PWZ1bmN0aW9uIF9wYXJzZVBvc2l0aW9uKHQsZSxpKXt2YXIgbixhLHMsbz10LmxhYmVscyx1PXQuX3JlY2VudHx8d3QsaD10LmR1cmF0aW9uKCk+PVU/dS5lbmRUaW1lKCExKTp0Ll9kdXI7cmV0dXJuIHIoZSkmJihpc05hTihlKXx8ZSBpbiBvKT8oYT1lLmNoYXJBdCgwKSxzPSIlIj09PWUuc3Vic3RyKC0xKSxuPWUuaW5kZXhPZigiPSIpLCI8Ij09PWF8fCI+Ij09PWE/KDA8PW4mJihlPWUucmVwbGFjZSgvPS8sIiIpKSwoIjwiPT09YT91Ll9zdGFydDp1LmVuZFRpbWUoMDw9dS5fcmVwZWF0KSkrKHBhcnNlRmxvYXQoZS5zdWJzdHIoMSkpfHwwKSoocz8objwwP3U6aSkudG90YWxEdXJhdGlvbigpLzEwMDoxKSk6bjwwPyhlIGluIG98fChvW2VdPWgpLG9bZV0pOihhPXBhcnNlRmxvYXQoZS5jaGFyQXQobi0xKStlLnN1YnN0cihuKzEpKSxzJiZpJiYoYT1hLzEwMCooWihpKT9pWzBdOmkpLnRvdGFsRHVyYXRpb24oKSksMTxuP19wYXJzZVBvc2l0aW9uKHQsZS5zdWJzdHIoMCxuLTEpLGkpK2E6aCthKSk6bnVsbD09ZT9oOitlfSxPdD1mdW5jdGlvbiBfY2xhbXAodCxlLHIpe3JldHVybiByPHQ/dDplPHI/ZTpyfSxrdD1bXS5zbGljZSxNdD1mdW5jdGlvbiB0b0FycmF5KHQsZSxpKXtyZXR1cm4gbCYmIWUmJmwuc2VsZWN0b3I/bC5zZWxlY3Rvcih0KTohcih0KXx8aXx8IW4mJkZ0KCk/Wih0KT9mdW5jdGlvbiBfZmxhdHRlbih0LGUsZUludCh0WzJdLDEwKS8xMDAsaT1wYXJzZUludCh0WzNdLDEwKS8xMDAsdD10WzRdfHwxLDA9PXU/cj1hPW89aToocj1jKHU9MippLShpPWk8LjU/aSooMSt1KTppK3UtaSp1KSxpLG4rMS8zKSxhPWModSxpLG4pLG89Yyh1LGksbi0xLzMpKSwicmdiYSgiKzI1NSpyKyIsIisyNTUqYSsiLCIrMjU1Km8rIiwiK3QrIikiKTp2b2lkIDA7ZnVuY3Rpb24gYyhuLGUsdCl7cmV0dXJuIHQ8MCYmKHQrPTEpLDE8dCYmLS10LHQ8MS82P24rNiooZS1uKSp0OnQ8LjU/ZTp0PDIvMz9uKyhlLW4pKigyLzMtdCkqNjpufX1mdW5jdGlvbiBCKG4pe249L1srLV0/XGQqXC4/XGQrKD86XC5cZCspPyg/OltlRV1bKy1dP1xkKyk/KCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWMobik7aWYobilyZXR1cm4gblsxXX1mdW5jdGlvbiBtKG4sZSl7cmV0dXJuIHcuZm5jKG4pP24oZS50YXJnZXQsZS5pZCxlLnRvdGFsKTpufWZ1bmN0aW9uIHYobixlKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoZSl9ZnVuY3Rpb24geShuLGUsdCl7dmFyIHIsYSxvO3JldHVybiBoKFt0LCJkZWciLCJyYWQiLCJ0dXJuIl0sQihlKSk/ZToocj1sLkNTU1tlK3RdLHcudW5kKHIpPyhhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobi50YWdOYW1lKSwobj1uLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZSE9PWRvY3VtZW50P24ucGFyZW50Tm9kZTpkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChhKSxhLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYS5zdHlsZS53aWR0aD0xMDArdCxvPTEwMC9hLm9mZnNldFdpZHRoLG4ucmVtb3ZlQ2hpbGQoYSksbj1vKnBhcnNlRmxvYXQoZSksbC5DU1NbZSt0XT1uKTpyKX1mdW5jdGlvbiAkKG4sZSx0KXt2YXIgcjtpZihlIGluIG4uc3R5bGUpcmV0dXJuIHI9ZS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCIkMS0kMiIpLnRvTG93ZXJDYXNlKCksZT1uLnN0eWxlW2VdfHxnZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUocil8fCIwIix0P3kobixlLHQpOmV9ZnVuY3Rpb24gYihuLGUpe3JldHVybiB3LmRvbShuKSYmIXcuaW5wKG4pJiYoIXcubmlsKHYobixlKSl8fHcuc3ZnKG4pJiZuW2VdKT8iYXR0cmlidXRlIjp3LmRvbShuKSYmaChqLGUpPyJ0cmFuc2Zvcm0iOncuZG9tKG4pJiYidHJhbnNmb3JtIiE9PWUmJiQobixlKT8iY3NzIjpudWxsIT1uW2VdPyJvYmplY3QiOnZvaWQgMH1mdW5jdGlvbiBXKG4pe2lmKHcuZG9tKG4pKXtmb3IodmFyIGUsdD1uLnN0eWxlLnRyYW5zZm9ybXx8IiIscj0vKFx3KylcKChbXildKilcKS9nLGE9bmV3IE1hcDtlPXIuZXhlYyh0KTspYS5zZXQoZVsxXSxlWzJdKTtyZXR1cm4gYX19ZnVuY3Rpb24gWChuLGUsdCxyKXt2YXIgYT11KGUsInNjYWxlIik/MTowKyh1KGE9ZSwidHJhbnNsYXRlIil8fCJwZXJzcGVjdGl2ZSI9PT1hPyJweCI6dShhLCJyb3RhdGUiKXx8dShhLCJza2V3Iik/ImRlZyI6dm9pZCAwKSxvPVcobikuZ2V0KGUpfHxhO3JldHVybiB0JiYodC50cmFuc2Zvcm1zLmxpc3Quc2V0KGUsbyksdC50cmFuc2Zvcm1zLmxhc3Q9ZSkscj95KG4sbyxyKTpvfWZ1bmN0aW9uIFQobixlLHQscil7c3dpdGNoKGIobixlKSl7Y2FzZSJ0cmFuc2Zvcm0iOnJldHVybiBYKG4sZSxyLHQpO2Nhc2UiY3NzIjpyZXR1cm4gJChudmVjdG9yLnNldFooIE1hdGgubWF4KCBNYXRoLmFicyggbWluWyAyIF0gKSwgTWF0aC5hYnMoIG1heFsgMiBdICkgKSApOwoKCgkJCQkJaWYgKCBhY2Nlc3Nvci5ub3JtYWxpemVkICkgewoKCQkJCQkJY29uc3QgYm94U2NhbGUgPSBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3IuY29tcG9uZW50VHlwZSBdICk7CgkJCQkJCXZlY3Rvci5tdWx0aXBseVNjYWxhciggYm94U2NhbGUgKTsKCgkJCQkJfQoKCQkJCQkvLyBOb3RlOiB0aGlzIGFzc3VtZXMgdGhhdCB0aGUgc3VtIG9mIGFsbCB3ZWlnaHRzIGlzIGF0IG1vc3QgMS4gVGhpcyBpc24ndCBxdWl0ZSBjb3JyZWN0IC0gaXQncyBtb3JlIGNvbnNlcnZhdGl2ZQoJCQkJCS8vIHRvIGFzc3VtZSB0aGF0IGVhY2ggdGFyZ2V0IGNhbiBoYXZlIGEgbWF4IHdlaWdodCBvZiAxLiBIb3dldmVyLCBmb3Igc29tZSB1c2UgY2FzZXMgLSBub3RhYmx5LCB3aGVuIG1vcnBoIHRhcmdldHMKCQkJCQkvLyBhcmUgdXNlZCB0byBpbXBsZW1lbnQga2V5LWZyYW1lIGFuaW1hdGlvbnMgYW5kIGFzIHN1Y2ggb25seSB0d28gYXJlIGFjdGl2ZSBhdCBhIHRpbWUgLSB0aGlzIHJlc3VsdHMgaW4gdmVyeSBsYXJnZQoJCQkJCS8vIGJveGVzLiBTbyBmb3Igbm93IHdlIG1ha2UgYSBib3ggdGhhdCdzIHNvbWV0aW1lcyBhIHRvdWNoIHRvbyBzbWFsbCBidXQgaXMgaG9wZWZ1bGx5IG1vc3RseSBvZiByZWFzb25hYmxlIHNpemUuCgkJCQkJbWF4RGlzcGxhY2VtZW50Lm1heCggdmVjdG9yICk7CgoJCQkJfSBlbHNlIHsKCgkJCQkJY29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLicgKTsKCgkJCQl9CgoJCQl9CgoJCX0KCgkJLy8gQXMgcGVyIGNvbW1lbnQgYWJvdmUgdGhpcyBib3ggaXNuJ3QgY29uc2VydmF0aXZlLCBidXQgaGFzIGEgcmVhc29uYWJsZSBzaXplIGZvciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIG1vcnBoIHRhcmdldHMuCgkJYm94LmV4cGFuZEJ5VmVjdG9yKCBtYXhEaXNwbGFjZW1lbnQgKTsKCgl9CgoJZ2VvbWV0cnkuYm91bmRpbmdCb3ggPSBib3g7CgoJY29uc3Qgc3BoZXJlID0gbmV3IFNwaGVyZSgpOwoKCWJveC5nZXRDZW50ZXIoIHNwaGVyZS5jZW50ZXIgKTsKCXNwaGVyZS5yYWRpdXMgPSBib3gubWluLmRpc3RhbmNlVG8oIGJveC5tYXggKSAvIDI7CgoJZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUgPSBzcGhlcmU7Cgp9CgovKioKICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnkKICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmCiAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyCiAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fQogKi8KZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyggZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyICkgewoKCWNvbnN0IGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlczsKCgljb25zdCBwZW5kaW5nID0gW107CgoJZnVuY3Rpb24gYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoIGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUgKSB7CgoJCXJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgYWNjZXNzZWFyRmlsdGVyLAoJOTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyCn07Cgpjb25zdCBXRUJHTF9XUkFQUElOR1MgPSB7CgkzMzA3MTogQ2xhbXBUb0VkZ2VXcmFwcGluZywKCTMzNjQ4OiBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nLAoJMTA0OTc6IFJlcGVhdFdyYXBwaW5nCn07Cgpjb25zdCBXRUJHTF9UWVBFX1NJWkVTID0gewoJJ1NDQUxBUic6IDEsCgknVkVDMic6IDIsCgknVkVDMyc6IDMsCgknVkVDNCc6IDQsCgknTUFUMic6IDQsCgknTUFUMyc6IDksCgknTUFUNCc6IDE2Cn07Cgpjb25zdCBBVFRSSUJVVEVTID0gewoJUE9TSVRJT046ICdwb3NpdGlvbicsCglOT1JNQUw6ICdub3JtYWwnLAoJVEFOR0VOVDogJ3RhbmdlbnQnLAoJVEVYQ09PUkRfMDogJ3V2JywKCVRFWENPT1JEXzE6ICd1djEnLAoJVEVYQ09PUkRfMjogJ3V2MicsCglURVhDT09SRF8zOiAndXYzJywKCUNPTE9SXzA6ICdjb2xvcicsCglXRUlHSFRTXzA6ICdza2luV2VpZ2h0JywKCUpPSU5UU18wOiAnc2tpbkluZGV4JywKfTsKCmNvbnN0IFBBVEhfUFJPUEVSVElFUyA9IHsKCXNjYWxlOiAnc2NhbGUnLAoJdHJhbnNsYXRpb246ICdwb3NpdGlvbicsCglyb3RhdGlvbjogJ3F1YXRlcm5pb24nLAoJd2VpZ2h0czogJ21vcnBoVGFyZ2V0SW5mbHVlbmNlcycKfTsKCmNvbnN0IElOVEVSUE9MQVRJT04gPSB7CglDVUJJQ1NQTElORTogdW5kZWZpbmVkLCAvLyBXZSB1c2UgYSBjdXN0b20gaW50ZXJwb2xhbnQgKEdMVEZDdWJpY1NwbGluZUludGVycG9sYXRpb24pIGZvciBDVUJJQ1NQTElORSB0cmFja3MuIEVhY2gKCQkgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZXlmcmFtZSB0cmFjayB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggYSBkZWZhdWx0IGludGVycG9sYXRpb24gdHlwZSwgdGhlbiBtb2RpZmllZC4KCUxJTkVBUjogSW50ZXJwb2xhdGVMaW5lYXIsCglTVEVQOiBJbnRlcnBvbGF0ZURpc2NyZXRlCn07Cgpjb25zdCBBTFBIQV9NT0RFUyA9IHsKCU9QQVFVRTogJ09QQVFVRScsCglNQVNLOiAnTUFTSycsCglCTEVORDogJ0JMRU5EJwp9OwoKLyoqCiAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZGVmYXVsdC1tYXRlcmlhbAogKi8KZnVuY3Rpb24gY3JlYXRlRGVmYXVsdE1hdGVyaWFsKCBjYWNoZSApIHsKCglpZiAoIGNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdID09PSB1bmRlZmluZWQgKSB7CgoJCWNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKCB7CgkJCWNvbG9yOiAweEZGRkZGRiwKCQkJZW1pc3NpdmU6IDB4MDAwMDAwLAoJCQltZXRhbG5lc3M6IDEsCgkJCXJvdWdobmVzczogMSwKCQkJdHJhbnNwYXJlbnQ6IGZhbHNlLAoJCQlkZXB0aFRlc3Q6IHRydWUsCgkJCXNpZGU6IEZyb250U2lkZQoJCX0gKTsKCgl9CgoJcmV0dXJuIGNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdOwoKfQoKZnVuY3Rpb24gYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBrbm93bkV4dGVuc2lvbnMsIG9iamVjdCwgb2JqZWN0RGVmICkgewoKCS8vIEFkZCB1bmtub3duIGdsVEYgZXh0ZW5zaW9ucyB0byBhbiBvYmplY3QncyB1c2VyRGF0YS4KCglmb3IgKCBjb25zdCBuYW1lIGluIG9iamVjX25leHRCYXRjaCgpOih0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpLHRoaXMuX3BhcnNlQ29tcGxldGUoKSl9LDApfWRlc3Ryb3kodD0hMSl7dmFyIGU7Zm9yKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlcyl0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTt0aGlzLl9mcmFtZXM9bnVsbCx0aGlzLl9mcmFtZUtleXM9bnVsbCx0aGlzLmRhdGE9bnVsbCx0aGlzLnRleHR1cmVzPW51bGwsdCYmKChlPXRoaXMuX3RleHR1cmUpPT1udWxsfHxlLmRlc3Ryb3koKSx0aGlzLnRleHR1cmVTb3VyY2UuZGVzdHJveSgpKSx0aGlzLl90ZXh0dXJlPW51bGwsdGhpcy50ZXh0dXJlU291cmNlPW51bGwsdGhpcy5saW5rZWRTaGVldHM9W119fTtFYy5CQVRDSF9TSVpFPTFlMztsZXQgY249RWM7Y29uc3Qgb3k9WyJqcGciLCJwbmciLCJqcGVnIiwiYXZpZiIsIndlYnAiLCJiYXNpcyIsImV0YzIiLCJiYzciLCJiYzZoIiwiYmM1IiwiYmM0IiwiYmMzIiwiYmMyIiwiYmMxIiwiZWFjIiwiYXN0YyJdO2Z1bmN0aW9uIEFjKHIsdCxlKXtjb25zdCBpPXt9O2lmKHIuZm9yRWFjaChzPT57aVtzXT10fSksT2JqZWN0LmtleXModC50ZXh0dXJlcykuZm9yRWFjaChzPT57aVtzXT10LnRleHR1cmVzW3NdfSksIWUpe2NvbnN0IHM9ZHQuZGlybmFtZShyWzBdKTt0LmxpbmtlZFNoZWV0cy5mb3JFYWNoKChuLG8pPT57Y29uc3QgYT1BYyhbYCR7c30vJHt0LmRhdGEubWV0YS5yZWxhdGVkX211bHRpX3BhY2tzW29dfWBdLG4sITApO09iamVjdC5hc3NpZ24oaSxhKX0pfXJldHVybiBpfWNvbnN0IFBjPXtleHRlbnNpb246eS5Bc3NldCxjYWNoZTp7dGVzdDpyPT5yIGluc3RhbmNlb2YgY24sZ2V0Q2FjaGVhYmxlQXNzZXRzOihyLHQpPT5BYyhyLHQsITEpfSxyZXNvbHZlcjp7dGVzdDpyPT57Y29uc3QgdD1yLnNwbGl0KCI/IilbMF0uc3BsaXQoIi4iKSxlPXQucG9wKCksaT10LnBvcCgpO3JldHVybiBlPT09Impzb24iJiZveS5pbmNsdWRlcyhpKX0scGFyc2U6cj0+e3ZhciB0LGU7Y29uc3QgaT1yLnNwbGl0KCIuIik7cmV0dXJue3Jlc29sdXRpb246cGFyc2VGbG9hdCgoZT0odD1xdC5SRVRJTkFfUFJFRklYLmV4ZWMocikpPT1udWxsP3ZvaWQgMDp0WzFdKSE9bnVsbD9lOiIxIiksZm9ybWF0OmlbaS5sZW5ndGgtMl0sc3JjOnJ9fX0sbG9hZGVyOntuYW1lOiJzcHJpdGVzaGVldExvYWRlciIsZXh0ZW5zaW9uOnt0eXBlOnkuTG9hZFBhcnNlcixwcmlvcml0eTpndC5Ob3JtYWx9LGFzeW5jIHRlc3RQYXJzZShyLHQpe3JldHVybiBkdC5leHRuYW1lKHQuc3JjKS50b0xvd2VyQ2FzZSgpPT09Ii5qc29uIiYmISFyLmZyYW1lc30sYXN5bmMgcGFyc2Uocix0LGUpe3ZhciBpLHMsbjtjb25zdHt0ZXh0dXJlOm8saW1hZ2VGaWxlbmFtZTphfT0oaT10PT1udWxsP3ZvaWQgMDp0LmRhdGEpIT1udWxsP2k6e307bGV0IGw9ZHQuZGlybmFtZSh0LnNyYyk7bCYmbC5sYXN0SW5kZXhPZigiLyIpIT09bC5sZW5ndGgtMSYmKGwrPSIvIik7bGV0IHU7aWYobyBpbnN0YW5jZW9mIFApdT1vO2Vsc2V7Y29uc3QgcD1vaShsKyhhIT1udWxsP2E6ci5tZXRhLmltYWdlKSx0LnNyYyk7dT0oYXdhaXQgZS5sb2FkKFtwXSkpW3BdfWNvbnN0IGM9bmV3IGNuKHUuc291cmNlLHIpO2F3YWl0IGMucGFyc2UoKTtjb25zdCBoPShzPXI9PW51bGw/dm9pZCAwOnIubWV0YSk9PW51bGw/dm9pZCAwOnMucmVsYXRlbiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXN9Y29weVRvKHQpe3JldHVybiB0LmNvcHlGcm9tKHRoaXMpLHR9Y29udGFpbnModCxlKXtyZXR1cm4gdGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTA/ITE6dD49dGhpcy54JiZ0PHRoaXMueCt0aGlzLndpZHRoJiZlPj10aGlzLnkmJmU8dGhpcy55K3RoaXMuaGVpZ2h0fXN0cm9rZUNvbnRhaW5zKHQsZSxpKXtjb25zdHt3aWR0aDpzLGhlaWdodDpufT10aGlzO2lmKHM8PTB8fG48PTApcmV0dXJuITE7Y29uc3Qgbz10aGlzLngsYT10aGlzLnksbD1vLWkvMix1PW8rcytpLzIsYz1hLWkvMixoPWErbitpLzIscD1vK2kvMixtPW8rcy1pLzIsZj1hK2kvMixfPWErbi1pLzI7cmV0dXJuIHQ+PWwmJnQ8PXUmJmU+PWMmJmU8PWgmJiEodD5wJiZ0PG0mJmU+ZiYmZTxfKX1pbnRlcnNlY3RzKHQsZSl7aWYoIWUpe2NvbnN0IFI9dGhpcy54PHQueD90Lng6dGhpcy54O2lmKCh0aGlzLnJpZ2h0PnQucmlnaHQ/dC5yaWdodDp0aGlzLnJpZ2h0KTw9UilyZXR1cm4hMTtjb25zdCBTPXRoaXMueTx0Lnk/dC55OnRoaXMueTtyZXR1cm4odGhpcy5ib3R0b20+dC5ib3R0b20/dC5ib3R0b206dGhpcy5ib3R0b20pPlN9Y29uc3QgaT10aGlzLmxlZnQscz10aGlzLnJpZ2h0LG49dGhpcy50b3Asbz10aGlzLmJvdHRvbTtpZihzPD1pfHxvPD1uKXJldHVybiExO2NvbnN0IGE9dGlbMF0uc2V0KHQubGVmdCx0LnRvcCksbD10aVsxXS5zZXQodC5sZWZ0LHQuYm90dG9tKSx1PXRpWzJdLnNldCh0LnJpZ2h0LHQudG9wKSxjPXRpWzNdLnNldCh0LnJpZ2h0LHQuYm90dG9tKTtpZih1Lng8PWEueHx8bC55PD1hLnkpcmV0dXJuITE7Y29uc3QgaD1NYXRoLnNpZ24oZS5hKmUuZC1lLmIqZS5jKTtpZihoPT09MHx8KGUuYXBwbHkoYSxhKSxlLmFwcGx5KGwsbCksZS5hcHBseSh1LHUpLGUuYXBwbHkoYyxjKSxNYXRoLm1heChhLngsbC54LHUueCxjLngpPD1pfHxNYXRoLm1pbihhLngsbC54LHUueCxjLngpPj1zfHxNYXRoLm1heChhLnksbC55LHUueSxjLnkpPD1ufHxNYXRoLm1pbihhLnksbC55LHUueSxjLnkpPj1vKSlyZXR1cm4hMTtjb25zdCBwPWgqKGwueS1hLnkpLG09aCooYS54LWwueCksZj1wKmkrbSpuLF89cCpzK20qbixnPXAqaSttKm8sYj1wKnMrbSpvO2lmKE1hdGgubWF4KGYsXyxnLGIpPD1wKmEueCttKmEueXx8TWF0aC5taW4oZixfLGcsYik+PXAqYy54K20qYy55KXJldHVybiExO2NvbnN0IHY9aCooYS55LXUueSkseD1oKih1LngtYS54KSxUPXYqaSt4Km4sRT12KnMreCpuLHc9dippK3gqbyxNPXYqcyt4Km87cmV0dXJuIShNYXRoLm1heChULEUsdyxNKTw9diphLngreCphLnl8fE1hdGgubWluKFQsRSx3LE0pPj12KmMueCt4KmMueSl9cGFkKHQ9MCxlPXQpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT1lLHRoaXMud2lkdGgrPXQqMix0aGlzLmhlaWdodCs9ZSoyLHRoaXN9Zml0KHQpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy54LHQueCksaT1NYXRoLm1pbih0aGlzLngrdGhpcy53aWR0aCx0LngrdC53aWR0aCkscz1NYXRoLm1heCh0aGlzLnksdC55KSxuPU1hdGgubWluKHRoaXMueSt0aGlzLmhlaWdodCx0LnkrdC5oZWlnaHQpO3JldHVybiB0aGlzLng9ZSx0aGlzLndpZHRoPU1hdGgubWF4KGktZSwwKSx0aGlzLnk9cyx0aGlzdHlwZS5vbmNlPWZ1bmN0aW9uKHUsYyxoKXtyZXR1cm4gbih0aGlzLHUsYyxoLCEwKX0sYS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odSxjLGgscCl7dmFyIG09ZT9lK3U6dTtpZighdGhpcy5fZXZlbnRzW21dKXJldHVybiB0aGlzO2lmKCFjKXJldHVybiBvKHRoaXMsbSksdGhpczt2YXIgZj10aGlzLl9ldmVudHNbbV07aWYoZi5mbilmLmZuPT09YyYmKCFwfHxmLm9uY2UpJiYoIWh8fGYuY29udGV4dD09PWgpJiZvKHRoaXMsbSk7ZWxzZXtmb3IodmFyIF89MCxnPVtdLGI9Zi5sZW5ndGg7XzxiO18rKykoZltfXS5mbiE9PWN8fHAmJiFmW19dLm9uY2V8fGgmJmZbX10uY29udGV4dCE9PWgpJiZnLnB1c2goZltfXSk7Zy5sZW5ndGg/dGhpcy5fZXZlbnRzW21dPWcubGVuZ3RoPT09MT9nWzBdOmc6byh0aGlzLG0pfXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odSl7dmFyIGM7cmV0dXJuIHU/KGM9ZT9lK3U6dSx0aGlzLl9ldmVudHNbY10mJm8odGhpcyxjKSk6KHRoaXMuX2V2ZW50cz1uZXcgaSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzfSxhLnByb3RvdHlwZS5vZmY9YS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsYS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9YS5wcm90b3R5cGUub24sYS5wcmVmaXhlZD1lLGEuRXZlbnRFbWl0dGVyPWEsci5leHBvcnRzPWF9KShVcyk7dmFyIEpiPVVzLmV4cG9ydHMsbXQ9RHMoSmIpLHR2PXtncmFkOi45LHR1cm46MzYwLHJhZDozNjAvKDIqTWF0aC5QSSl9LEh0PWZ1bmN0aW9uKHIpe3JldHVybiB0eXBlb2Ygcj09InN0cmluZyI/ci5sZW5ndGg+MDp0eXBlb2Ygcj09Im51bWJlciJ9LG50PWZ1bmN0aW9uKHIsdCxlKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZT09PXZvaWQgMCYmKGU9TWF0aC5wb3coMTAsdCkpLE1hdGgucm91bmQoZSpyKS9lKzB9LEF0PWZ1bmN0aW9uKHIsdCxlKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZT09PXZvaWQgMCYmKGU9MSkscj5lP2U6cj50P3I6dH0sSmw9ZnVuY3Rpb24ocil7cmV0dXJuKHI9aXNGaW5pdGUocik/ciUzNjA6MCk+MD9yOnIrMzYwfSx0dT1mdW5jdGlvbihyKXtyZXR1cm57cjpBdChyLnIsMCwyNTUpLGc6QXQoci5nLDAsMjU1KSxiOkF0KHIuYiwwLDI1NSksYTpBdChyLmEpfX0sa3M9ZnVuY3Rpb24ocil7cmV0dXJue3I6bnQoci5yKSxnOm50KHIuZyksYjpudChyLmIpLGE6bnQoci5hLDMpfX0sZXY9L14jKFswLTlhLWZdezMsOH0pJC9pLEtyPWZ1bmN0aW9uKHIpe3ZhciB0PXIudG9TdHJpbmcoMTYpO3JldHVybiB0Lmxlbmd0aDwyPyIwIit0OnR9LGV1PWZ1bmN0aW9uKHIpe3ZhciB0PXIucixlPXIuZyxpPXIuYixzPXIuYSxuPU1hdGgubWF4KHQsZSxpKSxvPW4tTWF0aC5taW4odCxlLGkpLGE9bz9uPT09dD8oZS1pKS9vOm49PT1lPzIrKGktdCkvbzo0Kyh0LWUpL286MDtyZXR1cm57aDo2MCooYTwwP2ErNjphKSxzOm4/by9uKjEwMDowLHY6bi8yNTUqMTAwLGE6c319LHJ1PWZ1bmN0aW9uKHIpe3ZhciB0PXIuaCxlPXIucyxpPXIudixzPXIuYTt0PXQvMzYwKjYsZS89MTAwLGkvPTEwMDt2YXIgbj1NYXRoLmZsb29yKHQpLG89aSooMS1lKSxhPWkqKDEtKHQtbikqZSksbD1pKigxLSgxLXQrbikqZSksdT1uJTY7cmV0dXJue3I6MjU1KltpLGEsbyxvLGwsaV1bdV0sZzoyNTUqaWRlRXF1YWxOb3QgfSBmcm9tICcuL2ljb25zL2VxdWFsLW5vdC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRXF1YWwsIGRlZmF1bHQgYXMgRXF1YWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUVxdWFsIH0gZnJvbSAnLi9pY29ucy9lcXVhbC5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRXJhc2VyLCBkZWZhdWx0IGFzIEVyYXNlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXJhc2VyIH0gZnJvbSAnLi9pY29ucy9lcmFzZXIuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEV1cm8sIGRlZmF1bHQgYXMgRXVyb0ljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXVybyB9IGZyb20gJy4vaWNvbnMvZXVyby5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRXhwYW5kLCBkZWZhdWx0IGFzIEV4cGFuZEljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXhwYW5kIH0gZnJvbSAnLi9pY29ucy9leHBhbmQuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEV4dGVybmFsTGluaywgZGVmYXVsdCBhcyBFeHRlcm5hbExpbmtJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUV4dGVybmFsTGluayB9IGZyb20gJy4vaWNvbnMvZXh0ZXJuYWwtbGluay5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRXllT2ZmLCBkZWZhdWx0IGFzIEV5ZU9mZkljb24sIGRlZmF1bHQgYXMgTHVjaWRlRXllT2ZmIH0gZnJvbSAnLi9pY29ucy9leWUtb2ZmLmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBFeWUsIGRlZmF1bHQgYXMgRXllSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVFeWUgfSBmcm9tICcuL2ljb25zL2V5ZS5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRmFjZWJvb2ssIGRlZmF1bHQgYXMgRmFjZWJvb2tJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZhY2Vib29rIH0gZnJvbSAnLi9pY29ucy9mYWNlYm9vay5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRmFjdG9yeSwgZGVmYXVsdCBhcyBGYWN0b3J5SWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGYWN0b3J5IH0gZnJvbSAnLi9pY29ucy9mYWN0b3J5LmpzJzsKZXhwb3J0IHsgZGVmYXVsdCBhcyBGYW4sIGRlZmF1bHQgYXMgRmFuSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGYW4gfSBmcm9tICcuL2ljb25zL2Zhbi5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRmFzdEZvcndhcmQsIGRlZmF1bHQgYXMgRmFzdEZvcndhcmRJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZhc3RGb3J3YXJkIH0gZnJvbSAnLi9pY29ucy9mYXN0LWZvcndhcmQuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEZlYXRoZXIsIGRlZmF1bHQgYXMgRmVhdGhlckljb24sIGRlZmF1bHQgYXMgTHVjaWRlRmVhdGhlciB9IGZyb20gJy4vaWNvbnMvZmVhdGhlci5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRmVuY2UsIGRlZmF1bHQgYXMgRmVuY2VJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZlbmNlIH0gZnJvbSAnLi9pY29ucy9mZW5jZS5qcyc7CmV4cG9ydCB7IGRlZmF1bHQgYXMgRmVycmlzV2hlZWwsIGRlZmF1bHQgYXMgRmVycmlzV2hlZWxJY29uLCBkZWZhdWx0IGFzIEx1Y2lkZUZlcnJpc1doZWVsIH0gZnJvbSAnLi9pY29ucy9mZXJyaXMtd2hlZWwuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEZpZ21hLCBkZWZhdWx0IGFzIEZpZ21hSWNvbiwgZGVmYXVsdCBhcyBMdWNpZGVGaWdtYSB9IGZyb20gJy4vaWNvbnMvZmlnbWEuanMnOwpleHBvcnQgeyBkZWZhdWx0IGFzIEZpbGVBcmNoaXZlLCBkZWZhb2YgcmVmZXJlbmNlcyB3aXRoIGFsbCB0aGUgc3RhdGUsIGdldHRlcnMsIGFuZCBwbHVnaW4tYWRkZWQKICogc3RhdGUgcHJvcGVydGllcyBvZiB0aGUgc3RvcmUuIFNpbWlsYXIgdG8gYHRvUmVmcygpYCBidXQgc3BlY2lmaWNhbGx5CiAqIGRlc2lnbmVkIGZvciBQaW5pYSBzdG9yZXMgc28gbWV0aG9kcyBhbmQgbm9uIHJlYWN0aXZlIHByb3BlcnRpZXMgYXJlCiAqIGNvbXBsZXRlbHkgaWdub3JlZC4KICoKICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gZXh0cmFjdCB0aGUgcmVmcyBmcm9tCiAqLwpmdW5jdGlvbiBzdG9yZVRvUmVmcyhzdG9yZSkgewogICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9waW5pYS9pc3N1ZXMvODUyCiAgICAvLyBJdCdzIGVhc2llciB0byBqdXN0IHVzZSB0b1JlZnMoKSBldmVuIGlmIGl0IGluY2x1ZGVzIG1vcmUgc3R1ZmYKICAgIGlmIChpc1Z1ZTIpIHsKICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0b1JlZnMgaW5jbHVkZSBtZXRob2RzIGFuZCBvdGhlcnMKICAgICAgICByZXR1cm4gdG9SZWZzKHN0b3JlKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHN0b3JlID0gdG9SYXcoc3RvcmUpOwogICAgICAgIGNvbnN0IHJlZnMgPSB7fTsKICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdG9yZSkgewogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0b3JlW2tleV07CiAgICAgICAgICAgIGlmIChpc1JlZih2YWx1ZSkgfHwgaXNSZWFjdGl2ZSh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoZSBrZXkgaXMgc3RhdGUgb3IgZ2V0dGVyCiAgICAgICAgICAgICAgICByZWZzW2tleV0gPQogICAgICAgICAgICAgICAgICAgIC8vIC0tLQogICAgICAgICAgICAgICAgICAgIHRvUmVmKHN0b3JlLCBrZXkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiByZWZzOwogICAgfQp9CgovKioKICogVnVlIDIgUGx1Z2luIHRoYXQgbXVzdCBiZSBpbnN0YWxsZWQgZm9yIHBpbmlhIHRvIHdvcmsuIE5vdGUgKip5b3UgZG9uJ3QgbmVlZAogKiB0aGlzIHBsdWdpbiBpZiB5b3UgYXJlIHVzaW5nIE51eHQuanMqKi4gVXNlIHRoZSBgYnVpbGRNb2R1bGVgIGluc3RlYWQ6CiAqIGh0dHBzOi8vcGluaWEudnVlanMub3JnL3Nzci9udXh0Lmh0bWwuCiAqCiAqIEBleGFtcGxlCiAqIGBgYGpzCiAqIGltcG9ydCBWdWUgZnJvbSAndnVlJwogKiBpbXBvcnQgeyBQaW5pYVZ1ZVBsdWdpbiwgY3JlYXRlUGluaWEgfSBmcm9tICdwaW5pYScKICoKICogVnVlLnVzZShQaW5pYVZ1ZVBsdWdpbikKICogY29uc3QgcGluaWEgPSBjcmVhdGVQaW5pYSgpCiAqCiAqIG5ldyBWdWUoewogKiAgIGVsOiAnI2FwcCcsCiAqICAgLy8gLi4uCiAqICAgcGluaWEsCiAqIH0pCiAqIGBgYAogKgogKiBAcGFyYW0gX1Z1ZSAtIGBWdWVgIGltcG9ydGVkIGZyb20gJ3Z1ZScuCiAqLwpjb25zdCBQaW5pYVZ1ZVBsdWdpbiA9IGZ1bmN0aW9uIChfVnVlKSB7CiAgICAvLyBFcXVpdmFsZW50IG9mCiAgICAvLyBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWEKICAgIF9WdWUubWl4aW4oewogICAgICAgIGJlZm9yZUNyZWF0ZSgpIHsKICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7CiAgICAgICAgICAgIGlmIChvcHRpb25zblR5cGVbInBhdGNoRnVuY3Rpb24iXSA9ICJwYXRjaCBmdW5jdGlvbiI7CiAgICAvLyBtYXliZSByZXNldD8gZm9yICRzdGF0ZSA9IHt9IGFuZCAkcmVzZXQKfSkoTXV0YXRpb25UeXBlIHx8IChNdXRhdGlvblR5cGUgPSB7fSkpOwoKY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7Ci8qKgogKiBTaG91bGQgd2UgYWRkIHRoZSBkZXZ0b29scyBwbHVnaW5zLgogKiAtIG9ubHkgaWYgZGV2IG1vZGUgb3IgZm9yY2VkIHRocm91Z2ggdGhlIHByb2QgZGV2dG9vbHMgZmxhZwogKiAtIG5vdCBpbiB0ZXN0CiAqIC0gb25seSBpZiB3aW5kb3cgZXhpc3RzIChjb3VsZCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZSkKICovCmNvbnN0IFVTRV9ERVZUT09MUyA9IElTX0NMSUVOVDsKCi8qCiAqIEZpbGVTYXZlci5qcyBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi4KICoKICogT3JpZ2luYWxseSBieSBFbGkgR3JleSwgYWRhcHRlZCBhcyBhbiBFU00gbW9kdWxlIGJ5IEVkdWFyZG8gU2FuIE1hcnRpbgogKiBNb3JvdGUuCiAqCiAqIExpY2Vuc2UgOiBNSVQKICovCi8vIFRoZSBvbmUgYW5kIG9ubHkgd2F5IG9mIGdldHRpbmcgZ2xvYmFsIHNjb3BlIGluIGFsbCBlbnZpcm9ubWVudHMKLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzMyNzcxODIvMTAwODk5OQpjb25zdCBfZ2xvYmFsID0gLyojX19QVVJFX18qLyAoKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LndpbmRvdyA9PT0gd2luZG93CiAgICA/IHdpbmRvdwogICAgOiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmCiAgICAgICAgPyBzZWxmCiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwuZ2xvYmFsID09PSBnbG9iYWwKICAgICAgICAgICAgPyBnbG9iYWwKICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcKICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpcwogICAgICAgICAgICAgICAgOiB7IEhUTUxFbGVtZW50OiBudWxsIH0pKCk7CmZ1bmN0aW9uIGJvbShibG9iLCB7IGF1dG9Cb20gPSBmYWxzZSB9ID0ge30pIHsKICAgIC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpCiAgICAvLyBub3RlOiB5b3VyIGJyb3dzZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgVVRGLTE2IFUrRkVGRiB0byBFRiBCQiBCRgogICAgaWYgKGF1dG9Cb20gJiYKICAgICAgICAvXlxzKig/OnRleHRcL1xTKnxhcHBsaWNhdGlvblwveG1sfFxTKlwvXFMqXCt4bWwpXHMqOy4qY2hhcnNldFxzKj1ccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkgewogICAgICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7CiAgICB9CiAgICByZXR1cm4gYmxvYjsKfQpmdW5jdGlvbiBkb3dubG9hZCh1cmwsIG5hbWUsIG9wdHMpIHsKICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7CiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InOwogICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzYXZlQXMoeGhyLnJlZ2luIiwib3ZlcmZsb3ciLCJwYWludC1vcmRlciIsInBhdGgiLCJwYXRobGVuZ3RoIiwicGF0dGVybmNvbnRlbnR1bml0cyIsInBhdHRlcm50cmFuc2Zvcm0iLCJwYXR0ZXJudW5pdHMiLCJwb2ludHMiLCJwcmVzZXJ2ZWFscGhhIiwicHJlc2VydmVhc3BlY3RyYXRpbyIsInByaW1pdGl2ZXVuaXRzIiwiciIsInJ4IiwicnkiLCJyYWRpdXMiLCJyZWZ4IiwicmVmeSIsInJlcGVhdGNvdW50IiwicmVwZWF0ZHVyIiwicmVzdGFydCIsInJlc3VsdCIsInJvdGF0ZSIsInNjYWxlIiwic2VlZCIsInNoYXBlLXJlbmRlcmluZyIsInNsb3BlIiwic3BlY3VsYXJjb25zdGFudCIsInNwZWN1bGFyZXhwb25lbnQiLCJzcHJlYWRtZXRob2QiLCJzdGFydG9mZnNldCIsInN0ZGRldmlhdGlvbiIsInN0aXRjaHRpbGVzIiwic3RvcC1jb2xvciIsInN0b3Atb3BhY2l0eSIsInN0cm9rZS1kYXNoYXJyYXkiLCJzdHJva2UtZGFzaG9mZnNldCIsInN0cm9rZS1saW5lY2FwIiwic3Ryb2tlLWxpbmVqb2luIiwic3Ryb2tlLW1pdGVybGltaXQiLCJzdHJva2Utb3BhY2l0eSIsInN0cm9rZSIsInN0cm9rZS13aWR0aCIsInN0eWxlIiwic3VyZmFjZXNjYWxlIiwic3lzdGVtbGFuZ3VhZ2UiLCJ0YWJpbmRleCIsInRhYmxldmFsdWVzIiwidGFyZ2V0eCIsInRhcmdldHkiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0tb3JpZ2luIiwidGV4dC1hbmNob3IiLCJ0ZXh0LWRlY29yYXRpb24iLCJ0ZXh0LXJlbmRlcmluZyIsInRleHRsZW5ndGgiLCJ0eXBlIiwidTEiLCJ1MiIsInVuaWNvZGUiLCJ2YWx1ZXMiLCJ2aWV3Ym94IiwidmlzaWJpbGl0eSIsInZlcnNpb24iLCJ2ZXJ0LWFkdi15IiwidmVydC1vcmlnaW4teCIsInZlcnQtb3JpZ2luLXkiLCJ3aWR0aCIsIndvcmQtc3BhY2luZyIsIndyYXAiLCJ3cml0aW5nLW1vZGUiLCJ4Y2hhbm5lbHNlbGVjdG9yIiwieWNoYW5uZWxzZWxlY3RvciIsIngiLCJ4MSIsIngyIiwieG1sbnMiLCJ5IiwieTEiLCJ5MiIsInoiLCJ6b29tYW5kcGFuIl0pLEY9aShbImFjY2VudCIsImFjY2VudHVuZGVyIiwiYWxpZ24iLCJiZXZlbGxlZCIsImNsb3NlIiwiY29sdW1uc2FsaWduIiwiY29sdW1ubGluZXMiLCJjb2x1bW5zcGFuIiwiZGVub21hbGlnbiIsImRlcHRoIiwiZGlyIiwiZGlzcGxheSIsImRpc3BsYXlzdHlsZSIsImVuY29kaW5nIiwiZmVuY2UiLCJmcmFtZSIsImhlaWdodCIsImhyZWYiLCJpZCIsImxhcmdlb3AiLCJsZW5ndGgiLCJsaW5ldGhpY2tuZXNzIiwibHNwYWNlIiwibHF1b3RlIiwibWF0aGJhY2tncm91bmQiLCJtYXRoY29sb3IiLCJtYXRoc2l6ZSIsIm1hdGh2YXJpYW50IiwibWF4c2l6ZSIsIm1pbnNpemUiLCJtb3ZhYmxlbGltaXRzIiwibm90YXRpb24iLCJudW1hbGlnbiIsIm9wZW4iLCJyb3dhbGlnbiIsInJvd2xpbmVzIiwicm93c3BhY2luZyIsInJvd3NwYW4iLCJyc3BhY2UiLCJycXVvdGUiLCJzY3JpcHRsZXZlbCIsInNjcmlwdG1pbnNpemUiLCJzY3JpcHRzaXplbXVsdGlwbGllciIsInNlbGVjdGlvbiIsInNlcGFyYXRvciIsInNlcGFyYXRvcnMiLCJzdHJldGNoeSIsInN1YnNjcmlwdHNoaWZ0Iiwic3Vwc2NyaXB0c2hpZnQiLCJzeW1tZXRyaWMiLCJ2b2Zmc2V0Iiwid2lkdGgiLCJ4bWxucyJdKSxIPWkoWyJ4bGluazpocmVmIiwieG1sOmlkIiwieGxpbms6dGl0bGUiLCJ4bWw6c3BhY2UiLCJ4bWxuczp4bGluayJdTkRFUjppKDU5MjExKSxQT1NUX1NURVA6aSg0Nzc4OSksUFJFX1JFTkRFUjppKDM5MDY2KSxQUkVfU1RFUDppKDQ2MCksUkVBRFk6aSgxNjE3NSksUkVTVU1FOmkoNDIzMzEpLFNURVA6aSgxMTk2NiksU1lTVEVNX1JFQURZOmkoMzI5NjkpLFZJU0lCTEU6aSg5NDgzMCl9fSw0Mjg1NzoodCxlLGkpPT57dC5leHBvcnRzPXtDb25maWc6aSg2OTU0NyksQ3JlYXRlUmVuZGVyZXI6aSg4NjA1NCksRGVidWdIZWFkZXI6aSg5NjM5MSksRXZlbnRzOmkoODQ0MyksVGltZVN0ZXA6aSg2NTg5OCksVmlzaWJpbGl0eUhhbmRsZXI6aSg1MTA4NSl9fSw5OTU4NDoodCxlLGkpPT57dmFyIHM9aSg1MjkwKSxuPWkoMjc5MTkpLHI9aSgzNTE1NCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCwiZGF0YSIsW10pLGk9cih0LCJjYW52YXMiLG51bGwpLG89cih0LCJwYWxldHRlIixzKSxhPXIodCwicGl4ZWxXaWR0aCIsMSksaD1yKHQsInBpeGVsSGVpZ2h0IixhKSxsPXIodCwicmVzaXplQ2FudmFzIiwhMCksdT1yKHQsImNsZWFyQ2FudmFzIiwhMCksYz1yKHQsInByZVJlbmRlciIsbnVsbCksZD1yKHQsInBvc3RSZW5kZXIiLG51bGwpLGY9TWF0aC5mbG9vcihNYXRoLmFicyhlWzBdLmxlbmd0aCphKSkscD1NYXRoLmZsb29yKE1hdGguYWJzKGUubGVuZ3RoKmgpKTtpfHwoaT1uLmNyZWF0ZTJEKHRoaXMsZixwKSxsPSExLHU9ITEpLGwmJihpLndpZHRoPWYsaS5oZWlnaHQ9cCk7dmFyIHY9aS5nZXRDb250ZXh0KCIyZCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO3UmJnYuY2xlYXJSZWN0KDAsMCxmLHApLGMmJmMoaSx2KTtmb3IodmFyIGc9MDtnPGUubGVuZ3RoO2crKylmb3IodmFyIG09ZVtnXSx5PTA7eTxtLmxlbmd0aDt5Kyspe3ZhciB4PW1beV07Ii4iIT09eCYmIiAiIT09eCYmKHYuZmlsbFN0eWxlPW9beF0sdi5maWxsUmVjdCh5KmEsZypoLGEsaCkpfXJldHVybiBkJiZkKGksdiksaX19LDE1ODIyOih0LGUsaSk9Pnt0LmV4cG9ydHM9e0dlbmVyYXRlVGV4dHVyZTppKDk5NTg0KSxQYWxldHRlczppKDU3NzYzKX19LDUyOTA6dD0+e3QuZXhwb3J0cz17MDoiIzAwMCIsMToiIzlEOUQ5RCIsMjoiI0ZGRiIsMzoiI0JFMjYzMyIsNDoiI0UwNkY4QiIsNToiIzQ5M0MyQiIsNjoiI0E0NjQyMiIsNzoiI0VCODkzMSIsODoiI0Y3RTI2QiIsOToiIzJGNDg0RSIsQToiIzQ0ODkxQSIsQjoiI0EzQ0UyNyIsQzoiIzFCMjYzMiIsRDoiIzAwNTc4NCIsRToiIzMxQTJGMiIsRjoiI0IyRENFRiJ9fSwyMzgxNjp0PT57dC5leHBvcnRzPXswOiIjMDAwIiwxOiIjZmZmIiwyOiIjOGI0MTMxIiwzOiIjN2JiZGM1Iiw0OiIjOGI0MWFjIiw1OiIjNmFhYzQxIiw2OiIjMzkzMWE0Iiw3OiIjZDVkZTczIiw4OiIjOTQ1YTIwIiw5OiIjNWE0MTAwIixBOiIjYmQ3MzZhIixCOiIjNTI1MjUyIixDOiIjODM4MzgzIixEOiIjYWNlZThiIixFOiIjN2I3M2RlIixGOiIjYWNhY2FjIn19LDk4NjY6dD0+e3QuZXhwb3J0cz17MDoiIzAwMCIsMToiIzIyMzRkMSIsMjoiIzBjN2U0NSIsMzoiIzQ0YWFjYyIsNDoiIzhhMzYyMiIsNToiIzVjMmU3OCIsNjoiI2FhNWMzZCIsNzoiI2I1YjViNSIsODoiIzVlNjA2ZSIsOToiIzRjODFmYiIsQToiIzZjZDk0NyIsQjoiIzdiZTJmOSIsQzoiI2ViOGE2MCIsRDoiI2UyM2Q2OSIsRToiI2ZmZDkzZiIsRjoiI2ZmZiJ9fSw3NzU1Mjp0PT57dyBzLHRoaXMuaHRtbD1uZXcgcyx0aGlzLm9iaj1uZXcgcyx0aGlzLnRpbGVtYXA9bmV3IHMsdGhpcy54bWw9bmV3IHMsdGhpcy5jdXN0b209e30sdGhpcy5nYW1lLmV2ZW50cy5vbmNlKHIuREVTVFJPWSx0aGlzLmRlc3Ryb3ksdGhpcyl9LGFkZEN1c3RvbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXN0b20uaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLmN1c3RvbVt0XT1uZXcgcyksdGhpcy5jdXN0b21bdF19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJiaW5hcnkiLCJiaXRtYXBGb250IiwianNvbiIsInBoeXNpY3MiLCJzaGFkZXIiLCJhdWRpbyIsInZpZGVvIiwidGV4dCIsImh0bWwiLCJvYmoiLCJ0aWxlbWFwIiwieG1sIl0sZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXNbdFtlXV0uZGVzdHJveSgpLHRoaXNbdFtlXV09bnVsbDtmb3IodmFyIGkgaW4gdGhpcy5jdXN0b20pdGhpcy5jdXN0b21baV0uZGVzdHJveSgpO3RoaXMuY3VzdG9tPW51bGwsdGhpcy5nYW1lPW51bGx9fSk7dC5leHBvcnRzPW99LDUxNDY0OnQ9Pnt0LmV4cG9ydHM9ImFkZCJ9LDU5MjYxOnQ9Pnt0LmV4cG9ydHM9InJlbW92ZSJ9LDI0NzM2Oih0LGUsaSk9Pnt0LmV4cG9ydHM9e0FERDppKDUxNDY0KSxSRU1PVkU6aSg1OTI2MSl9fSw4MzM4ODoodCxlLGkpPT57dC5leHBvcnRzPXtCYXNlQ2FjaGU6aSgyMTYxKSxDYWNoZU1hbmFnZXI6aSgyNDA0NyksRXZlbnRzOmkoMjQ3MzYpfX0sNzE5MTE6KHQsZSxpKT0+e3ZhciBzPWkoODM0MTkpLG49aSgzMTQwMSkscj1pKDM5NTA2KSxvPWkoNTA3OTIpLGE9aSgxOTcxNSksaD1pKDg3ODQxKSxsPWkoNjEzNDApLHU9aSg4MDMzMyksYz1pKDI2MDk5KSxkPW5ldyBzKHtFeHRlbmRzOm8sTWl4aW5zOltuLkFscGhhU2luZ2xlLG4uVmlzaWJsZV0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz0wKSxvLmNhbGwodGhpcyksdGhpcy5zY2VuZSx0aGlzLnNjZW5lTWFuYWdlcix0aGlzLnNjYWxlTWFuYWdlcix0aGlzLmNhbWVyYU1hbmFnZXIsdGhpcy5pZD0wLHRoaXMubmFtZT0iIix0aGlzLnJvdW5kUGl4ZWxzPSExLHRoaXMudXNlQm91bmRzPSExLHRoaXMud29ybGRWaWV3PW5ldyBoLHRoaXMuZGlydHk9ITAsdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl93aWR0aD1pLHRoaXMuX2hlaWdodD1zLHRoaXMuX2JvdW5kcz1uZXcgaCx0aGlzLl9zY3JvbGxYPTAsdGhpcy5fc2Nyb2xsWT0wLHRoaXMuX3pvb21YPTEsdGhpcy5fem9vbVk9MSx0aGlzLl9yb3RhdGlvbj0wLHRoaXMubWF0cml4PW5ldyBsLHRoaXMudHJhbnNwYXJlbnQ9ITAsdGhpcy5iYWNrZ3JvdW5kQ29sb3I9dSgicmdiYSgwLDAsMCwwKSIpLHRoaXMuZGlzYWJsZUN1bGw9ITEsdGhpcy5jdWxsZWRPYmplY3RzPVtdLHRoaXMubWlkUG9pbnQ9bmV3IGMoaS8yLHMvMiksdGhpcy5vcmlnaW5YPS41LHRoaXMub3JpZ2luWT0uNSx0aGlzLl9jdXN0b21WaWV3cG9ydD0hMSx0aGlzLm1hc2s9bnVsbCx0aGlzLl9tYXNrQ2FtZXJhPW51bGwsdGhpcy5yZW5kZXJMaXN0PVtdLHRoaXMuaXNTY2VuZUNhbWVyYT0hMH0sYWRkVG9SZW5kZXJMaXN0OmZ1bmN0aW9uKHQpe3RoaXMucmVuZGVyTGlzdC5wdXNoKHQpfSxzZXRPcmlnaW46ZnVuY3RpZWhhdmlvcjp0LmJlaGF2aW9yLGxlZnQ6ci5sZWZ0LW4ubGVmdC0odC5sZWZ0fHwwKSx0b3A6ci50b3Atbi50b3AtKHQudG9wfHwwKX19KG8sZSl9ZWxzZSB0PWU7InNjcm9sbEJlaGF2aW9yImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZT93aW5kb3cuc2Nyb2xsVG8odCk6d2luZG93LnNjcm9sbFRvKG51bGwhPXQubGVmdD90LmxlZnQ6d2luZG93LnBhZ2VYT2Zmc2V0LG51bGwhPXQudG9wP3QudG9wOndpbmRvdy5wYWdlWU9mZnNldCl9ZnVuY3Rpb24gTyhlLHQpe3JldHVybihoaXN0b3J5LnN0YXRlP2hpc3Rvcnkuc3RhdGUucG9zaXRpb24tdDotMSkrZX1jb25zdCBrPW5ldyBNYXA7bGV0IGo9KCk9PmxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdDtmdW5jdGlvbiBQKGUsdCl7Y29uc3R7cGF0aG5hbWU6bixzZWFyY2g6cixoYXNoOm99PXQsYT1lLmluZGV4T2YoIiMiKTtpZihhPi0xKXtsZXQgdD1vLmluY2x1ZGVzKGUuc2xpY2UoYSkpP2Uuc2xpY2UoYSkubGVuZ3RoOjEsbj1vLnNsaWNlKHQpO3JldHVybiIvIiE9PW5bMF0mJihuPSIvIituKSxmKG4sIiIpfXJldHVybiBmKG4sZSkrcitvfWZ1bmN0aW9uIEMoZSx0LG4scj0hMSxvPSExKXtyZXR1cm57YmFjazplLGN1cnJlbnQ6dCxmb3J3YXJkOm4scmVwbGFjZWQ6cixwb3NpdGlvbjp3aW5kb3cuaGlzdG9yeS5sZW5ndGgsc2Nyb2xsOm8/RSgpOm51bGx9fWZ1bmN0aW9uIHgoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtjb25zdHtoaXN0b3J5OnQsbG9jYXRpb246bn09d2luZG93LHI9e3ZhbHVlOlAoZSxuKX0sYT17dmFsdWU6dC5zdGF0ZX07ZnVuY3Rpb24gYyhyLG8sYyl7Y29uc3Qgcz1lLmluZGV4T2YoIiMiKSxpPXM+LTE/KG4uaG9zdCYmZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYmFzZSIpP2U6ZS5zbGljZShzKSkrcjpqKCkrZStyO3RyeXt0W2M/InJlcGxhY2VTdGF0ZSI6InB1c2hTdGF0ZSJdKG8sIiIsaSksYS52YWx1ZT1vfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSksbltjPyJyZXBsYWNlIjoiYXNzaWduIl0oaSl9fXJldHVybiBhLnZhbHVlfHxjKHIudmFsdWUse2JhY2s6bnVsbCxjdXJyZW50OnIudmFsdWUsZm9yd2FyZDpudWxsLHBvc2l0aW9uOnQubGVuZ3RoLTEscmVwbGFjZWQ6ITAsc2Nyb2xsOm51bGx9LCEwKSx7bG9jYXRpb246cixzdGF0ZTphLHB1c2g6ZnVuY3Rpb24oZSxuKXtjb25zdCBzPW8oe30sYS52YWx1ZSx0LnN0YXRlLHtmb3J3YXJkOmUsc2Nyb2xsOkUoKX0pO2Mocy5jdXJyZW50LHMsITApLGMoZSxvKHt9LEMoci52YWx1ZSxlLG51bGwpLHtwb3NpdGlvbjpzLnBvc2l0aW9uKzF9LG4pLCExKSxyLnZhbHVlPWV9LHJlcGxhY2U6ZnVuY3Rpb24oZSxuKXtjKGUsbyh7fSx0LnN0YXRlLEMoYS52YWx1ZS5iYWNrLGUsYS52YWx1ZS5mb3J3YXJkLCEwKSxuLHtwb3NpdGlvbjphLnZhbHVlLnBvc2l0aW9ufSksITApLHIudmFsdWU9ZX19fShlPXkoZSkpLG49ZnVuY3Rpb24oZSx0LG4scil7bGV0IGE9W10sYz1bXSxzPW51bGw7Y29uc3QgaT0oe3N0YXRlOm99KT0+e2NvbnN0IGM9UChlLGxvY2F0aW9uKSxpPW4udmFsdWUsbD10LnZhbHVlO2xldCB1PTA7aWYobyl7aWYobi52YWx1ZT1jLHQudmFsdWU9byxzJiZzPT09aSlyZXR1cm4gdm9pZChzPW51bGwpO3U9bD9vLnBvc2l0aW9uLWwucG9zaXRpb246MH1lbHNlIHIoYyk7YS5mZXQgcj0oKT0+e30sbj1EdFtlLnR5cGVdfHxyLFtpLG9dPXhlKHQpO1J0KHQsZS5vcmlnaW5hbCxvKTtsZXQgcz0oKT0+e3QuX3hfaWdub3JlfHx0Ll94X2lnbm9yZVNlbGZ8fChuLmlubGluZSYmbi5pbmxpbmUodCxlLGkpLG49bi5iaW5kKG4sdCxlLGkpLHdlP190LmdldCh3cikucHVzaChuKTpuKCkpfTtyZXR1cm4gcy5ydW5DbGVhbnVwcz1vLHN9dmFyIFB0PSh0LGUpPT4oe25hbWU6cix2YWx1ZTpufSk9PihyLnN0YXJ0c1dpdGgodCkmJihyPXIucmVwbGFjZSh0LGUpKSx7bmFtZTpyLHZhbHVlOm59KSxJdD10PT50O2Z1bmN0aW9uIHZyKHQ9KCk9Pnt9KXtyZXR1cm4oe25hbWU6ZSx2YWx1ZTpyfSk9PntsZXR7bmFtZTpuLHZhbHVlOml9PVNyLnJlZHVjZSgobyxzKT0+cyhvKSx7bmFtZTplLHZhbHVlOnJ9KTtyZXR1cm4gbiE9PWUmJnQobixlKSx7bmFtZTpuLHZhbHVlOml9fX12YXIgU3I9W107ZnVuY3Rpb24gY3QodCl7U3IucHVzaCh0KX1mdW5jdGlvbiBBcih7bmFtZTp0fSl7cmV0dXJuIE9yKCkudGVzdCh0KX12YXIgT3I9KCk9Pm5ldyBSZWdFeHAoYF4ke3ZlfShbXjpeLl0rKVxcYmApO2Z1bmN0aW9uIFpuKHQsZSl7cmV0dXJuKHtuYW1lOnIsdmFsdWU6bn0pPT57cj09PW4mJihuPSIiKTtsZXQgaT1yLm1hdGNoKE9yKCkpLG89ci5tYXRjaCgvOihbYS16QS1aMC05XC1fOl0rKS8pLHM9ci5tYXRjaCgvXC5bXi5cXV0rKD89W15cXV0qJCkvZyl8fFtdLGE9ZXx8dFtyXXx8cjtyZXR1cm57dHlwZTppP2lbMV06bnVsbCx2YWx1ZTpvP29bMV06bnVsbCxtb2RpZmllcnM6cy5tYXAoYz0+Yy5yZXBsYWNlKCIuIiwiIikpLGV4cHJlc3Npb246bixvcmlnaW5hbDphfX19dmFyIEVlPSJERUZBVUxUIixYPVsiaWdub3JlIiwicmVmIiwiZGF0YSIsImlkIiwiYW5jaG9yIiwiYmluZCIsImluaXQiLCJmb3IiLCJtb2RlbCIsIm1vZGVsYWJsZSIsInRyYW5zaXRpb24iLCJzaG93IiwiaWYiLEVlLCJ0ZWxlcG9ydCJdO2Z1bmN0aW9uIFFuKHQsZSl7bGV0IHI9WC5pbmRleE9mKHQudHlwZSk9PT0tMT9FZTp0LnR5cGUsbj1YLmluZGV4T2YoZS50eXBlKT09PS0xP0VlOmUudHlwZTtyZXR1cm4gWC5pbmRleE9mKHIpLVguaW5kZXhPZihuKX1mdW5jdGlvbiBaKHQsZSxyPXt9KXt0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGUse2RldGFpbDpyLGJ1YmJsZXM6ITAsY29tcG9zZWQ6ITAsY2FuY2VsYWJsZTohMH0pKX1mdW5jdGlvbiAkKHQsZSl7aWYodHlwZW9mIFNoYWRvd1Jvb3Q9PSJmdW5jdGlvbiImJnQgaW5zdGFuY2VvZiBTaGFkb3dSb290KXtBcnJheS5mcm9tKHQuY2hpbGRyZW4pLmZvckVhY2goaT0+JChpLGUpKTtyZXR1cm59bGV0IHI9ITE7aWYoZSh0LCgpPT5yPSEwKSxyKXJldHVybjtsZXQgbj10LmZpcnN0RWxlbWVudENoaWxkO2Zvcig7bjspJChuLGUsITEpLG49bi5uZXh0RWxlbWVudFNpYmxpbmd9ZnVuY3Rpb24gdyh0LC4uLmUpe2NvbnNvbGUud2FybihgQWxwaW5lIFdhcm5pbmc6ICR7dH1gLC4uLmUpfXZhciBDcj0hMTtmdW5jdGlvbiBUcigpe0NyJiZ3KCJBbHBpbmUgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZCBvbiB0aGlzIHBhZ2UuIENhbGxpbmcgQWxwaW5lLnN0YXJ0KCkgbW9yZSB0aGFuIG9uY2UgY2FuIGNhdXNlIHByb2JsZW1zLiIpLENyPSEwLGRvY3VtZW50LmJvZHl8fHcoIlVuYWJsZSB0byBpbml0cG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgJyArICdSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiAnICsgJ3Rob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyAnICsgJ3Byb2JhYmx5IG5vdCBpbnRlbnRpb25hbC4nKTsKICAgIH0KICB9CgogIGlmIChwcm9wcy5zdHlsZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wcy5zdHlsZSAhPT0gJ29iamVjdCcpIHsKICAgIHRocm93IG5ldyBFcnJvcignVGhlIGBzdHlsZWAgcHJvcCBleHBlY3RzIGEgbWFwcGluZyBmcm9tIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLCAnICsgIm5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyAnZW0nfX0gd2hlbiAiICsgJ3VzaW5nIEpTWC4nKTsKICB9Cn0KCmZ1bmN0aW9uIGlzQ3VzdG9tQ29tcG9uZW50KHRhZ05hbWUsIHByb3BzKSB7CiAgaWYgKHRhZ05hbWUuaW5kZXhPZignLScpID09PSAtMSkgewogICAgcmV0dXJuIHR5cGVvZiBwcm9wcy5pcyA9PT0gJ3N0cmluZyc7CiAgfQoKICBzd2l0Y2ggKHRhZ05hbWUpIHsKICAgIC8vIFRoZXNlIGFyZSByZXNlcnZlZCBTVkcgYW5kIE1hdGhNTCBlbGVtZW50cy4KICAgIC8vIFdlIGRvbid0IG1pbmQgdGhpcyBsaXN0IHRvbyBtdWNoIGJlY2F1c2Ugd2UgZXhwZWN0IGl0IHRvIG5ldmVyIGdyb3cuCiAgICAvLyBUaGUgYWx0ZXJuYXRpdmUgaXMgdG8gdHJhY2sgdGhlIG5hbWVzcGFjZSBpbiBhIGZldyBwbGFjZXMgd2hpY2ggaXMgY29udm9sdXRlZC4KICAgIC8vIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJjb21wb25lbnRzL3NwZWMvY3VzdG9tLyNjdXN0b20tZWxlbWVudHMtY29yZS1jb25jZXB0cwogICAgY2FzZSAnYW5ub3RhdGlvbi14bWwnOgogICAgY2FzZSAnY29sb3ItcHJvZmlsZSc6CiAgICBjYXNlICdmb250LWZhY2UnOgogICAgY2FzZSAnZm9udC1mYWNlLXNyYyc6CiAgICBjYXNlICdmb250LWZhY2UtdXJpJzoKICAgIGNhc2UgJ2ZvbnQtZmFjZS1mb3JtYXQnOgogICAgY2FzZSAnZm9udC1mYWNlLW5hbWUnOgogICAgY2FzZSAnbWlzc2luZy1nbHlwaCc6CiAgICAgIHJldHVybiBmYWxzZTsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gdHJ1ZTsKICB9Cn0KCi8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhlIEhUTUwgb3IgU1ZHIGFsbG93ZWQgYXR0cmlidXRlIGxpc3QsIGJlIHN1cmUgdG8KLy8gYWxzbyBhZGQgdGhlbSB0byB0aGlzIG1vZHVsZSB0byBlbnN1cmUgY2FzaW5nIGFuZCBpbmNvcnJlY3QgbmFtZQovLyB3YXJuaW5ncy4KdmFyIHBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IHsKICAvLyBIVE1MCiAgYWNjZXB0OiAnYWNjZXB0JywKICBhY2NlcHRjaGFyc2V0OiAnYWNjZXB0Q2hhcnNldCcsCiAgJ2FjY2VwdC1jaGFyc2V0JzogJ2FjY2VwdENoYXJzZXQnLAogIGFjY2Vzc2tleTogJ2FjY2Vzc0tleScsCiAgYWN0aW9uOiAnYWN0aW9uJywKICBhbGxvd2Z1bGxzY3JlZW46ICdhbGxvd0Z1bGxTY3JlZW4nLAogIGFsdDogJ2FsdCcsCiAgYXM6ICdhcycsCiAgYXN5bmM6ICdhc3luYycsCiAgYXV0b2NhcGl0YWxpemU6ICdhdXRvQ2FwaXRhbGl0IGF0IGxlYXN0IG9uZSBzdGFjayBmcmFtZSB0byBiZSBzaGFyZWQuCiAgICAgICAgLy8gVHlwaWNhbGx5IHRoaXMgd2lsbCBiZSB0aGUgcm9vdCBtb3N0IG9uZS4gSG93ZXZlciwgc3RhY2sgZnJhbWVzIG1heSBiZQogICAgICAgIC8vIGN1dCBvZmYgZHVlIHRvIG1heGltdW0gc3RhY2sgbGltaXRzLiBJbiB0aGlzIGNhc2UsIG9uZSBtYXliZSBjdXQgb2ZmCiAgICAgICAgLy8gZWFybGllciB0aGFuIHRoZSBvdGhlci4gV2UgYXNzdW1lIHRoYXQgdGhlIHNhbXBsZSBpcyBsb25nZXIgb3IgdGhlIHNhbWUKICAgICAgICAvLyBhbmQgdGhlcmUgZm9yIGN1dCBvZmYgZWFybGllci4gU28gd2Ugc2hvdWxkIGZpbmQgdGhlIHJvb3QgbW9zdCBmcmFtZSBpbgogICAgICAgIC8vIHRoZSBzYW1wbGUgc29tZXdoZXJlIGluIHRoZSBjb250cm9sLgogICAgICAgIGMtLTsKICAgICAgfQoKICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7CiAgICAgICAgLy8gTmV4dCB3ZSBmaW5kIHRoZSBmaXJzdCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSB3aGljaCBzaG91bGQgYmUgdGhlCiAgICAgICAgLy8gZnJhbWUgdGhhdCBjYWxsZWQgb3VyIHNhbXBsZSBmdW5jdGlvbiBhbmQgdGhlIGNvbnRyb2wuCiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHsKICAgICAgICAgIC8vIEluIFY4LCB0aGUgZmlyc3QgbGluZSBpcyBkZXNjcmliaW5nIHRoZSBtZXNzYWdlIGJ1dCBvdGhlciBWTXMgZG9uJ3QuCiAgICAgICAgICAvLyBJZiB3ZSdyZSBhYm91dCB0byByZXR1cm4gdGhlIGZpcnN0IGxpbmUsIGFuZCB0aGUgY29udHJvbCBpcyBhbHNvIG9uIHRoZSBzYW1lCiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhcwogICAgICAgICAgLy8gdGhlIGNvbnRyb2wuIEkuZS4gYmVmb3JlIHdlIGVudGVyZWQgdGhlIHNhbXBsZSBmcmFtZS4gU28gd2UgaWdub3JlIHRoaXMgcmVzdWx0LgogICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSBwYXNzZWQgYSBjbGFzcyB0byBmdW5jdGlvbiBjb21wb25lbnQsIG9yIG5vbi1mdW5jdGlvbi4KICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHsKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgIHMtLTsKICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC4KICAgICAgICAgICAgICAvLyBUaGUgbmV4dCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSBzaG91bGQgYmUgb3VyIG1hdGNoIHRob3VnaC4KCiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHsKICAgICAgICAgICAgICAgIC8vIFY4IGFkZHMgYSAibmV3IiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci4KICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPSAnXG4nICsgc2FtcGxlTGluZXNbc10ucmVwbGFjZSgnIGF0IG5ldyAnLCAnIGF0ICcpOyAvLyBJZiBvdXIgY29tcG9uZW50IGZyYW1lIGlzIGxhYmVsZWQgIjxhbm9ueW1vdXM+IgogICAgICBpYmxpbmc7KWM9Yy5uZXh0U2libGluZztmW2YuaW5kZXhPZihjKV09ZCxlLl9fZT1jfWVsc2V7Zm9yKFQ9Zi5sZW5ndGg7VC0tOylDKGZbVF0pO04oZSl9ZWxzZSBlLl9fZT1pLl9fZSxlLl9faz1pLl9fayxuLnRoZW58fE4oZSk7dC5fX2UobixlLGkpfWVsc2UgZj09ZCYmZS5fX3Y9PWkuX192PyhlLl9faz1pLl9fayxlLl9fZT1pLl9fZSk6Yz1lLl9fZT1CKGkuX19lLGUsaSxyLG8sZix1LHMsYSk7cmV0dXJuKGg9dC5kaWZmZWQpJiZoKGUpLDEyOCZlLl9fdT92b2lkIDA6Y31mdW5jdGlvbiBOKG4pe24mJm4uX19jJiYobi5fX2MuX19lPSEwKSxuJiZuLl9fayYmbi5fX2suZm9yRWFjaChOKX1mdW5jdGlvbiBSKG4sZSxpKXtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylEKGlbcl0saVsrK3JdLGlbKytyXSk7dC5fX2MmJnQuX19jKGUsbiksbi5zb21lKGZ1bmN0aW9uKGUpe3RyeXtuPWUuX19oLGUuX19oPVtdLG4uc29tZShmdW5jdGlvbihuKXtuLmNhbGwoZSl9KX1jYXRjaChuKXt0Ll9fZShuLGUuX192KX19KX1mdW5jdGlvbiBxKG4pe3JldHVybiJvYmplY3QiIT10eXBlb2Ygbnx8bj09ZHx8bi5fX2ImJm4uX19iPjA/bjpiKG4pP24ubWFwKHEpOmsoe30sbil9ZnVuY3Rpb24gQihlLGkscixvLGYsdSxjLHMsYSl7dmFyIGgsbCxwLG0sZyxrLHgsUz1yLnByb3BzfHxfLE09aS5wcm9wcywkPWkudHlwZTtpZigic3ZnIj09JD9mPXk6Im1hdGgiPT0kP2Y9Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwiOmZ8fChmPXYpLHUhPWQpZm9yKGg9MDtoPHUubGVuZ3RoO2grKylpZigoZz11W2hdKSYmInNldEF0dHJpYnV0ZSJpbiBnPT0hISQmJigkP2cubG9jYWxOYW1lPT0kOjM9PWcubm9kZVR5cGUpKXtlPWcsdVtoXT1kO2JyZWFrfWlmKGU9PWQpe2lmKCQ9PWQpcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKE0pO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGYsJCxNLmlzJiZNKSxzJiYodC5fX20mJnQuX19tKGksdSkscz0hMSksdT1kfWlmKCQ9PWQpUz09PU18fHMmJmUuZGF0YT09TXx8KGUuZGF0YT1NKTtlbHNle2lmKHU9dSYmbi5jYWxsKGUuY2hpbGROb2RlcyksIXMmJnUhPWQpZm9yKFM9e30saD0wO2g8ZS5hdHRyaWJ1dGVzLmxlbmd0aDtoKyspU1soZz1lLmF0dHJpYnV0ZXNbaF0pLm5hbWVdPWcudmFsdWU7Zm9yKGggaW4gUylpZihnPVNbaF0sImNoaWxkcmVuIj09aCk7ZWxzZSBpZigiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiPT1oKXA9ZztlbHNlIGlmKCEoaCBpbiBNKSl7aWYoInZhbHVlIj09aCYmImRlZmF1bHRWYWx1ZSJpbiBNfHwiY2hlY2tlZCI9PWgmJiJkZWZhdWx0Q2hlY2tlZCJpbiBNKWNvbnRpbnVlO08oZSxoLGQsZyxmKX1mb3IoaCBpbiBNKWc9TVtoXSwiY2hpbGRyZW4iPT1oP209ZzoiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiPT1oP2w9ZzoidmFsdWUiPT1oP2s9ZzoiY2hlY2tlZCI9PWg/eD1nOnMmJiJmdW5jdGlvbiIhPXR5cGVvZiBnfHxTW2hdPT09Z3x8TyhlLGgsZyxTW2hdLGYpO2lmKGwpc3x8cCYmKGwuX19odG1sPT1wLl9faHRtbHx8bC5fX2h0bWw9PWUuaW5uZXJIVE1MKXx8KGUuaW5uZXJIVE1MPWwuX19odG1sKSxpLl9faz1bXTtlbHNlIGlmKHAmJihlLmlubmVySFRNTD0iIiksRigidGVtcGxhdGUiPT1pLnR5cGU/ZS5jb250ZW50OmUsYihtKT9tOlttXSxpLHIsbywiZm9zdCB0IGluIG8pc1t0XT1LaShvW3RdKTtsZXR7aW5pdGlhbDpyLGFuaW1hdGU6YX09dDtjb25zdCBsPUhpKHQpLHU9WWkodCk7ZSYmdSYmIWwmJiExIT09dC5pbmhlcml0JiYodm9pZCAwPT09ciYmKHI9ZS5pbml0aWFsKSx2b2lkIDA9PT1hJiYoYT1lLmFuaW1hdGUpKTtsZXQgYz0hIW4mJiExPT09bi5pbml0aWFsO2M9Y3x8ITE9PT1yO2NvbnN0IGg9Yz9hOnI7aWYoaCYmImJvb2xlYW4iIT10eXBlb2YgaCYmIWYoaCkpe2NvbnN0IGU9QXJyYXkuaXNBcnJheShoKT9oOltoXTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT13KHQsZVtuXSk7aWYoaSl7Y29uc3R7dHJhbnNpdGlvbkVuZDp0LHRyYW5zaXRpb246ZSwuLi5ufT1pO2Zvcihjb25zdCB0IGluIG4pe2xldCBlPW5bdF07aWYoQXJyYXkuaXNBcnJheShlKSl7ZT1lW2M/ZS5sZW5ndGgtMTowXX1udWxsIT09ZSYmKHNbdF09ZSl9Zm9yKGNvbnN0IGUgaW4gdClzW2VdPXRbZV19fX1yZXR1cm4gc31mdW5jdGlvbiBxaSh0LGUsbixpPXtwYXNzaXZlOiEwfSl7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4saSksKCk9PnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4pfWZ1bmN0aW9uIFppKHQpe3JldHVybntwb2ludDp7eDp0LnBhZ2VYLHk6dC5wYWdlWX19fWNvbnN0IEppPXQ9PmU9PkooZSkmJnQoZSxaaShlKSk7ZnVuY3Rpb24gUWkodCxlLG4saSl7cmV0dXJuIHFpKHQsZSxKaShuKSxpKX1jb25zdCB0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdztmdW5jdGlvbiBlcyh0KXtyZXR1cm4gZS51c2VFZmZlY3QoKCk9PigpPT50KCksW10pfWNvbnN0IG5zPXRzP2UudXNlTGF5b3V0RWZmZWN0OmUudXNlRWZmZWN0O2Z1bmN0aW9uIGlzKCl7Y29uc3QgdD1mdW5jdGlvbigpe2NvbnN0IHQ9ZS51c2VSZWYoITEpO3JldHVybiBucygoKT0+KHQuY3VycmVudD0hMCwoKT0+e3QuY3VycmVudD0hMX0pLFtdKSx0fSgpLFtuLGldPWUudXNlU3RhdGUoMCkscz1lLnVzZUNhbGxiYWNrKCgpPT57dC5jdXJyZW50JiZpKG4rMSl9LFtuXSk7cmV0dXJuW2UudXNlQ2FsbGJhY2soKCk9Pmx0LnBvc3RSZW5kZXIocyksW3NdKSxuXX1jb25zdCBzcz1lLmNyZWF0ZUNvbnRleHQoe3RyYW5zZm9ybVBhZ2VQb2ludDp0PT50LGlzU3RhdGljOiExLHJlZHVjZWRNb3Rpb246Im5ldmVyIn0pO2NsYXNzIG9zIGV4dGVuZHMgaS5Db21wb25lbnR7Z2V0U25hcHNob3RCZWZvcmVVcGRhdGUodCl7Y29uc3QgZT10aGlzLnByb3BzLmNoaWxkUmVmLmN1cnJlbnQ7aWYoZSYmdC5pc1ByZXNlbnQmJiF0aGlzLnByb3BzLmlzUHJlc2VudCl7Y29uc3QgdD10aGlzLnByb3BzLnNpemVSZWYuY3VycmVudDt0LmhlaWdodD1lLm9mZnNldEhlaWdodHx8MCx0LndpZHRoPWUub2Zmc2V0V2lkdGh8fDAsdC50b3A9ZS5vZmZzZXRUb3AsdC5sZWZ0PWUub2Zmc2V0TGVmdH1yZXR1cm4gbnVsbH1jb21wb25lbnREaWRVcGRhdGUoKXt9cmVuZGVyKCl7cmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW59fWZ1bmN0aW9uIHJzKHtjaGlsZHJlbjp0LGlzUHJlc2VudDpufSl7Y29uc3Qgcz1lLnVzZUlkKCksbz1lLnVzZVJlZihudWxsKSxyPWUudXNlUmVmKHt3aWR0aDowLGhlaWdodDowLHRvcDowLGxlZnQ6MH0pLHtub25jZTphfT1lLnVzZUNvbnRleHQoc3MpO3JldHVybiBlLnVzZUluc2VydGlvbkVmZmVjdCgoKT0+e2N0LGUsbil7Y29uc3QgaT1bXSxzPW58fFRuLG89dC5sZW5ndGgtMTtmb3IobGV0IG49MDtuPG87bisrKXtsZXQgbz1zKHRbbl0sdFtuKzFdKTtpZihlKXtjb25zdCB0PUFycmF5LmlzQXJyYXkoZSk/ZVtuXXx8YjplO289Zm4odCxvKX1pLnB1c2gobyl9cmV0dXJuIGl9KGUsaSxzKSxsPWEubGVuZ3RoLHU9bj0+e2lmKHImJm48dFswXSlyZXR1cm4gZVswXTtsZXQgaT0wO2lmKGw+MSlmb3IoO2k8dC5sZW5ndGgtMiYmIShuPHRbaSsxXSk7aSsrKTtjb25zdCBzPUModFtpXSx0W2krMV0sbik7cmV0dXJuIGFbaV0ocyl9O3JldHVybiBuP2U9PnUoWXQodFswXSx0W28tMV0sZSkpOnV9ZnVuY3Rpb24gWm4odCxlKXtjb25zdCBuPXRbdC5sZW5ndGgtMV07Zm9yKGxldCBpPTE7aTw9ZTtpKyspe2NvbnN0IHM9QygwLGUsaSk7dC5wdXNoKGFuKG4sMSxzKSl9fWZ1bmN0aW9uIEpuKHQpe2NvbnN0IGU9WzBdO3JldHVybiBabihlLHQubGVuZ3RoLTEpLGV9ZnVuY3Rpb24gUW4oe2R1cmF0aW9uOnQ9MzAwLGtleWZyYW1lczplLHRpbWVzOm4sZWFzZTppPSJlYXNlSW5PdXQifSl7Y29uc3Qgcz1LbihpKT9pLm1hcChfbik6X24oaSksbz17ZG9uZTohMSx2YWx1ZTplWzBdfSxyPXFuKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWFwKHQ9PnQqZSl9KG4mJm4ubGVuZ3RoPT09ZS5sZW5ndGg/bjpKbihlKSx0KSxlLHtlYXNlOkFycmF5LmlzQXJyYXkocyk/czooYT1lLGw9cyxhLm1hcCgoKT0+bHx8WG4pLnNwbGljZSgwLGEubGVuZ3RoLTEpKX0pO3ZhciBhLGw7cmV0dXJue2NhbGN1bGF0ZWREdXJhdGlvbjp0LG5leHQ6ZT0+KG8udmFsdWU9cihlKSxvLmRvbmU9ZT49dCxvKX19Y29uc3QgdGk9dD0+e2NvbnN0IGU9KHt0aW1lc3RhbXA6ZX0pPT50KGUpO3JldHVybntzdGFydDooKT0+bHQudXBkYXRlKGUsITApLHN0b3A6KCk9PnV0KGUpLG5vdzooKT0+Y3QuaXNQcm9jZXNzaW5nP2N0LnRpbWVzdGFtcDp5dC5ub3coKX19LGVpPXtkZWNheTokbixpbmVydGlhOiRuLHR3ZWVuOlFuLGtleWZyYW1lczpRbixzcHJpbmc6em59LG5pPXQ9PnQvMTAwO2NsYXNzIGlpIGV4dGVuZHMgcm57Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5ob2xkVGltZT1udWxsLHRoaXMuY2FuY2VsVGltZT1udWxsLHRoaXMuY3VycmVudFRpbWU9MCx0aGlzLnBsYXliYWNrU3BlZWQ9MSx0aGlzLnBlbmRpbmdQbGF5U3RhdGU9InJ1bm5pbmciLHRoaXMuc3RhcnRUaW1lPW51bGwsdGhpcy5zdGF0ZT0iaWRsZSIsdGhpcy5zdG9wPSgpPT57aWYodGhpcy5yZXNvbHZlci5jYW5jZWwoKSx0aGlzLmlzU3RvcHBlZD0hMCwiaWRsZSI9PT10aGlzLnN0YXRlKXJldHVybjt0aGlzLnRlYXJkb3duKCk7Y29uc3R7b25TdG9wOnR9PXRoaXMub3B0aW9uczt0JiZ0KCl9O2NvbnN0e25hbWU6ZSxtb3Rpb25WYWx1ZTpuLGVsZW1lbnQ6aSxrZXlmcmFtZXM6c309dGhpcy5vcHRpb25zLG89KG51bGw9PWk/dm9pZCAwOmkuS2V5ZnJhbWVSZXNvbHZlcil8fHplO3RoaXMucmVzb2x2ZXI9bmV3IG8ocywodCxlKT0+dGhpcy5vbktleWZyYW1lc1Jlc29sdmVkKHQsZSksZSxuLGkpLHRoaXMucmVzb2x2ZXIuc2NoZWR1bGVSZXNvbHZlKCl9ZmxhdHRlbigpe3N1cGVyLmZsYXR0ZW4oKSx0aGlzLl9yZXNvbHZlZCYmT2JqZWN0LmFzc2lnbih0aGlzLl9yZXNvbHZlZCx0aGlzLmluaXRQbGF5YmFjayh0aGlzLl8KICAgIHwgJ3RvcC1yaWdodCcKICAgIHwgJ2JvdHRvbS1sZWZ0JwogICAgfCAnYm90dG9tLXJpZ2h0Jwp9CgppbnRlcmZhY2UgTmV4dEZldGNoUmVxdWVzdENvbmZpZyB7CiAgcmV2YWxpZGF0ZT86IG51bWJlciB8IGZhbHNlCiAgdGFncz86IHN0cmluZ1tdCn0KCmludGVyZmFjZSBSZXF1ZXN0SW5pdCB7CiAgbmV4dD86IE5leHRGZXRjaFJlcXVlc3RDb25maWcgfCB1bmRlZmluZWQKfQoKZGVjbGFyZSB2YXIgX05fRV9TVFlMRV9MT0FEOiAoaHJlZjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+CmltcG9ydCB7CglFdmVudERpc3BhdGNoZXIsCglNT1VTRSwKCVF1YXRlcm5pb24sCglTcGhlcmljYWwsCglUT1VDSCwKCVZlY3RvcjIsCglWZWN0b3IzLAoJUGxhbmUsCglSYXksCglNYXRoVXRpbHMKfSBmcm9tICd0aHJlZSc7CgovLyBPcmJpdENvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZyAoem9vbWluZyksIGFuZCBwYW5uaW5nLgovLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgInVwIiBkaXJlY3Rpb24gb2JqZWN0LnVwICgrWSBieSBkZWZhdWx0KS4KLy8KLy8gICAgT3JiaXQgLSBsZWZ0IG1vdXNlIC8gdG91Y2g6IG9uZS1maW5nZXIgbW92ZQovLyAgICBab29tIC0gbWlkZGxlIG1vdXNlLCBvciBtb3VzZXdoZWVsIC8gdG91Y2g6IHR3by1maW5nZXIgc3ByZWFkIG9yIHNxdWlzaAovLyAgICBQYW4gLSByaWdodCBtb3VzZSwgb3IgbGVmdCBtb3VzZSArIGN0cmwvbWV0YS9zaGlmdEtleSwgb3IgYXJyb3cga2V5cyAvIHRvdWNoOiB0d28tZmluZ2VyIG1vdmUKCmNvbnN0IF9jaGFuZ2VFdmVudCA9IHsgdHlwZTogJ2NoYW5nZScgfTsKY29uc3QgX3N0YXJ0RXZlbnQgPSB7IHR5cGU6ICdzdGFydCcgfTsKY29uc3QgX2VuZEV2ZW50ID0geyB0eXBlOiAnZW5kJyB9Owpjb25zdCBfcmF5ID0gbmV3IFJheSgpOwpjb25zdCBfcGxhbmUgPSBuZXcgUGxhbmUoKTsKY29uc3QgVElMVF9MSU1JVCA9IE1hdGguY29zKCA3MCAqIE1hdGhVdGlscy5ERUcyUkFEICk7CgpjbGFzcyBPcmJpdENvbnRyb2xzIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHsKCgljb25zdHJ1Y3Rvciggb2JqZWN0LCBkb21FbGVtZW50ICkgewoKCQlzdXBlcigpOwoKCQl0aGlzLm9iamVjdCA9IG9iamVjdDsKCQl0aGlzLmRvbUVsZW1lbnQgPSBkb21FbGVtZW50OwoJCXRoaXMuZG9tRWxlbWVudC5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJzsgLy8gZGlzYWJsZSB0b3VjaCBzY3JvbGwKCgkJLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sCgkJdGhpcy5lbmFibGVkID0gdHJ1ZTsKCgkJLy8gInRhcmdldCIgc2V0cyB0aGUgbG9jYXRpb24gb2YgZm9jdXMsIHdoZXJlIHRoZSBvYmplY3Qgb3JiaXRzIGFyb3VuZAoJCXRoaXMudGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTsKCgkJLy8gU2V0cyB0aGUgM0QgY3Vyc29yIChzaW1pbGFyIHRvIEJsZW5kZXIpLCBmcm9tIHdoaWNoIHRoZSBtYXhUYXJnZXRSYWRpdXMgdGFrZXMgZWZmZWN0CgkJdGhpcy5jdXJzb3IgPSBuZXcgVmVjdG9yMygpOwoKCQkvLyBIb3cgZmFyIHlvdSBjYW4gZG9sbHkgaW4gYW5kIG91dCAoIFBlcnNwZWN0aXZlQ2FtZXJhIG9ubHkgKQoJCXRoaXMubWluRGlzdGFuY2UgPSAwOwoJCXRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTsKCgkJLy9FcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhhKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtUYShiLGEpO2IucHJvdG90eXBlPW51bGw9PT1hP09iamVjdC5jcmVhdGUoYSk6KGMucHJvdG90eXBlPWEucHJvdG90eXBlLG5ldyBjKX1mdW5jdGlvbiBaZChiLGEpe3ZhciBjPXt9LGQ7Zm9yKGQgaW4gYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwKZCkmJjA+YS5pbmRleE9mKGQpJiYoY1tkXT1iW2RdKTtpZihudWxsIT1iJiYiZnVuY3Rpb24iPT09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBlPTA7Zm9yKGQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhiKTtlPGQubGVuZ3RoO2UrKykwPmEuaW5kZXhPZihkW2VdKSYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGIsZFtlXSkmJihjW2RbZV1dPWJbZFtlXV0pfXJldHVybiBjfWZ1bmN0aW9uICRkKGIsYSxjLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBjP2E6bmV3IGMoZnVuY3Rpb24oYil7YihhKX0pfXJldHVybiBuZXcgKGN8fChjPVByb21pc2UpKShmdW5jdGlvbihjLGgpe2Z1bmN0aW9uIGYoYSl7dHJ5e3ooZC5uZXh0KGEpKX1jYXRjaCh2KXtoKHYpfX1mdW5jdGlvbiBrKGEpe3RyeXt6KGRbInRocm93Il0oYSkpfWNhdGNoKHYpe2godil9fWZ1bmN0aW9uIHooYSl7YS5kb25lP2MoYS52YWx1ZSk6CmUoYS52YWx1ZSkudGhlbihmLGspfXooKGQ9ZC5hcHBseShiLGF8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIFVhKGIsYSl7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGQoW2EsYl0pfX1mdW5jdGlvbiBkKGMpe2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLiIpO2Zvcig7ZTspdHJ5e2lmKGY9MSxoJiYobD1jWzBdJjI/aFsicmV0dXJuIl06Y1swXT9oWyJ0aHJvdyJdfHwoKGw9aFsicmV0dXJuIl0pJiZsLmNhbGwoaCksMCk6aC5uZXh0KSYmIShsPWwuY2FsbChoLGNbMV0pKS5kb25lKXJldHVybiBsO2lmKGg9MCxsKWM9W2NbMF0mMixsLnZhbHVlXTtzd2l0Y2goY1swXSl7Y2FzZSAwOmNhc2UgMTpsPWM7YnJlYWs7Y2FzZSA0OnJldHVybiBlLmxhYmVsKysse3ZhbHVlOmNbMV0sZG9uZTohMX07Y2FzZSA1OmUubGFiZWwrKztoPWNbMV07Yz1bMF07Y29udGludWU7Y2FzZSA3OmM9ZS5vcHMucG9wKCk7ZS50cnlzLnBvcCgpOwpjb250aW51ZTtkZWZhdWx0OmlmKCEobD1lLnRyeXMsbD0wPGwubGVuZ3RoJiZsW2wubGVuZ3RoLTFdKSYmKDY9PT1jWzBdfHwyPT09Y1swXSkpe2U9MDtjb250aW51ZX1pZigzPT09Y1swXSYmKCFsfHxjWzFdPmxbMF0mJmNbMV08bFszXSkpZS5sYWJlbD1jWzFdO2Vsc2UgaWYoNj09PWNbMF0mJmUubGFiZWw8bFsxXSllLmxhYmVsPWxbMV0sbD1jO2Vsc2UgaWYobCYmZS5sYWJlbDxsWzJdKWUubGFiZWw9bFsyXSxlLm9wcy5wdXNoKGMpO2Vsc2V7bFsyXSYmZS5vcHMucG9wKCk7ZS50cnlzLnBvcCgpO2NvbnRpbnVlfX1jPWEuY2FsbChiLGUpfWNhdGNoKHApe2M9WzYscF0saD0wfWZpbmFsbHl7Zj1sPTB9aWYoY1swXSY1KXRocm93IGNbMV07cmV0dXJue3ZhbHVlOmNbMF0/Y1sxXTp2b2lkIDAsZG9uZTohMH19dmFyIGU9e2xhYmUuZXJyb3IoCiAgICAgICAgJ0ludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3InICsKICAgICAgICAgICcgb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcbicgKwogICAgICAgICAgJzEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxuJyArCiAgICAgICAgICAnMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xuJyArCiAgICAgICAgICAnMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxuJyArCiAgICAgICAgICAnU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLicsCiAgICAgICk7CiAgICB9CiAgfQogIC8vIFdpbGwgcmVzdWx0IGluIGEgbnVsbCBhY2Nlc3MgZXJyb3IgaWYgYWNjZXNzZWQgb3V0c2lkZSByZW5kZXIgcGhhc2UuIFdlCiAgLy8gaW50ZW50aW9uYWxseSBkb24ndCB0aHJvdyBvdXIgb3duIGVycm9yIGJlY2F1c2UgdGhpcyBpcyBpbiBhIGhvdCBwYXRoLgogIC8vIEFsc28gaGVscHMgZW5zdXJlIHRoaXMgaXMgaW5saW5lZC4KICByZXR1cm4gKChkaXNwYXRjaGVyOiBhbnkpOiBEaXNwYXRjaGVyKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlRm9yVHlwZTxUPihyZXNvdXJjZVR5cGU6ICgpID0+IFQpOiBUIHsKICBjb25zdCBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTsKICBpZiAoIWRpc3BhdGNoZXIpIHsKICAgIC8vIElmIHRoZXJlIGlzIG5vIGRpc3BhdGNoZXIsIHRoZW4gd2UgdHJlYXQgdGhpcyBhcyBub3QgYmVpbmcgY2FjaGVkLgogICAgcmV0dXJuIHJlc291cmNlVHlwZSgpOwogIH0KICByZXR1cm4gZGlzcGF0Y2hlci5nZXRDYWNoZUZvclR5cGUocmVzb3VyY2VUeXBlKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRleHQ8VD4oQ29udGV4dDogUmVhY3RDb250ZXh0PFQ+KTogVCB7CiAgY29uc3QgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7CiAgaWYgKF9fREVWX18pIHsKICAgIGlmIChDb250ZXh0LiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoCiAgICAgICAgJ0NhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGNhdXNlIGJ1Z3MuICcgKwogICAgICAgICAgJ0RpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD8nLAogICAgICApOwogICAgfQogIH0KICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpOwp9CgpleHBvcnQgZnVuY3Rpb24gdXNlU3RhdGU8Uz4oCiAgaW5pdGlhbFN0YXRlOiAoKCkgPT4gUykgfCBTLAopOiBbUywgRGlzcGF0Y2g8QmFzaWNTdGF0ZUFjdGlvbjxTPj5dIHsKICBjb25zdCBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTsKICByZXR1cm4gZGlzcGF0Y2hlci51c2VTdGF0ZShpbml0aWFsU3RhdGUpOwp9CgptLXdlYnBhY2svc2VydmVyJwpkZWNsYXJlIG1vZHVsZSAncmVhY3Qtc2VydmVyLWRvbS13ZWJwYWNrL3N0YXRpYycKCmRlY2xhcmUgbW9kdWxlICdWQVJfTU9EVUxFX0dMT0JBTF9FUlJPUicKZGVjbGFyZSBtb2R1bGUgJ1ZBUl9VU0VSTEFORCcKZGVjbGFyZSBtb2R1bGUgJ1ZBUl9NT0RVTEVfRE9DVU1FTlQnCmRlY2xhcmUgbW9kdWxlICdWQVJfTU9EVUxFX0FQUCcKLy8vIDxyZWZlcmVuY2UgdHlwZXM9Im5vZGUiIC8+CmltcG9ydCB0eXBlIHsgUmVhY3RFbGVtZW50IH0gZnJvbSAncmVhY3QnOwppbXBvcnQgdHlwZSB7IEltYWdlUmVzcG9uc2VOb2RlT3B0aW9ucywgSW1hZ2VSZXNwb25zZU9wdGlvbnMsIEZpZ21hSW1hZ2VSZXNwb25zZVByb3BzIH0gZnJvbSAnLi90eXBlcyc7CmltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSAnc3RyZWFtJzsKZXhwb3J0IGRlY2xhcmUgY2xhc3MgSW1hZ2VSZXNwb25zZSBleHRlbmRzIFJlc3BvbnNlIHsKICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IFJlYWN0RWxlbWVudCwgb3B0aW9ucz86IEltYWdlUmVzcG9uc2VPcHRpb25zKTsKfQovKioKICogQ3JlYXRlcyBhIHBpcGVhYmxlIHN0cmVhbSBvZiB0aGUgcmVuZGVyZWQgaW1hZ2UgaW4gYSBsYW1iZGEgZnVuY3Rpb24uCiAqIEFsbCBwYXJhbWV0ZXJzIGFyZSB0aGUgc2FtZSBhcyBgSW1hZ2VSZXNwb25zZWAuCiAqIEBleGFtcGxlCiAqIGBgYGpzCiAqIGltcG9ydCB7IHVuc3RhYmxlX2NyZWF0ZU5vZGVqc1N0cmVhbSB9IGZyb20gJ0B2ZXJjZWwvb2cnCiAqCiAqIGV4cG9ydCBkZWZhdWx0IGFzeW5jIChyZXEsIHJlcykgPT4gewogKiAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHVuc3RhYmxlX2NyZWF0ZU5vZGVqc1N0cmVhbSg8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+LCB7IC4uLiB9KQogKiAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdpbWFnZS9wbmcnKQogKiAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHVibGljLCBtYXgtYWdlPTMxNTM2MDAwLCBpbW11dGFibGUnKQogKiAgIHJlcy5zdGF0dXNDb2RlID0gMjAwCiAqICAgcmVzLnN0YXR1c01lc3NhZ2UgPSAnT0snCiAqICAgc3RyZWFtLnBpcGUocmVzKQogKiB9CiAqIGBgYAogKi8KZXhwb3J0IGRlY2xhcmUgZnVuY3Rpb24gdW5zdGFibGVfY3JlYXRlTm9kZWpzU3RyZWFtKGVsZW1lbnQ6IFJlYWN0RWxlbWVudCwgb3B0aW9ucz86IE9taXQ8SW1hZ2VSZXNwb25zZU5vZGVPcHRpb25zLCAnc3RhdHVzJyB8ICdzdGF0dXNUZXh0JyB8ICdoZWFkZXJzJz4pOiBQcm9taXNlPFJlYWRhYmxlPjsKZXhwb3J0IGRlY2xhcmUgY29uc3QgZXhwZXJpbWVudGFsX0ZpZ21hSW1hZ2VSZXNwb25zZTogKHByb3BzOiBGaWdtYUltYWdlUmVzcG9uc2VQcm9wcykgPT4gUHJvbWlzZTxpbXBvcnQoIi4vaW5kZXguZWRnZSIpLkltYWdlUmVzcG9uc2U+OwpleHBvcnQgdHlwZSBOb2RlSW1hZ2VSZXNwb25zZSA9IHR5cGVvZiBJbWFnZVJlc3BvbnNlOwppbXBvcnQgdHlwZSB7IENhbGVuZGFyRXZlbnQsIENhbEV2ZW50UmVzcG9uc2VzIH0gZnJvbSAiLi9DYWxlbmRhciI7CgpleHBvcnQgaW50ZXJmYWNlIENybURhdGEgewogIGlkOiBzdHJpbmc7CiAgdHlwZTogc3RyaW5nOwogIGNyZWRlbnRpYWxJZDogbnVtYmVyOwogIHBhc3N3b3JkPzogc3RyaW5nOwogIHVybD86IHN0cmluZzsKfQoKZXhwb3IiUmVhY3QuQ2hpbGRyZW4ub25seSBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFJlYWN0IGVsZW1lbnQgY2hpbGQuIik7cmV0dXJuIGF9fTtjLkNvbXBvbmVudD13O2MuRnJhZ21lbnQ9cmE7Yy5Qcm9maWxlcj10YTtjLlB1cmVDb21wb25lbnQ9SztjLlN0cmljdE1vZGU9c2E7Yy5TdXNwZW5zZT14YTtjLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEPXQ7Yy5jbG9uZUVsZW1lbnQ9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGw9PT1hfHx2b2lkIDA9PT1hKXRocm93IEVycm9yKCJSZWFjdC5jbG9uZUVsZW1lbnQoLi4uKTogVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCAiKwphKyIuIik7dmFyIGU9a2Eoe30sYS5wcm9wcyksZD1hLmtleSxrPWEucmVmLGg9YS5fb3duZXI7aWYobnVsbCE9Yil7dm9pZCAwIT09Yi5yZWYmJihrPWIucmVmLGg9TC5jdXJyZW50KTt2b2lkIDAhPT1iLmtleSYmKGQ9IiIrYi5rZXkpO2lmKGEudHlwZSYmYS50eXBlLmRlZmF1bHRQcm9wcyl2YXIgbD1hLnR5cGUuZGVmYXVsdFByb3BzO2ZvcihmIGluIGIpYWEuY2FsbChiLGYpJiYhYmEuaGFzT3duUHJvcGVydHkoZikmJihlW2ZdPXZvaWQgMD09PWJbZl0mJnZvaWQgMCE9PWw/bFtmXTpiW2ZdKX12YXIgZj1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWYpZS5jaGlsZHJlbj1jO2Vsc2UgaWYoMTxmKXtsPUFycmF5KGYpO2Zvcih2YXIgZz0wO2c8ZjtnKyspbFtnXT1hcmd1bWVudHNbZysyXTtlLmNoaWxkcmVuPWx9cmV0dXJueyQkdHlwZW9mOnksdHlwZTphLnR5cGUsa2V5OmQscmVmOmsscHJvcHM6ZSxfb3duZXI6aH19O2MuY3JlYXRlQ29udGV4dD1mdW5jdGlvbihhKXthPXskJHR5cGVvZjp2YSwKX2N1cnJlbnRWYWx1ZTphLF9jdXJyZW50VmFsdWUyOmEsX3RocmVhZENvdW50OjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsLF9kZWZhdWx0VmFsdWU6bnVsbCxfZ2xvYmFsTmFtZTpudWxsfTthLlByb3ZpZGVyPXskJHR5cGVvZjp1YSxfY29udGV4dDphfTtyZXR1cm4gYS5Db25zdW1lcj1hfTtjLmNyZWF0ZUVsZW1lbnQ9WjtjLmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oYSl7dmFyIGI9Wi5iaW5kKG51bGwsYSk7Yi50eXBlPWE7cmV0dXJuIGJ9O2MuY3JlYXRlUmVmPWZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19O2MuZm9yd2FyZFJlZj1mdW5jdGlvbihhKXtyZXR1cm57JCR0eXBlb2Y6d2EscmVuZGVyOmF9fTtjLmlzVmFsaWRFbGVtZW50PU07Yy5sYXp5PWZ1bmN0aW9uKGEpe3JldHVybnskJHR5cGVvZjp6YSxfcGF5bG9hZDp7X3N0YXR1czotMSxfcmVzdWx0OmF9LF9pbml0OnFhfX07Yy5tZW1vPWZ1bmN0aW9uKGEsYil7cmV0dXJueyQkdHlwZW9mOnlhLHR5cGU6YSwKY29tcGFyZTp2b2lkIDA9PT1iP251bGw6Yn19O2Muc3RhcnRUcmFuc2l0aW9uPWZ1bmN0aW9uKGEsYil7Yj1KLnRyYW5zaXRpb247Si50cmFuc2l0aW9uPXt9O3RyeXthKCl9ZmluYWxseXtKLnRyYW5zaXRpb249Yn19O2MudW5zdGFibGVfYWN0PWZ1bmN0aW9uKGEpe3Rocm93IEVycm9yKCJhY3QoLi4uKSBpcyBub3Qgc3VwcG9ydGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzIG9mIFJlYWN0LiIpO307Yy51c2VDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBnLmN1cnJlbnQudXNhOm51bGx9ZnVuY3Rpb24gdyhhLGIsZSl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1XO3RoaXMudXBkYXRlcj1lfHxYfWZ1bmN0aW9uIFkoKXt9ZnVuY3Rpb24gSyhhLGIsZSl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1XO3RoaXMudXBkYXRlcj1lfHxYfWZ1bmN0aW9uIFooYSxiLAplKXt2YXIgbSxkPXt9LGM9bnVsbCxoPW51bGw7aWYobnVsbCE9Yilmb3IobSBpbiB2b2lkIDAhPT1iLnJlZiYmKGg9Yi5yZWYpLHZvaWQgMCE9PWIua2V5JiYoYz0iIitiLmtleSksYilhYS5jYWxsKGIsbSkmJiFiYS5oYXNPd25Qcm9wZXJ0eShtKSYmKGRbbV09YlttXSk7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1sKWQuY2hpbGRyZW49ZTtlbHNlIGlmKDE8bCl7Zm9yKHZhciBmPUFycmF5KGwpLGs9MDtrPGw7aysrKWZba109YXJndW1lbnRzW2srMl07ZC5jaGlsZHJlbj1mfWlmKGEmJmEuZGVmYXVsdFByb3BzKWZvcihtIGluIGw9YS5kZWZhdWx0UHJvcHMsbCl2b2lkIDA9PT1kW21dJiYoZFttXT1sW21dKTtyZXR1cm57JCR0eXBlb2Y6eSx0eXBlOmEsa2V5OmMscmVmOmgscHJvcHM6ZCxfb3duZXI6TC5jdXJyZW50fX1mdW5jdGlvbiBuYShhLGIpe3JldHVybnskJHR5cGVvZjp5LHR5cGU6YS50eXBlLGtleTpiLHJlZjphLnJlZixwcm9wczphLnByb3BzLF9vd25lcjphLl9vd25lcn19CmZ1bmN0aW9uIE0oYSl7cmV0dXJuIm9iamVjdCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT15fWZ1bmN0aW9uIG9hKGEpe3ZhciBiPXsiPSI6Ij0wIiwiOiI6Ij0yIn07cmV0dXJuIiQiK2EucmVwbGFjZSgvWz06XS9nLGZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfSl9ZnVuY3Rpb24gTihhLGIpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZudWxsIT1hLmtleT9vYSgiIithLmtleSk6Yi50b1N0cmluZygzNil9ZnVuY3Rpb24gQihhLGIsZSxtLGQpe3ZhciBjPXR5cGVvZiBhO2lmKCJ1bmRlZmluZWQiPT09Y3x8ImJvb2xlYW4iPT09YylhPW51bGw7dmFyIGg9ITE7aWYobnVsbD09PWEpaD0hMDtlbHNlIHN3aXRjaChjKXtjYXNlICJzdHJpbmciOmNhc2UgIm51bWJlciI6aD0hMDticmVhaztjYXNlICJvYmplY3QiOnN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIHk6Y2FzZSBwYTpoPSEwfX1pZihoKXJldHVybiBoPWEsZD1kKGgpLGE9IiI9PT1tPyIuIisKTihoLDApOm0sY2EoZCk/KGU9IiIsbnVsbCE9YSYmKGU9YS5yZXBsYWNlKGRhLCIkJi8iKSsiLyIpLEIoZCxiLGUsIiIsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KSk6bnVsbCE9ZCYmKE0oZCkmJihkPW5hKGQsZSsoIWQua2V5fHxoJiZoLmtleT09PWQua2V5PyIiOigiIitkLmtleSkucmVwbGFjZShkYSwiJCYvIikrIi8iKSthKSksYi5wdXNoKGQpKSwxO2g9MDttPSIiPT09bT8iLiI6bSsiOiI7aWYoY2EoYSkpZm9yKHZhciBsPTA7bDxhLmxlbmd0aDtsKyspe2M9YVtsXTt2YXIgZj1tK04oYyxsKTtoKz1CKGMsYixlLGYsZCl9ZWxzZSBpZihmPXgoYSksImZ1bmN0aW9uIj09PXR5cGVvZiBmKWZvcihhPWYuY2FsbChhKSxsPTA7IShjPWEubmV4dCgpKS5kb25lOyljPWMudmFsdWUsZj1tK04oYyxsKyspLGgrPUIoYyxiLGUsZixkKTtlbHNlIGlmKCJvYmplY3QiPT09Yyl0aHJvdyBiPVN0cmluZyhhKSxFcnJvcigiT2Jicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSxhaT17aDowLHM6MCxsOjB9LG9pPXtoOjAsczowLGw6MH07ZnVuY3Rpb24gbGkodCxlLG4pe3JldHVybiBuPDAmJihuKz0xKSxuPjEmJihuLT0xKSxuPDEvNj90KzYqKGUtdCkqbjpuPC41P2U6bjwyLzM/dCs2KihlLXQpKigyLzMtbik6dH1jbGFzcyBjaXtjb25zdHJ1Y3Rvcih0LGUsbil7cmV0dXJuIHRoaXMuaXNDb2xvcj0hMCx0aGlzLnI9MSx0aGlzLmc9MSx0aGlzLmI9MSx0aGlzLnNldCh0LGUsbil9c2V0KHQsZSxuKXtpZih2b2lkIDA9PT1lJiZ2b2lkIDA9PT1uKXtjb25zdCBlPXQ7ZSYmZS5pc0NvbG9yP3RoaXMuY29weShlKToibnVtYmVyIj09dHlwZW9mIGU/dGhpcy5zZXRIZXgoZSk6InN0cmluZyI9PXR5cGVvZiBlJiZ0aGlzLnNldFN0eWxlKGUpfWVsc2UgdGhpcy5zZXRSR0IodCxlLG4pO3JldHVybiB0aGlzfXNldFNjYWxhcih0KXtyZXR1cm4gdGhpcy5yPXQsdGhpcy5nPXQsdGhpcy5iPXQsdGhpc31zZXRIZXgodCxlPUd0KXtyZXR1cm4gdD1NYXRoLmZsb29yKHQpLHRoaXMucj0odD4+MTYmMjU1KS8yNTUsdGhpcy5nPSh0Pj44JjI1NSkvMjU1LHRoaXMuYj0oMjU1JnQpLzI1NSxSZS50b1dvcmtpbmdDb2xvclNwYWNlKHRoaXMsZSksdGhpc31zZXRSR0IodCxlLG4saT1SZS53b3JraW5nQ29sb3JTcGFjZSl7cmV0dXJuIHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1uLFJlLnRvV29ya2luZ0NvbG9yU3BhY2UodGhpcyxpKSx0aGlzfXNldEhTTCh0LGUsbixpPVJlLndvcmtpbmdDb2xvclNwYWNlKXtpZih0PW9lKHQsMSksZT1hZShlLDAsMSksbj1hZShuLDAsMSksMD09PWUpdGhpcy5yPXRoaXMuZz10aGlzLmI9bjtlbHNle2NvbnN0IGk9bjw9LjU/biooMStlKTpuK2UtbiplLHI9MipuLWk7dGhpcy5yPWxpKHIsaSx0KzEvMyksdGhpcy5nPWxpKHIsaSx0KSx0aGlzLmI9bGkocixpLHQtMS8zKX1yZXR1cm4gUmUudG9Xb3JraW5nQ29sb3JTcGFjZSh0aGlzLGkpLHRoaXN9c2V0U3R5bGUodCxlPUd0KXtmdW5jdGlvbiBuKGUpe3ZvaWQgMCE9PWUmJnBhcnNlRmxvYXQoZSk8MSYmY29uc29sZS53YXJuKCJUSFJFRS5Db2xvcjogQWxwaGEgY29tcG9uZW50IG9mICIrdCsiIHdpbGwgYmUgaWdub3JlZC4iKX1sZXQgaTtpZihpPS9eKFx3KylcKChbXlwpXSopXCkvLmV4ZWModCkpe2xldCByO2NvbnN0IHM9aVsxXSxhPWlbMl07c3dpdGNoKHMpe2Nhc2UicmdiIjpjYXNlInJnYmEiOmlmKHI9L15ccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhhKSlyZXR1cm4gbihyWzRdKSx0aGlzLmhpcy5jLGUsbixpLHIpfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuIHJpLmNvbnRhaW5zUG9pbnQodCx0aGlzLmEsdGhpcy5iLHRoaXMuYyl9aXNGcm9udEZhY2luZyh0KXtyZXR1cm4gcmkuaXNGcm9udEZhY2luZyh0aGlzLmEsdGhpcy5iLHRoaXMuYyx0KX1pbnRlcnNlY3RzQm94KHQpe3JldHVybiB0LmludGVyc2VjdHNUcmlhbmdsZSh0aGlzKX1jbG9zZXN0UG9pbnRUb1BvaW50KHQsZSl7Y29uc3Qgbj10aGlzLmEsaT10aGlzLmIscj10aGlzLmM7bGV0IHMsYTtLbi5zdWJWZWN0b3JzKGksbiksJG4uc3ViVmVjdG9ycyhyLG4pLHRpLnN1YlZlY3RvcnModCxuKTtjb25zdCBvPUtuLmRvdCh0aSksbD0kbi5kb3QodGkpO2lmKG88PTAmJmw8PTApcmV0dXJuIGUuY29weShuKTtlaS5zdWJWZWN0b3JzKHQsaSk7Y29uc3QgYz1Lbi5kb3QoZWkpLGg9JG4uZG90KGVpKTtpZihjPj0wJiZoPD1jKXJldHVybiBlLmNvcHkoaSk7Y29uc3QgdT1vKmgtYypsO2lmKHU8PTAmJm8+PTAmJmM8PTApcmV0dXJuIHM9by8oby1jKSxlLmNvcHkobikuYWRkU2NhbGVkVmVjdG9yKEtuLHMpO25pLnN1YlZlY3RvcnModCxyKTtjb25zdCBkPUtuLmRvdChuaSkscD0kbi5kb3QobmkpO2lmKHA+PTAmJmQ8PXApcmV0dXJuIGUuY29weShyKTtjb25zdCBtPWQqbC1vKnA7aWYobTw9MCYmbD49MCYmcDw9MClyZXR1cm4gYT1sLyhsLXApLGUuY29weShuKS5hZGRTY2FsZWRWZWN0b3IoJG4sYSk7Y29uc3QgZj1jKnAtZCpoO2lmKGY8PTAmJmgtYz49MCYmZC1wPj0wKXJldHVybiBRbi5zdWJWZWN0b3JzKHIsaSksYT0oaC1jKS8oaC1jKyhkLXApKSxlLmNvcHkoaSkuYWRkU2NhbGVkVmVjdG9yKFFuLGEpO2NvbnN0IGc9MS8oZittK3UpO3JldHVybiBzPW0qZyxhPXUqZyxlLmNvcHkobikuYWRkU2NhbGVkVmVjdG9yKEtuLHMpLmFkZFNjYWxlZFZlY3RvcigkbixhKX1lcXVhbHModCl7cmV0dXJuIHQuYS5lcXVhbHModGhpcy5hKSYmdC5iLmVxdWFscyh0aGlzLmIpJiZ0LmMuZXF1YWxzKHRoaXMuYyl9fWNvbnN0IHNpPXthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMHRlbmVyc1t0XTtpZih2b2lkIDAhPT1uKXtjb25zdCB0PW4uaW5kZXhPZihlKTstMSE9PXQmJm4uc3BsaWNlKHQsMSl9fWRpc3BhdGNoRXZlbnQodCl7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybjtjb25zdCBlPXRoaXMuX2xpc3RlbmVyc1t0LnR5cGVdO2lmKHZvaWQgMCE9PWUpe3QudGFyZ2V0PXRoaXM7Y29uc3Qgbj1lLnNsaWNlKDApO2ZvcihsZXQgZT0wLGk9bi5sZW5ndGg7ZTxpO2UrKyluW2VdLmNhbGwodGhpcyx0KTt0LnRhcmdldD1udWxsfX19Y29uc3QgZWU9WyIwMCIsIjAxIiwiMDIiLCIwMyIsIjA0IiwiMDUiLCIwNiIsIjA3IiwiMDgiLCIwOSIsIjBhIiwiMGIiLCIwYyIsIjBkIiwiMGUiLCIwZiIsIjEwIiwiMTEiLCIxMiIsIjEzIiwiMTQiLCIxNSIsIjE2IiwiMTciLCIxOCIsIjE5IiwiMWEiLCIxYiIsIjFjIiwiMWQiLCIxZSIsIjFmIiwiMjAiLCIyMSIsIjIyIiwiMjMiLCIyNCIsIjI1IiwiMjYiLCIyNyIsIjI4IiwiMjkiLCIyYSIsIjJiIiwiMmMiLCIyZCIsIjJlIiwiMmYiLCIzMCIsIjMxIiwiMzIiLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjNhIiwiM2IiLCIzYyIsIjNkIiwiM2UiLCIzZiIsIjQwIiwiNDEiLCI0MiIsIjQzIiwiNDQiLCI0NSIsIjQ2IiwiNDciLCI0OCIsIjQ5IiwiNGEiLCI0YiIsIjRjIiwiNGQiLCI0ZSIsIjRmIiwiNTAiLCI1MSIsIjUyIiwiNTMiLCI1NCIsIjU1IiwiNTYiLCI1NyIsIjU4IiwiNTkiLCI1YSIsIjViIiwiNWMiLCI1ZCIsIjVlIiwiNWYiLCI2MCIsIjYxIiwiNjIiLCI2MyIsIjY0IiwiNjUiLCI2NiIsIjY3IiwiNjgiLCI2OSIsIjZhIiwiNmIiLCI2YyIsIjZkIiwiNmUiLCI2ZiIsIjcwIiwiNzEiLCI3MiIsIjczIiwiNzQiLCI3NSIsIjc2IiwiNzciLCI3OCIsIjc5IiwiN2EiLCI3YiIsIjdjIiwiN2QiLCI3ZSIsIjdmIiwiODAiLCI4MSIsIjgyIiwiODMiLCI4NCIsIjg1IiwiODYiLCI4NyIsIjg4IiwiODkiLCI4YSIsIjhiIiwiOGMiLCI4ZCIsIjhlIiwiOGYiLCI5MCIsIjkxIiwiOTIiLCI5MyIsIjk0IiwiOTUiLCI5NiIsIjk3IiwiOTgiLCI5OSIsIjlhIiwiOWIiLCI5YyIsIjlkIiwiOWUiLCI5ZiIsImEwIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYTciLCJhOCIsImE5IiwiYWEiLCJhYiIsImFjIiwiYWQiLCJhZSIsImFmIiwiYjAiLCJiMSIsImIyIiwiYjMiLCJiNCIsImI1IiwiYjYiLCJiNyIsImI4IiwiYjkiLCJiYSIsImJiIiwiYmMiLCJiZCIsImJlIiwiYmYiLCJjMCIsImMxIiwiYzIiLCJjMyIsImM0IiwiYzUiLCJjNiIsImM3IiwiYzgiLCJjOSIsImNhIiwiY2IiLCJjYyIsImNkIiwiY2UiLCJjZiIsImQwIiwiZDEiLCJkMiIsImQzIiwiZDQiLCJkNSIsImQ2IiwiZDciLCJkOCIsImQ5IiwiZGEiLCJkYiIsImRjIiwiZGQiLCJkZSIsImRmIiwiZTAiLCJlMSIsImUyIiwiZTMiLCJlNCIsImU1IiwiZTYiLCJlNyIsImU4IiwiZTkiLCJlYSIsImViIiwiZWMiLCJlZCIsImVlIiwiZWYiLCJmMCIsImYxIiwiZjIiLCJmMyIsImY0IiwiZjUiLCJmNiIsImY3IiwiZjgiLCJmOSIsImZhIiwiZmIiLCJmYyIsImZkIiwiZmUiLCJmZiJdO2xldCBuZT0xMjM0NTY3O2NvbnN0IGllPU1hdGguUEkvMTgwLHJlPTE4MC9NYXRoLlBJO2Z1bmN0aW9uIHNlKCl7Y29uc3QgdD00Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCl8MCxlPTQyOTQ5Ni5vZmZzZXRYLWMvMix5OnMrdC5pbWFnZS5vZmZzZXRZLWQvMix3aWR0aDpjLGhlaWdodDpkLHBhdGg6dC5pbWFnZS5wYXRoLGFwcGVuZFRvOiIuYXBleGNoYXJ0cy1wb2ludC1hbm5vdGF0aW9ucyJ9KX10Lm1vdXNlRW50ZXImJm8ubm9kZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIix0Lm1vdXNlRW50ZXIuYmluZCh0aGlzLHQpKSx0Lm1vdXNlTGVhdmUmJm8ubm9kZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIix0Lm1vdXNlTGVhdmUuYmluZCh0aGlzLHQpKSx0LmNsaWNrJiZvLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLHQuY2xpY2suYmluZCh0aGlzLHQpKX19fSx7a2V5OiJkcmF3UG9pbnRBbm5vdGF0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy53LGk9dGhpcy5hbm5vQ3R4LmdyYXBoaWNzLmdyb3VwKHtjbGFzczoiYXBleGNoYXJ0cy1wb2ludC1hbm5vdGF0aW9ucyJ9KTtyZXR1cm4gZS5jb25maWcuYW5ub3RhdGlvbnMucG9pbnRzLm1hcCgoZnVuY3Rpb24oZSxhKXt0LmFkZFBvaW50QW5ub3RhdGlvbihlLGkubm9kZSxhKX0pKSxpfX1dKSx0fSgpO3ZhciBDPXtuYW1lOiJlbiIsb3B0aW9uczp7bW9udGhzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxzaG9ydE1vbnRoczpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLHNob3J0RGF5czpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLHRvb2xiYXI6e2V4cG9ydFRvU1ZHOiJEb3dubG9hZCBTVkciLGV4cG9ydFRvUE5HOiJEb3dubG9hZCBQTkciLGV4cG9ydFRvQ1NWOiJEb3dubG9hZCBDU1YiLG1lbnU6Ik1lbnUiLHNlbGVjdGlvbjoiU2VsZWN0aW9uIixzZWxlY3Rpb25ab29tOiJTZWxlY3Rpb24gWm9vbSIsem9vbUluOiJab29tIEluIix6b29tT3V0OiJab29tIE91dCIscGFuOiJQYW5uaW5nIixyZXNldDoiUmVzZXQgWm9vbSJ9fX0sTD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXthKHRoaXMsdCksdGhpcy55QXhpcz17c2hvdzohMCxzaG93QWx3YXlzOiExLHNob3dGb3JOdWxsU2VyaWVzOiEwLHNlcmllc05hbWU6dm9pZCAwLG9wcG9zaXRlOiExLHJldmVyc2VkOiExLGxvZ2FyaXRobWljOiExLGxvZ0Jhc2U6MTAsdGlja0Ftb3VudDp2b2lkIDAsc3RlcFNpemU6dm9pZCAwLGZvcmNlTmljZVNjYWxlOiExLG1heDp2b2lkIDAsbWluOnZvaWQgMCxmbG9hdGluZzohMSxkZWNpbWFsc0luRmxvYXQ6dm9pZCAwLGxhYmVsczp7c2hvdzohMCxtaW5XaWR0aDowLG1heFdpZHRoOjE2MCxvZmZzZXRYOjAsb2Zmc2V0WTowLGFsaWduOnZvaWQgMCxyb3RhdGU6MCxwYWRkaW5nOjIwLHN0eWxlOntjb2xvcnM6W10sZm9udFNpemU6IjExcHgiLGZvbnRXZWlnaHQ6NDAwLGZvbnRGYW1pbHk6dm9pZCAwLGNzc0NsYXNzOiIifSxmb3JtYXR0ZXI6dm9pZCAwfSxheGlzQm9yZGVyOntzaG93OiExLGNvbG9yOiIjZTBlMGUwIix3aWR0aDoxLGNhbGNvbS9nb29nbGVjYWxlbmRhciIsCiAgInZlcnNpb24iOiAiMC4wLjAiLAogICJtYWluIjogIi4vaW5kZXgudHMiLAogICJkZXNjcmlwdGlvbiI6ICJHb29nbGUgQ2FsZW5kYXIgaXMgYSB0aW1lIG1hbmFnZW1lbnQgYW5kIHNjaGVkdWxpbmcgc2VydmljZSBkZXZlbG9wZWQgYnkgR29vZ2xlLiBBbGxvd3MgdXNlcnMgdG8gY3JlYXRlIGFuZCBlZGl0IGV2ZW50cywgd2l0aCBvcHRpb25zIGF2YWlsYWJsZSBmb3IgdHlwZSBhbmQgdGltZS4gQXZhaWxhYmxlIHRvIGFueW9uZSB0aGF0IGhhcyBhIEdtYWlsIGFjY291bnQgb24gYm90aCBtb2JpbGUgYW5kIHdlYiB2ZXJzaW9ucy4iLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiQGNhbGNvbS9wcmlzbWEiOiAid29ya3NwYWNlOioiLAogICAgIkBnb29nbGVhcGlzL2NhbGVuZGFyIjogIjkuNy45IgogIH0sCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJAY2FsY29tL3R5cGVzIjogIndvcmtzcGFjZToqIgogIH0KfQppbXBvcnQgdHlwZSB7IEltbXV0YWJsZVRyZWUsIENvbmZpZyB9IGZyb20gInJlYWN0LWF3ZXNvbWUtcXVlcnktYnVpbGRlciI7CmltcG9ydCB0eXBlIHogZnJvbSAiem9kIjsKCmltcG9ydCB0eXBlIHsgQXBwX1JvdXRpbmdGb3Jtc19Gb3JtIH0gZnJvbSAiQGNhbGNvbS9wcmlzbWEvY2xpZW50IjsKaW1wb3J0IHR5cGUgeyBBdHRyaWJ1dGVUeXBlLCBBdHRyaWJ1dGVUb1VzZXIsIEF0dHJpYnV0ZU9wdGlvbiB9IGZyb20gIkBjYWxjb20vcHJpc21hL2NsaWVudCI7CmltcG9ydCB0eXBlIHsgUm91dGluZ0Zvcm1TZXR0aW5ncyB9IGZyb20gIkBjYWxjb20vcHJpc21hL3pvZC11dGlscyI7CgppbXBvcnQgdHlwZSBRdWVyeUJ1aWxkZXJJbml0aWFsQ29uZmlnIGZyb20gIi4uL2NvbXBvbmVudHMvcmVhY3QtYXdlc29tZS1xdWVyeS1idWlsZGVyL2NvbmZpZy9jb25maWciOwppbXBvcnQgdHlwZSB7CiAgRm9ybUZpZWxkc1F1ZXJ5QnVpbGRlckNvbmZpZ1dpdGhSYXFiRmllbGRzLAogIEF0dHJpYnV0ZXNRdWVyeUJ1aWxkZXJDb25maWdXaXRoUmFxYkZpZWxkcywKfSBmcm9tICIuLi9saWIvZ2V0UXVlcnlCdWlsZGVyQ29uZmlnIjsKaW1wb3J0IHR5cGUgeyB6b2RSb3V0ZXJSb3V0ZVZpZXcsIHpvZE5vblJvdXRlclJvdXRlLCB6b2RGaWVsZHNWaWV3LCB6b2RSb3V0ZXNWaWV3IH0gZnJvbSAiLi4vem9kIjsKCmV4cG9ydCB0eXBlIFJvdXRpbmdGb3JtID0gU2VyaWFsaXphYmxlRm9ybTxBcHBfUm91dGluZ0Zvcm1zX0Zvcm0+OwoKZXhwb3J0IHR5cGUgUXVlcnlCdWlsZGVyVXBkYXRlZENvbmZpZyA9IHR5cGVvZiBRdWVyeUJ1aWxkZXJJbml0aWFsQ29uZmlnICYgeyBmaWVsZHM6IENvbmZpZ1siZmllbGRzIl0gfTsKCmV4cG9ydCB0eXBlIEZvcm1SZXNwb25zZSA9IFJlY29yZDwKICAvLyBGaWVsZCBJRAogIHN0cmluZywKICB7CiAgICB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nIHwgc3RyaW5nW107CiAgICBsYWJlbDogc3RyaW5nOwogICAgaWRlbnRpZmllcj86IHN0cmluZzsKICB9Cj47CgpleHBvcnQgdHlwZSBGaWVsZHMgPSB6LmluZmVyPHR5cGVvZiB6b2RGaWVsZHNWaWV3PjsKZXhwb3J0IHR5cGUgRmllbGQgPSBOb25OdWxsYWJsZTxGaWVsZHM+W251bWJlcl07CmV4cG9ydCB0eXBlIFJvdXRlcyA9IHouaW5mZXI8dHlwZW9mIHpvZFJvdXRlc1ZpZXc+O2N0aW9uIG1ha2VXZWJzb2NrZXRVcmwoZW5kcG9pbnQpIHsKICBjb25zdCBtYXRjaGVzID0gZW5kcG9pbnQubWF0Y2goVVJMX1JFKTsKICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7CiAgICB0aHJvdyBUeXBlRXJyb3IoYEZhaWxlZCB0byB2YWxpZGF0ZSBlbmRwb2ludCBVUkwgXGAke2VuZHBvaW50fVxgYCk7CiAgfQogIGNvbnN0IFtfLAogIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzCiAgaG9zdGlzaCwgcG9ydFdpdGhDb2xvbiwgcmVzdF0gPSBtYXRjaGVzOwogIGNvbnN0IHByb3RvY29sID0gZW5kcG9pbnQuc3RhcnRzV2l0aCgnaHR0cHM6JykgPyAnd3NzOicgOiAnd3M6JzsKICBjb25zdCBzdGFydFBvcnQgPSBwb3J0V2l0aENvbG9uID09IG51bGwgPyBudWxsIDogcGFyc2VJbnQocG9ydFdpdGhDb2xvbi5zbGljZSgxKSwgMTApOwogIGNvbnN0IHdlYnNvY2tldFBvcnQgPQogIC8vIE9ubHkgc2hpZnQgdGhlIHBvcnQgYnkgKzEgYXMgYSBjb252ZW50aW9uIGZvciB3cyhzKSBvbmx5IGlmIGdpdmVuIGVuZHBvaW50CiAgLy8gaXMgZXhwbGljaXRseSBzcGVjaWZ5aW5nIHRoZSBlbmRwb2ludCBwb3J0IChIVFRQLWJhc2VkIFJQQyksIGFzc3VtaW5nCiAgLy8gd2UncmUgZGlyZWN0bHkgdHJ5aW5nIHRvIGNvbm5lY3QgdG8gc29sYW5hLXZhbGlkYXRvcidzIHdzIGxpc3RlbmluZyBwb3J0LgogIC8vIFdoZW4gdGhlIGVuZHBvaW50IG9taXRzIHRoZSBwb3J0LCB3ZSdyZSBjb25uZWN0aW5nIHRvIHRoZSBwcm90b2NvbAogIC8vIGRlZmF1bHQgcG9ydHM6IGh0dHAoODApIG9yIGh0dHBzKDQ0MykgYW5kIGl0J3MgYXNzdW1lZCB3ZSdyZSBiZWhpbmQgYSByZXZlcnNlCiAgLy8gcHJveHkgd2hpY2ggbWFuYWdlcyBXZWJTb2NrZXQgdXBncmFkZSBhbmQgYmFja2VuZCBwb3J0IHJlZGlyZWN0aW9uLgogIHN0YXJ0UG9ydCA9PSBudWxsID8gJycgOiBgOiR7c3RhcnRQb3J0ICsgMX1gOwogIHJldHVybiBgJHtwcm90b2NvbH0vLyR7aG9zdGlzaH0ke3dlYnNvY2tldFBvcnR9JHtyZXN0fWA7Cn0KCmNvbnN0IFB1YmxpY0tleUZyb21TdHJpbmcgPSBzdXBlcnN0cnVjdC5jb2VyY2Uoc3VwZXJzdHJ1Y3QuaW5zdGFuY2UoUHVibGljS2V5KSwgc3VwZXJzdHJ1Y3Quc3RyaW5nKCksIHZhbHVlID0+IG5ldyBQdWJsaWNLZXkodmFsdWUpKTsKY29uc3QgUmF3QWNjb3VudERhdGFSZXN1bHQgPSBzdXBlcnN0cnVjdC50dXBsZShbc3VwZXJzdHJ1Y3Quc3RyaW5nKCksIHN1cGVyc3RydWN0LmxpdGVyYWwoJ2Jhc2U2NCcpXSk7CmNvbnN0IEJ1ZmZlckZyb21SYXdBY2NvdW50RGF0YSA9IHN1cGVyc3RydWN0LmNvZXJjZShzdXBlcnN0cnVjdC5pbnN0YW5jZShidWZmZXIuQnVmZmVyKSwgUmF3QWNjb3VudERhdGFSZXN1bHQsIHZhbHVlID0+IGJ1ZmZlci5CdWZmZXIuZnJvbSh2YWx1ZVswXSwgJ2Jhc2U2NCcpKTsKCi8qKgogKiBBdHRlbXB0IHRvIHVzZSBhIHJlY2VudCBibG9ja2hhc2ggZm9yIHVwIHRvIDMwIHNlY29uZHMKICogQGludGVybmFsCiAqLwpjb25zdCBCTE9DS0hBU0hfQ0FDSEVfVElNRU9VVF9NUyA9IDMwICogMTAwMDsKCi8qKgogKiBIQUNLLgogKiBDb3BpZWQgZnJvbSBycGMtd2Vic29ja2V0cy9kaXN0L2xpYi9jbGllbnQuCiAqIE90aGVyd2lzZSwgYHlhcm4gYnVpbGRgIGZhaWxzIHdpdGduZXIsCiAgICAgICAgaXNXcml0YWJsZQogICAgICB9KSksCiAgICAgIHByb2dyYW1JZDogdGhpcy5wcm9ncmFtSWQudG9KU09OKCksCiAgICAgIGRhdGE6IFsuLi50aGlzLmRhdGFdCiAgICB9OwogIH0KfQoKLyoqCiAqIFBhaXIgb2Ygc2lnbmF0dXJlIGFuZCBjb3JyZXNwb25kaW5nIHB1YmxpYyBrZXkKICovCgovKioKICogTGlzdCBvZiBUcmFuc2FjdGlvbiBvYmplY3QgZmllbGRzIHRoYXQgbWF5IGJlIGluaXRpYWxpemVkIGF0IGNvbnN0cnVjdGlvbgogKi8KCi8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5OyBhbiB1bmZvcnR1bmF0ZSBjb25zZXF1ZW5jZSBvZiBiZWluZwovLyBmb3JjZWQgdG8gb3Zlci1leHBvcnQgdHlwZXMgYnkgdGhlIGRvY3VtZW50YXRpb24gZ2VuZXJhdG9yLgovLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3NvbGFuYS1sYWJzL3NvbGFuYS9wdWxsLzI1ODIwCi8qKgogKiBCbG9ja2hhc2gtYmFzZWQgdHJhbnNhY3Rpb25zIGhhdmUgYSBsaWZldGltZSB0aGF0IGFyZSBkZWZpbmVkIGJ5CiAqIHRoZSBibG9ja2hhc2ggdGhleSBpbmNsdWRlLiBBbnkgdHJhbnNhY3Rpb24gd2hvc2UgYmxvY2toYXNoIGlzCiAqIHRvbyBvbGQgd2lsbCBiZSByZWplY3RlZC4KICovCi8qKgogKiBVc2UgdGhlc2Ugb3B0aW9ucyB0byBjb25zdHJ1Y3QgYSBkdXJhYmxlIG5vbmNlIHRyYW5zYWN0aW9uLgogKi8KLyoqCiAqIE5vbmNlIGluZm9ybWF0aW9uIHRvIGJlIHVzZWQgdG8gYnVpbGQgYW4gb2ZmbGluZSBUcmFuc2FjdGlvbi4KICovCi8qKgogKiBAaW50ZXJuYWwKICovCi8qKgogKiBUcmFuc2FjdGlvbiBjbGFzcwogKi8KY2xhc3MgVHJhbnNhY3Rpb24gewogIC8qKgogICAqIFRoZSBmaXJzdCAocGF5ZXIpIFRyYW5zYWN0aW9uIHNpZ25hdHVyZQogICAqCiAgICogQHJldHVybnMge0J1ZmZlciB8IG51bGx9IEJ1ZmZlciBvZiBwYXllcidzIHNpZ25hdHVyZQogICAqLwogIGdldCBzaWduYXR1cmUoKSB7CiAgICBpZiAodGhpcy5zaWduYXR1cmVzLmxlbmd0aCA+IDApIHsKICAgICAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlc1swXS5zaWduYXR1cmU7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CgogIC8qKgogICAqIFRoZSB0cmFuc2FjdGlvbiBmZWUgcGF5ZXIKICAgKi8KCiAgLy8gQ29uc3RydWN0IGEgdHJhbnNhY3Rpb24gd2l0aCBhIGJsb2NraGFzaCBhbmQgbGFzdFZhbGlkQmxvY2tIZWlnaHQKCiAgLy8gQ29uc3RydWN0IGEgdHJhbnNhY3Rpb24gdXNpbmcgYSBkdXJhYmxlIG5vbmNlCgogIC8qKgogICAqIEBkZXByZWNhdGVkIGBUcmFuc2FjdGlvbkN0b3JGaWVsZHNgIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLgogICAqIFBsZWFzZSBzdXBwbHkgYSBgVHJhbnNhY3Rpb25CbG9ja2hhc2hDdG9yYCBpbnN0ZWFkLgogICAqLwoKICAvKioKICAgKiBDb25zdHJ1Y3QgYW4gZW1wdHkgVHJhbnNhY3Rpb24KICAgKi8KICBjb25zdHJ1Y3RvcihvcHRzKSB7CiAgICAvKioKICAgICAqIFNpZ25hdHVyZXMgZm9yIHRoZSB0cmFuc2FjdGlvbi4gIFR5cGljYWxseSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZQogICAgICogYHNpZ24oKWAgbWV0aG9kCiAgICAgKi8KICAgIHRoaXMuc2lnbmF0dXJlcyA9IFtdOwogICAgdGhpcy5mZWVQYXllciA9IHZvaWQgMDsKICAgIChuKXtyZXR1cm4gdFtuXX0pKTpRaSh0KT9YdCh0KS5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiB0LmdldChuKX0pKTpycih0KT9BcnJheS5mcm9tKHQudmFsdWVzKCkpOmhuKHQpP3Quc2xpY2UoKTp2b2lkIG4oNil9LHQud2hlbj1mdW5jdGlvbih0LG4saSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RofHxuJiYib2JqZWN0Ij09dHlwZW9mIG4/WXQodCxuKTpKdCh0LG4saXx8e30pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vYngudW1kLnByb2R1Y3Rpb24ubWluLmpzLm1hcAohZnVuY3Rpb24odCxlKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKToodD0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5kYXlqcz1lKCl9KHRoaXMsKGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciB0PTFlMyxlPTZlNCxuPTM2ZTUscj0ibWlsbGlzZWNvbmQiLGk9InNlY29uZCIscz0ibWludXRlIix1PSJob3VyIixhPSJkYXkiLG89IndlZWsiLGM9Im1vbnRoIixmPSJxdWFydGVyIixoPSJ5ZWFyIixkPSJkYXRlIixsPSJJbnZhbGlkIERhdGUiLCQ9L14oXGR7NH0pWy0vXT8oXGR7MSwyfSk/Wy0vXT8oXGR7MCwyfSlbVHRcc10qKFxkezEsMn0pPzo/KFxkezEsMn0pPzo/KFxkezEsMn0pP1suOl0/KFxkKyk/JC8seT0vXFsoW15cXV0rKV18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXxBfG17MSwyfXxzezEsMn18WnsxLDJ9fFNTUy9nLE09e25hbWU6ImVuIix3ZWVrZGF5czoiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXkiLnNwbGl0KCJfIiksbW9udGhzOiJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyIi5zcGxpdCgiXyIpLG9yZGluYWw6ZnVuY3Rpb24odCl7dmFyIGU9WyJ0aCIsInN0IiwibmQiLCJyZCJdLG49dCUxMDA7cmV0dXJuIlsiK3QrKGVbKG4tMjApJTEwXXx8ZVtuXXx8ZVswXSkrIl0ifX0sbT1mdW5jdGlvbih0LGUsbil7dmFyIHI9U3RyaW5nKHQpO3JldHVybiFyfHxyLmxlbmd0aD49ZT90OiIiK0FycmF5KGUrMS1yLmxlbmd0aCkuam9pbihuKSt0fSx2PXtzOm0sejpmdW5jdGlvbih0KXt2YXIgZT0tdC51dGNPZmZzZXQoKSxuPU1hdGguYWJzKGUpLHI9TWF0aC5mbG9vcihuLzYwKSxpPW4lNjA7cmV0dXJuKGU8PTA/IisiOiItIikrbShyLDIsIjAiKSsiOiIrbShpLDIsIjAiKX0sbTpmdW5jdGlvbiB0KGUsbil7aWYoZS5kYXRlKCk8bi5kYXRlKCkpcmV0dXJuLXQobixlKTt2YXIgcj0xMioobi55ZWFyKCktZS55ZWFyKCkpKyhuLm1vbnRoKCktZS5tb250aCgpKSxpPWUuY2xvbmUoKS5hZGQocixjKSxzPW4taTwwLHU9ZS5jbG9uZSgpLmFkZChyKyhzPy0xOjEpLGMpO3JldHVybisoLShyKyhuLWkpLyhzP2ktdTp1LWkpKXx8MCl9LGE6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCl8fDA6TWF0aC5mbG9vcih0KX0scDpmdW5jdGlvbih0KXtsZXQgZSxpLHMsbixvO3JldHVybiB0Lmhvcml6b250YWw/KGU9dC5iYXNlPnQueCxpPSJsZWZ0IixzPSJyaWdodCIpOihlPXQuYmFzZTx0LnksaT0iYm90dG9tIixzPSJ0b3AiKSxlPyhuPSJlbmQiLG89InN0YXJ0Iik6KG49InN0YXJ0IixvPSJlbmQiKSx7c3RhcnQ6aSxlbmQ6cyxyZXZlcnNlOmUsdG9wOm4sYm90dG9tOm99fSh0KTsibWlkZGxlIj09PW4mJmkmJih0LmVuYWJsZUJvcmRlclJhZGl1cz0hMCwoaS5fdG9wfHwwKT09PXM/bj1oOihpLl9ib3R0b218fDApPT09cz9uPWM6KG9bV24oYyxhLHIsbCldPSEwLG49aCkpLG9bV24obixhLHIsbCldPSEwLHQuYm9yZGVyU2tpcHBlZD1vfWZ1bmN0aW9uIFduKHQsZSxpLHMpe3ZhciBuLG8sYTtyZXR1cm4gcz8oYT1pLHQ9Tm4odD0obj10KT09PShvPWUpP2E6bj09PWE/bzpuLGksZSkpOnQ9Tm4odCxlLGkpLHR9ZnVuY3Rpb24gTm4odCxlLGkpe3JldHVybiJzdGFydCI9PT10P2U6ImVuZCI9PT10P2k6dH1mdW5jdGlvbiBIbih0LHtpbmZsYXRlQW1vdW50OmV9LGkpe3QuaW5mbGF0ZUFtb3VudD0iYXV0byI9PT1lPzE9PT1pPy4zMzowOmV9Y2xhc3Mgam4gZXh0ZW5kcyBOc3tzdGF0aWMgaWQ9ImRvdWdobnV0IjtzdGF0aWMgZGVmYXVsdHM9e2RhdGFzZXRFbGVtZW50VHlwZTohMSxkYXRhRWxlbWVudFR5cGU6ImFyYyIsYW5pbWF0aW9uOnthbmltYXRlUm90YXRlOiEwLGFuaW1hdGVTY2FsZTohMX0sYW5pbWF0aW9uczp7bnVtYmVyczp7dHlwZToibnVtYmVyIixwcm9wZXJ0aWVzOlsiY2lyY3VtZmVyZW5jZSIsImVuZEFuZ2xlIiwiaW5uZXJSYWRpdXMiLCJvdXRlclJhZGl1cyIsInN0YXJ0QW5nbGUiLCJ4IiwieSIsIm9mZnNldCIsImJvcmRlcldpZHRoIiwic3BhY2luZyJdfX0sY3V0b3V0OiI1MCUiLHJvdGF0aW9uOjAsY2lyY3VtZmVyZW5jZTozNjAscmFkaXVzOiIxMDAlIixzcGFjaW5nOjAsaW5kZXhBeGlzOiJyIn07c3RhdGljIGRlc2NyaXB0b3JzPXtfc2NyaXB0YWJsZTp0PT4ic3BhY2luZyIhPT10LF9pbmRleGFibGU6dD0+InNwYWNpbmciIT09dCYmIXQuc3RhcnRzV2l0aCgiYm9yZGVyRGFzaCIpJiYhdC5zdGFydHNXaXRoKCJob3ZlckJvcmRlckRhc2giKX07c3RhdGljIG92ZXJyaWRlcz17YXNwZWN0UmF0aW86MSxwbHVnaW5zOntsZWdlbmQ6e2xhYmVsczp7Z2VuZXJhdGVMYWJlbHModCl7Y29uc3QgZT10LmRhdGE7aWYoZS5sYWJlbHMubGVuZ3RoJiZlLmRhdGFzZXRzLmxlbmd0aCl7Y29uc3R7bGFiZWxzOntwb2ludFN0eWxlOmksY29sb3I6c319PXQubGVnZW5kLm9wdGlvbnM7cmV0dXJuIGUubGFiZWxzLm1hcCgoKGUsbik9Pntjb25zdCBvPXQuZ2V0RGF0YXNldE1ldGEoMCkuY29udHJvbGxlci5nZXRTdHlsZShuKTtyZXR1cm57dGV4dDplLGZpbGxTdHlsZTpvLmJhY2tncm91bmRDb2xvcixzdHJva2VTdHlsZTpvLmJvcmRlckNvbG9yLGZvbnRDb2xvcjpzLGxpbmVXaWR0aDpvLmJvcmRlcldpZHRoLHBvaW50U3R5bGU6aSxoaWRkZW46IXQuZ2V0RGF0YVZpc2liaWxpdHkobiksaW5kZXg6bn19KSl9cmV0dXJuW119fSxvbkNsaWNrKHQsZSxpKXtpLmNoYXJ0LnRvZ2dsZURhdGFWaXNpYmlsaXR5KGUuaW5kZXgpLGkuY2hhcnQudXBkYXRlKCl9fX19O2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmc9ITAsdGhpcyksdGhpc31yZXNpemUodCxlKXt4dC5ydW5uaW5nKHRoaXMpP3RoaXMuX3Jlc2l6ZUJlZm9yZURyYXc9e3dpZHRoOnQsaGVpZ2h0OmV9OnRoaXMuX3Jlc2l6ZSh0LGUpfV9yZXNpemUodCxlKXtjb25zdCBpPXRoaXMub3B0aW9ucyxzPXRoaXMuY2FudmFzLG49aS5tYWludGFpbkFzcGVjdFJhdGlvJiZ0aGlzLmFzcGVjdFJhdGlvLG89dGhpcy5wbGF0Zm9ybS5nZXRNYXhpbXVtU2l6ZShzLHQsZSxuKSxhPWkuZGV2aWNlUGl4ZWxSYXRpb3x8dGhpcy5wbGF0Zm9ybS5nZXREZXZpY2VQaXhlbFJhdGlvKCkscj10aGlzLndpZHRoPyJyZXNpemUiOiJhdHRhY2giO3RoaXMud2lkdGg9by53aWR0aCx0aGlzLmhlaWdodD1vLmhlaWdodCx0aGlzLl9hc3BlY3RSYXRpbz10aGlzLmFzcGVjdFJhdGlvLGtlKHRoaXMsYSwhMCkmJih0aGlzLm5vdGlmeVBsdWdpbnMoInJlc2l6ZSIse3NpemU6b30pLGQoaS5vblJlc2l6ZSxbdGhpcyxvXSx0aGlzKSx0aGlzLmF0dGFjaGVkJiZ0aGlzLl9kb1Jlc2l6ZShyKSYmdGhpcy5yZW5kZXIoKSl9ZW5zdXJlU2NhbGVzSGF2ZUlEcygpe3UodGhpcy5vcHRpb25zLnNjYWxlc3x8e30sKCh0LGUpPT57dC5pZD1lfSkpfWJ1aWxkT3JVcGRhdGVTY2FsZXMoKXtjb25zdCB0PXRoaXMub3B0aW9ucyxlPXQuc2NhbGVzLGk9dGhpcy5zY2FsZXMscz1PYmplY3Qua2V5cyhpKS5yZWR1Y2UoKCh0LGUpPT4odFtlXT0hMSx0KSkse30pO2xldCBuPVtdO2UmJihuPW4uY29uY2F0KE9iamVjdC5rZXlzKGUpLm1hcCgodD0+e2NvbnN0IGk9ZVt0XSxzPWxuKHQsaSksbj0iciI9PT1zLG89IngiPT09cztyZXR1cm57b3B0aW9uczppLGRwb3NpdGlvbjpuPyJjaGFydEFyZWEiOm8/ImJvdHRvbSI6ImxlZnQiLGR0eXBlOm4/InJhZGlhbExpbmVhciI6bz8iY2F0ZWdvcnkiOiJsaW5lYXIifX0pKSkpLHUobiwoZT0+e2NvbnN0IG49ZS5vcHRpb25zLG89bi5pZCxhPWxuKG8sbikscj1sKG4udHlwZSxlLmR0eXBlKTt2b2lkIDAhPT1uLnBvc2l0aW9uJiZ2bihuLnBvc2l0aW9uLGEpPT09dm4oZS5kcG9zaXRpb24pfHwobi5wb3NpdGlvbj1lLmRwb3NpdGlvbiksc1tvXT0hMDtsZXQgaD1udWxsO2lmKG8gaW4gaSYmaVtvXS50eXBlPT09ciloPWlbb107ZWxzZXtoPW5ldyhlbi5nZXRTY2FsZShyKSkoe2lkOm8sdHlwZTpyLGN0eDp0aGlzLmN0eCxjaGFydDp0aGlzfSksaVtoLmlkXT1ofWguaW5pdChuLHQpfSkpLHUocywoKHQsZSk9Pnt0fHxkZWxldGUgaVtlXX0pKSx1KGksKHQ9Pnthcy5jb25maWd1cmUodGhpcyx0LHQub3B0aW9ucyksYXMuYWRkQm94KHRoaXMsdCl9KSl9X3VwZGF0ZU1ldGFzZXRzKCl7Y29uc3QgdD10aGlzLl9tZXRhc2V0cyxlPXRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGgsaT10Lmxlbmd0aDtpZih0LnNvcnQoKCh0LGUpPT50LmluZGV4LWUuaW5kZXgpKSxpPmUpe2ZvcihsZXQgdD1lO3Q8aTsrK3QpdGhpcy5fZGVzdHJveURhdGFzZXRNZXRhKHQpO3Quc3BsaWNlKGUsaS1lKX10aGlzLl9zb3J0ZWRNZXRhc2V0cz10LnNsaWNlKDApLnNvcnQoTW4oIm9yZGVyIiwiaW5kZXgiKSl9X3JlbW92ZVVucmVmZXJlbmNlZE1ldGFzZXRzKCl7Y29uc3R7X21ldGFzZXRzOnQsZGF0YTp7ZGF0YXNldHM6ZX19PXRoaXM7dC5sZW5ndGg+ZS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9zdGFja3MsdC5mb3JFYWNoKCgodCxpKT0+ezA9PT1lY3Rpb24gVyh0KXtjb25zdCBlPVtdLGk9TWF0aC5zcXJ0KHQpO2xldCBzO2ZvcihzPTE7czxpO3MrKyl0JXM9PTAmJihlLnB1c2gocyksZS5wdXNoKHQvcykpO3JldHVybiBpPT09KDB8aSkmJmUucHVzaChpKSxlLnNvcnQoKCh0LGUpPT50LWUpKS5wb3AoKSxlfWZ1bmN0aW9uIE4odCl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQodCkpJiZpc0Zpbml0ZSh0KX1mdW5jdGlvbiBIKHQsZSl7Y29uc3QgaT1NYXRoLnJvdW5kKHQpO3JldHVybiBpLWU8PXQmJmkrZT49dH1mdW5jdGlvbiBqKHQsZSxpKXtsZXQgcyxuLG87Zm9yKHM9MCxuPXQubGVuZ3RoO3M8bjtzKyspbz10W3NdW2ldLGlzTmFOKG8pfHwoZS5taW49TWF0aC5taW4oZS5taW4sbyksZS5tYXg9TWF0aC5tYXgoZS5tYXgsbykpfWZ1bmN0aW9uICQodCl7cmV0dXJuIHQqKEMvMTgwKX1mdW5jdGlvbiBZKHQpe3JldHVybiB0KigxODAvQyl9ZnVuY3Rpb24gVSh0KXtpZighYSh0KSlyZXR1cm47bGV0IGU9MSxpPTA7Zm9yKDtNYXRoLnJvdW5kKHQqZSkvZSE9PXQ7KWUqPTEwLGkrKztyZXR1cm4gaX1mdW5jdGlvbiBYKHQsZSl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueSxuPU1hdGguc3FydChpKmkrcypzKTtsZXQgbz1NYXRoLmF0YW4yKHMsaSk7cmV0dXJuIG88LS41KkMmJihvKz1PKSx7YW5nbGU6byxkaXN0YW5jZTpufX1mdW5jdGlvbiBxKHQsZSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhlLngtdC54LDIpK01hdGgucG93KGUueS10LnksMikpfWZ1bmN0aW9uIEsodCxlKXtyZXR1cm4odC1lK0EpJU8tQ31mdW5jdGlvbiBHKHQpe3JldHVybih0JU8rTyklT31mdW5jdGlvbiBaKHQsZSxpLHMpe2NvbnN0IG49Ryh0KSxvPUcoZSksYT1HKGkpLHI9RyhvLW4pLGw9RyhhLW4pLGg9RyhuLW8pLGM9RyhuLWEpO3JldHVybiBuPT09b3x8bj09PWF8fHMmJm89PT1hfHxyPmwmJmg8Y31mdW5jdGlvbiBKKHQsZSxpKXtyZXR1cm4gTWF0aC5tYXgoZSxNYXRoLm1pbihpLHQpKX1mdW5jdGlvbiBRKHQpe3JldHVybiBKKHQsLTMyNzY4LDMyNzY3KX1mdW5jdGlvbiB0dCh0LGUsaSxzPTFlLTYpe3JldHVybiB0Pj1NYXRoLm1pbihlLGkpLXMmJnQ8PU1hdGgubWF4KGUsaSkrc31mdW5jdGlvbiBldCh0LGUsaSl7aT1pfHwoaT0+dFtpXTxlKTtsZXQgcyxuPXQubGVuZ3RoLTEsbz0wO2Zvcig7bi1vPjE7KXM9bytuPj4xLGkocyk/bz1zOm49cztyZXR1cm57bG86byxoaTpufX1jb25zdCBpdD0odCxlLGkscyk9PmV0KHQsaSxzP3M9Pntjb25zdCBuPXRbc11bZV07cmV0dXJuIG48aXx8bj09PWkmJnRbcysxXVtlXT09PWl9OnM9PnRbc11bZV08aSksc3Q9KHQsZSxpKT0+ZXQodCxpLChzPT50W3NdW2VdPj1pKSk7ZnVuY3Rpb24gbnQodCxlLGkpe2xldCBzPTAsbj10Lmxlbmd0aDtmb3IoO3M8biYmdFtzXTxlOylzKys7Zm9yKDtuPnMmJnRbbi0xXT5pOyluLS07cmV0dXJuIHM+MHx8bjx0Lmxlbmd0aD90LnNsaWNlKHMsbik6dH1jb25zdCBvdD1bInB1c2giLCJwb3AiLCJzaGlmdCIsInNwbGljZSIsInVuc2hpZnQiXTtmdW5jdGlvbiBhdCh0LGUpe3QuX2NoYXJ0anM/dC5fY2hhcnRqcy5saXN0ZW5lcnMucHVzaChlKTooT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9jaGFydGpzIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6e2xpc3RlbmVyczpbZV19fSksb3QuZm9yRWFjQ29udGVudCI9PT10KXtudWxsIT1uJiYoZVt0XT0iaW5uZXJIVE1MIj09PXQ/aVUobik6bik7cmV0dXJufWxldCBsPWUudGFnTmFtZTtpZigidmFsdWUiPT09dCYmIlBST0dSRVNTIiE9PWwmJiFsLmluY2x1ZGVzKCItIikpe2xldCByPSJPUFRJT04iPT09bD9lLmdldEF0dHJpYnV0ZSgidmFsdWUiKXx8IiI6ZS52YWx1ZSxpPW51bGw9PW4/ImNoZWNrYm94Ij09PWUudHlwZT8ib24iOiIiOlN0cmluZyhuKTtyPT09aSYmIl92YWx1ZSJpbiBlfHwoZS52YWx1ZT1pKSxudWxsPT1uJiZlLnJlbW92ZUF0dHJpYnV0ZSh0KSxlLl92YWx1ZT1uO3JldHVybn1sZXQgcz0hMTtpZigiIj09PW58fG51bGw9PW4pe2xldCByPXR5cGVvZiBlW3RdO2lmKCJib29sZWFuIj09PXIpe3ZhciBvO249ISEobz1uKXx8IiI9PT1vfWVsc2UgbnVsbD09biYmInN0cmluZyI9PT1yPyhuPSIiLHM9ITApOiJudW1iZXIiPT09ciYmKG49MCxzPSEwKX10cnl7ZVt0XT1ufWNhdGNoKGUpe31zJiZlLnJlbW92ZUF0dHJpYnV0ZShpfHx0KX1mdW5jdGlvbiBsaChlLHQsbixyKXtlLmFkZEV2ZW50TGlzdGVuZXIodCxuLHIpfWxldCBsZj1TeW1ib2woIl92ZWkiKSxsbT0vKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC8sbGc9MCxsdj1Qcm9taXNlLnJlc29sdmUoKSxseT1lPT4xMTE9PT1lLmNoYXJDb2RlQXQoMCkmJjExMD09PWUuY2hhckNvZGVBdCgxKSYmZS5jaGFyQ29kZUF0KDIpPjk2JiYxMjM+ZS5jaGFyQ29kZUF0KDIpLGxiPShlLHQsbixyLGksbCk9PntsZXQgcz0ic3ZnIj09PWk7aWYoImNsYXNzIj09PXQpe3ZhciBvO2xldCB0O289ciwodD1lW2lKXSkmJihvPShvP1tvLC4uLnRdOlsuLi50XSkuam9pbigiICIpKSxudWxsPT1vP2UucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpOnM/ZS5zZXRBdHRyaWJ1dGUoImNsYXNzIixvKTplLmNsYXNzTmFtZT1vfWVsc2Uic3R5bGUiPT09dD9mdW5jdGlvbihlLHQsbil7bGV0IHI9ZS5zdHlsZSxpPU8obiksbD0hMTtpZihuJiYhaSl7aWYodClpZihPKHQpKWZvcihsZXQgZSBvZiB0LnNwbGl0KCI7Iikpe2xldCB0PWUuc2xpY2UoMCxlLmluZGV4T2YoIjoiKSkudHJpbSgpO251bGw9PW5bdF0mJmxvKHIsdCwiIil9ZWxzZSBmb3IobGV0IGUgaW4gdCludWxsPT1uW2VdJiZsbyhyLGUsIiIpO2ZvcihsZXQgZSBpbiBuKSJkaXNwbGF5Ij09PWUmJihsPSEwKSxsbyhyLGUsbltlXSl9ZWxzZSBpZihpKXtpZih0IT09bil7bGV0IGU9cltscl07ZSYmKG4rPSI7IitlKSxyLmNzc1RleHQ9bixsPWxsLnRlc3Qobil9fWVsc2UgdCYmZS5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIik7bGUgaW4gZSYmKGVbbGVdPWw/ci5kaXNwbGF5OiIiLGVbbHRdJiYoci5kaXNwbGF5PSJub25lIikpfShlLG4scik6Qyh0KT9rKHQpfHxmdW5jdGlvbihlLHQsbixyLGk9bnVsbCl7bGV0IGw9ZVtsZl18fChlW2xmXT17fSkscz1sW3RdO2lmKHImJnMpcy52YWx1ZT1yO2Vsc2V7bGV0W24sY109ZnVuY3Rpb24oZSl7bGV0IHQ7aWYobG0udGVzdChlKSl7bGV0IG47Zm9yKHQ9e307bj1lLm1hdGNoKGxtKTspZT1lLnNsaWNlKDAsZS5sZW5ndGgtblswXS5sZW5ndGgpLHRbblswXS50b0xvd2VyQ2FzZSgpXT0hMH1yZXR1cm5bIjoiPT09ZVsyXT9lLnNsaWNlKDMpOkgoZS5zbGljZSgyKSksdF19KHQpO2lmKHIpe3ZhciBvLGE7bGV0IHM7bGgoZSxuLGxbdF09KG89cixhZGQiLGUsZSkpLHRoaXN9LHNldChlLG4pe3R8fHRmKG4pfHx0aChuKXx8KG49dGcobikpO2xldCByPXRnKHRoaXMpLHtoYXM6aSxnZXQ6bH09UmVmbGVjdC5nZXRQcm90b3R5cGVPZihyKSxzPWkuY2FsbChyLGUpO3N8fChlPXRnKGUpLHM9aS5jYWxsKHIsZSkpO2xldCBvPWwuY2FsbChyLGUpO3JldHVybiByLnNldChlLG4pLHM/SyhuLG8pJiZlaihyLCJzZXQiLGUsbik6ZWoociwiYWRkIixlLG4pLHRoaXN9LGRlbGV0ZShlKXtsZXQgdD10Zyh0aGlzKSx7aGFzOm4sZ2V0OnJ9PVJlZmxlY3QuZ2V0UHJvdG90eXBlT2YodCksaT1uLmNhbGwodCxlKTtpfHwoZT10ZyhlKSxpPW4uY2FsbCh0LGUpKSxyJiZyLmNhbGwodCxlKTtsZXQgbD10LmRlbGV0ZShlKTtyZXR1cm4gaSYmZWoodCwiZGVsZXRlIixlLHZvaWQgMCksbH0sY2xlYXIoKXtsZXQgZT10Zyh0aGlzKSx0PTAhPT1lLnNpemUsbj1lLmNsZWFyKCk7cmV0dXJuIHQmJmVqKGUsImNsZWFyIix2b2lkIDAsdm9pZCAwKSxufX0pLFsia2V5cyIsInZhbHVlcyIsImVudHJpZXMiLFN5bWJvbC5pdGVyYXRvcl0uZm9yRWFjaChyPT57bltyXT1mdW5jdGlvbiguLi5uKXtsZXQgaSxsPXRoaXMuX192X3JhdyxzPXRnKGwpLG89IltvYmplY3QgTWFwXSI9PT0oaT1zLEwuY2FsbChpKSksYT0iZW50cmllcyI9PT1yfHxyPT09U3ltYm9sLml0ZXJhdG9yJiZvLGM9bFtyXSguLi5uKSx1PXQ/ZTU6ZT90Yjp0eTtyZXR1cm4gZXx8ZVYocywiaXRlcmF0ZSIsImtleXMiPT09ciYmbz9lRDplJCksVChPYmplY3QuY3JlYXRlKGMpLHtuZXh0KCl7bGV0e3ZhbHVlOmUsZG9uZTp0fT1jLm5leHQoKTtyZXR1cm4gdD97dmFsdWU6ZSxkb25lOnR9Ont2YWx1ZTphP1t1KGVbMF0pLHUoZVsxXSldOnUoZSksZG9uZTp0fX19KX19KSxuKTtyZXR1cm4odCxuLGkpPT4iX192X2lzUmVhY3RpdmUiPT09bj8hZToiX192X2lzUmVhZG9ubHkiPT09bj9lOiJfX3ZfcmF3Ij09PW4/dDpSZWZsZWN0LmdldChBKHIsbikmJm4gaW4gdD9yOnQsbixpKX1sZXQgdGU9e2dldDplNyghMSwhMSl9LHR0PXtnZXQ6ZTcoITEsITApfSx0bj17Z2V0OmU3KCEwLCExKX0sdHI9e2dldDplNyghMCwhMCl9LHRpPW5ldyBXZWFrTWFwLHRsPW5ldyBXZWFrTWFwLHRzPW5ldyBXZWFrTWFwLHRvPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIHRhKGUpe3JldHVybiB0aChlKT9lOnRkKGUsITEsZTYsdGUsdGkpfWZ1bmN0aW9uIHRjKGUpe3JldHVybiB0ZChlLCExLGU0LHR0LHRsKX1mdW5jdGlvbiB0dShlKXtyZXR1cm4gdGQoZSwhMCxlMyx0bix0cyl9ZnVuY3Rpb24gdGQoZSx0LG4scixpKXt2YXIgbDtsZXQgcztpZighTShlKXx8ZS5fX3ZfcmF3JiYhKHQmJmUuX192X2lzUmVhY3RpdmUpKXJldHVybiBlO2xldCBvPShsPWUpLl9fdl9za2lwfHwhT2JqZWN0LmlzRXh0ZW5zaWJsZShsKT8wOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIk9iamVjdCI6Y2FzZSJBcnJheSI6cmV0dXJuIDE7Y2FzZSJNYXAiOmNhc2UiU2V0IjpjYXNlIldlYWtNYXAiOmNhc2UiV2Vha1NldCI6cmV0dXJuIDI7ZGVmYXVsdDpyZXR1cm4gMH19KChzPWwsTC5jYWxsKHMpKS5zbGljZSg4LC0xKSk7aWYoMD09PW8pcmV0dXJuIGU7bGV0IGE9aS5nZXQoZSk7aWYoYSlyZXR1cm4gYTtsZXQgYz1uZXcgUHJveHkoZSwyPT09bz9yOm4pO3JldHVybiBpLnNldChlLGMpLGN9ZnVuY3RpLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCIpLGVzPXkoInN2ZyxhbmltYXRlLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsY2xpcFBhdGgsY29sb3ItcHJvZmlsZSxkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLGZlQ29tcG9zaXRlLGZlQ29udm9sdmVNYXRyaXgsZmVEaWZmdXNlTGlnaHRpbmcsZmVEaXNwbGFjZW1lbnRNYXAsZmVEaXN0YW50TGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUixmZUdhdXNzaWFuQmx1cixmZUltYWdlLGZlTWVyZ2UsZmVNZXJnZU5vZGUsZmVNb3JwaG9sb2d5LGZlT2Zmc2V0LGZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLG1lc2gsbWVzaGdyYWRpZW50LG1lc2hwYXRjaCxtZXNocm93LG1ldGFkYXRhLG1wYXRoLHBhdGgscGF0dGVybixwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2UsdmlldyIpLGVvPXkoImFubm90YXRpb24sYW5ub3RhdGlvbi14bWwsbWFjdGlvbixtYWxpZ25ncm91cCxtYWxpZ25tYXJrLG1hdGgsbWVuY2xvc2UsbWVycm9yLG1mZW5jZWQsbWZyYWMsbWZyYWN0aW9uLG1nbHlwaCxtaSxtbGFiZWxlZHRyLG1sb25nZGl2LG1tdWx0aXNjcmlwdHMsbW4sbW8sbW92ZXIsbXBhZGRlZCxtcGhhbnRvbSxtcHJlc2NyaXB0cyxtcm9vdCxtcm93LG1zLG1zY2Fycmllcyxtc2NhcnJ5LG1zZ3JvdXAsbXNsaW5lLG1zcGFjZSxtc3FydCxtc3Jvdyxtc3RhY2ssbXN0eWxlLG1zdWIsbXN1YnN1cCxtc3VwLG10YWJsZSxtdGQsbXRleHQsbXRyLG11bmRlcixtdW5kZXJvdmVyLG5vbmUsc2VtYW50aWNzIiksZWE9eSgiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnIiKSxlYz15KCJpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHkiKTtmdW5jdGlvbiBldShlLHQpe2xldCBuLHI7aWYoZT09PXQpcmV0dXJuITA7bGV0IGk9IltvYmplY3QgRGF0ZV0iPT09KG49ZSxMLmNhbGwobikpcmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCwKc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LGFsPVsiV2Via2l0IiwibXMiLCJNb3oiLCJPIl07T2JqZWN0LmtleXMoZGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YWwuZm9yRWFjaChmdW5jdGlvbihiKXtiPWIrYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cmluZygxKTtkY1tiXT1kY1thXX0pfSk7dmFyIGpqPUUoe21lbnVpdGVtOiEwfSx7YXJlYTohMCxiYXNlOiEwLGJyOiEwLGNvbDohMCxlbWJlZDohMCxocjohMCxpbWc6ITAsaW5wdXQ6ITAsa2V5Z2VuOiEwLGxpbms6ITAsbWV0YTohMCxwYXJhbTohMCxzb3VyY2U6ITAsdHJhY2s6ITAsd2JyOiEwfSksemU9bnVsbCxzZT1udWxsLEViPW51bGwsRmI9bnVsbCx4Zz1mdW5jdGlvbihhLGIpe3JldHVybiBhKGIpfSx5Zz1mdW5jdGlvbigpe30sdGU9ITEsT2U9ITE7aWYoSWEpdHJ5e3ZhciBMYz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTGMsCiJwYXNzaXZlIix7Z2V0OmZ1bmN0aW9uKCl7T2U9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLExjLExjKTt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsTGMsTGMpfWNhdGNoKGEpe09lPSExfXZhciBsaj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7dmFyIG09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpO3RyeXtiLmFwcGx5KGMsbSl9Y2F0Y2godCl7dGhpcy5vbkVycm9yKHQpfX0sZ2M9ITEsU2M9bnVsbCxUYz0hMSx1ZT1udWxsLG1qPXtvbkVycm9yOmZ1bmN0aW9uKGEpe2djPSEwO1NjPWF9fSxCYT1tYi5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5TY2hlZHVsZXIsSmc9QmEudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxLZz1CYS51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSx4aD1KZyxMaT1CYS51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayxRaz1CYS51bnN0YWJsZV9zaG91bGRZaWVsZCwKVGs9QmEudW5zdGFibGVfcmVxdWVzdFBhaW50LFA9QmEudW5zdGFibGVfbm93LEVqPUJhLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsLERlPUJhLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5LE1nPUJhLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LGFkPUtnLEZqPUJhLnVuc3RhYmxlX0xvd1ByaW9yaXR5LE5nPUJhLnVuc3RhYmxlX0lkbGVQcmlvcml0eSxVYz1udWxsLENhPW51bGwsdGE9TWF0aC5jbHozMj9NYXRoLmNsejMyOnFqLHJqPU1hdGgubG9nLHNqPU1hdGguTE4yLFdjPTY0LFJkPTQxOTQzMDQsej0wLEFlPSExLFljPVtdLFZhPW51bGwsV2E9bnVsbCxYYT1udWxsLGpjPW5ldyBNYXAsa2M9bmV3IE1hcCxZYT1bXSxDaj0ibW91c2Vkb3duIG1vdXNldXAgdG91Y2hjYW5jZWwgdG91Y2hlbmQgdG91Y2hzdGFydCBhdXhjbGljayBkYmxjbGljayBwb2ludGVyY2FuY2Vsb25TdGFydCJpbiBhKXZhciBjPXtzdGFydDphLnNlbGVjdGlvblN0YXJ0LGVuZDphLnNlbGVjdGlvbkVuZH07ZWxzZSBhOntjPShjPWEub3duZXJEb2N1bWVudCkmJmMuZGVmYXVsdFZpZXd8fHdpbmRvdzt2YXIgZD1jLmdldFNlbGVjdGlvbiYmYy5nZXRTZWxlY3Rpb24oKTsKaWYoZCYmMCE9PWQucmFuZ2VDb3VudCl7Yz1kLmFuY2hvck5vZGU7dmFyIGU9ZC5hbmNob3JPZmZzZXQsZj1kLmZvY3VzTm9kZTtkPWQuZm9jdXNPZmZzZXQ7dHJ5e2Mubm9kZVR5cGUsZi5ub2RlVHlwZX1jYXRjaChNKXtjPW51bGw7YnJlYWsgYX12YXIgZz0wLGg9LTEsaz0tMSxtPTAsdD0wLHU9YSxyPW51bGw7Yjpmb3IoOzspe2Zvcih2YXIgcDs7KXt1IT09Y3x8MCE9PWUmJjMhPT11Lm5vZGVUeXBlfHwoaD1nK2UpO3UhPT1mfHwwIT09ZCYmMyE9PXUubm9kZVR5cGV8fChrPWcrZCk7Mz09PXUubm9kZVR5cGUmJihnKz11Lm5vZGVWYWx1ZS5sZW5ndGgpO2lmKG51bGw9PT0ocD11LmZpcnN0Q2hpbGQpKWJyZWFrO3I9dTt1PXB9Zm9yKDs7KXtpZih1PT09YSlicmVhayBiO3I9PT1jJiYrK209PT1lJiYoaD1nKTtyPT09ZiYmKyt0PT09ZCYmKGs9Zyk7aWYobnVsbCE9PShwPXUubmV4dFNpYmxpbmcpKWJyZWFrO3U9cjtyPXUucGFyZW50Tm9kZX11PXB9Yz0tMT09PWh8fC0xPT09az9udWxsOgp7c3RhcnQ6aCxlbmQ6a319ZWxzZSBjPW51bGx9Yz1jfHx7c3RhcnQ6MCxlbmQ6MH19ZWxzZSBjPW51bGw7S2Y9e2ZvY3VzZWRFbGVtOmEsc2VsZWN0aW9uUmFuZ2U6Y307WmM9ITE7Zm9yKGw9YjtudWxsIT09bDspaWYoYj1sLGE9Yi5jaGlsZCwwIT09KGIuc3VidHJlZUZsYWdzJjEwMjgpJiZudWxsIT09YSlhLnJldHVybj1iLGw9YTtlbHNlIGZvcig7bnVsbCE9PWw7KXtiPWw7dHJ5e3ZhciB4PWIuYWx0ZXJuYXRlO2lmKDAhPT0oYi5mbGFncyYxMDI0KSlzd2l0Y2goYi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6YnJlYWs7Y2FzZSAxOmlmKG51bGwhPT14KXt2YXIgdz14Lm1lbW9pemVkUHJvcHMsej14Lm1lbW9pemVkU3RhdGUsQT1iLnN0YXRlTm9kZSx2PUEuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoYi5lbGVtZW50VHlwZT09PWIudHlwZT93OnhhKGIudHlwZSx3KSx6KTtBLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlPXZ9YnJlYWs7Y2FzZSAzOnZhciBxPQpiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOzE9PT1xLm5vZGVUeXBlP3EudGV4dENvbnRlbnQ9IiI6OT09PXEubm9kZVR5cGUmJnEuZG9jdW1lbnRFbGVtZW50JiZxLnJlbW92ZUNoaWxkKHEuZG9jdW1lbnRFbGVtZW50KTticmVhaztjYXNlIDU6Y2FzZSA2OmNhc2UgNDpjYXNlIDE3OmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IobigxNjMpKTt9fWNhdGNoKE0pe0goYixiLnJldHVybixNKX1hPWIuc2libGluZztpZihudWxsIT09YSl7YS5yZXR1cm49Yi5yZXR1cm47bD1hO2JyZWFrfWw9Yi5yZXR1cm59eD1BaTtBaT0hMTtyZXR1cm4geH1mdW5jdGlvbiBHYyhhLGIsYyl7dmFyIGQ9Yi51cGRhdGVRdWV1ZTtkPW51bGwhPT1kP2QubGFzdEVmZmVjdDpudWxsO2lmKG51bGwhPT1kKXt2YXIgZT1kPWQubmV4dDtkb3tpZigoZS50YWcmYSk9PT1hKXt2YXIgZj1lLmRlc3Ryb3k7ZS5kZXN0cm95PXZvaWQgMDt2b2lkIDAhPT1mJiZJZihiLGMsZil9ZT1lLm5leHR9d2hpbGUoZSE9PWQpICAqIFNob3VsZCB3ZSByZWFkIHRoZSB1c2VyLXByb3ZpZGVkIGN1c3RvbSBiYWJlbCBjb25maWc/IFVzZWQgaW4gYm90aCBgdHJhbnNmb3JtTW9kZWBzLgogICAqLwogIGNvbmZpZ0ZpbGU/OiBzdHJpbmcKCiAgLyoqCiAgICogQ3VzdG9tIHBsdWdpbnMgdG8gYmUgYWRkZWQgdG8gdGhlIGdlbmVyYXRlZCBiYWJlbCBvcHRpb25zLgogICAqLwogIHJlYWN0Q29tcGlsZXJQbHVnaW5zPzogQXJyYXk8SlNPTlZhbHVlPgoKICAvKioKICAgKiBQYXRocyB0aGF0IHRoZSBsb2FkZXIgc2hvdWxkIG5vdCBhcHBseSB0aGUgcmVhY3QtY29tcGlsZXIgdG8uCiAgICovCiAgcmVhY3RDb21waWxlckV4Y2x1ZGU/OiAoZXhjbHVkZVBhdGg6IHN0cmluZykgPT4gYm9vbGVhbgoKICBvdmVycmlkZXM/OiBhbnkKCiAgLyoqCiAgICogRXh0cmEgZmllbGRzIHRvIHBhc3MgdG8gcHJlc2V0cy9wbHVnaW5zIHZpYSB0aGUgQmFiZWwgJ2NhbGxlcicgQVBJLgogICAqLwogIGNhbGxlcj86IGFueQoKICAvKioKICAgKiBBZHZhbmNlZDogQ2FuIG92ZXJyaWRlIHdlYnBhY2sncyBzb3VyY2VtYXAgYmVoYXZpb3IgKHNlZSBgTmV4dEpzTG9hZGVyQ29udGV4dFsic291cmNlTWFwIl1gKS4KICAgKi8KICBzb3VyY2VNYXBzPzogYm9vbGVhbiB8ICdpbmxpbmUnIHwgJ2JvdGgnIHwgbnVsbCB8IHVuZGVmaW5lZAp9CgovKioKICogT3B0aW9ucyB0byBjcmVhdGUgYmFiZWwgbG9hZGVyIGZvciB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMuCiAqCiAqIFRoaXMgaXMgcHJpbWFyeSB1c2VjYXNlIG9mIGJhYmVsLWxvYWRlciBjb25maWd1cmF0aW9uIGZvciBydW5uaW5nCiAqIGFsbCBvZiB0aGUgbmVjZXNzYXJ5IHRyYW5zZm9ybXMgZm9yIHRoZSBlY21hc2NyaXB0IGluc3RlYWQgb2Ygc3djIGxvYWRlci4KICovCmV4cG9ydCB0eXBlIE5leHRCYWJlbExvYWRlck9wdGlvbkRlZmF1bHRQcmVzZXRzID0gTmV4dEJhYmVsTG9hZGVyQmFzZU9wdGlvbnMgJiB7CiAgdHJhbnNmb3JtTW9kZTogJ2RlZmF1bHQnCgogIGlzU2VydmVyOiBib29sZWFuCiAgZGlzdERpcjogc3RyaW5nCiAgcGFnZXNEaXI6IHN0cmluZyB8IHVuZGVmaW5lZAogIHNyY0Rpcjogc3RyaW5nCiAgZGV2ZWxvcG1lbnQ6IGJvb2xlYW4KICBoYXNKc3hSdW50aW1lOiBib29sZWFuCiAgaGFzUmVhY3RSZWZyZXNoOiBib29sZWFuCn0KCi8qKgogKiBPcHRpb25zIHRvIGNyZWF0ZSBiYWJlbCBsb2FkZXIgZm9yICdzdGFuZGFsb25lJyB0cmFuc2Zvcm1hdGlvbnMuCiAqCiAqIFRoaXMnbGwgY3JlYXRlIGEgYmFiZWwgbG9hZGVyIGRvZXMgbm90IGVuYWJsZSBhbnkgb2YgdGhlIGRlZmF1bHQgTmV4dC5qcwogKiBwcmVzZXRzIG9yIHBsdWdpbnMgdGhhdCBwZXJmb3JtIHRyYW5zZm9ybWF0aW9ucy4gTm9uLXRyYW5zZm9ybWluZyBzeW50YXgKICogcGx1Z2lucyAoZS5nLiBUeXBlc2NyaXB0KSB3aWxsIHN0aWxsIGJlIGVuYWJsZWQuCiAqCiAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gQmFiZWwgaXMgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIFNXQywgYW5kIHdlIGV4cGVjdCBTV0MKICogdG8gcGVyZm9ybSBkb3dubGV2ZWxpbmcgYW5kIE5leHQuanMtc3BlY2lmaWMgdHJhbnNmb3Jtcy4gU3RhbmRhbG9uZSBtb2RlIGlzCiAqIHVzZWQgaW4gVHVyYm9wYWNrIGFuZCB3aGVuIFJlYWN0IENvbXBpbGVyIGlzIHVzZWQgd2l0Lmxlbmd0aCs9ZGF0YS5sZW5ndGg7dGhpcy5yb3VuZENsZWFuKCk7cmV0dXJuIHRoaXN9ZGlnZXN0SW50byhvdXQpe2V4aXN0cyh0aGlzKTtvdXRwdXQob3V0LHRoaXMpO3RoaXMuZmluaXNoZWQ9dHJ1ZTtjb25zdHtidWZmZXIsdmlldyxibG9ja0xlbixpc0xFfT10aGlzO2xldHtwb3N9PXRoaXM7YnVmZmVyW3BvcysrXT0xMjg7dGhpcy5idWZmZXIuc3ViYXJyYXkocG9zKS5maWxsKDApO2lmKHRoaXMucGFkT2Zmc2V0PmJsb2NrTGVuLXBvcyl7dGhpcy5wcm9jZXNzKHZpZXcsMCk7cG9zPTB9Zm9yKGxldCBpPXBvcztpPGJsb2NrTGVuO2krKylidWZmZXJbaV09MDtzZXRCaWdVaW50NjQodmlldyxibG9ja0xlbi04LEJpZ0ludCh0aGlzLmxlbmd0aCo4KSxpc0xFKTt0aGlzLnByb2Nlc3ModmlldywwKTtjb25zdCBvdmlldz1jcmVhdGVWaWV3KG91dCk7Y29uc3QgbGVuPXRoaXMub3V0cHV0TGVuO2lmKGxlbiU0KXRocm93IG5ldyBFcnJvcigiX3NoYTI6IG91dHB1dExlbiBzaG91bGQgYmUgYWxpZ25lZCB0byAzMmJpdCIpO2NvbnN0IG91dExlbj1sZW4vNDtjb25zdCBzdGF0ZT10aGlzLmdldCgpO2lmKG91dExlbj5zdGF0ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJfc2hhMjogb3V0cHV0TGVuIGJpZ2dlciB0aGFuIHN0YXRlIik7Zm9yKGxldCBpPTA7aTxvdXRMZW47aSsrKW92aWV3LnNldFVpbnQzMig0Kmksc3RhdGVbaV0saXNMRSl9ZGlnZXN0KCl7Y29uc3R7YnVmZmVyLG91dHB1dExlbn09dGhpczt0aGlzLmRpZ2VzdEludG8oYnVmZmVyKTtjb25zdCByZXM9YnVmZmVyLnNsaWNlKDAsb3V0cHV0TGVuKTt0aGlzLmRlc3Ryb3koKTtyZXR1cm4gcmVzfV9jbG9uZUludG8odG8pe3RvfHwodG89bmV3IHRoaXMuY29uc3RydWN0b3IpO3RvLnNldCguLi50aGlzLmdldCgpKTtjb25zdHtibG9ja0xlbixidWZmZXIsbGVuZ3RoLGZpbmlzaGVkLGRlc3Ryb3llZCxwb3N9PXRoaXM7dG8ubGVuZ3RoPWxlbmd0aDt0by5wb3M9cG9zO3RvLmZpbmlzaGVkPWZpbmlzaGVkO3RvLmRlc3Ryb3llZD1kZXN0cm95ZWQ7aWYobGVuZ3RoJWJsb2NrTGVuKXRvLmJ1ZmZlci5zZXQoYnVmZmVyKTtyZXR1cm4gdG99fWNvbnN0IENoaT0oYSxiLGMpPT5hJmJefmEmYztjb25zdCBNYWo9KGEsYixjKT0+YSZiXmEmY15iJmM7Y29uc3QgU0hBMjU2X0s9bmV3IFVpbnQzMkFycmF5KFsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5YWxUaGlzOnR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIj93aW5kb3c6dHlwZW9mIGdsb2JhbCE9PSJ1bmRlZmluZWQiP2dsb2JhbDp0eXBlb2Ygc2VsZiE9PSJ1bmRlZmluZWQiP3NlbGY6e307KGZ1bmN0aW9uKGdsb2JhbCxmYWN0b3J5KXt0eXBlb2YgZXhwb3J0cz09PSJvYmplY3QiJiZ0eXBlb2YgbW9kdWxlIT09InVuZGVmaW5lZCI/ZmFjdG9yeShleHBvcnRzKTp0eXBlb2YgZGVmaW5lPT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sZmFjdG9yeSk6KGdsb2JhbD10eXBlb2YgZ2xvYmFsVGhpcyE9PSJ1bmRlZmluZWQiP2dsb2JhbFRoaXM6Z2xvYmFsfHxzZWxmLGZhY3RvcnkoZ2xvYmFsLmV0aGVycz17fSkpfSkodGhpcyxmdW5jdGlvbihleHBvcnRzKXsidXNlIHN0cmljdCI7Y29uc3QgdmVyc2lvbj0iNi4xNi4wIjtmdW5jdGlvbiBjaGVja1R5cGUodmFsdWUsdHlwZSxuYW1lKXtjb25zdCB0eXBlcz10eXBlLnNwbGl0KCJ8IikubWFwKHQ9PnQudHJpbSgpKTtmb3IobGV0IGk9MDtpPHR5cGVzLmxlbmd0aDtpKyspe3N3aXRjaCh0eXBlKXtjYXNlImFueSI6cmV0dXJuO2Nhc2UiYmlnaW50IjpjYXNlImJvb2xlYW4iOmNhc2UibnVtYmVyIjpjYXNlInN0cmluZyI6aWYodHlwZW9mIHZhbHVlPT09dHlwZSl7cmV0dXJufX19Y29uc3QgZXJyb3I9bmV3IEVycm9yKGBpbnZhbGlkIHZhbHVlIGZvciB0eXBlICR7dHlwZX1gKTtlcnJvci5jb2RlPSJJTlZBTElEX0FSR1VNRU5UIjtlcnJvci5hcmd1bWVudD1gdmFsdWUuJHtuYW1lfWA7ZXJyb3IudmFsdWU9dmFsdWU7dGhyb3cgZXJyb3J9YXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVByb3BlcnRpZXModmFsdWUpe2NvbnN0IGtleXM9T2JqZWN0LmtleXModmFsdWUpO2NvbnN0IHJlc3VsdHM9YXdhaXQgUHJvbWlzZS5hbGwoa2V5cy5tYXAoaz0+UHJvbWlzZS5yZXNvbHZlKHZhbHVlW2tdKSkpO3JldHVybiByZXN1bHRzLnJlZHVjZSgoYWNjdW0sdixpbmRleCk9PnthY2N1bVtrZXlzW2luZGV4XV09djtyZXR1cm4gYWNjdW19LHt9KX1mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCx2YWx1ZXMsdHlwZXMpe2ZvcihsZXQga2V5IGluIHZhbHVlcyl7bGV0IHZhbHVlPXZhbHVlc1trZXldO2NvbnN0IHR5cGU9dHlwZXM/dHlwZXNba2V5XTpudWxsO2lmKHR5cGUpe2NoZWNrVHlwZSh2YWx1ZSx0eXBlLGtleSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxrZXkse2VudW1lcmFibGU6dHJ1ZSx2YWx1ZTp2YWx1ZSx3cml0YWJsZTpmYWxzZX0pfX1mdW5jdGlvbiBzdHJpbmdpZnkkMSh2YWx1ZSxzZWVuKXtpZih2YWx1ZT09bnVsbCl7cmV0dXJuIm51bGwifWlmKHNlZW49PW51bGwpe3NlZW49bmV3IFNldH1pZih0eXBlb2YgdmFsdWU9PT0ib2JqZWN0Iil7aWYoc2Vlbi5oYXModmFsdWUpKXtyZXR1cm4iW0NpcmN1bGFyXSJ9c2Vlbi5hZGQodmFsdWUpfWlmKEFycmF5LmlzQXJyYXkodmFsdWUpKXtyZXR1cm4iWyAiK3ZhbHVlLm1hcCh2PT5zdHJpbmdpZnkkMSh2LHNlZW4pKS5qb2luKCIsICIpKyIgXSJ9aWYodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtjb25zdCBIRVg9IjAxMjM0NTY3ODlhYmNkZWYiO2xldCByZXN1bHQ9IjB4Ijtmb3IobGV0IGk9MDtpPHZhbHVlLmxlbmd0aDtpKyspe3Jlc3VsdCs9SEVYW3ZhbHVlW2ldPj40XTtyZXN1bHQrdCs9ZS5uc3ArIiwiKSxudWxsIT1lLmlkJiYodCs9ZS5pZCksbnVsbCE9ZS5kYXRhJiYodCs9SlNPTi5zdHJpbmdpZnkoZS5kYXRhLHRoaXMucmVwbGFjZXIpKSx0fWVuY29kZUFzQmluYXJ5KGUpe2NvbnN0IHQ9S3QoZSksbj10aGlzLmVuY29kZUFzU3RyaW5nKHQucGFja2V0KSxyPXQuYnVmZmVycztyZXR1cm4gci51bnNoaWZ0KG4pLHJ9fSxnZXQgUGFja2V0VHlwZSgpe3JldHVybiBRdH0scHJvdG9jb2w6NX0pO2Z1bmN0aW9uIHRuKGUsdCxuKXtyZXR1cm4gZS5vbih0LG4pLGZ1bmN0aW9uKCl7ZS5vZmYodCxuKX19Y29uc3Qgbm49T2JqZWN0LmZyZWV6ZSh7Y29ubmVjdDoxLGNvbm5lY3RfZXJyb3I6MSxkaXNjb25uZWN0OjEsZGlzY29ubmVjdGluZzoxLG5ld0xpc3RlbmVyOjEscmVtb3ZlTGlzdGVuZXI6MX0pO2NsYXNzIHJuIGV4dGVuZHMgYWV7Y29uc3RydWN0b3IoZSx0LG4pe3N1cGVyKCksdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5yZWNvdmVyZWQ9ITEsdGhpcy5yZWNlaXZlQnVmZmVyPVtdLHRoaXMuc2VuZEJ1ZmZlcj1bXSx0aGlzLl9xdWV1ZT1bXSx0aGlzLl9xdWV1ZVNlcT0wLHRoaXMuaWRzPTAsdGhpcy5hY2tzPXt9LHRoaXMuZmxhZ3M9e30sdGhpcy5pbz1lLHRoaXMubnNwPXQsbiYmbi5hdXRoJiYodGhpcy5hdXRoPW4uYXV0aCksdGhpcy5fb3B0cz1PYmplY3QuYXNzaWduKHt9LG4pLHRoaXMuaW8uX2F1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKX1nZXQgZGlzY29ubmVjdGVkKCl7cmV0dXJuIXRoaXMuY29ubmVjdGVkfXN1YkV2ZW50cygpe2lmKHRoaXMuc3VicylyZXR1cm47Y29uc3QgZT10aGlzLmlvO3RoaXMuc3Vicz1bdG4oZSwib3BlbiIsdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksdG4oZSwicGFja2V0Iix0aGlzLm9ucGFja2V0LmJpbmQodGhpcykpLHRuKGUsImVycm9yIix0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksdG4oZSwiY2xvc2UiLHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKV19Z2V0IGFjdGl2ZSgpe3JldHVybiEhdGhpcy5zdWJzfWNvbm5lY3QoKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWR8fCh0aGlzLnN1YkV2ZW50cygpLHRoaXMuaW8uX3JlY29ubmVjdGluZ3x8dGhpcy5pby5vcGVuKCksIm9wZW4iPT09dGhpcy5pby5fcmVhZHlTdGF0ZSYmdGhpcy5vbm9wZW4oKSksdGhpc31vcGVuKCl7cmV0dXJuIHRoaXMuY29ubmVjdCgpfXNlbmQoLi4uZSl7cmV0dXJuIGUudW5zaGlmdCgibWVzc2FnZSIpLHRoaXMuZW1pdC5hcHBseSh0aGlzLGUpLHRoaXN9ZW1pdChlLC4uLnQpe2lmKG5uLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcignIicrZS50b1N0cmluZygpKyciIGlzIGEgcmVzZXJ2ZWQgZXZlbnQgbmFtZScpO2lmKHQudW5zaGlmdChlKSx0aGlzLl9vcHRzLnJldHJpZXMmJiF0aGlzLmZsYWdzLmZyb21RdWV1ZSYmIXRoaXMuZmxhZ3Mudm9sYXRpbGUpcmV0dXJuIHRoaXMuX2FkZFRvUXVldWUodCksdGhpcztjb25zdCBuPXt0eXBlOlF0LkVWRU5ULGRhdGE6dCxvcHRpb25zOnt9fTtpZihuLm9wdGlvbnMuY29tcHJlc3M9ITEhPT10aGlzLmZsYWdzLmNvbXByZXNzLCJmdW5jdGlvbiI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdKXtjb25zdCBlPXRoaXMuaWRzKysscj10LnBvcCgpO3RoaXMuX3JlZ2lzdGVyQWNrQ2FsbGJhY2soZSxyKSxuLmlkPWV9Y29uc3Qgcj10aGlzLmlvLmVuZ2luZSYmdGhpb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3QgaT10ZShuW2VdLHQpO2lmKHIucHVzaChpKSwiZXJyb3IiPT09aS50eXBlKWJyZWFrfXJldHVybiByfSkoZSx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKS5mb3JFYWNoKChlPT57aWYoIm9wZW5pbmciPT09dGhpcy5yZWFkeVN0YXRlJiYib3BlbiI9PT1lLnR5cGUmJnRoaXMub25PcGVuKCksImNsb3NlIj09PWUudHlwZSlyZXR1cm4gdGhpcy5vbkNsb3NlKHtkZXNjcmlwdGlvbjoidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyIn0pLCExO3RoaXMub25QYWNrZXQoZSl9KSksImNsb3NlZCIhPT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLnBvbGxpbmc9ITEsdGhpcy5lbWl0UmVzZXJ2ZWQoInBvbGxDb21wbGV0ZSIpLCJvcGVuIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5wb2xsKCkpfWRvQ2xvc2UoKXtjb25zdCBlPSgpPT57dGhpcy53cml0ZShbe3R5cGU6ImNsb3NlIn1dKX07Im9wZW4iPT09dGhpcy5yZWFkeVN0YXRlP2UoKTp0aGlzLm9uY2UoIm9wZW4iLGUpfXdyaXRlKGUpe3RoaXMud3JpdGFibGU9ITEsKChlLHQpPT57Y29uc3Qgbj1lLmxlbmd0aCxyPW5ldyBBcnJheShuKTtsZXQgaT0wO2UuZm9yRWFjaCgoKGUsbyk9PnskKGUsITEsKGU9PntyW29dPWUsKytpPT09biYmdChyLmpvaW4oaWUpKX0pKX0pKX0pKGUsKGU9Pnt0aGlzLmRvV3JpdGUoZSwoKCk9Pnt0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdFJlc2VydmVkKCJkcmFpbiIpfSkpfSkpfXVyaSgpe2NvbnN0IGU9dGhpcy5vcHRzLnNlY3VyZT8iaHR0cHMiOiJodHRwIix0PXRoaXMucXVlcnl8fHt9O3JldHVybiExIT09dGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dPUFlKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fHQuc2lkfHwodC5iNjQ9MSksdGhpcy5jcmVhdGVVcmkoZSx0KX1yZXF1ZXN0KGU9e30pe3JldHVybiBPYmplY3QuYXNzaWduKGUse3hkOnRoaXMueGQsY29va2llSmFyOnRoaXMuY29va2llSmFyfSx0aGlzLm9wdHMpLG5ldyBDZSh0aGlzLnVyaSgpLGUpfWRvV3JpdGUoZSx0KXtjb25zdCBuPXRoaXMucmVxdWVzdCh7bWV0aG9kOiJQT1NUIixkYXRhOmV9KTtuLm9uKCJzdWNjZXNzIix0KSxuLm9uKCJlcnJvciIsKChlLHQpPT57dGhpcy5vbkVycm9yKCJ4aHIgcG9zdCBlcnJvciIsZSx0KX0pKX1kb1BvbGwoKXtjb25zdCBlPXRoaXMucmVxdWVzdCgpO2Uub24oImRhdGEiLHRoaXMub25EYXRhLmJpbmQodGhpcykpLGUub24oImVycm9yIiwoKGUsdCk9Pnt0aGlzLm9uRXJyb3IoInhociBwb2xsIGVycm9yIixlLHQpfSkpLHRoaXMucG9sbFhocj1lfX19LEl0PS9eKD86KD8hW146QFwvPyNdKzpbXjpAXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcL1wvKT8oKD86KChbXjpAXC8/I10qKSg/OjooW146QFwvPyNdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLE50PVsic291cmNlIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJ1c2VySW5mbyIsInVzZXIiLCJwYXNzd29yZCIsImhvc3QiLCJwb3J0IiwicmVsYXRpe3ZhciB0PWUudG9VcHBlckNhc2UoKTtyZXR1cm4geS5pbmRleE9mKHQpPi0xP3Q6ZX0odC5tZXRob2R8fHRoaXMubWV0aG9kfHwiR0VUIiksdGhpcy5tb2RlPXQubW9kZXx8dGhpcy5tb2RlfHxudWxsLHRoaXMuc2lnbmFsPXQuc2lnbmFsfHx0aGlzLnNpZ25hbCx0aGlzLnJlZmVycmVyPW51bGwsKCJHRVQiPT09dGhpcy5tZXRob2R8fCJIRUFEIj09PXRoaXMubWV0aG9kKSYmbil0aHJvdyBuZXcgVHlwZUVycm9yKCJCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cyIpO3RoaXMuX2luaXRCb2R5KG4pfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9bmV3IEZvcm1EYXRhO3JldHVybiBlLnRyaW0oKS5zcGxpdCgiJiIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPWUuc3BsaXQoIj0iKSxyPW4uc2hpZnQoKS5yZXBsYWNlKC9cKy9nLCIgIiksaT1uLmpvaW4oIj0iKS5yZXBsYWNlKC9cKy9nLCIgIik7dC5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KHIpLGRlY29kZVVSSUNvbXBvbmVudChpKSl9fSkpLHR9ZnVuY3Rpb24gQShlLHQpe3R8fCh0PXt9KSx0aGlzLnR5cGU9ImRlZmF1bHQiLHRoaXMuc3RhdHVzPXZvaWQgMD09PXQuc3RhdHVzPzIwMDp0LnN0YXR1cyx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMCx0aGlzLnN0YXR1c1RleHQ9InN0YXR1c1RleHQiaW4gdD90LnN0YXR1c1RleHQ6Ik9LIix0aGlzLmhlYWRlcnM9bmV3IGYodC5oZWFkZXJzKSx0aGlzLnVybD10LnVybHx8IiIsdGhpcy5faW5pdEJvZHkoZSl9Yi5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGIodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfSx2LmNhbGwoYi5wcm90b3R5cGUpLHYuY2FsbChBLnByb3RvdHlwZSksQS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEEodGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBmKHRoaXMuaGVhZGVycyksdXJsOnRoaXMudXJsfSl9LEEuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgQShudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OiIifSk7cmV0dXJuIGUudHlwZT0iZXJyb3IiLGV9O3ZhciBfPVszMDEsMzAyLDMwMywzMDcsMzA4XTtBLnJlZGlyZWN0PWZ1bmN0aW9uKGUsdCl7aWYoLTE9PT1fLmluZGV4T2YodCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgc3RhdHVzIGNvZGUiKTtyZXR1cm4gbmV3IEEobnVsbCx7c3RhdHVzOnQsaGVhZGVyczp7bG9jYXRpb246ZX19KX0sdC5ET01FeGNlcHRpb249ZS5ET01FeGNlcHRpb247dHJ5e25ldyB0LkRPTUV4Y2VwdGlvbn1jYXRjaChlKXt0LkRPTUV4Y2VwdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMubWVzc2FnZT1lLHRoaXMubmFtZT10O3ZhciBuPUVycm9yKGUpO3RoaXMuc3RhY2s9bi5zdGFja30sdC5ET01FeGNlcHRpb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx0LkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9dC5ET01FeGNlcHRpb259ZnVuY3Rpb24gRShlLG4pe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixvKXt2YXIgYT1uZXcgYihlLG4pO2lmKGEuc2lnbmFsJiZhLnNpZ25hbC5hYm9ydGVkKXJldHVybiBvKG5ldyB0U3RhdGVtZW50OiAoKSA9PiBpc1dpdGhTdGF0ZW1lbnQsCiAgaXNXcml0ZUFjY2VzczogKCkgPT4gaXNXcml0ZUFjY2VzcywKICBpc1dyaXRlT25seUFjY2VzczogKCkgPT4gaXNXcml0ZU9ubHlBY2Nlc3MsCiAgaXNZaWVsZEV4cHJlc3Npb246ICgpID0+IGlzWWllbGRFeHByZXNzaW9uLAogIGpzeE1vZGVOZWVkc0V4cGxpY2l0SW1wb3J0OiAoKSA9PiBqc3hNb2RlTmVlZHNFeHBsaWNpdEltcG9ydCwKICBrZXl3b3JkUGFydDogKCkgPT4ga2V5d29yZFBhcnQsCiAgbGFzdDogKCkgPT4gbGFzdCwKICBsYXN0T3JVbmRlZmluZWQ6ICgpID0+IGxhc3RPclVuZGVmaW5lZCwKICBsZW5ndGg6ICgpID0+IGxlbmd0aCwKICBsaWJNYXA6ICgpID0+IGxpYk1hcCwKICBsaWJzOiAoKSA9PiBsaWJzLAogIGxpbmVCcmVha1BhcnQ6ICgpID0+IGxpbmVCcmVha1BhcnQsCiAgbG9hZE1vZHVsZUZyb21HbG9iYWxDYWNoZTogKCkgPT4gbG9hZE1vZHVsZUZyb21HbG9iYWxDYWNoZSwKICBsb2FkV2l0aE1vZGVBd2FyZUNhY2hlOiAoKSA9PiBsb2FkV2l0aE1vZGVBd2FyZUNhY2hlLAogIG1ha2VJZGVudGlmaWVyRnJvbU1vZHVsZU5hbWU6ICgpID0+IG1ha2VJZGVudGlmaWVyRnJvbU1vZHVsZU5hbWUsCiAgbWFrZUltcG9ydDogKCkgPT4gbWFrZUltcG9ydCwKICBtYWtlU3RyaW5nTGl0ZXJhbDogKCkgPT4gbWFrZVN0cmluZ0xpdGVyYWwsCiAgbWFuZ2xlU2NvcGVkUGFja2FnZU5hbWU6ICgpID0+IG1hbmdsZVNjb3BlZFBhY2thZ2VOYW1lLAogIG1hcDogKCkgPT4gbWFwLAogIG1hcEFsbE9yRmFpbDogKCkgPT4gbWFwQWxsT3JGYWlsLAogIG1hcERlZmluZWQ6ICgpID0+IG1hcERlZmluZWQsCiAgbWFwRGVmaW5lZEl0ZXJhdG9yOiAoKSA9PiBtYXBEZWZpbmVkSXRlcmF0b3IsCiAgbWFwRW50cmllczogKCkgPT4gbWFwRW50cmllcywKICBtYXBJdGVyYXRvcjogKCkgPT4gbWFwSXRlcmF0b3IsCiAgbWFwT25lT3JNYW55OiAoKSA9PiBtYXBPbmVPck1hbnksCiAgbWFwVG9EaXNwbGF5UGFydHM6ICgpID0+IG1hcFRvRGlzcGxheVBhcnRzLAogIG1hdGNoRmlsZXM6ICgpID0+IG1hdGNoRmlsZXMsCiAgbWF0Y2hQYXR0ZXJuT3JFeGFjdDogKCkgPT4gbWF0Y2hQYXR0ZXJuT3JFeGFjdCwKICBtYXRjaGVkVGV4dDogKCkgPT4gbWF0Y2hlZFRleHQsCiAgbWF0Y2hlc0V4Y2x1ZGU6ICgpID0+IG1hdGNoZXNFeGNsdWRlLAogIG1hdGNoZXNFeGNsdWRlV29ya2VyOiAoKSA9PiBtYXRjaGVzRXhjbHVkZVdvcmtlciwKICBtYXhCeTogKCkgPT4gbWF4QnksCiAgbWF5YmVCaW5kOiAoKSA9PiBtYXliZUJpbmQsCiAgbWF5YmVTZXRMb2NhbGl6ZWREaWFnbm9zdGljTWVzc2FnZXM6ICgpID0+IG1heWJlU2V0TG9jYWxpemVkRGlhZ25vc3RpY01lc3NhZ2VzLAogIG1lbW9pemU6ICgpID0+IG1lbW9pemUsCiAgbWVtb2l6ZU9uZTogKCkgPT4gbWVtb2l6ZU9uZSwKICBtaW46ICgpID0+IG1pbiwKICBtaW5BbmRNYXg6ICgpID0+IG1pbkFuZE1heCwKICBtaXNzaW5nRmlsZU1vZGlmaWVkVGltZTogKCkgPT4gbWlzc2luZ0ZpbGVNb2RpZmllZFRpbWUsCiAgbW9kaWZpZXJUb0ZsYWc6ICgpID0+IG1vZGlmaWVyVG9GbGFnLAogIG1vZGlmaWVyc1RvRmxhZ3M6ICgpID0+IG1vZGlmaWVyc1RvRmxhZ3MsCiAgbW9kdWxlRXhwb3J0TmFtZUlzRGVmYXVsdDogKCkgPT4gbW9kdWxlOwogICAgLyoqCiAgICAgKiBUaGUgZHVyYXRpb24uIFRoaXMgY2FuIGJlIHRoZSByZXN1bHQgZGlyZWN0bHkgZnJvbSB0aGUgcHJvcGVydHksIG9yIHRoZQogICAgICogZHVyYXRpb24gY2FsY3VsYXRlZCBmcm9tIHN0YXJ0IGRhdGUgYW5kIGVuZCBkYXRlLiBTZXR0aW5nIHRoZSBwcm9wZXJ0eQogICAgICogd2lsbCByZW1vdmUgdW5rbm93biBgZHRlbmRgIHByb3BlcnRpZXMuCiAgICAgKgogICAgICogQHR5cGUge0R1cmF0aW9ufQogICAgICogQG1lbWJlcm9mIEV2ZW50CiAgICAgKi8KICAgIHB1YmxpYyBkdXJhdGlvbjogRHVyYXRpb247CiAgICAvKioKICAgICAqIFRoZSBvcmdhbml6ZXIgdmFsdWUgYXMgYW4gdXJpLiBJbiBtb3N0IGNhc2VzIHRoaXMgaXMgYSBtYWlsdG86IHVyaSwKICAgICAqIGJ1dCBpdCBjYW4gYWxzbyBiZSBzb21ldGhpbmcgZWxzZSwgbGlrZSB1cm46dXVpZDouLi4KICAgICAqLwogICAgcHVibGljIG9yZ2FuaXplcjogc3RyaW5nOwogICAgLyoqIFRoZSBzZXF1ZW5jZSB2YWx1ZSBmb3IgdGhpcyBldmVudC4gVXNlZCBmb3Igc2NoZWR1bGluZyAqLwogICAgcHVibGljIHNlcXVlbmNlOiBudW1iZXI7CiAgICAvKiogVGhlIHJlY3VycmVuY2UgaWQgZm9yIHRoaXMgZXZlbnQgKi8KICAgIHB1YmxpYyByZWN1cnJlbmNlSWQ6IFRpbWU7CgogICAgcHVibGljIGNvbXBvbmVudDogQ29tcG9uZW50OwoKICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigKICAgICAgY29tcG9uZW50PzogQ29tcG9uZW50IHwgbnVsbCwKICAgICAgb3B0aW9ucz86IHsgc3RyaWN0RXhjZXB0aW9uczogYm9vbGVhbjsgZXhlcGN0aW9uczogQXJyYXk8Q29tcG9uZW50IHwgRXZlbnQ+IH0KICAgICk7CgogICAgcHVibGljIGlzUmVjdXJyaW5nKCk6IGJvb2xlYW47CiAgICBwdWJsaWMgaXRlcmF0b3Ioc3RhcnRUaW1lPzogVGltZSk6IFJlY3VyRXhwYW5zaW9uOwogICAgcHVibGljIGdldE9jY3VycmVuY2VEZXRhaWxzKG9jY3VycmVuY2U6IFRpbWUpOiBPY2N1cnJlbmNlRGV0YWlsczsKICAgIHB1YmxpYyBnZXRSZWN1cnJlbmNlVHlwZXMoKTogRnJlcXVlbmN5VmFsdWVzOwogIH0KCiAgLy8gaHR0cHM6Ly9tb3ppbGxhLWNvbW0uZ2l0aHViLmlvL2ljYWwuanMvYXBpL0lDQUwuRXZlbnQuaHRtbCMub2NjdXJyZW5jZURldGFpbHMKICBpbnRlcmZhY2UgT2NjdXJyZW5jZURldGFpbHMgewogICAgcmVjdXJyZW5jZUlkOiBUaW1lOwogICAgaXRlbTogRXZlbnQ7CiAgICBzdGFydERhdGU6IFRpbWU7CiAgICBlbmREYXRlOiBUaW1lOwogIH0KCiAgZXhwb3J0IGNsYXNzIFByb3BlcnR5IHsKICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7CiAgICBwdWJsaWMgdHlwZTogc3RyaW5nOwoKICAgIGNvbnN0cnVjdG9yKGpDYWw6IHVua25vd25bXSB8IHN0cmluZywgcGFyZW50PzogQ29tcG9uZW50KTsKCiAgICBwdWJsaWMgZ2V0Rmlyc3RWYWx1ZTxUID0gdW5rbm93bj4oKTogVDsKICAgIHB1YmxpYyBnZXRWYWx1ZXM8VCA9IHVua25vd24+KCk6IFRbXTsKCiAgICBwdWJsaWMgc2V0UGFyYW1ldGVyKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdKTogdm9pZDsKICAgIHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkOwogICAgcHVibGljIHNldFZhbHVlcyh2YWx1ZXM6IChzdHJpbmcgOltdLHNlbGVjdGlvbkJvcmRlckNvbG9yOiJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykiLHNlbGVjdGlvbkxpbmVXaWR0aDoxLHNlbGVjdGlvbkZ1bGx5Q29udGFpbmVkOiExLGhvdmVyQ3Vyc29yOiJtb3ZlIixtb3ZlQ3Vyc29yOiJtb3ZlIixkZWZhdWx0Q3Vyc29yOiJkZWZhdWx0IixmcmVlRHJhd2luZ0N1cnNvcjoiY3Jvc3NoYWlyIixub3RBbGxvd2VkQ3Vyc29yOiJub3QtYWxsb3dlZCIsY29udGFpbmVyQ2xhc3M6ImNhbnZhcy1jb250YWluZXIiLHBlclBpeGVsVGFyZ2V0RmluZDohMSx0YXJnZXRGaW5kVG9sZXJhbmNlOjAsc2tpcFRhcmdldEZpbmQ6ITEsaXNEcmF3aW5nTW9kZTohMSxwcmVzZXJ2ZU9iamVjdFN0YWNraW5nOiExLHNuYXBBbmdsZTowLHNuYXBUaHJlc2hvbGQ6bnVsbCxzdG9wQ29udGV4dE1lbnU6ITEsZmlyZVJpZ2h0Q2xpY2s6ITEsZmlyZU1pZGRsZUNsaWNrOiExLHRhcmdldHM6W10sZW5hYmxlUG9pbnRlckV2ZW50czohMSxfaG92ZXJlZFRhcmdldDpudWxsLF9ob3ZlcmVkVGFyZ2V0czpbXSxfaW5pdEludGVyYWN0aXZlOmZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudFRyYW5zZm9ybT1udWxsLHRoaXMuX2dyb3VwU2VsZWN0b3I9bnVsbCx0aGlzLl9pbml0V3JhcHBlckVsZW1lbnQoKSx0aGlzLl9jcmVhdGVVcHBlckNhbnZhcygpLHRoaXMuX2luaXRFdmVudExpc3RlbmVycygpLHRoaXMuX2luaXRSZXRpbmFTY2FsaW5nKCksdGhpcy5mcmVlRHJhd2luZ0JydXNoPWZhYnJpYy5QZW5jaWxCcnVzaCYmbmV3IGZhYnJpYy5QZW5jaWxCcnVzaCh0aGlzKSx0aGlzLmNhbGNPZmZzZXQoKX0sX2Nob29zZU9iamVjdHNUb1JlbmRlcjpmdW5jdGlvbigpe3ZhciB0LGUsaSxyPXRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpO2lmKDA8ci5sZW5ndGgmJiF0aGlzLnByZXNlcnZlT2JqZWN0U3RhY2tpbmcpe2U9W10saT1bXTtmb3IodmFyIG49MCxzPXRoaXMuX29iamVjdHMubGVuZ3RoO248cztuKyspdD10aGlzLl9vYmplY3RzW25dLC0xPT09ci5pbmRleE9mKHQpP2UucHVzaCh0KTppLnB1c2godCk7MTxyLmxlbmd0aCYmKHRoaXMuX2FjdGl2ZU9iamVjdC5fb2JqZWN0cz1pKSxlLnB1c2guYXBwbHkoZSxpKX1lbHNlIGU9dGhpcy5fb2JqZWN0cztyZXR1cm4gZX0scmVuZGVyQWxsOmZ1bmN0aW9uKCl7IXRoaXMuY29udGV4dFRvcERpcnR5fHx0aGlzLl9ncm91cFNlbGVjdG9yfHx0aGlzLmlzRHJhd2luZ01vZGV8fCh0aGlzLmNsZWFyQ29udGV4dCh0aGlzLmNvbnRleHRUb3ApLHRoaXMuY29udGV4dFRvcERpcnR5PSExKSx0aGlzLmhhc0xvc3RDb250ZXh0JiYodGhpcy5yZW5kZXJUb3BMYXllcih0aGlzLmNvbnRleHRUb3ApLHRoaXMuaGFzTG9zdENvbnRleHQ9ITEpO3ZhciB0PXRoaXMuY29udGV4dENvbnRhaW5lcjtyZXR1cm4gdGhpcy5yZW5kZXJDYW52YXModCx0aGlzLl9jaG9vc2VPYmplY3RzVG9SZW5kZXIoKSksdGhpc30scmVuZGVyVG9wTGF5ZXI6ZnVuY3Rpb24odCl7dC5zYXZlKCksdGhpcy5pc0RyYXdpbmdNb2RlJiZ0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcmJih0aGlzLmZyZWVEcmF3aW5nQnJ1c2gmJnRoaXMuZnJlZURyYXdpbmdCcnVzaC5fcmVuZGVyKCksdGhpcy5jb250ZXh0VG9wRGlydHk9ITApLHRoaXMuc2VsZWN0aW9uJiZ0aGlzLl9ncm91cFNlbGVjdG9yJiYodGhpcy5fZHJhd1NlbGVjdGlvbih0KSx0aGlzcGVvZiB0P2ZhYnJpYy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTp0fSxmYWJyaWMudXRpbC50b0FycmF5PW4sZmFicmljLnV0aWwuYWRkQ2xhc3M9ZnVuY3Rpb24odCxlKXt0JiYtMT09PSgiICIrdC5jbGFzc05hbWUrIiAiKS5pbmRleE9mKCIgIitlKyIgIikmJih0LmNsYXNzTmFtZSs9KHQuY2xhc3NOYW1lPyIgIjoiIikrZSl9LGZhYnJpYy51dGlsLm1ha2VFbGVtZW50PXMsZmFicmljLnV0aWwud3JhcEVsZW1lbnQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9cyhlLGkpKSx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZSx0KSxlLmFwcGVuZENoaWxkKHQpLGV9LGZhYnJpYy51dGlsLmdldFNjcm9sbExlZnRUb3A9aCxmYWJyaWMudXRpbC5nZXRFbGVtZW50T2Zmc2V0PWZ1bmN0aW9uKHQpe3ZhciBlLGkscj10JiZ0Lm93bmVyRG9jdW1lbnQsbj17bGVmdDowLHRvcDowfSxzPXtsZWZ0OjAsdG9wOjB9LG89e2JvcmRlckxlZnRXaWR0aDoibGVmdCIsYm9yZGVyVG9wV2lkdGg6InRvcCIscGFkZGluZ0xlZnQ6ImxlZnQiLHBhZGRpbmdUb3A6InRvcCJ9O2lmKCFyKXJldHVybiBzO2Zvcih2YXIgYSBpbiBvKXNbb1thXV0rPXBhcnNlSW50KGModCxhKSwxMCl8fDA7cmV0dXJuIGU9ci5kb2N1bWVudEVsZW1lbnQsdm9pZCAwIT09dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihuPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLGk9aCh0KSx7bGVmdDpuLmxlZnQraS5sZWZ0LShlLmNsaWVudExlZnR8fDApK3MubGVmdCx0b3A6bi50b3AraS50b3AtKGUuY2xpZW50VG9wfHwwKStzLnRvcH19LGZhYnJpYy51dGlsLmdldE5vZGVDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9ZmFicmljLmpzZG9tSW1wbEZvcldyYXBwZXIodCk7cmV0dXJuIGUuX2NhbnZhc3x8ZS5faW1hZ2V9LGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGU9ZnVuY3Rpb24odCl7aWYoZmFicmljLmlzTGlrZWx5Tm9kZSl7dmFyIGU9ZmFicmljLmpzZG9tSW1wbEZvcldyYXBwZXIodCk7ZSYmKGUuX2ltYWdlPW51bGwsZS5fY2FudmFzPW51bGwsZS5fY3VycmVudFNyYz1udWxsLGUuX2F0dHJpYnV0ZXM9bnVsbCxlLl9jbGFzc0xpc3Q9bnVsbCl9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt9ZmFicmljLnV0aWwucmVxdWVzdD1mdW5jdGlvbih0LGUpe2V8fChlPXt9KTt2YXIgaSxyLG49ZS5tZXRob2Q/ZS5tZXRob2QudG9VcHBlckNhc2UoKToiR0VUIixzPWUub25Db21wbGV0ZXx8ZnVuY3Rpb24oKXt9LG89bmV3IGZhYnJpYy53aW5kb3cuWE1MSHR0cFJlcXVlc3QsYT1lLmJvZHl8fGUucGFyYW1ldGVycztyZXR1cm4gby5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09by5yZWFkeVN0YXRlJiYocyhvKSxvLm9ucmVhZHlzdGF0ZWNoYW5nZT1jKX0sIkdFVCI9PT1uJiYoYT1udWxsLCJzdHJpbmciPT10eXBlb2YgZS5wYXJhbWV0ZXJzJiYoaT10LHI9ZS5wYXJhbWV0ZXJzLHQ9aSsoL1w/Ly50ZXN0KGkpPyImIjoiPyIpK3IpKSxvLm9wZW4obix0LCEwKSwiUE9TVCIhPT1uJiYiUFVUIiE9PW58fG8uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiksby5zZW5kKGEpLG99fSgpLGZhYnJpYy5sb2c9Y29uc29sZS5sb2csZmFiYXIgdD1EdChlKTtpZih0KXt0Lmxhc3RCdXR0b25DbGlja2VkPW51bGx9fWZ1bmN0aW9uIER0KGUpe3ZhciB0PXYoZS50YXJnZXQsImJ1dHRvbiwgaW5wdXRbdHlwZT0nc3VibWl0J10iKTtpZighdCl7cmV0dXJufXZhciByPXAoIiMiK2VlKHQsImZvcm0iKSl8fHYodCwiZm9ybSIpO2lmKCFyKXtyZXR1cm59cmV0dXJuIGFlKHIpfWZ1bmN0aW9uIFV0KGUpe2UuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLE10KTtlLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzaW4iLE10KTtlLmFkZEV2ZW50TGlzdGVuZXIoImZvY3Vzb3V0IixYdCl9ZnVuY3Rpb24gQnQoZSl7dmFyIHQ9WWUoZSk7dmFyIHI9MDtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dO2lmKGk9PT0ieyIpe3IrK31lbHNlIGlmKGk9PT0ifSIpe3ItLX19cmV0dXJuIHJ9ZnVuY3Rpb24gRnQodCxlLHIpe3ZhciBuPWFlKHQpO2lmKCFBcnJheS5pc0FycmF5KG4ub25IYW5kbGVycykpe24ub25IYW5kbGVycz1bXX12YXIgaTt2YXIgYT1mdW5jdGlvbihlKXtyZXR1cm4gVHIodCxmdW5jdGlvbigpe2lmKCFpKXtpPW5ldyBGdW5jdGlvbigiZXZlbnQiLHIpfWkuY2FsbCh0LGUpfSl9O3QuYWRkRXZlbnRMaXN0ZW5lcihlLGEpO24ub25IYW5kbGVycy5wdXNoKHtldmVudDplLGxpc3RlbmVyOmF9KX1mdW5jdGlvbiBWdChlKXt2YXIgdD10ZShlLCJoeC1vbiIpO2lmKHQpe3ZhciByPXt9O3ZhciBuPXQuc3BsaXQoIlxuIik7dmFyIGk9bnVsbDt2YXIgYT0wO3doaWxlKG4ubGVuZ3RoPjApe3ZhciBvPW4uc2hpZnQoKTt2YXIgcz1vLm1hdGNoKC9eXHMqKFthLXpBLVo6XC1cLl0rOikoLiopLyk7aWYoYT09PTAmJnMpe28uc3BsaXQoIjoiKTtpPXNbMV0uc2xpY2UoMCwtMSk7cltpXT1zWzJdfWVsc2V7cltpXSs9b31hKz1CdChvKX1mb3IodmFyIGwgaW4gcil7RnQoZSxsLHJbbF0pfX19ZnVuY3Rpb24ganQoZSl7QWUoZSk7Zm9yKHZhciB0PTA7dDxlLmF0dHJpYnV0ZXMubGVuZ3RoO3QrKyl7dmFyIHI9ZS5hdHRyaWJ1dGVzW3RdLm5hbWU7dmFyIG49ZS5hdHRyaWJ1dGVzW3RdLnZhbHVlO2lmKGcociwiaHgtb24iKXx8ZyhyLCJkYXRhLWh4LW9uIikpe3ZhciBpPXIuaW5kZXhPZigiLW9uIikrMzt2YXIgYT1yLnNsaWNlKGksaSsxKTtpZihhPT09Ii0ifHxhPT09IjoiKXt2YXIgbz1yLnNsaWNlKGkrMSk7aWYoZyhvLCI6Iikpe289Imh0bXgiK299ZWxzZSBpZihnKG8sIi0iKSl7bz0iaHRteDoiK28uc2xpY2UoMSl9ZWxzZSBpZihnKG8sImh0bXgtIikpe289Imh0bXg6IitvLnNsaWNlKDUpfUZ0KGUsbyxuKX19fX1mdW5jdGlvbiBfdCh0KXtpZih2KHQsUS5jb25maWcuZGlzYWJsZVNlbGVjdG9yKSl7bSh0KTtyZXR1cm59dmFyIHI9YWUodCk7aWYoci5pbml0SGFzaCE9PUxlKHQpKXtOZSh0KTtyLmluaXRIYXNoPUxlKHQpO1Z0KHQpO2NlKHQsImh0bXg6YmVmb3JlUHJvY2Vzc05vZGUiKTtpZih0LnZhbHVlKXtyLmxhc3RWYWx1ZT10LnZhbHVlfXZhciBlPWl0KHQpO3ZhciBuPUh0KHQscixlKTtpZighbil7aWYobmUodCwiaHgtYm9vc3QiKT09PSJ0cnVlIil7bHQodCxyLGUpfWVsc2UgaWYobyh0LCJoeC10cmlnZ2VyIikpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtMdCh0LGUscixmdW5jdGlvbigpe30pfSl9fWlmKHQudGFnTmFtZT09PSJGT1JNInx8ZWUodCwidHlwZSIpc3NMaW5rWyJ0cmFuc2NyaXB0aW9uIl0gfCB7IG1lc3NhZ2U6IHN0cmluZyB9PjsKCiAgICAgIGNoZWNrSWZSb29tTmFtZU1hdGNoZXNJblJlY29yZGluZz8ocm9vbU5hbWU6IHN0cmluZywgcmVjb3JkaW5nSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47CgogICAgICBnZXRNZWV0aW5nSW5mb3JtYXRpb24/KHJvb21OYW1lOiBzdHJpbmcpOiBQcm9taXNlPFRHZXRNZWV0aW5nSW5mb3JtYXRpb25SZXNwb25zZXNTY2hlbWE+OwogICAgfQogIHwgdW5kZWZpbmVkOwoKZXhwb3J0IHR5cGUgVmlkZW9BcGlBZGFwdGVyRmFjdG9yeSA9IChjcmVkZW50aWFsOiBDcmVkZW50aWFsUGF5bG9hZCkgPT4gVmlkZW9BcGlBZGFwdGVyOwovKioKICogQGxpY2Vuc2UgUmVhY3QKICogcmVhY3QucHJvZHVjdGlvbi5taW4uanMKICoKICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuCiAqCiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZQogKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCiAqLwondXNlIHN0cmljdCc7dmFyIGw9U3ltYm9sLmZvcigicmVhY3QuZWxlbWVudCIpLG49U3ltYm9sLmZvcigicmVhY3QucG9ydGFsIikscD1TeW1ib2wuZm9yKCJyZWFjdC5mcmFnbWVudCIpLHE9U3ltYm9sLmZvcigicmVhY3Quc3RyaWN0X21vZGUiKSxyPVN5bWJvbC5mb3IoInJlYWN0LnByb2ZpbGVyIiksdD1TeW1ib2wuZm9yKCJyZWFjdC5wcm92aWRlciIpLHU9U3ltYm9sLmZvcigicmVhY3QuY29udGV4dCIpLHY9U3ltYm9sLmZvcigicmVhY3QuZm9yd2FyZF9yZWYiKSx3PVN5bWJvbC5mb3IoInJlYWN0LnN1c3BlbnNlIikseD1TeW1ib2wuZm9yKCJyZWFjdC5tZW1vIikseT1TeW1ib2wuZm9yKCJyZWFjdC5sYXp5Iiksej1TeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gQShhKXtpZihudWxsPT09YXx8Im9iamVjdCIhPT10eXBlb2YgYSlyZXR1cm4gbnVsbDthPXomJmFbel18fGFbIkBAaXRlcmF0b3IiXTtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGE/YTpudWxsfQp2YXIgQj17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sQz1PYmplY3QuYXNzaWduLEQ9e307ZnVuY3Rpb24gRShhLGIsZSl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1EO3RoaXMudXBkYXRlcj1lfHxCfUUucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e307CkUucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGEsYil7aWYoIm9iamVjdCIhPT10eXBlb2YgYSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBhJiZudWxsIT1hKXRocm93IEVycm9yKCJzZXRTdGF0ZSguLi4pOiB0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy4iKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsYSxiLCJzZXRTdGF0ZSIpfTtFLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihhKXt0aGlzLnVwY3Rpb24gZGkodCxuKXt2b2lkIDA9PT1uJiYobj10LHQ9R3IpO2Zvcih2YXIgZT0wLHI9bi5sZW5ndGgtMSxpPW5bMF0sbz1uZXcgQXJyYXkocjwwPzA6cik7ZTxyOylvW2VdPXQoaSxpPW5bKytlXSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPU1hdGgubWF4KDAsTWF0aC5taW4oci0xLE1hdGguZmxvb3IodCo9cikpKTtyZXR1cm4gb1tuXSh0LW4pfX12YXIgcGksZ2kseWk9MCx2aT0wLF9pPTAsYmk9MWUzLG1pPTAseGk9MCx3aT0wLE1pPSJvYmplY3QiPT10eXBlb2YgcGVyZm9ybWFuY2UmJnBlcmZvcm1hbmNlLm5vdz9wZXJmb3JtYW5jZTpEYXRlLFRpPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpOmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQodCwxNyl9O2Z1bmN0aW9uIEFpKCl7cmV0dXJuIHhpfHwoVGkoU2kpLHhpPU1pLm5vdygpK3dpKX1mdW5jdGlvbiBTaSgpe3hpPTB9ZnVuY3Rpb24gRWkoKXt0aGlzLl9jYWxsPXRoaXMuX3RpbWU9dGhpcy5fbmV4dD1udWxsfWZ1bmN0aW9uIE5pKHQsbixlKXt2YXIgcj1uZXcgRWk7cmV0dXJuIHIucmVzdGFydCh0LG4sZSkscn1mdW5jdGlvbiBraSgpe0FpKCksKyt5aTtmb3IodmFyIHQsbj1waTtuOykodD14aS1uLl90aW1lKT49MCYmbi5fY2FsbC5jYWxsKHZvaWQgMCx0KSxuPW4uX25leHQ7LS15aX1mdW5jdGlvbiBDaSgpe3hpPShtaT1NaS5ub3coKSkrd2kseWk9dmk9MDt0cnl7a2koKX1maW5hbGx5e3lpPTAsZnVuY3Rpb24oKXt2YXIgdCxuLGU9cGkscj0xLzA7Zm9yKDtlOyllLl9jYWxsPyhyPmUuX3RpbWUmJihyPWUuX3RpbWUpLHQ9ZSxlPWUuX25leHQpOihuPWUuX25leHQsZS5fbmV4dD1udWxsLGU9dD90Ll9uZXh0PW46cGk9bik7Z2k9dCx6aShyKX0oKSx4aT0wfX1mdW5jdGlvbiBQaSgpe3ZhciB0PU1pLm5vdygpLG49dC1taTtuPmJpJiYod2ktPW4sbWk9dCl9ZnVuY3Rpb24gemkodCl7eWl8fCh2aSYmKHZpPWNsZWFyVGltZW91dCh2aSkpLHQteGk+MjQ/KHQ8MS8wJiYodmk9c2V0VGltZW91dChDaSx0LU1pLm5vdygpLXdpKSksX2kmJihfaT1jbGVhckludGVydmFsKF9pKSkpOihfaXx8KG1pPU1pLm5vdygpLF9pPXNldEludGVydmFsKFBpLGJpKSkseWk9MSxUaShDaSkpKX1mdW5jdGlvbiAkaSh0LG4sZSl7dmFyIHI9bmV3IEVpO3JldHVybiBuPW51bGw9PW4/MDorbixyLnJlc3RhcnQoKGU9PntyLnN0b3AoKSx0KGUrbil9KSxuLGUpLHJ9RWkucHJvdG90eXBlPU5pLnByb3RvdHlwZT17Y29uc3RydWN0b3I6RWkscmVzdGFydDpmdW5jdGlvbih0LG4sZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24iKTtlPShudWxsPT1lP0FpKCk6K2UpKyhudWxsPT1uPzA6K24pLHRoaXMuX25leHR8fGdpPT09dGhpc3x8KGdpP2dpLl9uZXh0PXRoaXM6cGk9dGhpcyxnaT10aGlzKSx0aGlzLl9jYWxsPXQsdGhpcy5fdGltZT1lLHppKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9jYWxsJiYodGhpcy5fY2FsbD1udWxsLHRoaXMuX3RpbWU9MS8wLHppKCkpfX07dmFyIERpPSR0KCJzdGFydCIsImVuZCIsImNhbmNlbCIsImludGVycnVwdCIpLFJpPVtdLEZpPTAscWk9MSxVaT0yLElpPTMsLGRhcmtzbGF0ZWdyZXk6MzEwMDQ5NSxkYXJrdHVycXVvaXNlOjUyOTQ1LGRhcmt2aW9sZXQ6OTY5OTUzOSxkZWVwcGluazoxNjcxNjk0NyxkZWVwc2t5Ymx1ZTo0OTE1MSxkaW1ncmF5OjY5MDgyNjUsZGltZ3JleTo2OTA4MjY1LGRvZGdlcmJsdWU6MjAwMzE5OSxmaXJlYnJpY2s6MTE2NzQxNDYsZmxvcmFsd2hpdGU6MTY3NzU5MjAsZm9yZXN0Z3JlZW46MjI2Mzg0MixmdWNoc2lhOjE2NzExOTM1LGdhaW5zYm9ybzoxNDQ3NDQ2MCxnaG9zdHdoaXRlOjE2MzE2NjcxLGdvbGQ6MTY3NjY3MjAsZ29sZGVucm9kOjE0MzI5MTIwLGdyYXk6ODQyMTUwNCxncmVlbjozMjc2OCxncmVlbnllbGxvdzoxMTQwMzA1NSxncmV5Ojg0MjE1MDQsaG9uZXlkZXc6MTU3OTQxNjAsaG90cGluazoxNjczODc0MCxpbmRpYW5yZWQ6MTM0NTg1MjQsaW5kaWdvOjQ5MTUzMzAsaXZvcnk6MTY3NzcyMDAsa2hha2k6MTU3ODc2NjAsbGF2ZW5kZXI6MTUxMzI0MTAsbGF2ZW5kZXJibHVzaDoxNjc3MzM2NSxsYXduZ3JlZW46ODE5MDk3NixsZW1vbmNoaWZmb246MTY3NzU4ODUsbGlnaHRibHVlOjExMzkzMjU0LGxpZ2h0Y29yYWw6MTU3NjE1MzYsbGlnaHRjeWFuOjE0NzQ1NTk5LGxpZ2h0Z29sZGVucm9keWVsbG93OjE2NDQ4MjEwLGxpZ2h0Z3JheToxMzg4MjMyMyxsaWdodGdyZWVuOjk0OTgyNTYsbGlnaHRncmV5OjEzODgyMzIzLGxpZ2h0cGluazoxNjc1ODQ2NSxsaWdodHNhbG1vbjoxNjc1Mjc2MixsaWdodHNlYWdyZWVuOjIxNDI4OTAsbGlnaHRza3libHVlOjg5MDAzNDYsbGlnaHRzbGF0ZWdyYXk6NzgzMzc1MyxsaWdodHNsYXRlZ3JleTo3ODMzNzUzLGxpZ2h0c3RlZWxibHVlOjExNTg0NzM0LGxpZ2h0eWVsbG93OjE2Nzc3MTg0LGxpbWU6NjUyODAsbGltZWdyZWVuOjMzMjkzMzAsbGluZW46MTY0NDU2NzAsbWFnZW50YToxNjcxMTkzNSxtYXJvb246ODM4ODYwOCxtZWRpdW1hcXVhbWFyaW5lOjY3MzczMjIsbWVkaXVtYmx1ZToyMDUsbWVkaXVtb3JjaGlkOjEyMjExNjY3LG1lZGl1bXB1cnBsZTo5NjYyNjgzLG1lZGl1bXNlYWdyZWVuOjM5NzgwOTcsbWVkaXVtc2xhdGVibHVlOjgwODc3OTAsbWVkaXVtc3ByaW5nZ3JlZW46NjQxNTQsbWVkaXVtdHVycXVvaXNlOjQ3NzIzMDAsbWVkaXVtdmlvbGV0cmVkOjEzMDQ3MTczLG1pZG5pZ2h0Ymx1ZToxNjQ0OTEyLG1pbnRjcmVhbToxNjEyMTg1MCxtaXN0eXJvc2U6MTY3NzAyNzMsbW9jY2FzaW46MTY3NzAyMjksbmF2YWpvd2hpdGU6MTY3Njg2ODUsbmF2eToxMjgsb2xkbGFjZToxNjY0MzU1OCxvbGl2ZTo4NDIxMzc2LG9saXZlZHJhYjo3MDQ4NzM5LG9yYW5nZToxNjc1MzkyMCxvcmFuZ2VyZWQ6MTY3MjkzNDQsb3JjaGlkOjE0MzE1NzM0LHBhbGVnb2xkZW5yb2Q6MTU2NTcxMzAscGFsZWdyZWVuOjEwMDI1ODgwLHBhbGV0dXJxdW9pc2U6MTE1Mjk5NjYscGFsZXZpb2xldHJlZDoxNDM4MTIwMyxwYXBheWF3aGlwOjE2NzczMDc3LHBlYWNocHVmZjoxNjc2NzY3MyxwZXJ1OjEzNDY4OTkxLHBpbms6MTY3NjEwMzUscGx1bToxNDUyNDYzNyxwb3dkZXJibHVlOjExNTkxOTEwLHB1cnBsZTo4Mzg4NzM2LHJlYmVjY2FwdXJwbGU6NjY5Nzg4MSxyZWQ6MTY3MTE2ODAscm9zeWJyb3duOjEyMzU3NTE5LHJveWFsYmx1ZTo0Mjg2OTQ1LHNhZGRsZWJyb3duOjkxMjcxODcsc2FsbW9uOjE2NDE2ODgyLHNhbmR5YnJvd246QjA2XHUyQjA3Ijt2YXIgVG89L1teXHgyMC1ceDdGXS91LE5vPW5ldyBTZXQoZnIpO2Z1bmN0aW9uIFNvKGUpe2lmKCFlKXJldHVybiAwO2lmKCFUby50ZXN0KGUpKXJldHVybiBlLmxlbmd0aDtlPWUucmVwbGFjZShjcigpLHU9Pk5vLmhhcyh1KT8iICI6IiAgIik7bGV0IHQ9MDtmb3IobGV0IHUgb2YgZSl7bGV0IHI9dS5jb2RlUG9pbnRBdCgwKTtyPD0zMXx8cj49MTI3JiZyPD0xNTl8fHI+PTc2OCYmcjw9ODc5fHxyPj02NTAyNCYmcjw9NjUwMzl8fCh0Kz16dChyKXx8SnQocik/MjoxKX1yZXR1cm4gdH12YXIgUmU9U287dmFyIHdvPXt0eXBlOjB9LE9vPXt0eXBlOjF9LEh0PXt2YWx1ZToiIixsZW5ndGg6MCxxdWV1ZTpbXSxnZXQgcm9vdCgpe3JldHVybiBIdH19O2Z1bmN0aW9uIGxyKGUsdCx1KXtsZXQgcj10LnR5cGU9PT0xP2UucXVldWUuc2xpY2UoMCwtMSk6Wy4uLmUucXVldWUsdF0sbz0iIixuPTAsYT0wLHM9MDtmb3IobGV0IHAgb2Ygcilzd2l0Y2gocC50eXBlKXtjYXNlIDA6ZigpLHUudXNlVGFicz9pKDEpOkQodS50YWJXaWR0aCk7YnJlYWs7Y2FzZSAzOntsZXR7c3RyaW5nOkZ9PXA7ZigpLG8rPUYsbis9Ri5sZW5ndGg7YnJlYWt9Y2FzZSAyOntsZXR7d2lkdGg6Rn09cDthKz0xLHMrPUY7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaW5kZW50IGNvbW1lbnQgJyR7cC50eXBlfScuYCl9cmV0dXJuIGQoKSx7Li4uZSx2YWx1ZTpvLGxlbmd0aDpuLHF1ZXVlOnJ9O2Z1bmN0aW9uIGkocCl7bys9IgkiLnJlcGVhdChwKSxuKz11LnRhYldpZHRoKnB9ZnVuY3Rpb24gRChwKXtvKz0iICIucmVwZWF0KHApLG4rPXB9ZnVuY3Rpb24gZigpe3UudXNlVGFicz9sKCk6ZCgpfWZ1bmN0aW9uIGwoKXthPjAmJmkoYSksYygpfWZ1bmN0aW9uIGQoKXtzPjAmJkQocyksYygpfWZ1bmN0aW9uIGMoKXthPTAscz0wfX1mdW5jdGlvbiBkcihlLHQsdSl7aWYoIXQpcmV0dXJuIGU7aWYodC50eXBlPT09InJvb3QiKXJldHVybnsuLi5lLHJvb3Q6ZX07aWYodD09PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSlyZXR1cm4gZS5yb290O2xldCByO3JldHVybiB0eXBlb2YgdD09Im51bWJlciI/dDwwP3I9T286cj17dHlwZToyLHdpZHRoOnR9OnI9e3R5cGU6MyxzdHJpbmc6dH0sbHIoZSxyLHUpfWZ1bmN0aW9uIHByKGUsdCl7cmV0dXJuIGxyKGUsd28sdCl9ZnVuY3Rpb24gUG8oZSl7bGV0IHQ9MDtmb3IobGV0IHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSl7bGV0IHI9ZVt1XTtpZihyPT09IiAifHxyPT09IgkiKXQrKztlbHNlIGJyZWFrfXJldHVybiB0fWZ1bmN0aW9uIFh0KGUpe2xldCB0PVBvKGUpO3JldHVybnt0ZXh0OnQ9PT0wP2U6ZS5zbGljZSgwLGUubGVuZ3RoLXQpLGNvdW50OnR9fXZhciBXPVN5bWJvbCgiTU9ERV9CUkVBSyIpLHE9U3ltYm9sKCJNT0RFX0ZMQVQiKSxxdD1TeW1ib2woIkRPQ19GSUxMX1BSSU5URURfTEVOR1RIIik7ZnVuY3Rpb24gbnQoZSx0LHUscixvLG4pe2lmKHU9PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpcmV0dXJuITA7bGV0IGE9dC5sZW5ndGgscz0hMSxpPVtlXSxEPSIiO2Zvcig7dT49MDspe2lmKGkubGVuZ3RoPT09MCl7aWYoYT09PTApcmV0dXJuITA7aS5wdXNoKHRbLS1hXSk7Y29udGludWV9bGV0e21vZGU6Zixkb2M6bH09aS5wb3AoKSxkPUgobCk7c3dpdGNoKGQpe2Nhc2UgLnRlc3QoaVswXSkmJihjPSExLGJ1LnRlc3QoYSkmJihhPSI/Tm9MaW5lVGVybWluYXRvckhlcmUiKSkseWllbGR7dHlwZToiTXVsdGlMaW5lQ29tbWVudCIsdmFsdWU6aVswXSxjbG9zZWQ6aVsxXSE9PXZvaWQgMH07Y29udGludWV9aWYod3QubGFzdEluZGV4PW4saT13dC5leGVjKGUpKXtuPXd0Lmxhc3RJbmRleCxjPSExLHlpZWxke3R5cGU6IlNpbmdsZUxpbmVDb21tZW50Iix2YWx1ZTppWzBdfTtjb250aW51ZX1yPVN0cmluZy5mcm9tQ29kZVBvaW50KGUuY29kZVBvaW50QXQobikpLG4rPXIubGVuZ3RoLGE9cixjPSExLHlpZWxke3R5cGU6RC50YWcuc3RhcnRzV2l0aCgiSlNYIik/IkpTWEludmFsaWQiOiJJbnZhbGlkIix2YWx1ZTpyfX19fSk7dmFyIGRpPXt9O1l0KGRpLHtfX2RlYnVnOigpPT5saSxjaGVjazooKT0+Y2ksZG9jOigpPT53dSxmb3JtYXQ6KCk9PkhuLGZvcm1hdFdpdGhDdXJzb3I6KCk9PkpuLGdldFN1cHBvcnRJbmZvOigpPT5maSx1dGlsOigpPT5QdSx2ZXJzaW9uOigpPT5Zbn0pO3ZhciBYPShlLHQpPT4odSxyLC4uLm8pPT51fDEmJnI9PW51bGw/dm9pZCAwOih0LmNhbGwocik/P3JbZV0pLmFwcGx5KHIsbyk7dmFyIGlvPVN0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbD8/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nbG9iYWw/dGhpcy5yZXBsYWNlKGUsdCk6dGhpcy5zcGxpdChlKS5qb2luKHQpfSxzbz1YKCJyZXBsYWNlQWxsIixmdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzPT0ic3RyaW5nIilyZXR1cm4gaW99KSxvZT1zbzt2YXIgTmU9Y2xhc3N7ZGlmZih0LHUscj17fSl7bGV0IG87dHlwZW9mIHI9PSJmdW5jdGlvbiI/KG89cixyPXt9KToiY2FsbGJhY2siaW4gciYmKG89ci5jYWxsYmFjayk7bGV0IG49dGhpcy5jYXN0SW5wdXQodCxyKSxhPXRoaXMuY2FzdElucHV0KHUscikscz10aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUobixyKSksaT10aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUoYSxyKSk7cmV0dXJuIHRoaXMuZGlmZldpdGhPcHRpb25zT2JqKHMsaSxyLG8pfWRpZmZXaXRoT3B0aW9uc09iaih0LHUscixvKXt2YXIgbjtsZXQgYT1tPT57aWYobT10aGlzLnBvc3RQcm9jZXNzKG0sciksbyl7c2V0VGltZW91dChmdW5jdGlvbigpe28obSl9LDApO3JldHVybn1lbHNlIHJldHVybiBtfSxzPXUubGVuZ3RoLGk9dC5sZW5ndGgsRD0xLGY9cytpO3IubWF4RWRpdExlbmd0aCE9bnVsbCYmKGY9TWF0aC5taW4oZixyLm1heEVkaXRMZW5ndGgpKTtsZXQgbD0obj1yLnRpbWVvdXQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjEvMCxkPURhdGUubm93KCkrbCxjPVt7b2xkUG9zOi0xLGxhc3RDb21wb25lbnQ6dm9pZCAwfV0scD10aGlzLmV4dHJhY3RDb21tb24oY1swXSx1LHQsMCxyKTtpZihjWzBdLm9sZFBvcysxPj1pJiZwKzE+PXMpcmV0dXJuIGEodGhpcy5idWlsZFZhbHVlcyhjWzBdLmxhc3RDb21wb25lbnQsdSx0KSk7bGV0IEY9LTEvMCxDPTEvMCx5PSgpPT57Zm9yKGxldCBtPU1hdGgubWF4KEYsLUQpO208PU1hdGgubWluKEMsRCk7bSs9Mil7bGV0IGgsRT1jW20tMV0sZz1jW20rMV07RSYmKGNbbS0xXT12b2lkIDApO2xldCBBPSExO2lmKGcpe2xldCBRPWcub2xkUG9zLW07QT1nJiYwPD1RJiZRPHN9bGV0IEo9RSYmRS5vbGRQb3MrMTxpO2lmKCFBJiYhSil7Y1ttXT12b2lkIDA7Y29uIEQsIFlZWVkiLExMTDoiTU1NTSBELCBZWVlZIGg6bW0gQSIsTExMTDoiZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQSJ9LGludmFsaWREYXRlOiJJbnZhbGlkIGRhdGUiLG9yZGluYWw6IiVkIixkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOi9cZHsxLDJ9LyxyZWxhdGl2ZVRpbWU6e2Z1dHVyZToiaW4gJXMiLHBhc3Q6IiVzIGFnbyIsczoiYSBmZXcgc2Vjb25kcyIsc3M6IiVkIHNlY29uZHMiLG06ImEgbWludXRlIixtbToiJWQgbWludXRlcyIsaDoiYW4gaG91ciIsaGg6IiVkIGhvdXJzIixkOiJhIGRheSIsZGQ6IiVkIGRheXMiLHc6ImEgd2VlayIsd3c6IiVkIHdlZWtzIixNOiJhIG1vbnRoIixNTToiJWQgbW9udGhzIix5OiJhIHllYXIiLHl5OiIlZCB5ZWFycyJ9LG1vbnRoczpGZSxtb250aHNTaG9ydDpMZSx3ZWVrOntkb3c6MCxkb3k6Nn0sd2Vla2RheXM6UWUsd2Vla2RheXNNaW46S2Usd2Vla2RheXNTaG9ydDpYZSxtZXJpZGllbVBhcnNlOi9bYXBdXC4/bT9cLj8vaX0sVz17fSxsdD17fTtmdW5jdGlvbiBkdChlKXtyZXR1cm4gZSYmZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoIl8iLCItIil9ZnVuY3Rpb24gaHQoZSl7Zm9yKHZhciB0LG4scyxpLHI9MDtyPGUubGVuZ3RoOyl7Zm9yKHQ9KGk9ZHQoZVtyXSkuc3BsaXQoIi0iKSkubGVuZ3RoLG49KG49ZHQoZVtyKzFdKSk/bi5zcGxpdCgiLSIpOm51bGw7MDx0Oyl7aWYocz1jdChpLnNsaWNlKDAsdCkuam9pbigiLSIpKSlyZXR1cm4gcztpZihuJiZuLmxlbmd0aD49dCYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49TWF0aC5taW4oZS5sZW5ndGgsdC5sZW5ndGgpLHM9MDtzPG47cys9MSlpZihlW3NdIT09dFtzXSlyZXR1cm4gcztyZXR1cm4gbn0oaSxuKT49dC0xKWJyZWFrO3QtLX1yKyt9cmV0dXJuIG90fWZ1bmN0aW9uIGN0KHQpe3ZhciBlLG47aWYodm9pZCAwPT09V1t0XSYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihuPXQpJiZuLm1hdGNoKCJeW14vXFxcXF0qJCIpKXRyeXtlPW90Ll9hYmJyLHJlcXVpcmUoIi4vbG9jYWxlLyIrdCksZnQoZSl9Y2F0Y2goZSl7V1t0XT1udWxsfXJldHVybiBXW3RdfWZ1bmN0aW9uIGZ0KGUsdCl7cmV0dXJuIGUmJigodD1nKHQpP1AoZSk6bXQoZSx0KSk/b3Q9dDoidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCJMb2NhbGUgIitlKyIgbm90IGZvdW5kLiBEaWQgeW91IGZvcmdldCB0byBsb2FkIGl0PyIpKSxvdC5fYWJicn1mdW5jdGlvbiBtdChlLHQpe2lmKG51bGw9PT10KXJldHVybiBkZWxldGUgV1tlXSxudWxsO3ZhciBuLHM9dXQ7aWYodC5hYmJyPWUsbnVsbCE9V1tlXSlRKCJkZWZpbmVMb2NhbGVPdmVycmlkZSIsInVzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlIGFuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZSBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLiIpLHM9V1tlXS5fY29uZmlnO2Vsc2UgaWYobnVsbCE9dC5wYXJlbnRMb2NhbGUpaWYobnVsbCE9V1t0LnBhcmVubGlzdCBxdWVyeSB0byB1c2UgZm9yIHRhcmdldGluZyBicm93c2Vycy4gKi8KICBicm93c2Vyc2xpc3RRdWVyeTogUmNTdHIKICAvKioKICAgKiBXaGVuIHRoZSBjb2RlIGlzIG1pbmlmaWVkLCB0aGlzIG9wdHMgb3V0IG9mIHRoZSBkZWZhdWx0IG1hbmdsaW5nIG9mCiAgICogbG9jYWwgbmFtZXMgZm9yIHZhcmlhYmxlcywgZnVuY3Rpb25zIGV0Yy4sIHdoaWNoIGNhbiBiZSB1c2VmdWwgZm9yCiAgICogZGVidWdnaW5nL3Byb2ZpbGluZyBwdXJwb3Nlcy4KICAgKi8KICBub01hbmdsaW5nOiBib29sZWFuCiAgLyoqIFdoZXRoZXIgdG8gd3JpdGUgdGhlIHJvdXRlIGhhc2hlcyBtYW5pZmVzdC4gKi8KICB3cml0ZVJvdXRlc0hhc2hlc01hbmlmZXN0OiBib29sZWFuCiAgLyoqIFRoZSB2ZXJzaW9uIG9mIE5vZGUuanMgdGhhdCBpcyBhdmFpbGFibGUvY3VycmVudGx5IHJ1bm5pbmcuICovCiAgY3VycmVudE5vZGVKc1ZlcnNpb246IFJjU3RyCiAgLyoqCiAgICogRGVidWcgYnVpbGQgcGF0aHMgZm9yIHNlbGVjdGl2ZSBidWlsZHMuCiAgICogV2hlbiBzZXQsIG9ubHkgcm91dGVzIG1hdGNoaW5nIHRoZXNlIHBhdGhzIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLgogICAqLwogIGRlYnVnQnVpbGRQYXRocz86IE5hcGlEZWJ1Z0J1aWxkUGF0aHMKfQovKiogW05hcGlQcm9qZWN0T3B0aW9uc10gd2l0aCBhbGwgZmllbGRzIG9wdGlvbmFsLiAqLwpleHBvcnQgaW50ZXJmYWNlIE5hcGlQYXJ0aWFsUHJvamVjdE9wdGlvbnMgewogIC8qKgogICAqIEFuIGFic29sdXRlIHJvb3QgcGF0aCAgKFVuaXggb3IgV2luZG93cyBwYXRoKSBmcm9tIHdoaWNoIGFsbCBmaWxlcyBtdXN0IGJlIG5lc3RlZCB1bmRlci4KICAgKiBUcnlpbmcgdG8gYWNjZXNzIGEgZmlsZSBvdXRzaWRlIHRoaXMgcm9vdCB3aWxsIGZhaWwsIHNvIHRoaW5rIG9mIHRoaXMgYXMgYSBjaHJvb3QuCiAgICogRS5nLiBgL2hvbWUvdXNlci9wcm9qZWN0cy9teS1yZXBvYC4KICAgKi8KICByb290UGF0aD86IFJjU3RyCiAgLyoqCiAgICogQSBwYXRoIHdoaWNoIGNvbnRhaW5zIHRoZSBhcHAvcGFnZXMgZGlyZWN0b3JpZXMsIHJlbGF0aXZlIHRvIFtgUHJvamVjdDo6cm9vdF9wYXRoYF0sIGFsd2F5cwogICAqIGEgVW5peCBwYXRoLgogICAqIEUuZy4gYGFwcHMvbXktYXBwYAogICAqLwogIHByb2plY3RQYXRoPzogUmNTdHIKICAvKiogRmlsZXN5c3RlbSB3YXRjaGVyIG9wdGlvbnMuICovCiAgd2F0Y2g/OiBOYXBpV2F0Y2hPcHRpb25zCiAgLyoqIFRoZSBjb250ZW50cyBvZiBuZXh0LmNvbmZpZy5qcywgc2VyaWFsaXplZCB0byBKU09OLiAqLwogIG5leHRDb25maWc/OiBSY1N0cgogIC8qKiBBIG1hcCBvZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgdG8gdXNlIHdoZW4gY29tcGlsaW5nIGNvZGUuICovCiAgZW52PzogQXJyYXk8TmFwaUVudlZhcj4KICAvKioKICAgKiBBIG1hcCBvZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgd2hpY2ggc2hvdWxkIGdldCBpbmplY3RlZCBhdCBjb21waWxlCiAgICogdGltZS4KICAgKi8KICBkZWZpbmVFbnY/OiBOYXBpRGVmaW5lRW52CiAgLyoqIFRoZSBtb2RlIGluIHdoaWNoIE5leHQuanMgaXMgcnVubmluZy4gKi8KICBkZXY/OiBib29sZWFuCiAgLyoqIFRoZSBzZXJ2ZXIgYWN0aW9ucyBlbmNyeXB0aW9uIGtleS4gKi8KICBlbmNyeXB0aW9uS2V5ZXR1cm4gdHlwZTsKICB9Cn0gLy8gJEZsb3dGaXhNZSBvbmx5IGNhbGxlZCBpbiBERVYsIHNvIHZvaWQgcmV0dXJuIGlzIG5vdCBwb3NzaWJsZS4KCgpmdW5jdGlvbiB3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkgewogIHsKICAgIHRyeSB7CiAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHsKICAvLyBJZiB5b3UgZW5kZWQgdXAgaGVyZSBieSBmb2xsb3dpbmcgYW4gZXhjZXB0aW9uIGNhbGwgc3RhY2ssIGhlcmUncyB3aGF0J3MKICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LAogIC8vIERPTSBhdHRyaWJ1dGUsIENTUyBwcm9wZXJ0eSwgc3RyaW5nIHJlZiwgZXRjLikgYW5kIHdoZW4gUmVhY3QgdHJpZWQgdG8KICAvLyBjb2VyY2UgaXQgdG8gYSBzdHJpbmcgdXNpbmcgYCcnICsgdmFsdWVgLCBhbiBleGNlcHRpb24gd2FzIHRocm93bi4KICAvLwogIC8vIFRoZSBtb3N0IGNvbW1vbiB0eXBlcyB0aGF0IHdpbGwgY2F1c2UgdGhpcyBleGNlcHRpb24gYXJlIGBTeW1ib2xgIGluc3RhbmNlcwogIC8vIGFuZCBUZW1wb3JhbCBvYmplY3RzIGxpa2UgYFRlbXBvcmFsLkluc3RhbnRgLiBCdXQgYW55IG9iamVjdCB0aGF0IGhhcyBhCiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzCiAgLy8gZXhjZXB0aW9uLiAoTGlicmFyeSBhdXRob3JzIGRvIHRoaXMgdG8gcHJldmVudCB1c2VycyBmcm9tIHVzaW5nIGJ1aWx0LWluCiAgLy8gbnVtZXJpYyBvcGVyYXRvcnMgbGlrZSBgK2Agb3IgY29tcGFyaXNvbiBvcGVyYXRvcnMgbGlrZSBgPj1gIGJlY2F1c2UgY3VzdG9tCiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLikKICAvLwogIC8vIFRvIGZpeCB0aGUgcHJvYmxlbSwgY29lcmNlIHRoaXMgb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZyBiZWZvcmUKICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuCiAgLy8KICAvLyBUbyBmaW5kIHdoaWNoIHZhbHVlIGlzIHRocm93aW5nLCBjaGVjayB0aGUgYnJvd3NlciBvciBkZWJ1Z2dlciBjb25zb2xlLgogIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dAogIC8vIHRoYXQgc2hvd3MgdGhlIHR5cGUgKFN5bWJvbCwgVGVtcG9yYWwuUGxhaW5EYXRlLCBldGMuKSB0aGF0IGNhdXNlZCB0aGUKICAvLyBwcm9ibGVtIGFuZCBob3cgdGhhdCB0eXBlIHdhcyB1c2VkOiBrZXksIGF0cnJpYnV0ZSwgaW5wdXQgdmFsdWUgcHJvcCwgZXRjLgogIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHMKICAvLyBhbmNlc3RvciBjb21wb25lbnRzIHdoZXJlIHRoZSBleGNlcHRpb24gaGFwcGVuZWQuCiAgLy8KcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTsKICAgICAgfQoKICAgICAgcHJpbnRXYXJuaW5nKCdlcnJvcicsIGZvcm1hdCwgYXJncyk7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBwcmludFdhcm5pbmcobGV2ZWwsIGZvcm1hdCwgYXJncykgewogIC8vIFdoZW4gY2hhbmdpbmcgdGhpcyBsb2dpYywgeW91IG1pZ2h0IHdhbnQgdG8gYWxzbwogIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLgogIHsKICAgIHZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTsKICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpOwoKICAgIGlmIChzdGFjayAhPT0gJycpIHsKICAgICAgZm9ybWF0ICs9ICclcyc7CiAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChbc3RhY2tdKTsKICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uCgoKICAgIHZhciBhcmdzV2l0aEZvcm1hdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7CiAgICB9KTsgLy8gQ2FyZWZ1bDogUk4gY3VycmVudGx5IGRlcGVuZHMgb24gdGhpcyBwcmVmaXgKCiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXQKICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTAKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcKCiAgICBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlW2xldmVsXSwgY29uc29sZSwgYXJnc1dpdGhGb3JtYXQpOwogIH0KfQoKdmFyIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCA9IHt9OwoKZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHsKICB7CiAgICB2YXIgX2NvbnN0cnVjdG9yID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3I7CiAgICB2YXIgY29tcG9uZW50TmFtZSA9IF9jb25zdHJ1Y3RvciAmJiAoX2NvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IF9jb25zdHJ1Y3Rvci5uYW1lKSB8fCAnUmVhY3RDbGFzcyc7CiAgICB2YXIgd2FybmluZ0tleSA9IGNvbXBvbmVudE5hbWUgKyAiLiIgKyBjYWxsZXJOYW1lOwoKICAgIGlmIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGVycm9yKCJDYW4ndCBjYWxsICVzIG9uIGEgY29tcG9uZW50IHRoYXQgaXMgbm90IHlldCBtb3VudGVkLiAiICsgJ1RoaXMgaXMgYSBuby1vcCwgYnV0IGl0IG1pZ2h0IGluZGljYXRlIGEgYnVnIGluIHlvdXIgYXBwbGljYXRpb24uICcgKyAnSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlcm1hbGl6ZSA9IChlbnNOYW1lKSA9PiB7CiAgICB0cnkgewogICAgICByZXR1cm4gbm9ybWFsaXplKGVuc05hbWUpOwogICAgfSBjYXRjaCB7CiAgICB9CiAgfTsKICBjb25zdCB7IGRhdGE6IGVuc0F2YXRhciB9ID0gdXNlRW5zQXZhdGFyKHsKICAgIGNoYWluSWQ6IG1haW5uZXQyLmlkLAogICAgbmFtZTogbmFtZSA/IHNhZmVOb3JtYWxpemUobmFtZSkgOiB2b2lkIDAsCiAgICBxdWVyeTogewogICAgICBlbmFibGVkOiBtYWlubmV0Q29uZmlndXJlZAogICAgfQogIH0pOwogIHJldHVybiBlbnNBdmF0YXI7Cn0KCi8vIHNyYy9ob29rcy91c2VNYWlubmV0RW5zTmFtZS50cwppbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gIkB0YW5zdGFjay9yZWFjdC1xdWVyeSI7CmltcG9ydCB7IHVzZUVuc05hbWUgfSBmcm9tICJ3YWdtaSI7CmltcG9ydCB7IG1haW5uZXQgYXMgbWFpbm5ldDMgfSBmcm9tICJ3YWdtaS9jaGFpbnMiOwoKLy8gc3JjL2NvcmUvbmV0d29yay9pbnRlcm5hbC9yYWluYm93RmV0Y2gudHMKYXN5bmMgZnVuY3Rpb24gcmFpbmJvd0ZldGNoKHVybCwgb3B0cykgewogIG9wdHMgPSB7CiAgICBoZWFkZXJzOiB7fSwKICAgIG1ldGhvZDogImdldCIsCiAgICAuLi5vcHRzLAogICAgLy8gQW55IG90aGVyIGZldGNoIG9wdGlvbnMKICAgIHRpbWVvdXQ6IG9wdHMudGltZW91dCA/PyAxZTQKICAgIC8vIDEwIHNlY3MKICB9OwogIGlmICghdXJsKSB0aHJvdyBuZXcgRXJyb3IoInJhaW5ib3dGZXRjaDogTWlzc2luZyB1cmwgYXJndW1lbnQiKTsKICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwogIGNvbnN0IGlkID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIG9wdHMudGltZW91dCk7CiAgY29uc3QgeyBib2R5LCBwYXJhbXMsIGhlYWRlcnMsIC4uLm90aGVyT3B0cyB9ID0gb3B0czsKICBjb25zdCByZXF1ZXN0Qm9keSA9IGJvZHkgJiYgdHlwZW9mIGJvZHkgPT09ICJvYmplY3QiID8gSlNPTi5zdHJpbmdpZnkob3B0cy5ib2R5KSA6IG9wdHMuYm9keTsKICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3VybH0ke2NyZWF0ZVBhcmFtcyhwYXJhbXMpfWAsIHsKICAgIC4uLm90aGVyT3B0cywKICAgIGJvZHk6IHJlcXVlc3RCb2R5LAogICAgaGVhZGVyczogewogICAgICBBY2NlcHQ6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgLi4uaGVhZGVycwogICAgfSwKICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwKICB9KTsKICBjbGVhclRpbWVvdXQoaWQpOwogIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IGdldEJvZHkocmVzcG9uc2UpOwogIGlmIChyZXNwb25zZS5vaykgewogICAgY29uc3QgeyBoZWFkZXJzOiBoZWFkZXJzMiwgc3RhdHVzIH0gPSByZXNwb25zZTsKICAgIHJldHVybiB7IGRhdGE6IHJlc3BvbnNlQm9keSwgaGVhZGVyczogaGVhZGVyczIsIHN0YXR1cyB9OwogIH0KICBjb25zdCBlcnJvclJlc3BvbnNlQm9keSA9IHR5cGVvZiByZXNwb25zZUJvZHkgPT09ICJzdHJpbmciID8geyBlcnJvcjogcmVzcG9uc2VCb2R5IH0gOiByZXNwb25zZUJvZHk7CiAgY29uc3QgZXJyb3IgPSBnZW5lcmF0ZUVycm9yKHsKICAgIHJlcXVlc3RCb2R5OiBib2R5LAogICAgcmVzcG9uc2UsCiAgICBycyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe2NlLmZuW25dPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKG4sbnVsbCxlLHQpOnRoaXMudHJpZ2dlcihuKX19KTt2YXIgZW49L15bXHNcdUZFRkZceEEwXSt8KFteXHNcdUZFRkZceEEwXSlbXHNcdUZFRkZceEEwXSskL2c7Y2UucHJveHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLHYoZSkpcmV0dXJuIHI9YWUuY2FsbChhcmd1bWVudHMsMiksKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KGFlLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxjZS5ndWlkKyssaX0sY2UuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/Y2UucmVhZHlXYWl0Kys6Y2UucmVhZHkoITApfSxjZS5pc0FycmF5PUFycmF5LmlzQXJyYXksY2UucGFyc2VKU09OPUpTT04ucGFyc2UsY2Uubm9kZU5hbWU9ZmUsY2UuaXNGdW5jdGlvbj12LGNlLmlzV2luZG93PXksY2UuY2FtZWxDYXNlPUYsY2UudHlwZT14LGNlLm5vdz1EYXRlLm5vdyxjZS5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sY2UudHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZShlbiwiJDEiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGNlfSk7dmFyIHRuPWllLmpRdWVyeSxubj1pZS4kO3JldHVybiBjZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKGUpe3JldHVybiBpZS4kPT09Y2UmJihpZS4kPW5uKSxlJiZpZS5qUXVlcnk9PT1jZSYmKGllLmpRdWVyeT10biksY2V9LCJ1bmRlZmluZWQiPT10eXBlb2YgZSYmKGllLmpRdWVyeT1pZS4kPWNlKSxjZX0pOwp7CiAgIm5hbWUiOiAiQGNhbGNvbS9leGFtcGxlLWFwcC1jcmVkZW50aWFsLXN5bmMiLAogICJ2ZXJzaW9uIjogIjAuMS4wIiwKICAicHJpdmF0ZSI6IHRydWUsCiAgInNjcmlwdHMiOiB7CiAgICAiZGV2IjogIlBPUlQ9NTEwMCBuZXh0IGRldiIsCiAgICAiYnVpbGQiOiAibmV4dCBidWlsZCIsCiAgICAic3RhcnQiOiAibmV4dCBzdGFydCIKICB9LAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiQGNhbGNvbS9hdG9tcyI6ICJ3b3Jrc3BhY2U6KiIsCiAgICAiQHByaXNtYS9jbGllbnQiOiAiNi4xNi4xIiwKICAgICJuZXh0IjogIjE0LjIuMzUiLAogICAgInByaXNtYSI6ICI2LjE2LjEiLAogICAgInJlYWN0IjogIjE4LjIuMCIsCiAgICAicmVhY3QtZG9tIjogIjE4LjIuMCIKICB9LAogICJkZXZEZXBlbmRlbmNpZXMiOiB7CiAgICAiQHR5cGVzL25vZGUiOiAiMjAuMTcuMjMiLAogICAgIkB0eXBlcy9yZWFjdCI6ICIxOC4wLjI2IiwKICAgICJAdHlwZXMvcmVhY3QtZG9tIjogIjE4LjIuNiIsCiAgICAiYXV0b3ByZWZpeGVyIjogIjEwLjQuMTkiLAogICAgImRvdGVudiI6ICIxNi42LjEiLAogICAgInBvc3Rjc3MiOiAiOC41LjYiLAogICAgInRhaWx3aW5kY3NzIjogIjMuNC4xIiwKICAgICJ0eXBlc2NyaXB0IjogIjUuOS4zIgogIH0KfQp7CiAgb3B0aW9ufHwoa2Uub3B0Z3JvdXA9a2Uub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0pO3ZhciBqZT0vPHwmIz9cdys7LztmdW5jdGlvbiBBZShlLHQsbixyLGkpe2Zvcih2YXIgbyxhLHMsdSxsLGMsZj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxwPVtdLGQ9MCxoPWUubGVuZ3RoO2Q8aDtkKyspaWYoKG89ZVtkXSl8fDA9PT1vKWlmKCJvYmplY3QiPT09eChvKSljZS5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYoamUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KFRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1rZVtzXXx8a2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStjZS5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO2NlLm1lcmdlKHAsYS5jaGlsZE5vZGVzKSwoYT1mLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgcC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUobykpO2YudGV4dENvbnRlbnQ9IiIsZD0wO3doaWxlKG89cFtkKytdKWlmKHImJi0xPGNlLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPUsobyksYT1TZShmLmFwcGVuZENoaWxkKG8pLCJzY3JpcHQiKSxsJiZFZShhKSxuKXtjPTA7d2hpbGUobz1hW2MrK10pQ2UudGVzdChvLnR5cGV8fCIiKSYmbi5wdXNoKG8pfXJldHVybiBmfXZhciBEZT0vXihbXi5dKikoPzpcLiguKyl8KS87ZnVuY3Rpb24gTmUoKXtyZXR1cm4hMH1mdW5jdGlvbiBxZSgpe3JldHVybiExfWZ1bmN0aW9uIExlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpTGUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9cWU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9Y2UuZ3VpZCsrKSksZS5lYWNoKGZ1bmN0aW9uKCl7Y2UuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBIZShlLHIsdCl7dD8oXy5zZXQoZSxyLCExKSxjZS5ldmVudC5hZGQoZSxyLHtuYW1lc3BhY2U6ITEsaGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdCxuPV8uZ2V0KHRoaXMscik7aWYoMSZlLmlzVHJpZ2dlciYmdGhpc1tyXSl7aWYobikoY2UuZXZlbnQuc3BlY2lhbFtyXXx8e30pLmRlbGVnYXRlVHlwZSYmZS5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKG49YWUuY2FsbChhcmd1bWVudHMpLF8uc2V0KHRoaXMscixuKSx0aGlzW3JdKCksdD1fLmdldCh0aGlzLHIpLF8uc2V0KHRoaXMsciwhMSksbiE9PXQpcmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLHR9ZWxzZSBuJiYoXy5zZXQodGhpcyxyLGNlLmV2ZW50LnRyaWdnZXIoblswXSxuLnNsaWNlKDEpLHRoaXMpKSxlLnN0b3BQc0FycmF5KGUpKXJldHVybiBlfWZ1bmN0aW9uIGYoZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIGwoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGQoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9kKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBkKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gcCgpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9ZnVuY3Rpb24gaChlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19dmFyIG0seT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHY9T2JqZWN0LmdldFByb3RvdHlwZU9mLGI9KG09T2JqZWN0LmNyZWF0ZShudWxsKSxmdW5jdGlvbihlKXt2YXIgdD15LmNhbGwoZSk7cmV0dXJuIG1bdF18fChtW3RdPXQuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKSl9KSxnPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXtyZXR1cm4gYih0KT09PWV9fSx3PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbih0KT09PWV9fSxPPUFycmF5LmlzQXJyYXksRT13KCJ1bmRlZmluZWQiKTt2YXIgUz1nKCJBcnJheUJ1ZmZlciIpO3ZhciBSPXcoInN0cmluZyIpLEE9dygiZnVuY3Rpb24iKSxqPXcoIm51bWJlciIpLFQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYib2JqZWN0Ij09PW4oZSl9LFA9ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT1iKGUpKXJldHVybiExO3ZhciB0PXYoZSk7cmV0dXJuIShudWxsIT09dCYmdCE9PU9iamVjdC5wcm90b3R5cGUmJm51bGwhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCl8fFN5bWJvbC50b1N0cmluZ1RhZyBpbiBlfHxTeW1ib2wuaXRlcmF0b3IgaW4gZSl9LE49ZygiRGF0ZSIpLHg9ZygiRmlsZSIpLEM9ZygiQmxvYiIpLGs9ZygiRmlsZUxpc3QiKSxfPWcoIlVSTFNlYXJjaFBhcmFtcyIpO2Z1bmN0aW9uIEYoZSx0KXt2YXIgcixvLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGE9aS5hbGxPd25LZXlzLHM9dm9pZCAwIT09YSYmYTtpZihudWxsIT1lKWlmKCJvYmplY3QiIT09bihlKSYmKGU9W2VdKSxPKGUpKWZvcihyPTAsbz1lLmxlbmd0aDtyPG87cisrKXQuY2FsbChudWxsLGVbcl0scixlKTtlbHNle3ZhciB1LGM9YX1lbnRyaWVzKCl7Y29uc3QgaT10aGlzLG49dGhpcy5fc3RhdGU7bGV0IHQ9dGhpcy5faGVhZDtjb25zdCBhPXtbU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBhfSxuZXh0KCl7aWYoaS5fc3RhdGUhPT1uKXRocm93IG5ldyBFcnJvcigiTGlua2VkTWFwIGdvdCBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uLiIpO2lmKHQpe2NvbnN0IHU9e3ZhbHVlOlt0LmtleSx0LnZhbHVlXSxkb25lOiExfTtyZXR1cm4gdD10Lm5leHQsdX1lbHNlIHJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTohMH19fTtyZXR1cm4gYX1bKGs9U3ltYm9sLnRvU3RyaW5nVGFnLFN5bWJvbC5pdGVyYXRvcildKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfXRyaW1PbGQoaSl7aWYoaT49dGhpcy5zaXplKXJldHVybjtpZihpPT09MCl7dGhpcy5jdmFyIHBuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxobj0oZSx0LG4pPT50IGluIGU/cG4oZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSk6ZVt0XT1uLEM9KGUsdCxuKT0+KGhuKGUsInN5bWJvbCIhPXR5cGVvZiB0P3QrIiI6dCxuKSxuKSxQZXRpdGVWdWU9ZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7aWYoYShlKSl7Y29uc3Qgbj17fTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgaT1lW3NdLG89ZChpKT9yKGkpOnQoaSk7aWYobylmb3IoY29uc3QgZSBpbiBvKW5bZV09b1tlXX1yZXR1cm4gbn1yZXR1cm4gZChlKXx8ZyhlKT9lOnZvaWQgMH1jb25zdCBuPS87KD8hW14oXSpcKSkvZyxzPS86KC4rKS87ZnVuY3Rpb24gcihlKXtjb25zdCB0PXt9O3JldHVybiBlLnNwbGl0KG4pLmZvckVhY2goKGU9PntpZihlKXtjb25zdCBuPWUuc3BsaXQocyk7bi5sZW5ndGg+MSYmKHRbblswXS50cmltKCldPW5bMV0udHJpbSgpKX19KSksdH1mdW5jdGlvbiBpKGUpe2xldCB0PSIiO2lmKGQoZSkpdD1lO2Vsc2UgaWYoYShlKSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcz1pKGVbbl0pO3MmJih0Kz1zKyIgIil9ZWxzZSBpZihnKGUpKWZvcihjb25zdCBuIGluIGUpZVtuXSYmKHQrPW4rIiAiKTtyZXR1cm4gdC50cmltKCl9ZnVuY3Rpb24gbyhlLHQpe2lmKGU9PT10KXJldHVybiEwO2xldCBuPWgoZSkscz1oKHQpO2lmKG58fHMpcmV0dXJuISghbnx8IXMpJiZlLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpO2lmKG49YShlKSxzPWEodCksbnx8cylyZXR1cm4hKCFufHwhcykmJmZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtsZXQgbj0hMDtmb3IobGV0IHM9MDtuJiZzPGUubGVuZ3RoO3MrKyluPW8oZVtzXSx0W3NdKTtyZXR1cm4gbn0oZSx0KTtpZihuPWcoZSkscz1nKHQpLG58fHMpe2lmKCFufHwhcylyZXR1cm4hMTtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuITE7Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3Qgcz1lLmhhc093blByb3BlcnR5KG4pLHI9dC5oYXNPd25Qcm9wZXJ0eShuKTtpZihzJiYhcnx8IXMmJnJ8fCFvKGVbbl0sdFtuXSkpcmV0dXJuITF9fXJldHVybiBTdHJpbmcoZSk9PT1TdHJpbmcodCl9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBlLmZpbmRJbmRleCgoZT0+byhlLHQpKSl9Y29uc3QgbD1PYmplY3QuYXNzaWduLGY9T2JqZWN0ZSIsImF1dG9wbGF5IiwiYmFja2dyb3VuZCIsImJnY29sb3IiLCJib3JkZXIiLCJjYXB0dXJlIiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoZWNrZWQiLCJjaXRlIiwiY2xhc3MiLCJjbGVhciIsImNvbG9yIiwiY29scyIsImNvbHNwYW4iLCJjb250cm9scyIsImNvbnRyb2xzbGlzdCIsImNvb3JkcyIsImNyb3Nzb3JpZ2luIiwiZGF0ZXRpbWUiLCJkZWNvZGluZyIsImRlZmF1bHQiLCJkaXIiLCJkaXNhYmxlZCIsImRpc2FibGVwaWN0dXJlaW5waWN0dXJlIiwiZGlzYWJsZXJlbW90ZXBsYXliYWNrIiwiZG93bmxvYWQiLCJkcmFnZ2FibGUiLCJlbmN0eXBlIiwiZW50ZXJrZXloaW50IiwiZmFjZSIsImZvciIsImhlYWRlcnMiLCJoZWlnaHQiLCJoaWRkZW4iLCJoaWdoIiwiaHJlZiIsImhyZWZsYW5nIiwiaWQiLCJpbnB1dG1vZGUiLCJpbnRlZ3JpdHkiLCJpc21hcCIsImtpbmQiLCJsYWJlbCIsImxhbmciLCJsaXN0IiwibG9hZGluZyIsImxvb3AiLCJsb3ciLCJtYXgiLCJtYXhsZW5ndGgiLCJtZWRpYSIsIm1ldGhvZCIsIm1pbiIsIm1pbmxlbmd0aCIsIm11bHRpcGxlIiwibXV0ZWQiLCJuYW1lIiwibm9uY2UiLCJub3NoYWRlIiwibm92YWxpZGF0ZSIsIm5vd3JhcCIsIm9wZW4iLCJvcHRpbXVtIiwicGF0dGVybiIsInBsYWNlaG9sZGVyIiwicGxheXNpbmxpbmUiLCJwb3N0ZXIiLCJwcmVsb2FkIiwicHViZGF0ZSIsInJhZGlvZ3JvdXAiLCJyZWFkb25seSIsInJlbCIsInJlcXVpcmVkIiwicmV2IiwicmV2ZXJzZWQiLCJyb2xlIiwicm93cyIsInJvd3NwYW4iLCJzcGVsbGNoZWNrIiwic2NvcGUiLCJzZWxlY3RlZCIsInNoYXBlIiwic2l6ZSIsInNpemVzIiwic3BhbiIsInNyY2xhbmciLCJzdGFydCIsInNyYyIsInNyY3NldCIsInN0ZXAiLCJzdHlsZSIsInN1bW1hcnkiLCJ0YWJpbmRleCIsInRpdGxlIiwidHJhbnNsYXRlIiwidHlwZSIsInVzZW1hcCIsInZhbGlnbiIsInZhbHVlIiwid2lkdGgiLCJ4bWxucyIsInNsb3QiXSksQnQ9dnQoWyJhY2NlbnQtaGVpZ2h0IiwiYWNjdW11bGF0ZSIsImFkZGl0aXZlIiwiYWxpZ25tZW50LWJhc2VsaW5lIiwiYXNjZW50IiwiYXR0cmlidXRlbmFtZSIsImF0dHJpYnV0ZXR5cGUiLCJhemltdXRoIiwiYmFzZWZyZXF1ZW5jeSIsImJhc2VsaW5lLXNoaWZ0IiwiYmVnaW4iLCJiaWFzIiwiYnkiLCJjbGFzcyIsImNsaXAiLCJjbGlwcGF0aHVuaXRzIiwiY2xpcC1wYXRoIiwiY2xpcC1ydWxlIiwiY29sb3IiLCJjb2xvci1pbnRlcnBvbGF0aW9uIiwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIiwiY29sb3ItcHJvZmlsZSIsImNvbG9yLXJlbmRlcmluZyIsImN4IiwiY3kiLCJkIiwiZHgiLCJkeSIsImRpZmZ1c2Vjb25zdGFudCIsImRpcmVjdGlvbiIsImRpc3BsYXkiLCJkaXZpc29yIiwiZHVyIiwiZWRnZW1vZGUiLCJlbGV2YXRpb24iLCJlbmQiLCJmaWxsIiwiZmlsbC1vcGFjaXR5IiwiZmlsbC1ydWxlIiwiZmlsdGVyIiwiZmlsdGVydW5pdHMiLCJmbG9vZC1jb2xvciIsImZsb29kLW9wYWNpdHkiLCJmb250LWZhbWlseSIsImZvbnQtc2l6ZSIsImZvbnQtc2l6ZS1hZGp1c3QiLCJmb250LXN0cmV0Y2giLCJmb250LXN0eWxlIiwiZm9udC12YXJpYW50IiwiZm9udC13ZWlnaHQiLCJmeCIsImZ5IiwiZzEiLCJnMiIsImdseXBoLW5hbWUiLCJnbHlwaHJlZiIsImdyYWRpZW50dW5pdHMiZGV4ID0gMDsKfQpmdW5jdGlvbiBuZXh0Q29udGV4dEltcGwobGV2ZWwpIHsKICAgIGNvbnN0IGNvbnRleHRMVmlldyA9IGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyA9CiAgICAgICAgd2Fsa1VwVmlld3MobGV2ZWwsIGluc3RydWN0aW9uU3RhdGUubEZyYW1lLmNvbnRleHRMVmlldyk7CiAgICByZXR1cm4gY29udGV4dExWaWV3W0NPTlRFWFRdOwp9Ci8qKgogKiBHZXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudCBpbmRleC4KICoKICogVXNlZCB3aXRoIHtAbGluayBwcm9wZXJ0eX0gaW5zdHJ1Y3Rpb24gKGFuZCBtb3JlIGluIHRoZSBmdXR1cmUpIHRvIGlkZW50aWZ5IHRoZSBpbmRleCBpbiB0aGUKICogY3VycmVudCBgTFZpZXdgIHRvIGFjdCBvbi4KICovCmZ1bmN0aW9uIGdldFNlbGVjdGVkSW5kZXgoKSB7CiAgICByZXR1cm4gaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUuc2VsZWN0ZWRJbmRleDsKfQovKioKICogU2V0cyB0aGUgbW9zdCByZWNlbnQgaW5kZXggcGFzc2VkIHRvIHtAbGluayBzZWxlY3R9CiAqCiAqIFVzZWQgd2l0aCB7QGxpbmsgcHJvcGVydHl9IGluc3RydWN0aW9uIChhbmQgbW9yZSBpbiB0aGUgZnV0dXJlKSB0byBpZGVudGlmeSB0aGUgaW5kZXggaW4gdGhlCiAqIGN1cnJlbnQgYExWaWV3YCB0byBhY3Qgb24uCiAqCiAqIChOb3RlIHRoYXQgaWYgYW4gImV4aXQgZnVuY3Rpb24iIHdhcyBzZXQgZWFybGllciAodmlhIGBzZXRFbGVtZW50RXhpdEZuKClgKSB0aGVuIHRoYXQgd2lsbCBiZQogKiBydW4gaWYgYW5kIHdoZW4gdGhlIHByb3ZpZGVkIGBpbmRleGAgdmFsdWUgaXMgZGlmZmVyZW50IGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaW5kZXggdmFsdWUuKQogKi8KZnVuY3Rpb24gc2V0U2VsZWN0ZWRJbmRleChpbmRleCkgewogICAgbmdEZXZNb2RlICYmIGluZGV4ICE9PSAtMSAmJgogICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuT3JFcXVhbChpbmRleCwgSEVBREVSX09GRlNFVCwgJ0luZGV4IG11c3QgYmUgcGFzdCBIRUFERVJfT0ZGU0VUIChvciAtMSkuJyk7CiAgICBuZ0Rldk1vZGUgJiYKICAgICAgICBhc3NlcnRMZXNzVGhhbihpbmRleCwgaW5zdHJ1Y3Rpb25TdGF0ZS5sRnJhbWUubFZpZXcubGVuZ3RoLCAnQ2FuXCd0IHNldCBpbmRleCBwYXNzZWQgZXsKICAiJHNjaGVtYSI6ICJodHRwczovL2pzb24uc2NoZW1hc3RvcmUub3JnL3BhY2thZ2UuanNvbiIsCiAgInByaXZhdGUiOiB0cnVlLAogICJuYW1lIjogIkBjYWxjb20vZGVlbCIsCiAgInZlcnNpb24iOiAiMC4wLjAiLAogICJtYWluIjogIi4vaW5kZXgudHMiLAogICJkZXBlbmRlbmNpZXMiOiB7CiAgICAiQGNhbGNvbS9saWIiOiAid29ya3NwYWNlOioiCiAgfSwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgIkBjYWxjb20vdHlwZXMiOiAid29ya3NwYWNlOioiCiAgfSwKICAiZGVzY3JpcHRpb24iOiAiSW50ZWdyYXRlIERlZWwgd2l0aCB5b3VyIENhbGVuZGFyIGFuZCBnZXQgYXV0b21hdGljIHVwZGF0ZXMgb24ga2V5IGVtcGxveWVlIGRhdGVzIGxpa2UgUFRPLCBzdGFydCBkYXlzLCBwdWJsaWMgaG9saWRheXMsIGFuZCBiaXJ0aGRheXMuIE5vIG1hbnVhbCBlbnRyeS4gTm8gZXJyb3JzLiBKdXN0IGEgY2FsZW5kYXIgdGhhdCdzIGFsd2F5cyBpbiBzeW5jIHdpdGggeW91ciB0ZWFtLiIKfQp7CiAgIiRzcmV0dXJuIGk7Cn0KLyoqCiAqIFRlc3Qgd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBtYXJrZXIgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgZm9sbG93aW5nCiAqIGF0dHJpYnV0ZSB2YWx1ZXMgaW4gYSBgVEF0dHJpYnV0ZXNgIGFycmF5IGFyZSBvbmx5IHRoZSBuYW1lcyBvZiBhdHRyaWJ1dGVzLAogKiBhbmQgbm90IG5hbWUtdmFsdWUgcGFpcnMuCiAqIEBwYXJhbSBtYXJrZXIgVGhlIGF0dHJpYnV0ZSBtYXJrZXIgdG8gdGVzdC4KICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbWFya2VyIGlzIGEgIm5hbWUtb25seSIgbWFya2VyIChlLmcuIGBCaW5kaW5nc2AsIGBUZW1wbGF0ZWAgb3IgYEkxOG5gKS4KICovCmZ1bmN0aW9uIGlzTmFtZU9ubHlBdHRyaWJ1dGVNYXJrZXIobWFya2VyKSB7CiAgICByZXR1cm4gbWFya2VyID09PSAzIC8qIEF0dHJpYnV0ZU1hcmtlci5CaW5kaW5ncyAqLyB8fCBtYXJrZXIgPT09IDQgLyogQXR0cmlidXRlTWFya2VyLlRlbXBsYXRlICovIHx8CiAgICAgICAgbWFya2VyID09PSA2IC8qIEF0dHJpYnV0ZU1hcmtlci5JMThuICovOwp9CmZ1bmN0aW9uIGlzQW5pbWF0aW9uUHJvcChuYW1lKSB7CiAgICAvLyBQZXJmIG5vdGU6IGFjY2Vzc2luZyBjaGFyQ29kZUF0IHRvIGNoZWNrIGZvciB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc3RyaW5nIGlzIGZhc3RlciBhcwogICAgLy8gY29tcGFyZWQgdG8gYWNjZXNzaW5nIGEgY2hhcmFjdGVyIGF0IGluZGV4IDAgKGV4LiBuYW1lWzBdKS4gVGhlIG1haW4gcmVhc29uIGZvciB0aGlzIGlzIHRoYXQKICAgIC8vIGNoYXJDb2RlQXQgZG9lc24ndCBhbGxvY2F0ZSBtZW1vcnkgdG8gcmV0dXJuIGEgc3Vic3RyaW5nLgogICAgcmV0dXJuIG5hbWUuY2hhckNvZGVBdCgwKSA9PT0gNjQgLyogQ2hhckNvZGUuQVRfU0lHTiAqLzsKfQovKioKICogTWVyZ2VzIGBzcmNgIGBUQXR0cmlidXRlc2AgaW50byBgZHN0YCBgVEF0dHJpYnV0ZXNgIHJlbW92aW5nIGFueSBkdXBsaWNhdGVzIGluIHRoZSBwcm9jZXNzLgogKgogKiBUaGlzIG1lcmdlIGZ1bmN0aW9uIGtlZXBzIHRoZSBvcmRlciBvZiBhdHRycyBzYW1lLgogKgogKiBAcGFyYW0gZHN0IExvY2F0aW9uIG9mIHdoZXJlIHRoZSBtZXJnZWQgYFRBdHRyaWJ1dGVzYCBzaG91bGQgZW5kIHVwLgogKiBAcGFyYW0gc3JjIGBUQXR0cmlidXRlc2Agd2hpY2ggc2hvdWxkIGJlIGFwcGVuZGVkIHRvIGBkc3RgCiAqLwpmdW5jdGlvbiBtZXJnZUhvc3RBdHRycyhkc3QsIHNyYykgewogICAgaWYgKHNyYyA9PT0gbnVsbCB8fCBzcmMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy8gZG8gbm90aGluZwogICAgfQogICAgZWxzZSBpZiAoZHN0ID09PSBudWxsIHx8IGRzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAvLyBXZSBoYXZlIHNvdXJjZSwgYnV0IGRzdCBpcyBlbXB0eSwganVzdCBtYWtlIGEgY29weS4KICAgICAgICBkc3QgPSBzcmMuc2xpY2UoKTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGxldCBzcmNNYXJrZXIgPSAtMSAvKiBBdHRyaWJ1dGVNYXJrZXIuSW1wbGljaXRBdHRyaWJ1dGVzICovOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzcmNbaV07CiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHsKICAgZShhcnIsIGluZGV4KSB7CiAgICBhc3NlcnREZWZpbmVkKGFyciwgJ0FycmF5IG11c3QgYmUgZGVmaW5lZC4nKTsKICAgIGNvbnN0IG1heExlbiA9IGFyci5sZW5ndGg7CiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IG1heExlbikgewogICAgICAgIHRocm93RXJyb3IoYEluZGV4IGV4cGVjdGVkIHRvIGJlIGxlc3MgdGhhbiAke21heExlbn0gYnV0IGdvdCAke2luZGV4fWApOwogICAgfQp9CmZ1bmN0aW9uIGFzc2VydE9uZU9mKHZhbHVlLCAuLi52YWxpZFZhbHVlcykgewogICAgaWYgKHZhbGlkVmFsdWVzLmluZGV4T2YodmFsdWUpICE9PSAtMSkKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIHRocm93RXJyb3IoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9uZSBvZiAke0pTT04uc3RyaW5naWZ5KHZhbGlkVmFsdWVzKX0gYnV0IHdhcyAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0uYCk7Cn0KCi8qKgogKiBDb25zdHJ1Y3QgYW4gaW5qZWN0YWJsZSBkZWZpbml0aW9uIHdoaWNoIGRlZmluZXMgaG93IGEgdG9rZW4gd2lsbCBiZSBjb25zdHJ1Y3RlZCBieSB0aGUgREkKICogc3lzdGVtLCBhbmQgaW4gd2hpY2ggaW5qZWN0b3JzIChpZiBhbnkpIGl0IHdpbGwgYmUgYXZhaWxhYmxlLgogKgogKiBUaGlzIHNob3VsZCBiZSBhc3NpZ25lZCB0byBhIHN0YXRpYyBgybVwcm92YCBmaWVsZCBvbiBhIHR5cGUsIHdoaWNoIHdpbGwgdGhlbiBiZSBhbgogKiBgSW5qZWN0YWJsZVR5cGVgLgogKgogKiBPcHRpb25zOgogKiAqIGBwcm92aWRlZEluYCBkZXRlcm1pbmVzIHdoaWNoIGluamVjdG9ycyB3aWxsIGluY2x1ZGUgdGhlIGluamVjdGFibGUsIGJ5IGVpdGhlciBhc3NvY2lhdGluZyBpdAogKiAgIHdpdGggYW4gYEBOZ01vZHVsZWAgb3Igb3RoZXIgYEluamVjdG9yVHlwZWAsIG9yIGJ5IHNwZWNpZnlpbmcgdGhhdCB0aGlzIGluamVjdGFibGUgc2hvdWxkIGJlCiAqICAgcHJvdmlkZWQgaW4gdGhlIGAncm9vdCdgIGluamVjdG9yLCB3aGljaCB3aWxsIGJlIHRoZSBhcHBsaWNhdGlvbi1sZXZlbCBpbmplY3RvciBpbiBtb3N0IGFwcHMuCiAqICogYGZhY3RvcnlgIGdpdmVzIHRoZSB6ZXJvIGFyZ3VtZW50IGZ1bmN0aW9uIHdoaWNoIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBpbmplY3RhYmxlLgogKiAgIFRoZSBmYWN0b3J5IGNhbiBjYWxsIFtgaW5qZWN0YF0oYXBpL2NvcmUvaW5qZWN0KSB0byBhY2Nlc3MgdGhlIGBJbmplY3RvcmAgYW5kIHJlcXVlc3QgaW5qZWN0aW9uCiAqIG9mIGRlcGVuZGVuY2llcy4KICoKICogQGNvZGVHZW5BcGkKICogQHB1YmxpY0FwaSBUaGlzIGluc3RydWN0aW9uIGhhcyBiZWVuIGVtaXR0ZWQgYnkgVmlld0VuZ2luZSBmb3Igc29tZSB0aW1lIGFuZCBpcyBkZXBsb3llZCB0byBucG0uCiAqLwpmdW5jdGlvbiDJtcm1ZGVmaW5lSW5qZWN0YWJsZShvcHRzKSB7CiAgICByZXR1cm4gewogICAgICAgIHRva2VuOiBvcHRzLnRva2VuLAogICAgICAgIHByb3ZpZGVkSW46IG9wdHMucHJvdmlkZWRJbiB8fCBudWxsLAogICAgICAgIGZhY3Rvcnk6IG9wdHMuZmFjdG9yeSwKICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLAogICAgfTsKfQovKioKICogQGRlcHJlY2F0ZWQgaW4gdjgsIGRlbGV0ZSBhZnRlciB2MTAuIFRoaXMgQVBJIHNob3VsZCBiZSB1c2VkIG9ubHkgYnkgZ2VuZXJhdGVkIGNvZGUsIGFuZCB0aGF0c2xpZGVzLmxlbmd0aCYmKGkoKSxjPSExKX0pKSl9KSl9ZnVuY3Rpb24gZGUoZSx0KXtjb25zdCBzPWgodCk7cmV0dXJuIHMhPT10JiYocy5zdHlsZS5iYWNrZmFjZVZpc2liaWxpdHk9ImhpZGRlbiIscy5zdHlsZVsiLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5Il09ImhpZGRlbiIpLHN9ZnVuY3Rpb24gY2UoZSl7bGV0e3N3aXBlcjp0LGR1cmF0aW9uOnMsdHJhbnNmb3JtRWxlbWVudHM6YSxhbGxTbGlkZXM6aX09ZTtjb25zdHthY3RpdmVJbmRleDpyfT10O2lmKHQucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUmJjAhPT1zKXtsZXQgZSxzPSExO2U9aT9hOmEuZmlsdGVyKChlPT57Y29uc3Qgcz1lLmNsYXNzTGlzdC5jb250YWlucygic3dpcGVyLXNsaWRlLXRyYW5zZm9ybSIpPyhlPT57aWYoIWUucGFyZW50RWxlbWVudClyZXR1cm4gdC5zbGlkZXMuZmlsdGVyKCh0PT50LnNoYWRvd1Jvb3QmJnQuc2hhZG93Um9vdD09PWUucGFyZW50Tm9kZSkpWzBdO3JldHVybiBlLnBhcmVudEVsZW1lbnR9KShlKTplO3JldHVybiB0LmdldFNsaWRlSW5kZXgocyk9PT1yfSkpLGUuZm9yRWFjaCgoZT0+e3goZSwoKCk9PntpZihzKXJldHVybjtpZighdHx8dC5kZXN0cm95ZWQpcmV0dXJuO3M9ITAsdC5hbmltYXRpbmc9ITE7Y29uc3QgZT1uZXcgd2luZG93LkN1c3RvbUV2ZW50KCJ0cmFuc2l0aW9uZW5kIix7YnViYmxlczohMCxjYW5jZWxhYmxlOiEwfSk7dC53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChlKX0pKX0pKX19ZnVuY3Rpb24gcGUoZSx0LHMpe2NvbnN0IGE9YHN3aXBlci1zbGlkZS1zaGFkb3cke3M/YC0ke3N9YDoiIn0ke2U/YCBzd2lwZXItc2xpZGUtc2hhZG93LSR7ZX1gOiIifWAsaT1oKHQpO2xldCByPWkucXVlcnlTZWxlY3RvcihgLiR7YS5zcGxpdCgiICIpLmpvaW4oIi4iKX1gKTtyZXR1cm4gcnx8KHI9digiZGl2IixhLnNwbGl0KCIgIikpLGkuYXBwZW5kKHIpKSxyfU9iamVjdC5rZXlzKFEpLmZvckVhY2goKGU9PntPYmplY3Qua2V5cyhRW2VdKS5mb3JFYWNoKCh0PT57ZWUucHJvdG90eXBlW3RdPVFbZV1bdF19KSl9KSksZWUudXNlKFtmdW5jdGlvbihlKXtsZXR7c3dpcGVyOnQsb246cyxlbWl0OmF9PWU7Y29uc3QgaT1yKCk7bGV0IG49bnVsbCxsPW51bGw7Y29uc3Qgbz0oKT0+e3QmJiF0LmRlc3Ryb3llZCYmdC5pbml0aWFsaXplZCYmKGEoImJlZm9yZVJlc2l6ZSIpLGEoInJlc2l6ZSIpKX0sZD0oKT0+e3QmJiF0LmRlc3Ryb3llZCYmdC5pbml0aWFsaXplZCYmYSgib3JpZW50YXRpb25jaGFuZ2UiKX07cygiaW5pdCIsKCgpPT57dC5wYXJhbXMucmVzaXplT2JzZXJ2ZXImJnZvaWQgMCE9PWkuUmVzaXplT2JzZXJ2ZXI/dCYmIXQuZGVzdHJveWVkJiZ0LmluaXRpYWxpemVkJiYobj1uZXcgUmVzaXplT2JzZXJ2ZXIoKGU9PntsPWkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e2NvbnN0e3dpZHRoOnMsaGVpZ2h0OmF9PXQ7bGV0IGk9cyxyPWE7ZS5mb3JFYWNoKChlPT57bGV0e2NvbnRlbnRCb3hTaXplOnMsY29udGVudFJlY3Q6YSx0YXJnZXQ6bn09ZTtuJiZuIT09dC5lbHx8KGk9YT9hLndpZHRoOihzWzBdfHxzKS5pbmxpbmVTaXplLHI9YT9hLmhlaWdodDooc1swXXx8cykuYmxvY2tTaXplKX0pKSxpPT09cyYmcj09PWF8fG8oKX0pKX0pKSxuLm9ic2VydmUodC5lbCkpOihpLmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6b25zdCBlPXRoaXMse2NsYXNzTmFtZXM6dCxwYXJhbXM6cyxydGw6YSxlbDppLGRldmljZTpyfT1lLG49ZnVuY3Rpb24oZSx0KXtjb25zdCBzPVtdO3JldHVybiBlLmZvckVhY2goKGU9Pnsib2JqZWN0Ij09dHlwZW9mIGU/T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoYT0+e2VbYV0mJnMucHVzaCh0K2EpfSkpOiJzdHJpbmciPT10eXBlb2YgZSYmcy5wdXNoKHQrZSl9KSksc30oWyJpbml0aWFsaXplZCIscy5kaXJlY3Rpb24seyJmcmVlLW1vZGUiOmUucGFyYW1zLmZyZWVNb2RlJiZzLmZyZWVNb2RlLmVuYWJsZWR9LHthdXRvaGVpZ2h0OnMuYXV0b0hlaWdodH0se3J0bDphfSx7Z3JpZDpzLmdyaWQmJnMuZ3JpZC5yb3dzPjF9LHsiZ3JpZC1jb2x1bW4iOnMuZ3JpZCYmcy5ncmlkLnJvd3M+MSYmImNvbHVtbiI9PT1zLmdyaWQuZmlsbH0se2FuZHJvaWQ6ci5hbmRyb2lkfSx7aW9zOnIuaW9zfSx7ImNzcy1tb2RlIjpzLmNzc01vZGV9LHtjZW50ZXJlZDpzLmNzc01vZGUmJnMuY2VudGVyZWRTbGlkZXN9LHsid2F0Y2gtcHJvZ3Jlc3MiOnMud2F0Y2hTbGlkZXNQcm9ncmVzc31dLHMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyk7dC5wdXNoKC4uLm4pLGkuY2xhc3NMaXN0LmFkZCguLi50KSxlLmVtaXRDb250YWluZXJDbGFzc2VzKCl9LHJlbW92ZUNsYXNzZXM6ZnVuY3Rpb24oKXtjb25zdHtlbDplLGNsYXNzTmFtZXM6dH09dGhpcztlLmNsYXNzTGlzdC5yZW1vdmUoLi4udCksdGhpcy5lbWl0Q29udGFpbmVyQ2xhc3NlcygpfX19LEo9e307Y2xhc3MgZWV7Y29uc3RydWN0b3IoKXtsZXQgZSx0O2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHMpLHI9MDtyPHM7cisrKWlbcl09YXJndW1lbnRzW3JdOzE9PT1pLmxlbmd0aCYmaVswXS5jb25zdHJ1Y3RvciYmIk9iamVjdCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaVswXSkuc2xpY2UoOCwtMSk/dD1pWzBdOltlLHRdPWksdHx8KHQ9e30pLHQ9cCh7fSx0KSxlJiYhdC5lbCYmKHQuZWw9ZSk7Y29uc3Qgbj1hKCk7aWYodC5lbCYmInN0cmluZyI9PXR5cGVvZiB0LmVsJiZuLnF1ZXJ5U2VsZWN0b3JBbGwodC5lbCkubGVuZ3RoPjEpe2NvbnN0IGU9W107cmV0dXJuIG4ucXVlcnlTZWxlY3RvckFsbCh0LmVsKS5mb3JFYWNoKChzPT57Y29uc3QgYT1wKHt9LHQse2VsOnN9KTtlLnB1c2gobmV3IGVlKGEpKX0pKSxlfWNvbnN0IGw9dGhpcztsLl9fc3dpcGVyX189ITAsbC5zdXBwb3J0PVAoKSxsLmRldmljZT1MKHt1c2VyQWdlbnQ6dC51c2VyQWdlbnR9KSxsLmJyb3dzZXI9QSgpLGwuZXZlbnRzTGlzdGVuZXJzPXt9LGwuZXZlbnRzQW55TGlzdGVuZXJzPVtdLGwubW9kdWxlcz1bLi4ubC5fX21vZHVsZXNfX10sdC5tb2R1bGVzJiZBcnJheS5pc0FycmF5KHQubW9kdWxlcykmJmwubW9kdWxlcy5wdXNoKC4uLnQubW9kdWxlcyk7Y29uc3Qgbz17fTtsLm1vZHVsZXMuZm9yRWFjaCgoZT0+e2Uoe3BhcmFtczp0LHN3aXBlcjpsLGV4dGVuZFBhcmFtczpaKHQsbyksb246bC5vbi5iaW5kKGwpLG9uY2U6bC5vbmNlLmJpbmQobCksb2ZmOmwub2ZmLmJpbmQobCksZW1pdDpsLmVtaXQuYmluZChsKX0pfSkpO2NvbnN0IGQ9cCh7fSxLLG8pO3JldHVybiBsLnBhcmFtcz1wKHt9LGQsSix0KSxsLm9yaWdpbmFsUGFyYW1zPXAoe30sbC5wYXJhbXMpLGwucGFzc2VkUGFyYW1zdHlwZW9mIHNldFRpbWVvdXQmJmNsZWFyVGltZW91dChlKX19O2Z1bmN0aW9uIHIoKXtjb25zdCBlPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fTtyZXR1cm4gdChlLGkpLGV9ZnVuY3Rpb24gbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9IiIpLGUudHJpbSgpLnNwbGl0KCIgIikuZmlsdGVyKChlPT4hIWUudHJpbSgpKSl9ZnVuY3Rpb24gbChlLHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSxzZXRUaW1lb3V0KGUsdCl9ZnVuY3Rpb24gbygpe3JldHVybiBEYXRlLm5vdygpfWZ1bmN0aW9uIGQoZSx0KXt2b2lkIDA9PT10JiYodD0ieCIpO2NvbnN0IHM9cigpO2xldCBhLGksbjtjb25zdCBsPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9cigpO2xldCBzO3JldHVybiB0LmdldENvbXB1dGVkU3R5bGUmJihzPXQuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpKSwhcyYmZS5jdXJyZW50U3R5bGUmJihzPWUuY3VycmVudFN0eWxlKSxzfHwocz1lLnN0eWxlKSxzfShlKTtyZXR1cm4gcy5XZWJLaXRDU1NNYXRyaXg/KGk9bC50cmFuc2Zvcm18fGwud2Via2l0VHJhbnNmb3JtLGkuc3BsaXQoIiwiKS5sZW5ndGg+NiYmKGk9aS5zcGxpdCgiLCAiKS5tYXAoKGU9PmUucmVwbGFjZSgiLCIsIi4iKSkpLmpvaW4oIiwgIikpLG49bmV3IHMuV2ViS2l0Q1NTTWF0cml4KCJub25lIj09PWk/IiI6aSkpOihuPWwuTW96VHJhbnNmb3JtfHxsLk9UcmFuc2Zvcm18fGwuTXNUcmFuc2Zvcm18fGwubXNUcmFuc2Zvcm18fGwudHJhbnNmb3JtfHxsLmdldFByb3BlcnR5VmFsdWUoInRyYW5zZm9ybSIpLnJlcGxhY2UoInRyYW5zbGF0ZSgiLCJtYXRyaXgoMSwgMCwgMCwgMSwiKSxhPW4udG9TdHJpbmcoKS5zcGxpdCgiLCIpKSwieCI9PT10JiYoaT1zLldlYktpdENTU01hdHJpeD9uLm00MToxNj09PWEubGVuZ3RoP3BhcnNlRmxvYXQoYVsxMl0pOnBhcnNlRmxvYXQoYVs0XSkpLCJ5Ij09PXQmJihpPXMuV2ViS2l0Q1NTTWF0cml4P24ubTQyOjE2PT09YS5sZW5ndGg/cGFyc2VGbG9hdChhWzEzXSk6cGFyc2VGbG9hdChhWzVdKSksaXx8MH1mdW5jdGlvbiBjKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuY29uc3RydWN0b3ImJiJPYmplY3QiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpfWZ1bmN0aW9uIHAoKXtjb25zdCBlPU9iamVjdChhcmd1bWVudHMubGVuZ3RoPD0wP3ZvaWQgMDphcmd1bWVudHNbMF0pLHQ9WyJfX3Byb3RvX18iLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSJdO2ZvcihsZXQgYT0xO2E8YXJndW1lbnRzLmxlbmd0aDthKz0xKXtjb25zdCBpPWE8MHx8YXJndW1lbnRzLmxlbmd0aDw9YT92b2lkIDA6YXJndW1lbnRzW2FdO2lmKG51bGwhPWkmJihzPWksISgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LkhUTUxFbGVtZW50P3MgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDpzJiYoMT09PXMubm9kZVR5cGV8fDExPT09cy5ub2RlVHlwZSkpKSl7Y29uc3Qgcz1PYmplY3Qua2V5cyhPYmplY3QoaSkpLmZpbHRlcigoZT0+dC5pbmRleE9mKGUpPDApKTtmb3IobGV0IHQ9MCxhPXMubGVuZ3RoO3Q8YTt0Kz0xKXtjb25zdCBhPXNbdF0scj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksYSk7dm9pZCAwIT09ciYmci5lbnVtZXJhYmxlTW9kdWxlV2l0aERpcmVjdGlvbiBleHRlbmRzIE1vZHVsZSB7CiAgY2hpbGRyZW46IE1vZHVsZUlkW10KICBwYXJlbnRzOiBNb2R1bGVJZFtdCn0KCmludGVyZmFjZSBUdXJib3BhY2tCYXNlQ29udGV4dDxNPiB7CiAgYTogQXN5bmNNb2R1bGUKICBlOiBFeHBvcnRzCiAgcjogQ29tbW9uSnNSZXF1aXJlCiAgdDogUnVudGltZVJlcXVpcmUKICBmOiBNb2R1bGVDb250ZXh0RmFjdG9yeQogIGk6IEVzbUltcG9ydAogIEE6IEludm9rZUFzeW5jTG9hZGVyCiAgczogRXNtRXhwb3J0CiAgajogRHluYW1pY0V4cG9ydAogIHY6IEV4cG9ydFZhbHVlCiAgcTogRXhwb3J0VXJsCiAgbjogRXhwb3J0TmFtZXNwYWNlCiAgbTogTW9kdWxlCiAgYzogTW9kdWxlQ2FjaGU8TT4KICBNOiBNb2R1bGVGYWN0b3JpZXMKICBsOiBMb2FkQ2h1bmsKICBMOiBMb2FkQ2h1bmtCeVVybAogIHc6IExvYWRXZWJBc3NlbWJseQogIHU6IExvYWRXZWJBc3NlbWJseU1vZHVsZQogIFA6IFJlc29sdmVBYnNvbHV0ZVBhdGgKICBVOiBSZWxhdGl2ZVVSTAogIGI6IEdldFdvcmtlclVSTAogIHg6IEV4dGVybmFsUmVxdWlyZQogIHk6IEV4dGVybmFsSW1wb3J0CiAgejogQ29tbW9uSnNSZXF1aXJlCiAgZzogdHlwZW9mIGdsb2JhbFRoaXMKfQovKioKICogbWFya2VkIHYxMS4yLjAgLSBhIG1hcmtkb3duIHBhcnNlcgogKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAyNCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZCkKICogaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZAogKi8KCi8qKgogKiBETyBOT1QgRURJVCBUSElTIEZJTEUKICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBmcm9tIGZpbGVzIGluIC4vc3JjLwogKi8KCihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7CiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpIDoKICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOgogICAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwubWFya2VkID0ge30pKTsKfSkodGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JzsKCiAgICAvKioKICAgICAqIEdldHMgdGhlIG9yaWdpbmFsIG1hcmtlZCBkZWZhdWx0IG9wdGlvbnMuCiAgICAgKi8KICAgIGZ1bmN0aW9uIF9nZXREZWZhdWx0cygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICAgIGJyZWFrczogZmFsc2UsCiAgICAgICAgICAgIGV4dGVuc2lvbnM6IG51bGwsCiAgICAgICAgICAgIGdmbTogdHJ1ZSwKICAgICAgICAgICAgaG9va3M6IG51bGwsCiAgICAgICAgICAgIHBlZGFudGljOiBmYWxzZSwKICAgICAgICAgICAgcmVuZGU=';

let cachedDictionary: Buffer | null = null;

export function getNodeModulesDictionary(): Buffer {
  if (!cachedDictionary) {
    cachedDictionary = Buffer.from(DICTIONARY_BASE64, 'base64');
  }
  return cachedDictionary;
}

export const NODE_MODULES_DICTIONARY_META: DictionaryMeta = {
  name: 'Node Modules Dictionary',
  version: '2.0.0',
  description: 'Trained ZSTD dictionary optimized for node_modules/CI cache compression',
  frameworks: ['npm', 'node_modules', 'pnpm', 'yarn', 'ci-cache'],
  sizeBytes: 524288,
  patternCount: 0,
  trainedOn: ['npm packages', 'package.json', 'TypeScript declarations'],
};
